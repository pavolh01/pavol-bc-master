(self.webpackChunkpavol=self.webpackChunkpavol||[]).push([[179],{2011:function(ht,ke,x){"use strict";x.d(ke,{hO:function(){return le},xv:function(){return ee},Dh:function(){return B},GT:function(){return W},cc:function(){return Ie},on:function(){return L},pX:function(){return s}});var X=x(7685),ne=x(3144),_=x(5671),m=x(4902),P=x(5e3),N=x(127),G=x(6351);ht=x.hmd(ht);var Z=["ngOnDestroy"],s=function(qe,Et,Mt){var Ct=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Proxy(qe,{get:function(Xe,Be){return Mt.runOutsideAngular(function(){var De;if(qe[Be])return(null===(De=null==Ct?void 0:Ct.spy)||void 0===De?void 0:De.get)&&Ct.spy.get(Be,qe[Be]),qe[Be];if(Z.indexOf(Be)>-1)return function(){};var Te=Et.toPromise().then(function(ye){var ve=ye&&ye[Be];return"function"==typeof ve?ve.bind(ye):ve&&ve.then?ve.then(function(He){return Mt.run(function(){return He})}):Mt.run(function(){return ve})});return new Proxy(function(){},{get:function(ve,He){return Te[He]},apply:function(ve,He,tt){return Te.then(function(bt){var Qe,St=bt&&bt.apply(void 0,(0,m.Z)(tt));return(null===(Qe=null==Ct?void 0:Ct.spy)||void 0===Qe?void 0:Qe.apply)&&Ct.spy.apply(Be,tt,St),St})}})})}})},W=function(qe,Et){Et.forEach(function(Mt){Object.getOwnPropertyNames(Mt.prototype||Mt).forEach(function(Ct){Object.defineProperty(qe.prototype,Ct,Object.getOwnPropertyDescriptor(Mt.prototype||Mt,Ct))})})},ie=(0,ne.Z)(function Ce(qe){return(0,_.Z)(this,Ce),qe}),B=new P.OlP("angularfire2.app.options"),ee=new P.OlP("angularfire2.app.name");function L(Ce,qe,Et){var Ct="object"==typeof Et&&Et||{};Ct.name=Ct.name||"string"==typeof Et&&Et||"[DEFAULT]";var Xe=N.Z.apps.filter(function(De){return De&&De.name===Ct.name})[0]||qe.runOutsideAngular(function(){return N.Z.initializeApp(Ce,Ct)});try{if(JSON.stringify(Ce)!==JSON.stringify(Xe.options)){var Be=!!ht.hot;K("error","".concat(Xe.name," Firebase App already initialized with different options").concat(Be?", you may need to reload as Firebase is not HMR aware.":"."))}}catch(De){}return new ie(Xe)}var K=function(qe){if((0,P.X6Q)()&&"undefined"!=typeof console){for(var Et,Mt=arguments.length,Ct=new Array(Mt>1?Mt-1:0),on=1;on<Mt;on++)Ct[on-1]=arguments[on];(Et=console)[qe].apply(Et,Ct)}},oe={provide:ie,useFactory:L,deps:[B,P.R0b,[new P.FiY,ee]]},le=function(){var Ce=function(){function qe(Et){(0,_.Z)(this,qe),N.Z.registerVersion("angularfire",G.q4.full,"core"),N.Z.registerVersion("angularfire",G.q4.full,"app-compat"),N.Z.registerVersion("angular",P.q4F.full,Et.toString())}return(0,ne.Z)(qe,null,[{key:"initializeApp",value:function(Mt,Ct){return{ngModule:qe,providers:[{provide:B,useValue:Mt},{provide:ee,useValue:Ct}]}}}]),qe}();return Ce.\u0275fac=function(Et){return new(Et||Ce)(P.LFG(P.Lbi))},Ce.\u0275mod=P.oAB({type:Ce}),Ce.\u0275inj=P.cJS({providers:[oe]}),Ce}();function Ie(Ce,qe,Et,Mt,Ct){var on=globalThis.\u0275AngularfireInstanceCache.find(function(ye){return ye[0]===Ce})||[],Xe=(0,X.Z)(on,3),Be=Xe[1],De=Xe[2];if(Be)return function Me(Ce,qe){try{return Ce.toString()===qe.toString()}catch(Et){return Ce===qe}}(Ct,De)||(Fe("error","".concat(qe," was already initialized on the ").concat(Et," Firebase App with different settings.").concat(pe?" You may need to reload as Firebase is not HMR aware.":"")),Fe("warn",{is:Ct,was:De})),Be;var Te=Mt();return globalThis.\u0275AngularfireInstanceCache.push([Ce,Te,Ct]),Te}var pe=!!ht.hot,Fe=function(qe){if((0,P.X6Q)()&&"undefined"!=typeof console){for(var Et,Mt=arguments.length,Ct=new Array(Mt>1?Mt-1:0),on=1;on<Mt;on++)Ct[on-1]=arguments[on];(Et=console)[qe].apply(Et,Ct)}};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6351:function(ht,ke,x){"use strict";x.d(ke,{q4:function(){return Rr},iC:function(){return bl},fc:function(){return nd},HU:function(){return Hs},vb:function(){return mg},JM:function(){return gg},u3:function(){return Ga}});var oe,X=x(5671),ne=x(3144),_=x(5e3),m=x(5867),P=x(7685),N=x(5861),G=x(4942),Z=x(7757),s=x(9681),W=x(2090),ie=x(4859),B=x(1877),ee=x(7762),L=x(4902),K=x(6256),le="@firebase/installations",Ie="0.5.9",pe="w:".concat(Ie),Fe="FIS_v2",Ct=((0,G.Z)(oe={},"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),(0,G.Z)(oe,"not-registered","Firebase Installation is not registered."),(0,G.Z)(oe,"installation-not-found","Firebase Installation not found."),(0,G.Z)(oe,"request-failed",'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"'),(0,G.Z)(oe,"app-offline","Could not process request. Application offline."),(0,G.Z)(oe,"delete-pending-registration","Can't delete installation while there is a pending registration request."),oe),on=new W.LL("installations","Installations",Ct);function Xe(H){return H instanceof W.ZR&&H.code.includes("request-failed")}function Be(H){var V=H.projectId;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(V,"/installations")}function De(H){return{token:H.token,requestStatus:2,expiresIn:Qe(H.expiresIn),creationTime:Date.now()}}function Te(H,V){return ye.apply(this,arguments)}function ye(){return(ye=(0,N.Z)(Z.mark(function H(V,z){var se;return Z.wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return he.next=2,z.json();case 2:return he.abrupt("return",on.create("request-failed",{requestName:V,serverCode:(se=he.sent.error).code,serverMessage:se.message,serverStatus:se.status}));case 5:case"end":return he.stop()}},H)}))).apply(this,arguments)}function ve(H){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":H.apiKey})}function He(H,V){var z=V.refreshToken,Q=ve(H);return Q.append("Authorization",function St(H){return"".concat(Fe," ").concat(H)}(z)),Q}function tt(H){return bt.apply(this,arguments)}function bt(){return(bt=(0,N.Z)(Z.mark(function H(V){var z;return Z.wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return se.next=2,V();case 2:if(!((z=se.sent).status>=500&&z.status<600)){se.next=5;break}return se.abrupt("return",V());case 5:return se.abrupt("return",z);case 6:case"end":return se.stop()}},H)}))).apply(this,arguments)}function Qe(H){return Number(H.replace("s","000"))}function Ke(H,V){return gt.apply(this,arguments)}function gt(){return(gt=(0,N.Z)(Z.mark(function H(V,z){var Q,se,ce,he,ge,Je,at,et,Kt,fn,Rt;return Z.wrap(function(On){for(;;)switch(On.prev=On.next){case 0:if(se=V.heartbeatServiceProvider,ce=z.fid,he=Be(Q=V.appConfig),ge=ve(Q),!(Je=se.getImmediate({optional:!0}))){On.next=10;break}return On.next=8,Je.getHeartbeatsHeader();case 8:(at=On.sent)&&ge.append("x-firebase-client",at);case 10:return et={method:"POST",headers:ge,body:JSON.stringify({fid:ce,authVersion:Fe,appId:Q.appId,sdkVersion:pe})},On.next=14,tt(function(){return fetch(he,et)});case 14:if(!(Kt=On.sent).ok){On.next=23;break}return On.next=18,Kt.json();case 18:return Rt={fid:(fn=On.sent).fid||ce,registrationStatus:2,refreshToken:fn.refreshToken,authToken:De(fn.authToken)},On.abrupt("return",Rt);case 23:return On.next=25,Te("Create Installation",Kt);case 25:throw On.sent;case 26:case"end":return On.stop()}},H)}))).apply(this,arguments)}function ln(H){return new Promise(function(V){setTimeout(V,H)})}var $n=/^[cdef][\w-]{21}$/;function Ra(){try{var H=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(H),H[0]=112+H[0]%16;var z=function Qr(H){return function hr(H){return btoa(String.fromCharCode.apply(String,(0,L.Z)(H))).replace(/\+/g,"-").replace(/\//g,"_")}(H).substr(0,22)}(H);return $n.test(z)?z:""}catch(Q){return""}}function Ir(H){return"".concat(H.appName,"!").concat(H.appId)}var _a=new Map;function Do(H,V){var z=Ir(H);Hr(z,V),function Mo(H,V){var z=function tr(){return!Oa&&"BroadcastChannel"in self&&((Oa=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(H){Hr(H.data.key,H.data.fid)}),Oa}();z&&z.postMessage({key:H,fid:V}),function Dr(){0===_a.size&&Oa&&(Oa.close(),Oa=null)}()}(z,V)}function Hr(H,V){var z=_a.get(H);if(z){var se,Q=(0,ee.Z)(z);try{for(Q.s();!(se=Q.n()).done;)(0,se.value)(V)}catch(he){Q.e(he)}finally{Q.f()}}}var Oa=null;var ui="firebase-installations-store",ya=null;function li(){return ya||(ya=(0,K.X3)("firebase-installations-database",1,{upgrade:function(V,z){0===z&&V.createObjectStore(ui)}})),ya}function ba(H,V){return nr.apply(this,arguments)}function nr(){return(nr=(0,N.Z)(Z.mark(function H(V,z){var Q,ce,he,ge;return Z.wrap(function(at){for(;;)switch(at.prev=at.next){case 0:return Q=Ir(V),at.next=3,li();case 3:return ce=at.sent.transaction(ui,"readwrite"),he=ce.objectStore(ui),at.next=8,he.get(Q);case 8:return ge=at.sent,at.next=11,he.put(z,Q);case 11:return at.next=13,ce.done;case 13:return(!ge||ge.fid!==z.fid)&&Do(V,z.fid),at.abrupt("return",z);case 15:case"end":return at.stop()}},H)}))).apply(this,arguments)}function Ji(H){return wr.apply(this,arguments)}function wr(){return(wr=(0,N.Z)(Z.mark(function H(V){var z,se;return Z.wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return z=Ir(V),he.next=3,li();case 3:return se=he.sent.transaction(ui,"readwrite"),he.next=7,se.objectStore(ui).delete(z);case 7:return he.next=9,se.done;case 9:case"end":return he.stop()}},H)}))).apply(this,arguments)}function ci(H,V){return rn.apply(this,arguments)}function rn(){return(rn=(0,N.Z)(Z.mark(function H(V,z){var Q,ce,he,ge,Je;return Z.wrap(function(ot){for(;;)switch(ot.prev=ot.next){case 0:return Q=Ir(V),ot.next=3,li();case 3:return ce=ot.sent.transaction(ui,"readwrite"),he=ce.objectStore(ui),ot.next=8,he.get(Q);case 8:if(void 0!==(Je=z(ge=ot.sent))){ot.next=15;break}return ot.next=13,he.delete(Q);case 13:ot.next=17;break;case 15:return ot.next=17,he.put(Je,Q);case 17:return ot.next=19,ce.done;case 19:return Je&&(!ge||ge.fid!==Je.fid)&&Do(V,Je.fid),ot.abrupt("return",Je);case 21:case"end":return ot.stop()}},H)}))).apply(this,arguments)}function Xi(H){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,N.Z)(Z.mark(function H(V){var z,Q;return Z.wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:return ce.next=2,ci(V.appConfig,function(he){var ge=wi(he),Je=ir(V,ge);return z=Je.registrationPromise,Je.installationEntry});case 2:if(""!==(Q=ce.sent).fid){ce.next=8;break}return ce.next=6,z;case 6:return ce.t0=ce.sent,ce.abrupt("return",{installationEntry:ce.t0});case 8:return ce.abrupt("return",{installationEntry:Q,registrationPromise:z});case 9:case"end":return ce.stop()}},H)}))).apply(this,arguments)}function wi(H){return xr(H||{fid:Ra(),registrationStatus:0})}function ir(H,V){if(0===V.registrationStatus){if(!navigator.onLine)return{installationEntry:V,registrationPromise:Promise.reject(on.create("app-offline"))};var Q={fid:V.fid,registrationStatus:1,registrationTime:Date.now()},se=function qt(H,V){return Xt.apply(this,arguments)}(H,Q);return{installationEntry:Q,registrationPromise:se}}return 1===V.registrationStatus?{installationEntry:V,registrationPromise:fr(H)}:{installationEntry:V}}function Xt(){return(Xt=(0,N.Z)(Z.mark(function H(V,z){return Z.wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:return ce.prev=0,ce.next=3,Ke(V,z);case 3:return ce.abrupt("return",ba(V.appConfig,ce.sent));case 7:if(ce.prev=7,ce.t0=ce.catch(0),!Xe(ce.t0)||409!==ce.t0.customData.serverCode){ce.next=14;break}return ce.next=12,Ji(V.appConfig);case 12:ce.next=16;break;case 14:return ce.next=16,ba(V.appConfig,{fid:z.fid,registrationStatus:0});case 16:throw ce.t0;case 17:case"end":return ce.stop()}},H,null,[[0,7]])}))).apply(this,arguments)}function fr(H){return ea.apply(this,arguments)}function ea(){return(ea=(0,N.Z)(Z.mark(function H(V){var z,Q,se,ce;return Z.wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:return ge.next=2,Ci(V.appConfig);case 2:z=ge.sent;case 3:if(1!==z.registrationStatus){ge.next=11;break}return ge.next=6,ln(100);case 6:return ge.next=8,Ci(V.appConfig);case 8:z=ge.sent,ge.next=3;break;case 11:if(0!==z.registrationStatus){ge.next=22;break}return ge.next=14,Xi(V);case 14:if(se=(Q=ge.sent).installationEntry,!(ce=Q.registrationPromise)){ge.next=21;break}return ge.abrupt("return",ce);case 21:return ge.abrupt("return",se);case 22:return ge.abrupt("return",z);case 23:case"end":return ge.stop()}},H)}))).apply(this,arguments)}function Ci(H){return ci(H,function(V){if(!V)throw on.create("installation-not-found");return xr(V)})}function xr(H){return function Ei(H){return 1===H.registrationStatus&&H.registrationTime+1e4<Date.now()}(H)?{fid:H.fid,registrationStatus:0}:H}function Di(H,V){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,N.Z)(Z.mark(function H(V,z){var Q,se,ce,he,ge,Je,ot,et,fn;return Z.wrap(function(nn){for(;;)switch(nn.prev=nn.next){case 0:if(se=V.heartbeatServiceProvider,ce=Ne(Q=V.appConfig,z),he=He(Q,z),!(ge=se.getImmediate({optional:!0}))){nn.next=9;break}return nn.next=7,ge.getHeartbeatsHeader();case 7:(Je=nn.sent)&&he.append("x-firebase-client",Je);case 9:return ot={method:"POST",headers:he,body:JSON.stringify({installation:{sdkVersion:pe,appId:Q.appId}})},nn.next=13,tt(function(){return fetch(ce,ot)});case 13:if(!(et=nn.sent).ok){nn.next=22;break}return nn.next=17,et.json();case 17:return fn=De(nn.sent),nn.abrupt("return",fn);case 22:return nn.next=24,Te("Generate Auth Token",et);case 24:throw nn.sent;case 25:case"end":return nn.stop()}},H)}))).apply(this,arguments)}function Ne(H,V){var z=V.fid;return"".concat(Be(H),"/").concat(z,"/authTokens:generate")}function be(H){return Ue.apply(this,arguments)}function Ue(){return Ue=(0,N.Z)(Z.mark(function H(V){var z,Q,se,he=arguments;return Z.wrap(function(Je){for(;;)switch(Je.prev=Je.next){case 0:return z=he.length>1&&void 0!==he[1]&&he[1],Je.next=3,ci(V.appConfig,function(at){if(!Bt(at))throw on.create("not-registered");var ot=at.authToken;if(!z&&en(ot))return at;if(1===ot.requestStatus)return Q=Re(V,z),at;if(!navigator.onLine)throw on.create("app-offline");var et=pn(at);return Q=_t(V,et),et});case 3:if(se=Je.sent,!Q){Je.next=10;break}return Je.next=7,Q;case 7:Je.t0=Je.sent,Je.next=11;break;case 10:Je.t0=se.authToken;case 11:return Je.abrupt("return",Je.t0);case 13:case"end":return Je.stop()}},H)})),Ue.apply(this,arguments)}function Re(H,V){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,N.Z)(Z.mark(function H(V,z){var Q,se;return Z.wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return he.next=2,Ye(V.appConfig);case 2:Q=he.sent;case 3:if(1!==Q.authToken.requestStatus){he.next=11;break}return he.next=6,ln(100);case 6:return he.next=8,Ye(V.appConfig);case 8:Q=he.sent,he.next=3;break;case 11:if(0!==(se=Q.authToken).requestStatus){he.next=16;break}return he.abrupt("return",be(V,z));case 16:return he.abrupt("return",se);case 17:case"end":return he.stop()}},H)}))).apply(this,arguments)}function Ye(H){return ci(H,function(V){if(!Bt(V))throw on.create("not-registered");return function an(H){return 1===H.requestStatus&&H.requestTime+1e4<Date.now()}(V.authToken)?Object.assign(Object.assign({},V),{authToken:{requestStatus:0}}):V})}function _t(H,V){return kt.apply(this,arguments)}function kt(){return(kt=(0,N.Z)(Z.mark(function H(V,z){var Q,se,ce;return Z.wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:return ge.prev=0,ge.next=3,Di(V,z);case 3:return Q=ge.sent,se=Object.assign(Object.assign({},z),{authToken:Q}),ge.next=7,ba(V.appConfig,se);case 7:return ge.abrupt("return",Q);case 10:if(ge.prev=10,ge.t0=ge.catch(0),!Xe(ge.t0)||401!==ge.t0.customData.serverCode&&404!==ge.t0.customData.serverCode){ge.next=17;break}return ge.next=15,Ji(V.appConfig);case 15:ge.next=20;break;case 17:return ce=Object.assign(Object.assign({},z),{authToken:{requestStatus:0}}),ge.next=20,ba(V.appConfig,ce);case 20:throw ge.t0;case 21:case"end":return ge.stop()}},H,null,[[0,10]])}))).apply(this,arguments)}function Bt(H){return void 0!==H&&2===H.registrationStatus}function en(H){return 2===H.requestStatus&&!function Ot(H){var V=Date.now();return V<H.creationTime||H.creationTime+H.expiresIn<V+36e5}(H)}function pn(H){var V={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},H),{authToken:V})}function xe(){return(xe=(0,N.Z)(Z.mark(function H(V){var z,Q,se,ce;return Z.wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:return z=V,ge.next=3,Xi(z);case 3:return se=(Q=ge.sent).installationEntry,(ce=Q.registrationPromise)?ce.catch(console.error):be(z).catch(console.error),ge.abrupt("return",se.fid);case 8:case"end":return ge.stop()}},H)}))).apply(this,arguments)}function Se(){return Se=(0,N.Z)(Z.mark(function H(V){var z,Q,ce=arguments;return Z.wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:return z=ce.length>1&&void 0!==ce[1]&&ce[1],Q=V,ge.next=4,Ge(Q);case 4:return ge.next=6,be(Q,z);case 6:return ge.abrupt("return",ge.sent.token);case 8:case"end":return ge.stop()}},H)})),Se.apply(this,arguments)}function Ge(H){return mt.apply(this,arguments)}function mt(){return(mt=(0,N.Z)(Z.mark(function H(V){var Q;return Z.wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:return ce.next=2,Xi(V);case 2:if(!(Q=ce.sent.registrationPromise)){ce.next=7;break}return ce.next=7,Q;case 7:case"end":return ce.stop()}},H)}))).apply(this,arguments)}function vr(H){return on.create("missing-app-config-values",{valueName:H})}var oa="installations",cs=function(V){var z=V.getProvider("app").getImmediate(),Q=function yn(H){if(!H||!H.options)throw vr("App Configuration");if(!H.name)throw vr("App Name");for(var z=0,Q=["projectId","apiKey","appId"];z<Q.length;z++){var se=Q[z];if(!H.options[se])throw vr(se)}return{appName:H.name,projectId:H.options.projectId,apiKey:H.options.apiKey,appId:H.options.appId}}(z);return{app:z,appConfig:Q,heartbeatServiceProvider:(0,s._getProvider)(z,"heartbeat"),_delete:function(){return Promise.resolve()}}},ta=function(V){var z=V.getProvider("app").getImmediate(),Q=(0,s._getProvider)(z,oa).getImmediate(),se={getId:function(){return function Pe(H){return xe.apply(this,arguments)}(Q)},getToken:function(he){return function _e(H){return Se.apply(this,arguments)}(Q,he)}};return se};(function Mi(){(0,s._registerComponent)(new ie.wA(oa,cs,"PUBLIC")),(0,s._registerComponent)(new ie.wA("installations-internal",ta,"PRIVATE"))})(),(0,s.registerVersion)(le,Ie),(0,s.registerVersion)(le,Ie,"esm2017");var Hi,sa="@firebase/remote-config",ua=((0,G.Z)(Hi={},"registration-window","Undefined window object. This SDK only supports usage in a browser environment."),(0,G.Z)(Hi,"registration-project-id","Undefined project identifier. Check Firebase app initialization."),(0,G.Z)(Hi,"registration-api-key","Undefined API key. Check Firebase app initialization."),(0,G.Z)(Hi,"registration-app-id","Undefined app identifier. Check Firebase app initialization."),(0,G.Z)(Hi,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),(0,G.Z)(Hi,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),(0,G.Z)(Hi,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),(0,G.Z)(Hi,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),(0,G.Z)(Hi,"fetch-client-network","Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}."),(0,G.Z)(Hi,"fetch-timeout",'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.'),(0,G.Z)(Hi,"fetch-throttle",'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.'),(0,G.Z)(Hi,"fetch-client-parse","Fetch client could not parse response. Original error: {$originalErrorMessage}."),(0,G.Z)(Hi,"fetch-status","Fetch server returned an HTTP error status. HTTP status: {$httpStatus}."),(0,G.Z)(Hi,"indexed-db-unavailable","Indexed DB is not supported by current browser"),Hi),Xr=new W.LL("remoteconfig","Remote Config",ua),qd=function(){function H(V,z,Q,se){(0,X.Z)(this,H),this.client=V,this.storage=z,this.storageCache=Q,this.logger=se}return(0,ne.Z)(H,[{key:"isCachedDataFresh",value:function(z,Q){if(!Q)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var se=Date.now()-Q,ce=se<=z;return this.logger.debug("Config fetch cache check."+" Cache age millis: ".concat(se,".")+" Cache max age millis (minimumFetchIntervalMillis setting): ".concat(z,".")+" Is cache hit: ".concat(ce,".")),ce}},{key:"fetch",value:(V=(0,N.Z)(Z.mark(function Q(se){var he,ge,Je,at,ot;return Z.wrap(function(Kt){for(;;)switch(Kt.prev=Kt.next){case 0:return Kt.next=2,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()]);case 2:if(he=(0,P.Z)(Kt.sent,2),ge=he[0],!(Je=he[1])||!this.isCachedDataFresh(se.cacheMaxAgeMillis,ge)){Kt.next=8;break}return Kt.abrupt("return",Je);case 8:return se.eTag=Je&&Je.eTag,Kt.next=11,this.client.fetch(se);case 11:return at=Kt.sent,ot=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===at.status&&ot.push(this.storage.setLastSuccessfulFetchResponse(at)),Kt.next=16,Promise.all(ot);case 16:return Kt.abrupt("return",at);case 17:case"end":return Kt.stop()}},Q,this)})),function z(Q){return V.apply(this,arguments)})}]),H;var V}();function Gi(){var H=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator;return H.languages&&H.languages[0]||H.language}var Gl=function(){function H(V,z,Q,se,ce,he){(0,X.Z)(this,H),this.firebaseInstallations=V,this.sdkVersion=z,this.namespace=Q,this.projectId=se,this.apiKey=ce,this.appId=he}return(0,ne.Z)(H,[{key:"fetch",value:function(V){function z(Q){return V.apply(this,arguments)}return z.toString=function(){return V.toString()},z}(function(){var V=(0,N.Z)(Z.mark(function z(Q){var ce,he,ge,Je,at,ot,et,Kt,fn,Rt,nn,On,Jn,ar,Ii,Ri,za;return Z.wrap(function(zt){for(;;)switch(zt.prev=zt.next){case 0:return zt.next=2,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()]);case 2:return ce=(0,P.Z)(zt.sent,2),he=ce[0],ge=ce[1],Je=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",at="".concat(Je,"/v1/projects/").concat(this.projectId,"/namespaces/").concat(this.namespace,":fetch?key=").concat(this.apiKey),ot={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":Q.eTag||"*"},et={sdk_version:this.sdkVersion,app_instance_id:he,app_instance_id_token:ge,app_id:this.appId,language_code:Gi()},Kt={method:"POST",headers:ot,body:JSON.stringify(et)},fn=fetch(at,Kt),Rt=new Promise(function(bs,Ef){Q.signal.addEventListener(function(){var To=new Error("The operation was aborted.");To.name="AbortError",Ef(To)})}),zt.prev=13,zt.next=16,Promise.race([fn,Rt]);case 16:return zt.next=18,fn;case 18:nn=zt.sent,zt.next=26;break;case 21:throw zt.prev=21,zt.t0=zt.catch(13),On="fetch-client-network","AbortError"===zt.t0.name&&(On="fetch-timeout"),Xr.create(On,{originalErrorMessage:zt.t0.message});case 26:if(Jn=nn.status,ar=nn.headers.get("ETag")||void 0,200!==nn.status){zt.next=40;break}return zt.prev=29,zt.next=32,nn.json();case 32:za=zt.sent,zt.next=38;break;case 35:throw zt.prev=35,zt.t1=zt.catch(29),Xr.create("fetch-client-parse",{originalErrorMessage:zt.t1.message});case 38:Ii=za.entries,Ri=za.state;case 40:if("INSTANCE_STATE_UNSPECIFIED"===Ri?Jn=500:"NO_CHANGE"===Ri?Jn=304:("NO_TEMPLATE"===Ri||"EMPTY_CONFIG"===Ri)&&(Ii={}),304===Jn||200===Jn){zt.next=43;break}throw Xr.create("fetch-status",{httpStatus:Jn});case 43:return zt.abrupt("return",{status:Jn,eTag:ar,config:Ii});case 44:case"end":return zt.stop()}},z,this,[[13,21],[29,35]])}));return function(z){return V.apply(this,arguments)}}())}]),H}();function wa(H,V){return new Promise(function(z,Q){var se=Math.max(V-Date.now(),0),ce=setTimeout(z,se);H.addEventListener(function(){clearTimeout(ce),Q(Xr.create("fetch-throttle",{throttleEndTimeMillis:V}))})})}function jh(H){if(!(H instanceof W.ZR&&H.customData))return!1;var V=Number(H.customData.httpStatus);return 429===V||500===V||503===V||504===V}var Kd=function(){function H(V,z){(0,X.Z)(this,H),this.client=V,this.storage=z}return(0,ne.Z)(H,[{key:"fetch",value:(V=(0,N.Z)(Z.mark(function Q(se){return Z.wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:return ge.next=2,this.storage.getThrottleMetadata();case 2:if(ge.t0=ge.sent,ge.t0){ge.next=5;break}ge.t0={backoffCount:0,throttleEndTimeMillis:Date.now()};case 5:return ge.abrupt("return",this.attemptFetch(se,ge.t0));case 7:case"end":return ge.stop()}},Q,this)})),function z(Q){return V.apply(this,arguments)})},{key:"attemptFetch",value:function(){var V=(0,N.Z)(Z.mark(function Q(se,ce){var he,ge,Je,at;return Z.wrap(function(et){for(;;)switch(et.prev=et.next){case 0:return he=ce.throttleEndTimeMillis,ge=ce.backoffCount,et.next=3,wa(se.signal,he);case 3:return et.prev=3,et.next=6,this.client.fetch(se);case 6:return Je=et.sent,et.next=9,this.storage.deleteThrottleMetadata();case 9:return et.abrupt("return",Je);case 12:if(et.prev=12,et.t0=et.catch(3),jh(et.t0)){et.next=16;break}throw et.t0;case 16:return at={throttleEndTimeMillis:Date.now()+(0,W.$s)(ge),backoffCount:ge+1},et.next=19,this.storage.setThrottleMetadata(at);case 19:return et.abrupt("return",this.attemptFetch(se,at));case 20:case"end":return et.stop()}},Q,this,[[3,12]])}));return function z(Q,se){return V.apply(this,arguments)}}()}]),H;var V}(),$d=function(){function H(V,z,Q,se,ce){(0,X.Z)(this,H),this.app=V,this._client=z,this._storageCache=Q,this._storage=se,this._logger=ce,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return(0,ne.Z)(H,[{key:"fetchTimeMillis",get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}},{key:"lastFetchStatus",get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}]),H}();function jc(H,V){var z=H.target.error||void 0;return Xr.create(V,{originalErrorMessage:z&&z.message})}var Za="app_namespace_store";function sg(){return new Promise(function(H,V){try{var z=indexedDB.open("firebase_remote_config",1);z.onerror=function(Q){V(jc(Q,"storage-open"))},z.onsuccess=function(Q){H(Q.target.result)},z.onupgradeneeded=function(Q){0===Q.oldVersion&&Q.target.result.createObjectStore(Za,{keyPath:"compositeKey"})}}catch(Q){V(Xr.create("storage-open",{originalErrorMessage:Q}))}})}var ei,Jd=function(){function H(V,z,Q){var se=arguments.length>3&&void 0!==arguments[3]?arguments[3]:sg();(0,X.Z)(this,H),this.appId=V,this.appName=z,this.namespace=Q,this.openDbPromise=se}return(0,ne.Z)(H,[{key:"getLastFetchStatus",value:function(){return this.get("last_fetch_status")}},{key:"setLastFetchStatus",value:function(z){return this.set("last_fetch_status",z)}},{key:"getLastSuccessfulFetchTimestampMillis",value:function(){return this.get("last_successful_fetch_timestamp_millis")}},{key:"setLastSuccessfulFetchTimestampMillis",value:function(z){return this.set("last_successful_fetch_timestamp_millis",z)}},{key:"getLastSuccessfulFetchResponse",value:function(){return this.get("last_successful_fetch_response")}},{key:"setLastSuccessfulFetchResponse",value:function(z){return this.set("last_successful_fetch_response",z)}},{key:"getActiveConfig",value:function(){return this.get("active_config")}},{key:"setActiveConfig",value:function(z){return this.set("active_config",z)}},{key:"getActiveConfigEtag",value:function(){return this.get("active_config_etag")}},{key:"setActiveConfigEtag",value:function(z){return this.set("active_config_etag",z)}},{key:"getThrottleMetadata",value:function(){return this.get("throttle_metadata")}},{key:"setThrottleMetadata",value:function(z){return this.set("throttle_metadata",z)}},{key:"deleteThrottleMetadata",value:function(){return this.delete("throttle_metadata")}},{key:"get",value:(V=(0,N.Z)(Z.mark(function Q(se){var he,ce=this;return Z.wrap(function(Je){for(;;)switch(Je.prev=Je.next){case 0:return Je.next=2,this.openDbPromise;case 2:return he=Je.sent,Je.abrupt("return",new Promise(function(at,ot){var Kt=he.transaction([Za],"readonly").objectStore(Za),fn=ce.createCompositeKey(se);try{var Rt=Kt.get(fn);Rt.onerror=function(nn){ot(jc(nn,"storage-get"))},Rt.onsuccess=function(nn){var On=nn.target.result;at(On?On.value:void 0)}}catch(nn){ot(Xr.create("storage-get",{originalErrorMessage:nn&&nn.message}))}}));case 4:case"end":return Je.stop()}},Q,this)})),function z(Q){return V.apply(this,arguments)})},{key:"set",value:function(){var V=(0,N.Z)(Z.mark(function Q(se,ce){var ge,he=this;return Z.wrap(function(at){for(;;)switch(at.prev=at.next){case 0:return at.next=2,this.openDbPromise;case 2:return ge=at.sent,at.abrupt("return",new Promise(function(ot,et){var fn=ge.transaction([Za],"readwrite").objectStore(Za),Rt=he.createCompositeKey(se);try{var nn=fn.put({compositeKey:Rt,value:ce});nn.onerror=function(On){et(jc(On,"storage-set"))},nn.onsuccess=function(){ot()}}catch(On){et(Xr.create("storage-set",{originalErrorMessage:On&&On.message}))}}));case 4:case"end":return at.stop()}},Q,this)}));return function z(Q,se){return V.apply(this,arguments)}}()},{key:"delete",value:function(){var V=(0,N.Z)(Z.mark(function Q(se){var he,ce=this;return Z.wrap(function(Je){for(;;)switch(Je.prev=Je.next){case 0:return Je.next=2,this.openDbPromise;case 2:return he=Je.sent,Je.abrupt("return",new Promise(function(at,ot){var Kt=he.transaction([Za],"readwrite").objectStore(Za),fn=ce.createCompositeKey(se);try{var Rt=Kt.delete(fn);Rt.onerror=function(nn){ot(jc(nn,"storage-delete"))},Rt.onsuccess=function(){at()}}catch(nn){ot(Xr.create("storage-delete",{originalErrorMessage:nn&&nn.message}))}}));case 4:case"end":return Je.stop()}},Q,this)}));return function z(Q){return V.apply(this,arguments)}}()},{key:"createCompositeKey",value:function(z){return[this.appId,this.appName,this.namespace,z].join()}}]),H;var V}(),ug=function(){function H(V){(0,X.Z)(this,H),this.storage=V}return(0,ne.Z)(H,[{key:"getLastFetchStatus",value:function(){return this.lastFetchStatus}},{key:"getLastSuccessfulFetchTimestampMillis",value:function(){return this.lastSuccessfulFetchTimestampMillis}},{key:"getActiveConfig",value:function(){return this.activeConfig}},{key:"loadFromStorage",value:(V=(0,N.Z)(Z.mark(function Q(){var se,ce,he,ge,Je,at;return Z.wrap(function(et){for(;;)switch(et.prev=et.next){case 0:return se=this.storage.getLastFetchStatus(),ce=this.storage.getLastSuccessfulFetchTimestampMillis(),he=this.storage.getActiveConfig(),et.next=5,se;case 5:return(ge=et.sent)&&(this.lastFetchStatus=ge),et.next=9,ce;case 9:return(Je=et.sent)&&(this.lastSuccessfulFetchTimestampMillis=Je),et.next=13,he;case 13:(at=et.sent)&&(this.activeConfig=at);case 15:case"end":return et.stop()}},Q,this)})),function z(){return V.apply(this,arguments)})},{key:"setLastFetchStatus",value:function(z){return this.lastFetchStatus=z,this.storage.setLastFetchStatus(z)}},{key:"setLastSuccessfulFetchTimestampMillis",value:function(z){return this.lastSuccessfulFetchTimestampMillis=z,this.storage.setLastSuccessfulFetchTimestampMillis(z)}},{key:"setActiveConfig",value:function(z){return this.activeConfig=z,this.storage.setActiveConfig(z)}}]),H;var V}();function Gc(){return zl.apply(this,arguments)}function zl(){return(zl=(0,N.Z)(Z.mark(function H(){return Z.wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:if((0,W.hl)()){Q.next=2;break}return Q.abrupt("return",!1);case 2:return Q.prev=2,Q.next=5,(0,W.eu)();case 5:return Q.abrupt("return",Q.sent);case 9:return Q.prev=9,Q.t0=Q.catch(2),Q.abrupt("return",!1);case 12:case"end":return Q.stop()}},H,null,[[2,9]])}))).apply(this,arguments)}!function Xd(){(0,s._registerComponent)(new ie.wA("remote-config",function H(V,z){var Q=z.instanceIdentifier,se=V.getProvider("app").getImmediate(),ce=V.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Xr.create("registration-window");if(!(0,W.hl)())throw Xr.create("indexed-db-unavailable");var he=se.options,ge=he.projectId,Je=he.apiKey,at=he.appId;if(!ge)throw Xr.create("registration-project-id");if(!Je)throw Xr.create("registration-api-key");if(!at)throw Xr.create("registration-app-id");var ot=new Jd(at,se.name,Q=Q||"firebase"),et=new ug(ot),Kt=new B.Yd(sa);Kt.logLevel=B.in.ERROR;var fn=new Gl(ce,s.SDK_VERSION,Q,ge,Je,at),Rt=new Kd(fn,ot),nn=new qd(Rt,ot,et,Kt),On=new $d(se,nn,et,ot,Kt);return function Fs(H){var V=(0,W.m9)(H);V._initializePromise||(V._initializePromise=V._storageCache.loadFromStorage().then(function(){V._isInitializationComplete=!0}))}(On),On},"PUBLIC").setMultipleInstances(!0)),(0,s.registerVersion)(sa,"0.3.8"),(0,s.registerVersion)(sa,"0.3.8","esm2017")}();var tf="/firebase-messaging-sw.js",xs="/firebase-cloud-messaging-push-scope",zc="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ds="google.c.a.c_id",zn="google.c.a.c_l",rf="google.c.a.ts",Yc="google.c.a.e",fu=function(){return(H=fu||(fu={})).PUSH_RECEIVED="push-received",H.NOTIFICATION_CLICKED="notification-clicked",fu;var H}();function Vo(H){var V=new Uint8Array(H);return btoa(String.fromCharCode.apply(String,(0,L.Z)(V))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function $u(H){for(var z=(H+"=".repeat((4-H.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Q=atob(z),se=new Uint8Array(Q.length),ce=0;ce<Q.length;++ce)se[ce]=Q.charCodeAt(ce);return se}var Wc="fcm_token_details_db",qc="fcm_token_object_Store";function af(H){return zi.apply(this,arguments)}function zi(){return zi=(0,N.Z)(Z.mark(function H(V){var se;return Z.wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:if(!("databases"in indexedDB)){ge.next=7;break}return ge.next=3,indexedDB.databases();case 3:if(ge.sent.map(function(Je){return Je.name}).includes(Wc)){ge.next=7;break}return ge.abrupt("return",null);case 7:return se=null,ge.next=10,(0,K.X3)(Wc,5,{upgrade:function(){var Je=(0,N.Z)(Z.mark(function ot(et,Kt,fn,Rt){var nn,On,Jn,ar,Ii,Ri;return Z.wrap(function(or){for(;;)switch(or.prev=or.next){case 0:if(!(Kt<2)){or.next=2;break}return or.abrupt("return");case 2:if(et.objectStoreNames.contains(qc)){or.next=4;break}return or.abrupt("return");case 4:return On=Rt.objectStore(qc),or.next=7,On.index("fcmSenderId").get(V);case 7:return Jn=or.sent,or.next=10,On.clear();case 10:if(Jn){or.next=12;break}return or.abrupt("return");case 12:if(2!==Kt){or.next=19;break}if((ar=Jn).auth&&ar.p256dh&&ar.endpoint){or.next=16;break}return or.abrupt("return");case 16:se={token:ar.fcmToken,createTime:null!==(nn=ar.createTime)&&void 0!==nn?nn:Date.now(),subscriptionOptions:{auth:ar.auth,p256dh:ar.p256dh,endpoint:ar.endpoint,swScope:ar.swScope,vapidKey:"string"==typeof ar.vapidKey?ar.vapidKey:Vo(ar.vapidKey)}},or.next=20;break;case 19:3===Kt?se={token:(Ii=Jn).fcmToken,createTime:Ii.createTime,subscriptionOptions:{auth:Vo(Ii.auth),p256dh:Vo(Ii.p256dh),endpoint:Ii.endpoint,swScope:Ii.swScope,vapidKey:Vo(Ii.vapidKey)}}:4===Kt&&(se={token:(Ri=Jn).fcmToken,createTime:Ri.createTime,subscriptionOptions:{auth:Vo(Ri.auth),p256dh:Vo(Ri.p256dh),endpoint:Ri.endpoint,swScope:Ri.swScope,vapidKey:Vo(Ri.vapidKey)}});case 20:case"end":return or.stop()}},ot)}));return function at(ot,et,Kt,fn){return Je.apply(this,arguments)}}()});case 10:return ge.sent.close(),ge.next=14,(0,K.Lj)(Wc);case 14:return ge.next=16,(0,K.Lj)("fcm_vapid_details_db");case 16:return ge.next=18,(0,K.Lj)("undefined");case 18:return ge.abrupt("return",La(se)?se:null);case 19:case"end":return ge.stop()}},H)})),zi.apply(this,arguments)}function La(H){if(!H||!H.subscriptionOptions)return!1;var V=H.subscriptionOptions;return"number"==typeof H.createTime&&H.createTime>0&&"string"==typeof H.token&&H.token.length>0&&"string"==typeof V.auth&&V.auth.length>0&&"string"==typeof V.p256dh&&V.p256dh.length>0&&"string"==typeof V.endpoint&&V.endpoint.length>0&&"string"==typeof V.swScope&&V.swScope.length>0&&"string"==typeof V.vapidKey&&V.vapidKey.length>0}var oo="firebase-messaging-store",Kc=null;function hu(){return Kc||(Kc=(0,K.X3)("firebase-messaging-database",1,{upgrade:function(V,z){0===z&&V.createObjectStore(oo)}})),Kc}function Ns(H){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,N.Z)(Z.mark(function H(V){var z,Q,se,ce;return Z.wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:return z=Mr(V),ge.next=3,hu();case 3:return Q=ge.sent,ge.next=6,Q.transaction(oo).objectStore(oo).get(z);case 6:if(!(se=ge.sent)){ge.next=11;break}return ge.abrupt("return",se);case 11:return ge.next=13,af(V.appConfig.senderId);case 13:if(!(ce=ge.sent)){ge.next=18;break}return ge.next=17,Zs(V,ce);case 17:return ge.abrupt("return",ce);case 18:case"end":return ge.stop()}},H)}))).apply(this,arguments)}function Zs(H,V){return _r.apply(this,arguments)}function _r(){return(_r=(0,N.Z)(Z.mark(function H(V,z){var Q,ce;return Z.wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:return Q=Mr(V),ge.next=3,hu();case 3:return ce=ge.sent.transaction(oo,"readwrite"),ge.next=7,ce.objectStore(oo).put(z,Q);case 7:return ge.next=9,ce.done;case 9:return ge.abrupt("return",z);case 10:case"end":return ge.stop()}},H)}))).apply(this,arguments)}function Ju(H){return pu.apply(this,arguments)}function pu(){return(pu=(0,N.Z)(Z.mark(function H(V){var z,se;return Z.wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return z=Mr(V),he.next=3,hu();case 3:return se=he.sent.transaction(oo,"readwrite"),he.next=7,se.objectStore(oo).delete(z);case 7:return he.next=9,se.done;case 9:case"end":return he.stop()}},H)}))).apply(this,arguments)}function Mr(H){return H.appConfig.appId}var lf=((0,G.Z)(ei={},"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),(0,G.Z)(ei,"only-available-in-window","This method is available in a Window context."),(0,G.Z)(ei,"only-available-in-sw","This method is available in a service worker context."),(0,G.Z)(ei,"permission-default","The notification permission was not granted and dismissed instead."),(0,G.Z)(ei,"permission-blocked","The notification permission was not granted and blocked instead."),(0,G.Z)(ei,"unsupported-browser","This browser doesn't support the API's required to use the Firebase SDK."),(0,G.Z)(ei,"indexed-db-unsupported","This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)"),(0,G.Z)(ei,"failed-service-worker-registration","We are unable to register the default service worker. {$browserErrorMessage}"),(0,G.Z)(ei,"token-subscribe-failed","A problem occurred while subscribing the user to FCM: {$errorInfo}"),(0,G.Z)(ei,"token-subscribe-no-token","FCM returned no token when subscribing the user to push."),(0,G.Z)(ei,"token-unsubscribe-failed","A problem occurred while unsubscribing the user from FCM: {$errorInfo}"),(0,G.Z)(ei,"token-update-failed","A problem occurred while updating the user from FCM: {$errorInfo}"),(0,G.Z)(ei,"token-update-no-token","FCM returned no token when updating the user to push."),(0,G.Z)(ei,"use-sw-after-get-token","The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used."),(0,G.Z)(ei,"invalid-sw-registration","The input to useServiceWorker() must be a ServiceWorkerRegistration."),(0,G.Z)(ei,"invalid-bg-handler","The input to setBackgroundMessageHandler() must be a function."),(0,G.Z)(ei,"invalid-vapid-key","The public VAPID key must be a string."),(0,G.Z)(ei,"use-vapid-key-after-get-token","The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."),ei),pi=new W.LL("messaging","Messaging",lf);function fs(H,V){return ti.apply(this,arguments)}function ti(){return(ti=(0,N.Z)(Z.mark(function H(V,z){var Q,se,ce,he,ge;return Z.wrap(function(ot){for(;;)switch(ot.prev=ot.next){case 0:return ot.next=2,Uo(V);case 2:return Q=ot.sent,se=Va(z),ce={method:"POST",headers:Q,body:JSON.stringify(se)},ot.prev=5,ot.next=8,fetch(Ls(V.appConfig),ce);case 8:return ge=ot.sent,ot.next=11,ge.json();case 11:he=ot.sent,ot.next=17;break;case 14:throw ot.prev=14,ot.t0=ot.catch(5),pi.create("token-subscribe-failed",{errorInfo:ot.t0});case 17:if(!he.error){ot.next=20;break}throw pi.create("token-subscribe-failed",{errorInfo:he.error.message});case 20:if(he.token){ot.next=22;break}throw pi.create("token-subscribe-no-token");case 22:return ot.abrupt("return",he.token);case 23:case"end":return ot.stop()}},H,null,[[5,14]])}))).apply(this,arguments)}function Xu(H,V){return hs.apply(this,arguments)}function hs(){return(hs=(0,N.Z)(Z.mark(function H(V,z){var Q,se,ce,he,ge;return Z.wrap(function(ot){for(;;)switch(ot.prev=ot.next){case 0:return ot.next=2,Uo(V);case 2:return Q=ot.sent,se=Va(z.subscriptionOptions),ce={method:"PATCH",headers:Q,body:JSON.stringify(se)},ot.prev=5,ot.next=8,fetch("".concat(Ls(V.appConfig),"/").concat(z.token),ce);case 8:return ge=ot.sent,ot.next=11,ge.json();case 11:he=ot.sent,ot.next=17;break;case 14:throw ot.prev=14,ot.t0=ot.catch(5),pi.create("token-update-failed",{errorInfo:ot.t0});case 17:if(!he.error){ot.next=20;break}throw pi.create("token-update-failed",{errorInfo:he.error.message});case 20:if(he.token){ot.next=22;break}throw pi.create("token-update-no-token");case 22:return ot.abrupt("return",he.token);case 23:case"end":return ot.stop()}},H,null,[[5,14]])}))).apply(this,arguments)}function Ba(H,V){return vi.apply(this,arguments)}function vi(){return(vi=(0,N.Z)(Z.mark(function H(V,z){var se,ce,he;return Z.wrap(function(at){for(;;)switch(at.prev=at.next){case 0:return at.next=2,Uo(V);case 2:return se={method:"DELETE",headers:at.sent},at.prev=4,at.next=7,fetch("".concat(Ls(V.appConfig),"/").concat(z),se);case 7:return ce=at.sent,at.next=10,ce.json();case 10:if(!(he=at.sent).error){at.next=14;break}throw pi.create("token-unsubscribe-failed",{errorInfo:he.error.message});case 14:at.next=19;break;case 16:throw at.prev=16,at.t0=at.catch(4),pi.create("token-unsubscribe-failed",{errorInfo:at.t0});case 19:case"end":return at.stop()}},H,null,[[4,16]])}))).apply(this,arguments)}function Ls(H){var V=H.projectId;return"".concat("https://fcmregistrations.googleapis.com/v1","/projects/").concat(V,"/registrations")}function Uo(H){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,N.Z)(Z.mark(function H(V){var z,Q;return Z.wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return z=V.appConfig,Q=V.installations,he.next=3,Q.getToken();case 3:return he.abrupt("return",new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":z.apiKey,"x-goog-firebase-installations-auth":"FIS ".concat(he.sent)}));case 5:case"end":return he.stop()}},H)}))).apply(this,arguments)}function Va(H){var se=H.vapidKey,ce={web:{endpoint:H.endpoint,auth:H.auth,p256dh:H.p256dh}};return se!==zc&&(ce.web.applicationPubKey=se),ce}var cf=6048e5;function el(H){return un.apply(this,arguments)}function un(){return(un=(0,N.Z)(Z.mark(function H(V){var z,Q,se;return Z.wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return he.next=2,Yh(V.swRegistration,V.vapidKey);case 2:return Q={vapidKey:V.vapidKey,swScope:V.swRegistration.scope,endpoint:(z=he.sent).endpoint,auth:Vo(z.getKey("auth")),p256dh:Vo(z.getKey("p256dh"))},he.next=6,Ns(V.firebaseDependencies);case 6:if(se=he.sent){he.next=11;break}return he.abrupt("return",vu(V.firebaseDependencies,Q));case 11:if(Bn(se.subscriptionOptions,Q)){he.next=23;break}return he.prev=12,he.next=15,Ba(V.firebaseDependencies,se.token);case 15:he.next=20;break;case 17:he.prev=17,he.t0=he.catch(12),console.warn(he.t0);case 20:return he.abrupt("return",vu(V.firebaseDependencies,Q));case 23:if(!(Date.now()>=se.createTime+cf)){he.next=27;break}return he.abrupt("return",df(V,{token:se.token,createTime:Date.now(),subscriptionOptions:Q}));case 27:return he.abrupt("return",se.token);case 28:case"end":return he.stop()}},H,null,[[12,17]])}))).apply(this,arguments)}function zh(H){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,N.Z)(Z.mark(function H(V){var z,Q;return Z.wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:return ce.next=2,Ns(V.firebaseDependencies);case 2:if(!(z=ce.sent)){ce.next=8;break}return ce.next=6,Ba(V.firebaseDependencies,z.token);case 6:return ce.next=8,Ju(V.firebaseDependencies);case 8:return ce.next=10,V.swRegistration.pushManager.getSubscription();case 10:if(!(Q=ce.sent)){ce.next=13;break}return ce.abrupt("return",Q.unsubscribe());case 13:return ce.abrupt("return",!0);case 14:case"end":return ce.stop()}},H)}))).apply(this,arguments)}function df(H,V){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,N.Z)(Z.mark(function H(V,z){var Q,se;return Z.wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return he.prev=0,he.next=3,Xu(V.firebaseDependencies,z);case 3:return Q=he.sent,se=Object.assign(Object.assign({},z),{token:Q,createTime:Date.now()}),he.next=7,Zs(V.firebaseDependencies,se);case 7:return he.abrupt("return",Q);case 10:return he.prev=10,he.t0=he.catch(0),he.next=14,zh(V);case 14:throw he.t0;case 15:case"end":return he.stop()}},H,null,[[0,10]])}))).apply(this,arguments)}function vu(H,V){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,N.Z)(Z.mark(function H(V,z){var se;return Z.wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return he.next=2,fs(V,z);case 2:return se={token:he.sent,createTime:Date.now(),subscriptionOptions:z},he.next=6,Zs(V,se);case 6:return he.abrupt("return",se.token);case 7:case"end":return he.stop()}},H)}))).apply(this,arguments)}function Yh(H,V){return pt.apply(this,arguments)}function pt(){return(pt=(0,N.Z)(Z.mark(function H(V,z){var Q;return Z.wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:return ce.next=2,V.pushManager.getSubscription();case 2:if(!(Q=ce.sent)){ce.next=5;break}return ce.abrupt("return",Q);case 5:return ce.abrupt("return",V.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:$u(z)}));case 6:case"end":return ce.stop()}},H)}))).apply(this,arguments)}function Bn(H,V){return V.vapidKey===H.vapidKey&&V.endpoint===H.endpoint&&V.auth===H.auth&&V.p256dh===H.p256dh}function tl(H){var V={from:H.from,collapseKey:H.collapse_key,messageId:H.fcmMessageId};return function ni(H,V){if(V.notification){H.notification={};var z=V.notification.title;z&&(H.notification.title=z);var Q=V.notification.body;Q&&(H.notification.body=Q);var se=V.notification.image;se&&(H.notification.image=se)}}(V,H),function nl(H,V){!V.data||(H.data=V.data)}(V,H),function rl(H,V){if(V.fcmOptions){H.fcmOptions={};var z=V.fcmOptions.link;z&&(H.fcmOptions.link=z);var Q=V.fcmOptions.analytics_label;Q&&(H.fcmOptions.analyticsLabel=Q)}}(V,H),V}function Ua(H){return"object"==typeof H&&!!H&&ds in H}function il(H,V){for(var z=[],Q=0;Q<H.length;Q++)z.push(H.charAt(Q)),Q<V.length&&z.push(V.charAt(Q));return z.join("")}function ql(H){return pi.create("missing-app-config-values",{valueName:H})}il("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),il("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");var Wh=function(){function H(V,z,Q){(0,X.Z)(this,H),this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;var se=function $c(H){if(!H||!H.options)throw ql("App Configuration Object");if(!H.name)throw ql("App Name");for(var z=H.options,Q=0,se=["projectId","apiKey","appId","messagingSenderId"];Q<se.length;Q++){var ce=se[Q];if(!z[ce])throw ql(ce)}return{appName:H.name,projectId:z.projectId,apiKey:z.apiKey,appId:z.appId,senderId:z.messagingSenderId}}(V);this.firebaseDependencies={app:V,appConfig:se,installations:z,analyticsProvider:Q}}return(0,ne.Z)(H,[{key:"_delete",value:function(){return Promise.resolve()}}]),H}();function al(H){return ps.apply(this,arguments)}function ps(){return(ps=(0,N.Z)(Z.mark(function H(V){return Z.wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return Q.prev=0,Q.next=3,navigator.serviceWorker.register(tf,{scope:xs});case 3:V.swRegistration=Q.sent,V.swRegistration.update().catch(function(){}),Q.next=10;break;case 7:throw Q.prev=7,Q.t0=Q.catch(0),pi.create("failed-service-worker-registration",{browserErrorMessage:Q.t0.message});case 10:case"end":return Q.stop()}},H,null,[[0,7]])}))).apply(this,arguments)}function na(H,V){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,N.Z)(Z.mark(function H(V,z){return Z.wrap(function(se){for(;;)switch(se.prev=se.next){case 0:if(z||V.swRegistration){se.next=3;break}return se.next=3,al(V);case 3:if(z||!V.swRegistration){se.next=5;break}return se.abrupt("return");case 5:if(z instanceof ServiceWorkerRegistration){se.next=7;break}throw pi.create("invalid-sw-registration");case 7:V.swRegistration=z;case 8:case"end":return se.stop()}},H)}))).apply(this,arguments)}function ff(H,V){return So.apply(this,arguments)}function So(){return(So=(0,N.Z)(Z.mark(function H(V,z){return Z.wrap(function(se){for(;;)switch(se.prev=se.next){case 0:z?V.vapidKey=z:V.vapidKey||(V.vapidKey=zc);case 1:case"end":return se.stop()}},H)}))).apply(this,arguments)}function Kl(){return(Kl=(0,N.Z)(Z.mark(function H(V,z){return Z.wrap(function(se){for(;;)switch(se.prev=se.next){case 0:if(navigator){se.next=2;break}throw pi.create("only-available-in-window");case 2:if("default"!==Notification.permission){se.next=5;break}return se.next=5,Notification.requestPermission();case 5:if("granted"===Notification.permission){se.next=7;break}throw pi.create("permission-blocked");case 7:return se.next=9,ff(V,null==z?void 0:z.vapidKey);case 9:return se.next=11,na(V,null==z?void 0:z.serviceWorkerRegistration);case 11:return se.abrupt("return",el(V));case 12:case"end":return se.stop()}},H)}))).apply(this,arguments)}function hf(H,V,z){return $l.apply(this,arguments)}function $l(){return($l=(0,N.Z)(Z.mark(function H(V,z,Q){var se;return Z.wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:return se=cg(z),ge.next=3,V.firebaseDependencies.analyticsProvider.get();case 3:ge.sent.logEvent(se,{message_id:Q[ds],message_name:Q[zn],message_time:Q[rf],message_device_time:Math.floor(Date.now()/1e3)});case 5:case"end":return ge.stop()}},H)}))).apply(this,arguments)}function cg(H){switch(H){case fu.NOTIFICATION_CLICKED:return"notification_open";case fu.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function sl(){return(sl=(0,N.Z)(Z.mark(function H(V,z){var Q,se;return Z.wrap(function(he){for(;;)switch(he.prev=he.next){case 0:if((Q=z.data).isFirebaseMessaging){he.next=3;break}return he.abrupt("return");case 3:if(V.onMessageHandler&&Q.messageType===fu.PUSH_RECEIVED&&("function"==typeof V.onMessageHandler?V.onMessageHandler(tl(Q)):V.onMessageHandler.next(tl(Q))),!Ua(se=Q.data)||"1"!==se[Yc]){he.next=8;break}return he.next=8,hf(V,Q.messageType,se);case 8:case"end":return he.stop()}},H)}))).apply(this,arguments)}var uo,ul="@firebase/messaging",dg=function(V){var z=new Wh(V.getProvider("app").getImmediate(),V.getProvider("installations-internal").getImmediate(),V.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",function(Q){return function ol(H,V){return sl.apply(this,arguments)}(z,Q)}),z},Ql=function(V){var z=V.getProvider("messaging").getImmediate();return{getToken:function(ce){return function so(H,V){return Kl.apply(this,arguments)}(z,ce)}}};function pf(){return jo.apply(this,arguments)}function jo(){return(jo=(0,N.Z)(Z.mark(function H(){return Z.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.prev=0,z.next=3,(0,W.eu)();case 3:z.next=8;break;case 5:return z.prev=5,z.t0=z.catch(0),z.abrupt("return",!1);case 8:return z.abrupt("return","undefined"!=typeof window&&(0,W.hl)()&&(0,W.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"));case 9:case"end":return z.stop()}},H,null,[[0,5]])}))).apply(this,arguments)}!function vs(){(0,s._registerComponent)(new ie.wA("messaging",dg,"PUBLIC")),(0,s._registerComponent)(new ie.wA("messaging-internal",Ql,"PRIVATE")),(0,s.registerVersion)(ul,"0.9.13"),(0,s.registerVersion)(ul,"0.9.13","esm2017")}();var Xc="analytics",qh="firebase_id",hg=6e4,pg="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",mu="https://www.googletagmanager.com/gtag/js",Gr=new B.Yd("@firebase/analytics");function Jl(H){return Promise.all(H.map(function(V){return V.catch(function(z){return z})}))}function gf(H,V){var z=document.createElement("script");z.src="".concat(mu,"?l=").concat(H,"&id=").concat(V),z.async=!0,document.head.appendChild(z)}function Kh(H,V,z,Q,se,ce){return lo.apply(this,arguments)}function lo(){return(lo=(0,N.Z)(Z.mark(function H(V,z,Q,se,ce,he){var ge,at;return Z.wrap(function(et){for(;;)switch(et.prev=et.next){case 0:if(ge=se[ce],et.prev=1,!ge){et.next=7;break}return et.next=5,z[ge];case 5:et.next=14;break;case 7:return et.next=9,Jl(Q);case 9:if(!(at=et.sent.find(function(Kt){return Kt.measurementId===ce}))){et.next=14;break}return et.next=14,z[at.appId];case 14:et.next=19;break;case 16:et.prev=16,et.t0=et.catch(1),Gr.error(et.t0);case 19:V("config",ce,he);case 20:case"end":return et.stop()}},H,null,[[1,16]])}))).apply(this,arguments)}function Xl(H,V,z,Q,se){return zr.apply(this,arguments)}function zr(){return(zr=(0,N.Z)(Z.mark(function H(V,z,Q,se,ce){var he,ge,Je,at,ot,et;return Z.wrap(function(Rt){for(;;)switch(Rt.prev=Rt.next){case 0:if(Rt.prev=0,he=[],!ce||!ce.send_to){Rt.next=26;break}return ge=ce.send_to,Array.isArray(ge)||(ge=[ge]),Rt.next=7,Jl(Q);case 7:Je=Rt.sent,at=(0,ee.Z)(ge),Rt.prev=9,et=function(){var On=ot.value,Jn=Je.find(function(Ii){return Ii.measurementId===On}),ar=Jn&&z[Jn.appId];if(!ar)return he=[],"break";he.push(ar)},at.s();case 12:if((ot=at.n()).done){Rt.next=18;break}if("break"!==et()){Rt.next=16;break}return Rt.abrupt("break",18);case 16:Rt.next=12;break;case 18:Rt.next=23;break;case 20:Rt.prev=20,Rt.t0=Rt.catch(9),at.e(Rt.t0);case 23:return Rt.prev=23,at.f(),Rt.finish(23);case 26:return 0===he.length&&(he=Object.values(z)),Rt.next=29,Promise.all(he);case 29:V("event",se,ce||{}),Rt.next=35;break;case 32:Rt.prev=32,Rt.t1=Rt.catch(0),Gr.error(Rt.t1);case 35:case"end":return Rt.stop()}},H,null,[[0,32],[9,20,23,26]])}))).apply(this,arguments)}function qn(){for(var H=window.document.getElementsByTagName("script"),V=0,z=Object.values(H);V<z.length;V++){var Q=z[V];if(Q.src&&Q.src.includes(mu))return Q}return null}var Ft=((0,G.Z)(uo={},"already-exists","A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId."),(0,G.Z)(uo,"already-initialized","initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance."),(0,G.Z)(uo,"already-initialized-settings","Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect."),(0,G.Z)(uo,"interop-component-reg-failed","Firebase Analytics Interop Component failed to instantiate: {$reason}"),(0,G.Z)(uo,"invalid-analytics-context","Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),(0,G.Z)(uo,"indexeddb-unavailable","IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),(0,G.Z)(uo,"fetch-throttle","The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}."),(0,G.Z)(uo,"config-fetch-failed","Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}"),(0,G.Z)(uo,"no-api-key",'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.'),(0,G.Z)(uo,"no-app-id",'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'),uo),ft=new W.LL("analytics","Analytics",Ft),gs=function(){function H(){var V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;(0,X.Z)(this,H),this.throttleMetadata=V,this.intervalMillis=z}return(0,ne.Z)(H,[{key:"getThrottleMetadata",value:function(z){return this.throttleMetadata[z]}},{key:"setThrottleMetadata",value:function(z,Q){this.throttleMetadata[z]=Q}},{key:"deleteThrottleMetadata",value:function(z){delete this.throttleMetadata[z]}}]),H}(),_u=new gs;function Br(H){return new Headers({Accept:"application/json","x-goog-api-key":H})}function dl(H){return ec.apply(this,arguments)}function ec(){return(ec=(0,N.Z)(Z.mark(function H(V){var z,Q,ce,he,ge,Je,at;return Z.wrap(function(et){for(;;)switch(et.prev=et.next){case 0:return Q=V.appId,ce={method:"GET",headers:Br(V.apiKey)},he=pg.replace("{app-id}",Q),et.next=5,fetch(he,ce);case 5:if(200===(ge=et.sent).status||304===ge.status){et.next=18;break}return Je="",et.prev=8,et.next=11,ge.json();case 11:(null===(z=(at=et.sent).error)||void 0===z?void 0:z.message)&&(Je=at.error.message),et.next=17;break;case 15:et.prev=15,et.t0=et.catch(8);case 17:throw ft.create("config-fetch-failed",{httpStatus:ge.status,responseMessage:Je});case 18:return et.abrupt("return",ge.json());case 19:case"end":return et.stop()}},H,null,[[8,15]])}))).apply(this,arguments)}function yu(H){return Qn.apply(this,arguments)}function Qn(){return Qn=(0,N.Z)(Z.mark(function H(V){var z,Q,se,ce,he,ge,Je,at,ot=arguments;return Z.wrap(function(Kt){for(;;)switch(Kt.prev=Kt.next){case 0:if(z=ot.length>1&&void 0!==ot[1]?ot[1]:_u,Q=ot.length>2?ot[2]:void 0,he=(se=V.options).apiKey,ge=se.measurementId,ce=se.appId){Kt.next=5;break}throw ft.create("no-app-id");case 5:if(he){Kt.next=9;break}if(!ge){Kt.next=8;break}return Kt.abrupt("return",{measurementId:ge,appId:ce});case 8:throw ft.create("no-api-key");case 9:return Je=z.getThrottleMetadata(ce)||{backoffCount:0,throttleEndTimeMillis:Date.now()},at=new ed,setTimeout((0,N.Z)(Z.mark(function fn(){return Z.wrap(function(nn){for(;;)switch(nn.prev=nn.next){case 0:at.abort();case 1:case"end":return nn.stop()}},fn)})),void 0!==Q?Q:hg),Kt.abrupt("return",Vr({appId:ce,apiKey:he,measurementId:ge},Je,at,z));case 13:case"end":return Kt.stop()}},H)})),Qn.apply(this,arguments)}function Vr(H,V,z){return ms.apply(this,arguments)}function ms(){return ms=(0,N.Z)(Z.mark(function H(V,z,Q){var se,ce,he,ge,Je,at,ot,et,Kt=arguments;return Z.wrap(function(Rt){for(;;)switch(Rt.prev=Rt.next){case 0:return se=z.throttleEndTimeMillis,ce=z.backoffCount,he=Kt.length>3&&void 0!==Kt[3]?Kt[3]:_u,ge=V.appId,Je=V.measurementId,Rt.prev=3,Rt.next=6,bu(Q,se);case 6:Rt.next=14;break;case 8:if(Rt.prev=8,Rt.t0=Rt.catch(3),!Je){Rt.next=13;break}return Gr.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(Je)+' provided in the "measurementId" field in the local Firebase config. ['.concat(Rt.t0.message,"]")),Rt.abrupt("return",{appId:ge,measurementId:Je});case 13:throw Rt.t0;case 14:return Rt.prev=14,Rt.next=17,dl(V);case 17:return at=Rt.sent,he.deleteThrottleMetadata(ge),Rt.abrupt("return",at);case 22:if(Rt.prev=22,Rt.t1=Rt.catch(14),_s(Rt.t1)){Rt.next=32;break}if(he.deleteThrottleMetadata(ge),!Je){Rt.next=31;break}return Gr.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(Je)+' provided in the "measurementId" field in the local Firebase config. ['.concat(Rt.t1.message,"]")),Rt.abrupt("return",{appId:ge,measurementId:Je});case 31:throw Rt.t1;case 32:return ot=503===Number(Rt.t1.customData.httpStatus)?(0,W.$s)(ce,he.intervalMillis,30):(0,W.$s)(ce,he.intervalMillis),et={throttleEndTimeMillis:Date.now()+ot,backoffCount:ce+1},he.setThrottleMetadata(ge,et),Gr.debug("Calling attemptFetch again in ".concat(ot," millis")),Rt.abrupt("return",Vr(V,et,Q,he));case 37:case"end":return Rt.stop()}},H,null,[[3,8],[14,22]])})),ms.apply(this,arguments)}function bu(H,V){return new Promise(function(z,Q){var se=Math.max(V-Date.now(),0),ce=setTimeout(z,se);H.addEventListener(function(){clearTimeout(ce),Q(ft.create("fetch-throttle",{throttleEndTimeMillis:V}))})})}function _s(H){if(!(H instanceof W.ZR&&H.customData))return!1;var V=Number(H.customData.httpStatus);return 429===V||500===V||503===V||504===V}var ed=function(){function H(){(0,X.Z)(this,H),this.listeners=[]}return(0,ne.Z)(H,[{key:"addEventListener",value:function(z){this.listeners.push(z)}},{key:"abort",value:function(){this.listeners.forEach(function(z){return z()})}}]),H}();function mf(){return ys.apply(this,arguments)}function ys(){return(ys=(0,N.Z)(Z.mark(function H(){return Z.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:if((0,W.hl)()){z.next=5;break}return Gr.warn(ft.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),z.abrupt("return",!1);case 5:return z.prev=5,z.next=8,(0,W.eu)();case 8:z.next=14;break;case 10:return z.prev=10,z.t0=z.catch(5),Gr.warn(ft.create("indexeddb-unavailable",{errorInfo:z.t0}).message),z.abrupt("return",!1);case 14:return z.abrupt("return",!0);case 15:case"end":return z.stop()}},H,null,[[5,10]])}))).apply(this,arguments)}function ku(){return(ku=(0,N.Z)(Z.mark(function H(V,z,Q,se,ce,he,ge){var Je,at,ot,Kt,fn,Rt,nn;return Z.wrap(function(Jn){for(;;)switch(Jn.prev=Jn.next){case 0:return(at=yu(V)).then(function(ar){Q[ar.measurementId]=ar.appId,V.options.measurementId&&ar.measurementId!==V.options.measurementId&&Gr.warn("The measurement ID in the local Firebase config (".concat(V.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(ar.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(ar){return Gr.error(ar)}),z.push(at),ot=mf().then(function(ar){if(ar)return se.getId()}),Jn.next=6,Promise.all([at,ot]);case 6:return Kt=(0,P.Z)(Jn.sent,2),fn=Kt[0],Rt=Kt[1],qn()||gf(he,fn.measurementId),ce("js",new Date),(nn=null!==(Je=null==ge?void 0:ge.config)&&void 0!==Je?Je:{}).origin="firebase",nn.update=!0,null!=Rt&&(nn[qh]=Rt),ce("config",fn.measurementId,nn),Jn.abrupt("return",fn.measurementId);case 18:case"end":return Jn.stop()}},H)}))).apply(this,arguments)}var It,ii,co=function(){function H(V){(0,X.Z)(this,H),this.app=V}return(0,ne.Z)(H,[{key:"_delete",value:function(){return delete Ha[this.app.options.appId],Promise.resolve()}}]),H}(),Ha={},fo=[],Ti={},ho="dataLayer",Kn=!1;function Qh(H,V,z){!function yf(){var H=[];if((0,W.ru)()&&H.push("This is a browser extension environment."),(0,W.zI)()||H.push("Cookies are not available."),H.length>0){var V=H.map(function(Q,se){return"(".concat(se+1,") ").concat(Q)}).join(" "),z=ft.create("invalid-analytics-context",{errorInfo:V});Gr.warn(z.message)}}();var Q=H.options.appId;if(!Q)throw ft.create("no-app-id");if(!H.options.apiKey){if(!H.options.measurementId)throw ft.create("no-api-key");Gr.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(H.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Ha[Q])throw ft.create("already-exists",{id:Q});if(!Kn){!function cl(H){var V=[];Array.isArray(window[H])?V=window[H]:window[H]=V}(ho);var se=function Zt(H,V,z,Q,se){var ce=function(){for(var ge=arguments.length,Je=new Array(ge),at=0;at<ge;at++)Je[at]=arguments[at];window[Q].push(arguments)};return window[se]&&"function"==typeof window[se]&&(ce=window[se]),window[se]=function Lr(H,V,z,Q){function ce(){return(ce=(0,N.Z)(Z.mark(function he(ge,Je,at){return Z.wrap(function(et){for(;;)switch(et.prev=et.next){case 0:if(et.prev=0,"event"!==ge){et.next=6;break}return et.next=4,Xl(H,V,z,Je,at);case 4:et.next=12;break;case 6:if("config"!==ge){et.next=11;break}return et.next=9,Kh(H,V,z,Q,Je,at);case 9:et.next=12;break;case 11:H("set",Je);case 12:et.next=17;break;case 14:et.prev=14,et.t0=et.catch(0),Gr.error(et.t0);case 17:case"end":return et.stop()}},he,null,[[0,14]])}))).apply(this,arguments)}return function se(he,ge,Je){return ce.apply(this,arguments)}}(ce,H,V,z),{gtagCore:ce,wrappedGtag:window[se]}}(Ha,fo,Ti,ho,"gtag");ii=se.wrappedGtag,It=se.gtagCore,Kn=!0}return Ha[Q]=function _f(H,V,z,Q,se,ce,he){return ku.apply(this,arguments)}(H,fo,Ti,V,It,ho,z),new co(H)}function Zn(){return(Zn=(0,N.Z)(Z.mark(function H(V,z,Q,se,ce){var he,ge;return Z.wrap(function(at){for(;;)switch(at.prev=at.next){case 0:if(!ce||!ce.global){at.next=5;break}return V("event",Q,se),at.abrupt("return");case 5:return at.next=7,z;case 7:he=at.sent,ge=Object.assign(Object.assign({},se),{send_to:he}),V("event",Q,ge);case 10:case"end":return at.stop()}},H)}))).apply(this,arguments)}function vl(){return gl.apply(this,arguments)}function gl(){return(gl=(0,N.Z)(Z.mark(function H(){return Z.wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:if(!(0,W.ru)()){Q.next=2;break}return Q.abrupt("return",!1);case 2:if((0,W.zI)()){Q.next=4;break}return Q.abrupt("return",!1);case 4:if((0,W.hl)()){Q.next=6;break}return Q.abrupt("return",!1);case 6:return Q.prev=6,Q.next=9,(0,W.eu)();case 9:return Q.abrupt("return",Q.sent);case 13:return Q.prev=13,Q.t0=Q.catch(6),Q.abrupt("return",!1);case 16:case"end":return Q.stop()}},H,null,[[6,13]])}))).apply(this,arguments)}var kf="@firebase/analytics";!function vg(){(0,s._registerComponent)(new ie.wA(Xc,function(V,z){var Q=z.options;return Qh(V.getProvider("app").getImmediate(),V.getProvider("installations-internal").getImmediate(),Q)},"PUBLIC")),(0,s._registerComponent)(new ie.wA("analytics-internal",function H(V){try{var z=V.getProvider(Xc).getImmediate();return{logEvent:function(se,ce,he){return function Jh(H,V,z,Q){H=(0,W.m9)(H),function fl(H,V,z,Q,se){return Zn.apply(this,arguments)}(ii,Ha[H.app.options.appId],V,z,Q).catch(function(se){return Gr.error(se)})}(z,se,ce,he)}}}catch(Q){throw ft.create("interop-component-reg-failed",{reason:Q})}},"PRIVATE")),(0,s.registerVersion)(kf,"0.7.9"),(0,s.registerVersion)(kf,"0.7.9","esm2017")}();var ep=x(341),tp=x(353),np=x(6498),ml=x(2868),_l=x(7770),Wr=x(3334),Rr=new _.GfV("7.3.0"),oc="__angularfire_symbol__analyticsIsSupportedValue",Rn="__angularfire_symbol__analyticsIsSupported",Ai="__angularfire_symbol__remoteConfigIsSupportedValue",ra="__angularfire_symbol__remoteConfigIsSupported",wu="__angularfire_symbol__messagingIsSupportedValue",ca="__angularfire_symbol__messagingIsSupported";function gg(H,V,z){if(V){if(1===V.length)return V[0];var Q=V.filter(function(he){return he.app===z});if(1===Q.length)return Q[0]}return z.container.getProvider(H).getImmediate({optional:!0})}globalThis[Rn]||(globalThis[Rn]=vl().then(function(H){return globalThis[oc]=H}).catch(function(){return globalThis[oc]=!1})),globalThis[ca]||(globalThis[ca]=pf().then(function(H){return globalThis[wu]=H}).catch(function(){return globalThis[wu]=!1})),globalThis[ra]||(globalThis[ra]=Gc().then(function(H){return globalThis[Ai]=H}).catch(function(){return globalThis[Ai]=!1}));var mg=function(V,z){var Q=z?[z]:(0,m.C6)(),se=[];return Q.forEach(function(ce){ce.container.getProvider(V).instances.forEach(function(ge){se.includes(ge)||se.push(ge)})}),se};function Us(){}var Yi=function(){function H(V){var z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ep.N;(0,X.Z)(this,H),this.zone=V,this.delegate=z}return(0,ne.Z)(H,[{key:"now",value:function(){return this.delegate.now()}},{key:"schedule",value:function(z,Q,se){var ce=this.zone;return this.delegate.schedule(function(Je){var at=this;ce.runGuarded(function(){z.apply(at,[Je])})},Q,se)}}]),H}(),sc=function(){function H(V){(0,X.Z)(this,H),this.zone=V,this.task=null}return(0,ne.Z)(H,[{key:"call",value:function(z,Q){var se=this.unscheduleTask.bind(this);return this.task=this.zone.run(function(){return Zone.current.scheduleMacroTask("firebaseZoneBlock",Us,{},Us,Us)}),Q.pipe((0,ml.b)({next:se,complete:se,error:se})).subscribe(z).add(se)}},{key:"unscheduleTask",value:function(){var z=this;setTimeout(function(){null!=z.task&&"scheduled"===z.task.state&&(z.task.invoke(),z.task=null)},10)}}]),H}(),Hs=function(){var H=(0,ne.Z)(function V(z){(0,X.Z)(this,V),this.ngZone=z,this.outsideAngular=z.runOutsideAngular(function(){return new Yi(Zone.current)}),this.insideAngular=z.run(function(){return new Yi(Zone.current,tp.z)}),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)});return H.\u0275fac=function(z){return new(z||H)(_.LFG(_.R0b))},H.\u0275prov=_.Yz7({token:H,factory:H.\u0275fac,providedIn:"root"}),H}();function js(){var H=globalThis.\u0275AngularFireScheduler;if(!H)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return H}function uc(H){return js().ngZone.runOutsideAngular(function(){return H()})}function Gs(H){return js().ngZone.run(function(){return H()})}function nd(H){return H.pipe((0,_l.QV)(js().outsideAngular))}function bl(H){return js(),function wn(H){return function(z){return(z=z.lift(new sc(H.ngZone))).pipe((0,Wr.R)(H.outsideAngular),(0,_l.QV)(H.insideAngular))}}(js())(H)}var Cf=function(V,z){var Q=void 0;return function(){var se=arguments;return z&&setTimeout(function(){"scheduled"===z.state&&z.invoke()},10),Gs(function(){return V.apply(Q,se)})}},Ga=function(V,z){return function(){for(var se,Q=this,ce=arguments,he=0;he<arguments.length;he++)"function"==typeof ce[he]&&(z&&(se||(se=Gs(function(){return Zone.current.scheduleMacroTask("firebaseZoneBlock",Us,{},Us,Us)}))),ce[he]=Cf(ce[he],se));var ge=uc(function(){return V.apply(Q,ce)});if(!z){if(ge instanceof np.y){var Je=js();return ge.pipe((0,Wr.R)(Je.outsideAngular),(0,_l.QV)(Je.insideAngular))}return Gs(function(){return ge})}return ge instanceof np.y?ge.pipe(bl):ge instanceof Promise?Gs(function(){return new Promise(function(at,ot){return ge.then(function(et){return Gs(function(){return at(et)})},function(et){return Gs(function(){return ot(et)})})})}):"function"==typeof ge&&se?function(){return setTimeout(function(){se&&"scheduled"===se.state&&se.invoke()},10),ge.apply(this,arguments)}:Gs(function(){return ge})}}},198:function(ht,ke,x){"use strict";x.d(ke,{$:function(){return cf},A:function(){return Mt},B:function(){return Xe},E:function(){return pr},G:function(){return gr},H:function(){return Cr},J:function(){return Za},L:function(){return _e},M:function(){return nf},N:function(){return Yc},P:function(){return yl},Q:function(){return Gh},R:function(){return np},T:function(){return fu},U:function(){return rf},V:function(){return lg},W:function(){return qc},X:function(){return uf},Y:function(){return Xu},Z:function(){return Ba},_:function(){return Ls},a:function(){return Br},a0:function(){return df},a1:function(){return vu},a2:function(){return Yh},a3:function(){return Bn},a4:function(){return ni},a5:function(){return rl},a6:function(){return il},a7:function(){return $c},a8:function(){return Wh},a9:function(){return al},aA:function(){return Ef},aB:function(){return Ri},aC:function(){return he},aD:function(){return ce},aE:function(){return Tt},aI:function(){return yu},aL:function(){return $u},aa:function(){return ff},ab:function(){return so},ac:function(){return hf},ae:function(){return zc},af:function(){return sl},ag:function(){return Qc},ah:function(){return dg},ai:function(){return Xt},aj:function(){return fr},ak:function(){return Qu},al:function(){return Si},am:function(){return Ye},an:function(){return gf},ao:function(){return Lr},ap:function(){return vr},aq:function(){return ln},ar:function(){return yn},as:function(){return Sn},at:function(){return He},au:function(){return zo},av:function(){return Mf},aw:function(){return tt},ax:function(){return Ke},ay:function(){return $n},az:function(){return Se},b:function(){return gs},c:function(){return js},d:function(){return _g},e:function(){return Gs},f:function(){return at},g:function(){return nn},h:function(){return Kt},i:function(){return bf},j:function(){return ar},k:function(){return op},l:function(){return Rr},m:function(){return uy},n:function(){return Ff},o:function(){return Ce},p:function(){return gu},q:function(){return Zr},r:function(){return Rn},s:function(){return Wr},u:function(){return ca},v:function(){return Xc},w:function(){return qh},x:function(){return fg},y:function(){return hg},z:function(){return pg}});var pe,X=x(3237),ne=x(1120),_=x(7326),m=x(136),P=x(7777),N=x(7762),G=x(7685),Z=x(5861),s=x(5671),W=x(3144),ie=x(4902),B=x(4942),ee=x(7757),L=x.n(ee),K=x(2090),oe=x(9681),le=x(655),Ie=x(1877),Me=x(4859),Ce={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Mt={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function on(){return(0,B.Z)({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Xe=function Ct(){var M;return(0,B.Z)(M={},"admin-restricted-operation","This operation is restricted to administrators only."),(0,B.Z)(M,"argument-error",""),(0,B.Z)(M,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),(0,B.Z)(M,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),(0,B.Z)(M,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),(0,B.Z)(M,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),(0,B.Z)(M,"cordova-not-ready","Cordova framework is not ready."),(0,B.Z)(M,"cors-unsupported","This browser is not supported."),(0,B.Z)(M,"credential-already-in-use","This credential is already associated with a different user account."),(0,B.Z)(M,"custom-token-mismatch","The custom token corresponds to a different audience."),(0,B.Z)(M,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),(0,B.Z)(M,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),(0,B.Z)(M,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),(0,B.Z)(M,"email-change-needs-verification","Multi-factor users must always have a verified email."),(0,B.Z)(M,"email-already-in-use","The email address is already in use by another account."),(0,B.Z)(M,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),(0,B.Z)(M,"expired-action-code","The action code has expired."),(0,B.Z)(M,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),(0,B.Z)(M,"internal-error","An internal AuthError has occurred."),(0,B.Z)(M,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),(0,B.Z)(M,"invalid-app-id","The mobile app identifier is not registed for the current project."),(0,B.Z)(M,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),(0,B.Z)(M,"invalid-auth-event","An internal AuthError has occurred."),(0,B.Z)(M,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),(0,B.Z)(M,"invalid-continue-uri","The continue URL provided in the request is invalid."),(0,B.Z)(M,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),(0,B.Z)(M,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),(0,B.Z)(M,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),(0,B.Z)(M,"invalid-email","The email address is badly formatted."),(0,B.Z)(M,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),(0,B.Z)(M,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),(0,B.Z)(M,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),(0,B.Z)(M,"invalid-credential","The supplied auth credential is malformed or has expired."),(0,B.Z)(M,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),(0,B.Z)(M,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),(0,B.Z)(M,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),(0,B.Z)(M,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),(0,B.Z)(M,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),(0,B.Z)(M,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),(0,B.Z)(M,"wrong-password","The password is invalid or the user does not have a password."),(0,B.Z)(M,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),(0,B.Z)(M,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),(0,B.Z)(M,"invalid-provider-id","The specified provider ID is invalid."),(0,B.Z)(M,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),(0,B.Z)(M,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),(0,B.Z)(M,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),(0,B.Z)(M,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),(0,B.Z)(M,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),(0,B.Z)(M,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),(0,B.Z)(M,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),(0,B.Z)(M,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),(0,B.Z)(M,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),(0,B.Z)(M,"missing-continue-uri","A continue URL must be provided in the request."),(0,B.Z)(M,"missing-iframe-start","An internal AuthError has occurred."),(0,B.Z)(M,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),(0,B.Z)(M,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),(0,B.Z)(M,"missing-multi-factor-info","No second factor identifier is provided."),(0,B.Z)(M,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),(0,B.Z)(M,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),(0,B.Z)(M,"missing-verification-id","The phone auth credential was created with an empty verification ID."),(0,B.Z)(M,"app-deleted","This instance of FirebaseApp has been deleted."),(0,B.Z)(M,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),(0,B.Z)(M,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),(0,B.Z)(M,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),(0,B.Z)(M,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),(0,B.Z)(M,"no-auth-event","An internal AuthError has occurred."),(0,B.Z)(M,"no-such-provider","User was not linked to an account with the given provider."),(0,B.Z)(M,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),(0,B.Z)(M,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),(0,B.Z)(M,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),(0,B.Z)(M,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),(0,B.Z)(M,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),(0,B.Z)(M,"provider-already-linked","User can only be linked to one identity for the given provider."),(0,B.Z)(M,"quota-exceeded","The project's quota for this operation has been exceeded."),(0,B.Z)(M,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),(0,B.Z)(M,"redirect-operation-pending","A redirect sign-in operation is already pending."),(0,B.Z)(M,"rejected-credential","The request contains malformed or mismatching credentials."),(0,B.Z)(M,"second-factor-already-in-use","The second factor is already enrolled on this account."),(0,B.Z)(M,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),(0,B.Z)(M,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),(0,B.Z)(M,"timeout","The operation has timed out."),(0,B.Z)(M,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),(0,B.Z)(M,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),(0,B.Z)(M,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),(0,B.Z)(M,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),(0,B.Z)(M,"unsupported-persistence-type","The current environment does not support the specified persistence type."),(0,B.Z)(M,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),(0,B.Z)(M,"unverified-email","The operation requires a verified email."),(0,B.Z)(M,"user-cancelled","The user did not grant your application the permissions it requested."),(0,B.Z)(M,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),(0,B.Z)(M,"user-disabled","The user account has been disabled by an administrator."),(0,B.Z)(M,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),(0,B.Z)(M,"user-signed-out",""),(0,B.Z)(M,"weak-password","The password must be 6 characters long or more."),(0,B.Z)(M,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),(0,B.Z)(M,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),M},Be=on,De=new K.LL("auth","Firebase",on()),ye=new Ie.Yd("@firebase/auth");function ve(M){if(ye.logLevel<=Ie.in.ERROR){for(var D=arguments.length,E=new Array(D>1?D-1:0),S=1;S<D;S++)E[S-1]=arguments[S];ye.error.apply(ye,["Auth (".concat(oe.SDK_VERSION,"): ").concat(M)].concat(E))}}function He(M){for(var D=arguments.length,E=new Array(D>1?D-1:0),S=1;S<D;S++)E[S-1]=arguments[S];throw St.apply(void 0,[M].concat(E))}function tt(M){for(var D=arguments.length,E=new Array(D>1?D-1:0),S=1;S<D;S++)E[S-1]=arguments[S];return St.apply(void 0,[M].concat(E))}function bt(M,D,E){var S=Object.assign(Object.assign({},Be()),(0,B.Z)({},D,E));return new K.LL("auth","Firebase",S).create(D,{appName:M.name})}function Qe(M,D,E){if(!(D instanceof E))throw E.name!==D.constructor.name&&He(M,"argument-error"),bt(M,"argument-error","Type of ".concat(D.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function St(M){for(var D=arguments.length,E=new Array(D>1?D-1:0),S=1;S<D;S++)E[S-1]=arguments[S];if("string"!=typeof M){var C,A=E[0],F=(0,ie.Z)(E.slice(1));return F[0]&&(F[0].appName=M.name),(C=M._errorFactory).create.apply(C,[A].concat((0,ie.Z)(F)))}return De.create.apply(De,[M].concat(E))}function Ke(M,D){if(!M){for(var E=arguments.length,S=new Array(E>2?E-2:0),C=2;C<E;C++)S[C-2]=arguments[C];throw St.apply(void 0,[D].concat(S))}}function gt(M){var D="INTERNAL ASSERTION FAILED: "+M;throw ve(D),new Error(D)}function ln(M,D){M||gt(D)}var hr=new Map;function $n(M){ln(M instanceof Function,"Expected a class definition");var D=hr.get(M);return D?(ln(D instanceof M,"Instance stored in cache mismatched with class"),D):(D=new M,hr.set(M,D),D)}function pr(M,D){var E=(0,oe._getProvider)(M,"auth");if(E.isInitialized()){var S=E.getImmediate(),C=E.getOptions();if((0,K.vZ)(C,null!=D?D:{}))return S;He(S,"already-initialized")}return E.initialize({options:D})}function Qr(){var M;return"undefined"!=typeof self&&(null===(M=self.location)||void 0===M?void 0:M.href)||""}function Ir(){return"http:"===_a()||"https:"===_a()}function _a(){var M;return"undefined"!=typeof self&&(null===(M=self.location)||void 0===M?void 0:M.protocol)||null}var mn=function(){function M(D,E){(0,s.Z)(this,M),this.shortDelay=D,this.longDelay=E,ln(E>D,"Short delay should be less than long delay!"),this.isMobile=(0,K.uI)()||(0,K.b$)()}return(0,W.Z)(M,[{key:"get",value:function(){return function Do(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ir()||(0,K.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}]),M}();function Hr(M,D){ln(M.emulator,"Emulator should always be set here");var E=M.emulator.url;return D?"".concat(E).concat(D.startsWith("/")?D.slice(1):D):E}var Mo=function(){function M(){(0,s.Z)(this,M)}return(0,W.Z)(M,null,[{key:"initialize",value:function(E,S,C){this.fetchImpl=E,S&&(this.headersImpl=S),C&&(this.responseImpl=C)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void gt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void gt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void gt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),M}(),Oa=((0,B.Z)(pe={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),(0,B.Z)(pe,"MISSING_CUSTOM_TOKEN","internal-error"),(0,B.Z)(pe,"INVALID_IDENTIFIER","invalid-email"),(0,B.Z)(pe,"MISSING_CONTINUE_URI","internal-error"),(0,B.Z)(pe,"INVALID_PASSWORD","wrong-password"),(0,B.Z)(pe,"MISSING_PASSWORD","internal-error"),(0,B.Z)(pe,"EMAIL_EXISTS","email-already-in-use"),(0,B.Z)(pe,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),(0,B.Z)(pe,"INVALID_IDP_RESPONSE","invalid-credential"),(0,B.Z)(pe,"INVALID_PENDING_TOKEN","invalid-credential"),(0,B.Z)(pe,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),(0,B.Z)(pe,"MISSING_REQ_TYPE","internal-error"),(0,B.Z)(pe,"EMAIL_NOT_FOUND","user-not-found"),(0,B.Z)(pe,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),(0,B.Z)(pe,"EXPIRED_OOB_CODE","expired-action-code"),(0,B.Z)(pe,"INVALID_OOB_CODE","invalid-action-code"),(0,B.Z)(pe,"MISSING_OOB_CODE","internal-error"),(0,B.Z)(pe,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),(0,B.Z)(pe,"INVALID_ID_TOKEN","invalid-user-token"),(0,B.Z)(pe,"TOKEN_EXPIRED","user-token-expired"),(0,B.Z)(pe,"USER_NOT_FOUND","user-token-expired"),(0,B.Z)(pe,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),(0,B.Z)(pe,"INVALID_CODE","invalid-verification-code"),(0,B.Z)(pe,"INVALID_SESSION_INFO","invalid-verification-id"),(0,B.Z)(pe,"INVALID_TEMPORARY_PROOF","invalid-credential"),(0,B.Z)(pe,"MISSING_SESSION_INFO","missing-verification-id"),(0,B.Z)(pe,"SESSION_EXPIRED","code-expired"),(0,B.Z)(pe,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),(0,B.Z)(pe,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),(0,B.Z)(pe,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),(0,B.Z)(pe,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),(0,B.Z)(pe,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),(0,B.Z)(pe,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),(0,B.Z)(pe,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),(0,B.Z)(pe,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),(0,B.Z)(pe,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),(0,B.Z)(pe,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),(0,B.Z)(pe,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),pe),tr=new mn(3e4,6e4);function Dr(M,D){return M.tenantId&&!D.tenantId?Object.assign(Object.assign({},D),{tenantId:M.tenantId}):D}function dr(M,D,E,S){return Pa.apply(this,arguments)}function Pa(){return Pa=(0,Z.Z)(L().mark(function M(D,E,S,C){var F=arguments;return L().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return Y.abrupt("return",ui(D,F.length>4&&void 0!==F[4]?F[4]:{},(0,Z.Z)(L().mark(function te(){var Le,ze,Pt,$e;return L().wrap(function(Lt){for(;;)switch(Lt.prev=Lt.next){case 0:return Le={},ze={},C&&("GET"===E?ze=C:Le={body:JSON.stringify(C)}),Pt=(0,K.xO)(Object.assign({key:D.config.apiKey},ze)).slice(1),Lt.next=6,D._getAdditionalHeaders();case 6:return($e=Lt.sent)["Content-Type"]="application/json",D.languageCode&&($e["X-Firebase-Locale"]=D.languageCode),Lt.abrupt("return",Mo.fetch()(nr(D,D.config.apiHost,S,Pt),Object.assign({method:E,headers:$e,referrerPolicy:"no-referrer"},Le)));case 10:case"end":return Lt.stop()}},te)}))));case 2:case"end":return Y.stop()}},M)})),Pa.apply(this,arguments)}function ui(M,D,E){return ya.apply(this,arguments)}function ya(){return(ya=(0,Z.Z)(L().mark(function M(D,E,S){var C,A,F,U,te,Le,ze,Pt,$e;return L().wrap(function(Lt){for(;;)switch(Lt.prev=Lt.next){case 0:return D._canInitEmulator=!1,C=Object.assign(Object.assign({},Oa),E),Lt.prev=2,A=new Ji(D),Lt.next=6,Promise.race([S(),A.promise]);case 6:return F=Lt.sent,A.clearNetworkTimeout(),Lt.next=10,F.json();case 10:if(!("needConfirmation"in(U=Lt.sent))){Lt.next=13;break}throw wr(D,"account-exists-with-different-credential",U);case 13:if(!F.ok||"errorMessage"in U){Lt.next=17;break}return Lt.abrupt("return",U);case 17:if(te=(F.ok?U.errorMessage:U.error.message).split(" : "),Le=(0,G.Z)(te,2),Pt=Le[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==(ze=Le[0])){Lt.next=23;break}throw wr(D,"credential-already-in-use",U);case 23:if("EMAIL_EXISTS"!==ze){Lt.next=25;break}throw wr(D,"email-already-in-use",U);case 25:if($e=C[ze]||ze.toLowerCase().replace(/[_\s]+/g,"-"),!Pt){Lt.next=30;break}throw bt(D,$e,Pt);case 30:He(D,$e);case 31:Lt.next=38;break;case 33:if(Lt.prev=33,Lt.t0=Lt.catch(2),!(Lt.t0 instanceof K.ZR)){Lt.next=37;break}throw Lt.t0;case 37:He(D,"network-request-failed");case 38:case"end":return Lt.stop()}},M,null,[[2,33]])}))).apply(this,arguments)}function li(M,D,E,S){return ba.apply(this,arguments)}function ba(){return ba=(0,Z.Z)(L().mark(function M(D,E,S,C){var A,F,U=arguments;return L().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return A=U.length>4&&void 0!==U[4]?U[4]:{},te.next=3,dr(D,E,S,C,A);case 3:return"mfaPendingCredential"in(F=te.sent)&&He(D,"multi-factor-auth-required",{_serverResponse:F}),te.abrupt("return",F);case 6:case"end":return te.stop()}},M)})),ba.apply(this,arguments)}function nr(M,D,E,S){var C="".concat(D).concat(E,"?").concat(S);return M.config.emulator?Hr(M.config,C):"".concat(M.config.apiScheme,"://").concat(C)}var Ji=function(){function M(D){var E=this;(0,s.Z)(this,M),this.auth=D,this.timer=null,this.promise=new Promise(function(S,C){E.timer=setTimeout(function(){return C(tt(E.auth,"network-request-failed"))},tr.get())})}return(0,W.Z)(M,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),M}();function wr(M,D,E){var S={appName:M.name};E.email&&(S.email=E.email),E.phoneNumber&&(S.phoneNumber=E.phoneNumber);var C=tt(M,D,S);return C.customData._tokenResponse=E,C}function ci(M,D){return rn.apply(this,arguments)}function rn(){return(rn=(0,Z.Z)(L().mark(function M(D,E){return L().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",dr(D,"POST","/v1/accounts:delete",E));case 1:case"end":return C.stop()}},M)}))).apply(this,arguments)}function Xi(M,D){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,Z.Z)(L().mark(function M(D,E){return L().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",dr(D,"POST","/v1/accounts:update",E));case 1:case"end":return C.stop()}},M)}))).apply(this,arguments)}function wi(M,D){return ir.apply(this,arguments)}function ir(){return(ir=(0,Z.Z)(L().mark(function M(D,E){return L().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",dr(D,"POST","/v1/accounts:lookup",E));case 1:case"end":return C.stop()}},M)}))).apply(this,arguments)}function qt(M){if(M)try{var D=new Date(Number(M));if(!isNaN(D.getTime()))return D.toUTCString()}catch(E){}}function Xt(M){var D=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,K.m9)(M).getIdToken(D)}function fr(M){return ea.apply(this,arguments)}function ea(){return ea=(0,Z.Z)(L().mark(function M(D){var E,S,C,A,F,U,Y=arguments;return L().wrap(function(Le){for(;;)switch(Le.prev=Le.next){case 0:return E=Y.length>1&&void 0!==Y[1]&&Y[1],S=(0,K.m9)(D),Le.next=4,S.getIdToken(E);case 4:return Ke((A=xr(C=Le.sent))&&A.exp&&A.auth_time&&A.iat,S.auth,"internal-error"),U=null==(F="object"==typeof A.firebase?A.firebase:void 0)?void 0:F.sign_in_provider,Le.abrupt("return",{claims:A,token:C,authTime:qt(Ci(A.auth_time)),issuedAtTime:qt(Ci(A.iat)),expirationTime:qt(Ci(A.exp)),signInProvider:U||null,signInSecondFactor:(null==F?void 0:F.sign_in_second_factor)||null});case 10:case"end":return Le.stop()}},M)})),ea.apply(this,arguments)}function Ci(M){return 1e3*Number(M)}function xr(M){var D=M.split("."),E=(0,G.Z)(D,3),C=E[1];if(void 0===E[0]||void 0===C||void 0===E[2])return ve("JWT malformed, contained fewer than 3 sections"),null;try{var F=(0,K.tV)(C);return F?JSON.parse(F):(ve("Failed to decode base64 JWT payload"),null)}catch(U){return ve("Caught error parsing JWT payload as JSON",U),null}}function Di(M,D){return Ve.apply(this,arguments)}function Ve(){return Ve=(0,Z.Z)(L().mark(function M(D,E){var C=arguments;return L().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(!(C.length>2&&void 0!==C[2]&&C[2])){F.next=3;break}return F.abrupt("return",E);case 3:return F.prev=3,F.next=6,E;case 6:return F.abrupt("return",F.sent);case 9:if(F.prev=9,F.t0=F.catch(3),!(F.t0 instanceof K.ZR&&Ne(F.t0))){F.next=15;break}if(D.auth.currentUser!==D){F.next=15;break}return F.next=15,D.auth.signOut();case 15:throw F.t0;case 16:case"end":return F.stop()}},M,null,[[3,9]])})),Ve.apply(this,arguments)}function Ne(M){var D=M.code;return D==="auth/".concat("user-disabled")||D==="auth/".concat("user-token-expired")}var be=function(){function M(D){(0,s.Z)(this,M),this.user=D,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return(0,W.Z)(M,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(E){var S;if(E){var C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}this.errorBackoff=3e4;var F=(null!==(S=this.user.stsTokenManager.expirationTime)&&void 0!==S?S:0)-Date.now()-3e5;return Math.max(0,F)}},{key:"schedule",value:function(){var E=this,S=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var C=this.getInterval(S);this.timerId=setTimeout((0,Z.Z)(L().mark(function A(){return L().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.next=2,E.iteration();case 2:case"end":return U.stop()}},A)})),C)}}},{key:"iteration",value:(D=(0,Z.Z)(L().mark(function S(){return L().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.prev=0,A.next=3,this.user.getIdToken(!0);case 3:A.next=9;break;case 5:return A.prev=5,A.t0=A.catch(0),A.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),A.abrupt("return");case 9:this.schedule();case 10:case"end":return A.stop()}},S,this,[[0,5]])})),function E(){return D.apply(this,arguments)})}]),M;var D}(),Ue=function(){function M(D,E){(0,s.Z)(this,M),this.createdAt=D,this.lastLoginAt=E,this._initializeTime()}return(0,W.Z)(M,[{key:"_initializeTime",value:function(){this.lastSignInTime=qt(this.lastLoginAt),this.creationTime=qt(this.createdAt)}},{key:"_copy",value:function(E){this.createdAt=E.createdAt,this.lastLoginAt=E.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),M}();function Re(M){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,Z.Z)(L().mark(function M(D){var E,S,C,A,F,U,Y,Le,ze,Pt;return L().wrap(function(Vt){for(;;)switch(Vt.prev=Vt.next){case 0:return S=D.auth,Vt.next=3,D.getIdToken();case 3:return C=Vt.sent,Vt.next=6,Di(D,wi(S,{idToken:C}));case 6:Ke(null==(A=Vt.sent)?void 0:A.users.length,S,"internal-error"),D._notifyReloadListener(F=A.users[0]),U=(null===(E=F.providerUserInfo)||void 0===E?void 0:E.length)?Bt(F.providerUserInfo):[],Y=kt(D.providerData,U),Le=!(D.email&&F.passwordHash||(null==Y?void 0:Y.length)),ze=!!D.isAnonymous&&Le,Pt={uid:F.localId,displayName:F.displayName||null,photoURL:F.photoUrl||null,email:F.email||null,emailVerified:F.emailVerified||!1,phoneNumber:F.phoneNumber||null,tenantId:F.tenantId||null,providerData:Y,metadata:new Ue(F.createdAt,F.lastLoginAt),isAnonymous:ze},Object.assign(D,Pt);case 17:case"end":return Vt.stop()}},M)}))).apply(this,arguments)}function Ye(M){return _t.apply(this,arguments)}function _t(){return(_t=(0,Z.Z)(L().mark(function M(D){var E;return L().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return E=(0,K.m9)(D),C.next=3,Re(E);case 3:return C.next=5,E.auth._persistUserIfCurrent(E);case 5:E.auth._notifyListenersIfCurrent(E);case 6:case"end":return C.stop()}},M)}))).apply(this,arguments)}function kt(M,D){var E=M.filter(function(S){return!D.some(function(C){return C.providerId===S.providerId})});return[].concat((0,ie.Z)(E),(0,ie.Z)(D))}function Bt(M){return M.map(function(D){var E=D.providerId,S=(0,le._T)(D,["providerId"]);return{providerId:E,uid:S.rawId||"",displayName:S.displayName||null,email:S.email||null,phoneNumber:S.phoneNumber||null,photoURL:S.photoUrl||null}})}function en(M,D){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,Z.Z)(L().mark(function M(D,E){var S;return L().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,ui(D,{},(0,Z.Z)(L().mark(function F(){var U,Y,ze,Pt;return L().wrap(function(Vt){for(;;)switch(Vt.prev=Vt.next){case 0:return U=(0,K.xO)({grant_type:"refresh_token",refresh_token:E}).slice(1),ze=nr(D,(Y=D.config).tokenApiHost,"/v1/token","key=".concat(Y.apiKey)),Vt.next=5,D._getAdditionalHeaders();case 5:return(Pt=Vt.sent)["Content-Type"]="application/x-www-form-urlencoded",Vt.abrupt("return",Mo.fetch()(ze,{method:"POST",headers:Pt,body:U}));case 8:case"end":return Vt.stop()}},F)})));case 2:return A.abrupt("return",{accessToken:(S=A.sent).access_token,expiresIn:S.expires_in,refreshToken:S.refresh_token});case 4:case"end":return A.stop()}},M)}))).apply(this,arguments)}var pn=function(){function M(){(0,s.Z)(this,M),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return(0,W.Z)(M,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(E){Ke(E.idToken,"internal-error"),Ke(void 0!==E.idToken,"internal-error"),Ke(void 0!==E.refreshToken,"internal-error");var S="expiresIn"in E&&void 0!==E.expiresIn?Number(E.expiresIn):function Ei(M){var D=xr(M);return Ke(D,"internal-error"),Ke(void 0!==D.exp,"internal-error"),Ke(void 0!==D.iat,"internal-error"),Number(D.exp)-Number(D.iat)}(E.idToken);this.updateTokensAndExpiration(E.idToken,E.refreshToken,S)}},{key:"getToken",value:(D=(0,Z.Z)(L().mark(function S(C){var A,F=arguments;return L().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:if(A=F.length>1&&void 0!==F[1]&&F[1],Ke(!this.accessToken||this.refreshToken,C,"user-token-expired"),A||!this.accessToken||this.isExpired){Y.next=4;break}return Y.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){Y.next=8;break}return Y.next=7,this.refresh(C,this.refreshToken);case 7:return Y.abrupt("return",this.accessToken);case 8:return Y.abrupt("return",null);case 9:case"end":return Y.stop()}},S,this)})),function E(S){return D.apply(this,arguments)})},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var D=(0,Z.Z)(L().mark(function S(C,A){var F;return L().wrap(function(ze){for(;;)switch(ze.prev=ze.next){case 0:return ze.next=2,en(C,A);case 2:this.updateTokensAndExpiration((F=ze.sent).accessToken,F.refreshToken,Number(F.expiresIn));case 7:case"end":return ze.stop()}},S,this)}));return function E(S,C){return D.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(E,S,C){this.refreshToken=S||null,this.accessToken=E||null,this.expirationTime=Date.now()+1e3*C}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(E){this.accessToken=E.accessToken,this.refreshToken=E.refreshToken,this.expirationTime=E.expirationTime}},{key:"_clone",value:function(){return Object.assign(new M,this.toJSON())}},{key:"_performRefresh",value:function(){return gt("not implemented")}}],[{key:"fromJSON",value:function(E,S){var C=S.refreshToken,A=S.accessToken,F=S.expirationTime,U=new M;return C&&(Ke("string"==typeof C,"internal-error",{appName:E}),U.refreshToken=C),A&&(Ke("string"==typeof A,"internal-error",{appName:E}),U.accessToken=A),F&&(Ke("number"==typeof F,"internal-error",{appName:E}),U.expirationTime=F),U}}]),M;var D}();function an(M,D){Ke("string"==typeof M||void 0===M,"internal-error",{appName:D})}var Pe=function(){function M(D){(0,s.Z)(this,M);var E=D.uid,S=D.auth,C=D.stsTokenManager,A=(0,le._T)(D,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new be(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=E,this.auth=S,this.stsTokenManager=C,this.accessToken=C.accessToken,this.displayName=A.displayName||null,this.email=A.email||null,this.emailVerified=A.emailVerified||!1,this.phoneNumber=A.phoneNumber||null,this.photoURL=A.photoURL||null,this.isAnonymous=A.isAnonymous||!1,this.tenantId=A.tenantId||null,this.providerData=A.providerData?(0,ie.Z)(A.providerData):[],this.metadata=new Ue(A.createdAt||void 0,A.lastLoginAt||void 0)}return(0,W.Z)(M,[{key:"getIdToken",value:(D=(0,Z.Z)(L().mark(function S(C){var A;return L().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.next=2,Di(this,this.stsTokenManager.getToken(this.auth,C));case 2:if(Ke(A=U.sent,this.auth,"internal-error"),this.accessToken===A){U.next=9;break}return this.accessToken=A,U.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return U.abrupt("return",A);case 10:case"end":return U.stop()}},S,this)})),function E(S){return D.apply(this,arguments)})},{key:"getIdTokenResult",value:function(E){return fr(this,E)}},{key:"reload",value:function(){return Ye(this)}},{key:"_assign",value:function(E){this!==E&&(Ke(this.uid===E.uid,this.auth,"internal-error"),this.displayName=E.displayName,this.photoURL=E.photoURL,this.email=E.email,this.emailVerified=E.emailVerified,this.phoneNumber=E.phoneNumber,this.isAnonymous=E.isAnonymous,this.tenantId=E.tenantId,this.providerData=E.providerData.map(function(S){return Object.assign({},S)}),this.metadata._copy(E.metadata),this.stsTokenManager._assign(E.stsTokenManager))}},{key:"_clone",value:function(E){return new M(Object.assign(Object.assign({},this),{auth:E,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(E){Ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=E,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(E){this.reloadListener?this.reloadListener(E):this.reloadUserInfo=E}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var D=(0,Z.Z)(L().mark(function S(C){var A,F,U=arguments;return L().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:if(A=U.length>1&&void 0!==U[1]&&U[1],F=!1,C.idToken&&C.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(C),F=!0),!A){te.next=6;break}return te.next=6,Re(this);case 6:return te.next=8,this.auth._persistUserIfCurrent(this);case 8:F&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return te.stop()}},S,this)}));return function E(S){return D.apply(this,arguments)}}()},{key:"delete",value:function(){var D=(0,Z.Z)(L().mark(function S(){var C;return L().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.next=2,this.getIdToken();case 2:return C=F.sent,F.next=5,Di(this,ci(this.auth,{idToken:C}));case 5:return this.stsTokenManager.clearRefreshToken(),F.abrupt("return",this.auth.signOut());case 7:case"end":return F.stop()}},S,this)}));return function E(){return D.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(function(E){return Object.assign({},E)}),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(E,S){var C,A,F,U,Y,te,Le,ze,Pt=null!==(C=S.displayName)&&void 0!==C?C:void 0,$e=null!==(A=S.email)&&void 0!==A?A:void 0,Vt=null!==(F=S.phoneNumber)&&void 0!==F?F:void 0,Lt=null!==(U=S.photoURL)&&void 0!==U?U:void 0,Oi=null!==(Y=S.tenantId)&&void 0!==Y?Y:void 0,Sr=null!==(te=S._redirectEventId)&&void 0!==te?te:void 0,Io=null!==(Le=S.createdAt)&&void 0!==Le?Le:void 0,gn=null!==(ze=S.lastLoginAt)&&void 0!==ze?ze:void 0,mi=S.uid,Da=S.emailVerified,Yo=S.isAnonymous,vc=S.providerData,Or=S.stsTokenManager;Ke(mi&&Or,E,"internal-error");var dy=pn.fromJSON(this.name,Or);Ke("string"==typeof mi,E,"internal-error"),an(Pt,E.name),an($e,E.name),Ke("boolean"==typeof Da,E,"internal-error"),Ke("boolean"==typeof Yo,E,"internal-error"),an(Vt,E.name),an(Lt,E.name),an(Oi,E.name),an(Sr,E.name),an(Io,E.name),an(gn,E.name);var Er=new M({uid:mi,auth:E,email:$e,emailVerified:Da,displayName:Pt,isAnonymous:Yo,photoURL:Lt,phoneNumber:Vt,tenantId:Oi,stsTokenManager:dy,createdAt:Io,lastLoginAt:gn});return vc&&Array.isArray(vc)&&(Er.providerData=vc.map(function(sd){return Object.assign({},sd)})),Sr&&(Er._redirectEventId=Sr),Er}},{key:"_fromIdTokenResponse",value:function(){var D=(0,Z.Z)(L().mark(function S(C,A){var F,U,Y,te=arguments;return L().wrap(function(ze){for(;;)switch(ze.prev=ze.next){case 0:return F=te.length>2&&void 0!==te[2]&&te[2],(U=new pn).updateFromServerResponse(A),Y=new M({uid:A.localId,auth:C,stsTokenManager:U,isAnonymous:F}),ze.next=6,Re(Y);case 6:return ze.abrupt("return",Y);case 7:case"end":return ze.stop()}},S)}));return function E(S,C){return D.apply(this,arguments)}}()}]),M;var D}(),xe=function(){var M=function(){function D(){(0,s.Z)(this,D),this.type="NONE",this.storage={}}return(0,W.Z)(D,[{key:"_isAvailable",value:(E=(0,Z.Z)(L().mark(function C(){return L().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.abrupt("return",!0);case 1:case"end":return F.stop()}},C)})),function S(){return E.apply(this,arguments)})},{key:"_set",value:function(){var E=(0,Z.Z)(L().mark(function C(A,F){return L().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:this.storage[A]=F;case 1:case"end":return Y.stop()}},C,this)}));return function S(C,A){return E.apply(this,arguments)}}()},{key:"_get",value:function(){var E=(0,Z.Z)(L().mark(function C(A){var F;return L().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return Y.abrupt("return",void 0===(F=this.storage[A])?null:F);case 2:case"end":return Y.stop()}},C,this)}));return function S(C){return E.apply(this,arguments)}}()},{key:"_remove",value:function(){var E=(0,Z.Z)(L().mark(function C(A){return L().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:delete this.storage[A];case 1:case"end":return U.stop()}},C,this)}));return function S(C){return E.apply(this,arguments)}}()},{key:"_addListener",value:function(S,C){}},{key:"_removeListener",value:function(S,C){}}]),D;var E}();return M.type="NONE",M}(),_e=xe;function Se(M,D,E){return"firebase".concat(":",M,":").concat(D,":").concat(E)}var Ge=function(){function M(D,E,S){(0,s.Z)(this,M),this.persistence=D,this.auth=E,this.userKey=S;var C=this.auth,A=C.config,F=C.name;this.fullUserKey=Se(this.userKey,A.apiKey,F),this.fullPersistenceKey=Se("persistence",A.apiKey,F),this.boundEventHandler=E._onStorageEvent.bind(E),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return(0,W.Z)(M,[{key:"setCurrentUser",value:function(E){return this.persistence._set(this.fullUserKey,E.toJSON())}},{key:"getCurrentUser",value:(D=(0,Z.Z)(L().mark(function S(){var C;return L().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.next=2,this.persistence._get(this.fullUserKey);case 2:return F.abrupt("return",(C=F.sent)?Pe._fromJSON(this.auth,C):null);case 4:case"end":return F.stop()}},S,this)})),function E(){return D.apply(this,arguments)})},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var D=(0,Z.Z)(L().mark(function S(C){var A;return L().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(this.persistence!==C){U.next=2;break}return U.abrupt("return");case 2:return U.next=4,this.getCurrentUser();case 4:return A=U.sent,U.next=7,this.removeCurrentUser();case 7:if(this.persistence=C,!A){U.next=10;break}return U.abrupt("return",this.setCurrentUser(A));case 10:case"end":return U.stop()}},S,this)}));return function E(S){return D.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var D=(0,Z.Z)(L().mark(function S(C,A){var F,U,Y,te,Le,ze,Pt,$e,Vt,Lt,Oi,Sr=arguments;return L().wrap(function(gn){for(;;)switch(gn.prev=gn.next){case 0:if(F=Sr.length>2&&void 0!==Sr[2]?Sr[2]:"authUser",A.length){gn.next=3;break}return gn.abrupt("return",new M($n(_e),C,F));case 3:return gn.next=5,Promise.all(A.map(function(){var mi=(0,Z.Z)(L().mark(function Da(Yo){return L().wrap(function(Or){for(;;)switch(Or.prev=Or.next){case 0:return Or.next=2,Yo._isAvailable();case 2:if(!Or.sent){Or.next=4;break}return Or.abrupt("return",Yo);case 4:return Or.abrupt("return",void 0);case 5:case"end":return Or.stop()}},Da)}));return function(Da){return mi.apply(this,arguments)}}()));case 5:U=gn.sent.filter(function(mi){return mi}),Y=U[0]||$n(_e),te=Se(F,C.config.apiKey,C.name),Le=null,ze=(0,N.Z)(A),gn.prev=10,ze.s();case 12:if((Pt=ze.n()).done){gn.next=29;break}return $e=Pt.value,gn.prev=14,gn.next=17,$e._get(te);case 17:if(!(Vt=gn.sent)){gn.next=23;break}return Lt=Pe._fromJSON(C,Vt),$e!==Y&&(Le=Lt),Y=$e,gn.abrupt("break",29);case 23:gn.next=27;break;case 25:gn.prev=25,gn.t0=gn.catch(14);case 27:gn.next=12;break;case 29:gn.next=34;break;case 31:gn.prev=31,gn.t1=gn.catch(10),ze.e(gn.t1);case 34:return gn.prev=34,ze.f(),gn.finish(34);case 37:if(Oi=U.filter(function(mi){return mi._shouldAllowMigration}),Y._shouldAllowMigration&&Oi.length){gn.next=40;break}return gn.abrupt("return",new M(Y,C,F));case 40:if(Y=Oi[0],!Le){gn.next=44;break}return gn.next=44,Y._set(te,Le.toJSON());case 44:return gn.next=46,Promise.all(A.map(function(){var mi=(0,Z.Z)(L().mark(function Da(Yo){return L().wrap(function(Or){for(;;)switch(Or.prev=Or.next){case 0:if(Yo===Y){Or.next=8;break}return Or.prev=1,Or.next=4,Yo._remove(te);case 4:Or.next=8;break;case 6:Or.prev=6,Or.t0=Or.catch(1);case 8:case"end":return Or.stop()}},Da,null,[[1,6]])}));return function(Da){return mi.apply(this,arguments)}}()));case 46:return gn.abrupt("return",new M(Y,C,F));case 47:case"end":return gn.stop()}},S,null,[[10,31,34,37],[14,25]])}));return function E(S,C){return D.apply(this,arguments)}}()}]),M;var D}();function mt(M){var D=M.toLowerCase();if(D.includes("opera/")||D.includes("opr/")||D.includes("opios/"))return"Opera";if(sn(D))return"IEMobile";if(D.includes("msie")||D.includes("trident/"))return"IE";if(D.includes("edge/"))return"Edge";if(it(D))return"Firefox";if(D.includes("silk/"))return"Silk";if(Nn(D))return"Blackberry";if(di(D))return"Webos";if(Nt(D))return"Safari";if((D.includes("chrome/")||Qt(D))&&!D.includes("edge/"))return"Chrome";if(Sn(D))return"Android";var S=M.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null==S?void 0:S.length)?S[1]:"Other"}function it(){var M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,K.z$)();return/firefox\//i.test(M)}function Nt(){var M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,K.z$)(),D=M.toLowerCase();return D.includes("safari/")&&!D.includes("chrome/")&&!D.includes("crios/")&&!D.includes("android")}function Qt(){var M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,K.z$)();return/crios\//i.test(M)}function sn(){var M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,K.z$)();return/iemobile/i.test(M)}function Sn(){var M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,K.z$)();return/android/i.test(M)}function Nn(){var M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,K.z$)();return/blackberry/i.test(M)}function di(){var M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,K.z$)();return/webos/i.test(M)}function yn(){var M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,K.z$)();return/iphone|ipad|ipod/i.test(M)}function vr(){var M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,K.z$)();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(M)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(M)}function oa(){var D,M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,K.z$)();return yn(M)&&!!(null===(D=window.navigator)||void 0===D?void 0:D.standalone)}function Ui(){return(0,K.w1)()&&10===document.documentMode}function cs(){var M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,K.z$)();return yn(M)||Sn(M)||di(M)||Nn(M)||/windows phone/i.test(M)||sn(M)}function Mi(M){var E,D=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(M){case"Browser":E=mt((0,K.z$)());break;case"Worker":E="".concat(mt((0,K.z$)()),"-").concat(M);break;default:E=M}var S=D.length?D.join(","):"FirebaseCore-web";return"".concat(E,"/","JsCore","/").concat(oe.SDK_VERSION,"/").concat(S)}var Hi=function(){function M(D){(0,s.Z)(this,M),this.auth=D,this.queue=[]}return(0,W.Z)(M,[{key:"pushCallback",value:function(E,S){var C=this,A=function(Y){return new Promise(function(te,Le){try{te(E(Y))}catch(Pt){Le(Pt)}})};A.onAbort=S,this.queue.push(A);var F=this.queue.length-1;return function(){C.queue[F]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:(D=(0,Z.Z)(L().mark(function S(C){var A,F,U,Y,te,Le,ze;return L().wrap(function($e){for(;;)switch($e.prev=$e.next){case 0:if(this.auth.currentUser!==C){$e.next=2;break}return $e.abrupt("return");case 2:A=[],$e.prev=3,F=(0,N.Z)(this.queue),$e.prev=5,F.s();case 7:if((U=F.n()).done){$e.next=14;break}return Y=U.value,$e.next=11,Y(C);case 11:Y.onAbort&&A.push(Y.onAbort);case 12:$e.next=7;break;case 14:$e.next=19;break;case 16:$e.prev=16,$e.t0=$e.catch(5),F.e($e.t0);case 19:return $e.prev=19,F.f(),$e.finish(19);case 22:$e.next=30;break;case 24:$e.prev=24,$e.t1=$e.catch(3),A.reverse(),te=(0,N.Z)(A);try{for(te.s();!(Le=te.n()).done;){ze=Le.value;try{ze()}catch(Vt){}}}catch(Vt){te.e(Vt)}finally{te.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:$e.t1.message});case 30:case"end":return $e.stop()}},S,this,[[3,24],[5,16,19,22]])})),function E(S){return D.apply(this,arguments)})}]),M;var D}(),sa=function(){function M(D,E,S){(0,s.Z)(this,M),this.app=D,this.heartbeatServiceProvider=E,this.config=S,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bn(this),this.idTokenSubscription=new bn(this),this.beforeStateQueue=new Hi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=De,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=D.name,this.clientVersion=S.sdkClientVersion}return(0,W.Z)(M,[{key:"_initializeWithPersistence",value:function(E,S){var C=this;return S&&(this._popupRedirectResolver=$n(S)),this._initializationPromise=this.queue((0,Z.Z)(L().mark(function A(){var F,U;return L().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:if(!C._deleted){te.next=2;break}return te.abrupt("return");case 2:return te.next=4,Ge.create(C,E);case 4:if(C.persistenceManager=te.sent,!C._deleted){te.next=7;break}return te.abrupt("return");case 7:if(!(null===(F=C._popupRedirectResolver)||void 0===F?void 0:F._shouldInitProactively)){te.next=15;break}return te.prev=8,te.next=11,C._popupRedirectResolver._initialize(C);case 11:te.next=15;break;case 13:te.prev=13,te.t0=te.catch(8);case 15:return te.next=17,C.initializeCurrentUser(S);case 17:if(C.lastNotifiedUid=(null===(U=C.currentUser)||void 0===U?void 0:U.uid)||null,!C._deleted){te.next=20;break}return te.abrupt("return");case 20:C._isInitialized=!0;case 21:case"end":return te.stop()}},A,null,[[8,13]])}))),this._initializationPromise}},{key:"_onStorageEvent",value:(D=(0,Z.Z)(L().mark(function S(){var C;return L().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(!this._deleted){F.next=2;break}return F.abrupt("return");case 2:return F.next=4,this.assertedPersistence.getCurrentUser();case 4:if(C=F.sent,this.currentUser||C){F.next=7;break}return F.abrupt("return");case 7:if(!this.currentUser||!C||this.currentUser.uid!==C.uid){F.next=12;break}return this._currentUser._assign(C),F.next=11,this.currentUser.getIdToken();case 11:return F.abrupt("return");case 12:return F.next=14,this._updateCurrentUser(C,!0);case 14:case"end":return F.stop()}},S,this)})),function E(){return D.apply(this,arguments)})},{key:"initializeCurrentUser",value:function(){var D=(0,Z.Z)(L().mark(function S(C){var A,F,U,Y,te,Le,ze;return L().wrap(function($e){for(;;)switch($e.prev=$e.next){case 0:return $e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(U=F=$e.sent,Y=!1,!C||!this.config.authDomain){$e.next=14;break}return $e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return te=null===(A=this.redirectUser)||void 0===A?void 0:A._redirectEventId,Le=null==U?void 0:U._redirectEventId,$e.next=12,this.tryRedirectSignIn(C);case 12:ze=$e.sent,(!te||te===Le)&&(null==ze?void 0:ze.user)&&(U=ze.user,Y=!0);case 14:if(U){$e.next=16;break}return $e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(U._redirectEventId){$e.next=32;break}if(!Y){$e.next=27;break}return $e.prev=18,$e.next=21,this.beforeStateQueue.runMiddleware(U);case 21:$e.next=27;break;case 23:$e.prev=23,$e.t0=$e.catch(18),U=F,this._popupRedirectResolver._overrideRedirectResult(this,function(){return Promise.reject($e.t0)});case 27:if(!U){$e.next=31;break}return $e.abrupt("return",this.reloadAndSetCurrentUserOrClear(U));case 31:return $e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Ke(this._popupRedirectResolver,this,"argument-error"),$e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==U._redirectEventId){$e.next=37;break}return $e.abrupt("return",this.directlySetCurrentUser(U));case 37:return $e.abrupt("return",this.reloadAndSetCurrentUserOrClear(U));case 38:case"end":return $e.stop()}},S,this,[[18,23]])}));return function E(S){return D.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var D=(0,Z.Z)(L().mark(function S(C){var A;return L().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return A=null,U.prev=1,U.next=4,this._popupRedirectResolver._completeRedirectFn(this,C,!0);case 4:A=U.sent,U.next=11;break;case 7:return U.prev=7,U.t0=U.catch(1),U.next=11,this._setRedirectUser(null);case 11:return U.abrupt("return",A);case 12:case"end":return U.stop()}},S,this,[[1,7]])}));return function E(S){return D.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var D=(0,Z.Z)(L().mark(function S(C){return L().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.prev=0,F.next=3,Re(C);case 3:F.next=9;break;case 5:if(F.prev=5,F.t0=F.catch(0),F.t0.code==="auth/".concat("network-request-failed")){F.next=9;break}return F.abrupt("return",this.directlySetCurrentUser(null));case 9:return F.abrupt("return",this.directlySetCurrentUser(C));case 10:case"end":return F.stop()}},S,this,[[0,5]])}));return function E(S){return D.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function kr(){if("undefined"==typeof navigator)return null;var M=navigator;return M.languages&&M.languages[0]||M.language||null}()}},{key:"_delete",value:function(){var D=(0,Z.Z)(L().mark(function S(){return L().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:this._deleted=!0;case 1:case"end":return A.stop()}},S,this)}));return function E(){return D.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var D=(0,Z.Z)(L().mark(function S(C){var A;return L().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return(A=C?(0,K.m9)(C):null)&&Ke(A.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),U.abrupt("return",this._updateCurrentUser(A&&A._clone(this)));case 3:case"end":return U.stop()}},S,this)}));return function E(S){return D.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var D=(0,Z.Z)(L().mark(function S(C){var F,A=this,U=arguments;return L().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:if(F=U.length>1&&void 0!==U[1]&&U[1],!this._deleted){te.next=3;break}return te.abrupt("return");case 3:if(C&&Ke(this.tenantId===C.tenantId,this,"tenant-id-mismatch"),F){te.next=7;break}return te.next=7,this.beforeStateQueue.runMiddleware(C);case 7:return te.abrupt("return",this.queue((0,Z.Z)(L().mark(function Le(){return L().wrap(function(Pt){for(;;)switch(Pt.prev=Pt.next){case 0:return Pt.next=2,A.directlySetCurrentUser(C);case 2:A.notifyAuthListeners();case 3:case"end":return Pt.stop()}},Le)}))));case 8:case"end":return te.stop()}},S,this)}));return function E(S){return D.apply(this,arguments)}}()},{key:"signOut",value:function(){var D=(0,Z.Z)(L().mark(function S(){return L().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){A.next=5;break}return A.next=5,this._setRedirectUser(null);case 5:return A.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return A.stop()}},S,this)}));return function E(){return D.apply(this,arguments)}}()},{key:"setPersistence",value:function(E){var S=this;return this.queue((0,Z.Z)(L().mark(function C(){return L().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.next=2,S.assertedPersistence.setPersistence($n(E));case 2:case"end":return F.stop()}},C)})))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(E){this._errorFactory=new K.LL("auth","Firebase",E())}},{key:"onAuthStateChanged",value:function(E,S,C){return this.registerStateListener(this.authStateSubscription,E,S,C)}},{key:"beforeAuthStateChanged",value:function(E,S){return this.beforeStateQueue.pushCallback(E,S)}},{key:"onIdTokenChanged",value:function(E,S,C){return this.registerStateListener(this.idTokenSubscription,E,S,C)}},{key:"toJSON",value:function(){var E;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(E=this._currentUser)||void 0===E?void 0:E.toJSON()}}},{key:"_setRedirectUser",value:function(){var D=(0,Z.Z)(L().mark(function S(C,A){var F;return L().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return Y.next=2,this.getOrInitRedirectPersistenceManager(A);case 2:return F=Y.sent,Y.abrupt("return",null===C?F.removeCurrentUser():F.setCurrentUser(C));case 4:case"end":return Y.stop()}},S,this)}));return function E(S,C){return D.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var D=(0,Z.Z)(L().mark(function S(C){var A;return L().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(this.redirectPersistenceManager){U.next=9;break}return Ke(A=C&&$n(C)||this._popupRedirectResolver,this,"argument-error"),U.next=5,Ge.create(this,[$n(A._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=U.sent,U.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=U.sent;case 9:return U.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return U.stop()}},S,this)}));return function E(S){return D.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var D=(0,Z.Z)(L().mark(function S(C){var A,F;return L().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:if(!this._isInitialized){Y.next=3;break}return Y.next=3,this.queue((0,Z.Z)(L().mark(function te(){return L().wrap(function(ze){for(;;)switch(ze.prev=ze.next){case 0:case"end":return ze.stop()}},te)})));case 3:if((null===(A=this._currentUser)||void 0===A?void 0:A._redirectEventId)!==C){Y.next=5;break}return Y.abrupt("return",this._currentUser);case 5:if((null===(F=this.redirectUser)||void 0===F?void 0:F._redirectEventId)!==C){Y.next=7;break}return Y.abrupt("return",this.redirectUser);case 7:return Y.abrupt("return",null);case 8:case"end":return Y.stop()}},S,this)}));return function E(S){return D.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var D=(0,Z.Z)(L().mark(function S(C){var A=this;return L().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(C!==this.currentUser){U.next=2;break}return U.abrupt("return",this.queue((0,Z.Z)(L().mark(function Y(){return L().wrap(function(Le){for(;;)switch(Le.prev=Le.next){case 0:return Le.abrupt("return",A.directlySetCurrentUser(C));case 1:case"end":return Le.stop()}},Y)}))));case 2:case"end":return U.stop()}},S,this)}));return function E(S){return D.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(E){E===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var E,S;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var C=null!==(S=null===(E=this.currentUser)||void 0===E?void 0:E.uid)&&void 0!==S?S:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(E,S,C,A){var F=this;if(this._deleted)return function(){};var U="function"==typeof S?S:S.next.bind(S),Y=this._isInitialized?Promise.resolve():this._initializationPromise;return Ke(Y,this,"internal-error"),Y.then(function(){return U(F.currentUser)}),"function"==typeof S?E.addObserver(S,C,A):E.addObserver(S)}},{key:"directlySetCurrentUser",value:function(){var D=(0,Z.Z)(L().mark(function S(C){return L().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(this.currentUser&&this.currentUser!==C&&(this._currentUser._stopProactiveRefresh(),C&&this.isProactiveRefreshEnabled&&C._startProactiveRefresh()),this.currentUser=C,!C){F.next=7;break}return F.next=5,this.assertedPersistence.setCurrentUser(C);case 5:F.next=9;break;case 7:return F.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return F.stop()}},S,this)}));return function E(S){return D.apply(this,arguments)}}()},{key:"queue",value:function(E){return this.operations=this.operations.then(E,E),this.operations}},{key:"assertedPersistence",get:function(){return Ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(E){!E||this.frameworks.includes(E)||(this.frameworks.push(E),this.frameworks.sort(),this.clientVersion=Mi(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var D=(0,Z.Z)(L().mark(function S(){var C,A,F;return L().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return A=(0,B.Z)({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(A["X-Firebase-gmpid"]=this.app.options.appId),Y.next=4,null===(C=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===C?void 0:C.getHeartbeatsHeader();case 4:return(F=Y.sent)&&(A["X-Firebase-Client"]=F),Y.abrupt("return",A);case 7:case"end":return Y.stop()}},S,this)}));return function E(){return D.apply(this,arguments)}}()}]),M;var D}();function Tt(M){return(0,K.m9)(M)}var bn=function(){function M(D){var E=this;(0,s.Z)(this,M),this.auth=D,this.observer=null,this.addObserver=(0,K.ne)(function(S){return E.observer=S})}return(0,W.Z)(M,[{key:"next",get:function(){return Ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),M}();function gr(M,D,E){var S=Tt(M);Ke(S._canInitEmulator,S,"emulator-config-failed"),Ke(/^https?:\/\//.test(D),S,"invalid-emulator-scheme");var C=!!(null==E?void 0:E.disableWarnings),A=ua(D),F=function Xr(M){var D=ua(M),E=/(\/\/)?([^?#/]+)/.exec(M.substr(D.length));if(!E)return{host:"",port:null};var S=E[2].split("@").pop()||"",C=/^(\[[^\]]+\])(:|$)/.exec(S);if(C){var A=C[1];return{host:A,port:jr(S.substr(A.length+1))}}var F=S.split(":"),U=(0,G.Z)(F,2);return{host:U[0],port:jr(U[1])}}(D),U=F.host,Y=F.port,te=null===Y?"":":".concat(Y);S.config.emulator={url:"".concat(A,"//").concat(U).concat(te,"/")},S.settings.appVerificationDisabledForTesting=!0,S.emulatorConfig=Object.freeze({host:U,port:Y,protocol:A.replace(":",""),options:Object.freeze({disableWarnings:C})}),C||function Fa(){function M(){var D=document.createElement("p"),E=D.style;D.innerText="Running in emulator mode. Do not use with production credentials.",E.position="fixed",E.width="100%",E.backgroundColor="#ffffff",E.border=".1em solid #000000",E.color="#b50000",E.bottom="0px",E.left="0px",E.margin="0px",E.zIndex="10000",E.textAlign="center",D.classList.add("firebase-emulator-warning"),document.body.appendChild(D)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",M):M())}()}function ua(M){var D=M.indexOf(":");return D<0?"":M.substr(0,D+1)}function jr(M){if(!M)return null;var D=Number(M);return isNaN(D)?null:D}var Cr=function(){function M(D,E){(0,s.Z)(this,M),this.providerId=D,this.signInMethod=E}return(0,W.Z)(M,[{key:"toJSON",value:function(){return gt("not implemented")}},{key:"_getIdTokenResponse",value:function(E){return gt("not implemented")}},{key:"_linkToIdToken",value:function(E,S){return gt("not implemented")}},{key:"_getReauthenticationResolver",value:function(E){return gt("not implemented")}}]),M}();function Ku(M,D){return la.apply(this,arguments)}function la(){return(la=(0,Z.Z)(L().mark(function M(D,E){return L().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",dr(D,"POST","/v1/accounts:resetPassword",Dr(D,E)));case 1:case"end":return C.stop()}},M)}))).apply(this,arguments)}function vn(M,D){return jl.apply(this,arguments)}function jl(){return(jl=(0,Z.Z)(L().mark(function M(D,E){return L().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",dr(D,"POST","/v1/accounts:update",E));case 1:case"end":return C.stop()}},M)}))).apply(this,arguments)}function Nr(M,D){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,Z.Z)(L().mark(function M(D,E){return L().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",dr(D,"POST","/v1/accounts:update",Dr(D,E)));case 1:case"end":return C.stop()}},M)}))).apply(this,arguments)}function Fs(M,D){return fi.apply(this,arguments)}function fi(){return(fi=(0,Z.Z)(L().mark(function M(D,E){return L().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",li(D,"POST","/v1/accounts:signInWithPassword",Dr(D,E)));case 1:case"end":return C.stop()}},M)}))).apply(this,arguments)}function hi(M,D){return ka.apply(this,arguments)}function ka(){return(ka=(0,Z.Z)(L().mark(function M(D,E){return L().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",dr(D,"POST","/v1/accounts:sendOobCode",Dr(D,E)));case 1:case"end":return C.stop()}},M)}))).apply(this,arguments)}function xa(M,D){return mr.apply(this,arguments)}function mr(){return(mr=(0,Z.Z)(L().mark(function M(D,E){return L().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",hi(D,E));case 1:case"end":return C.stop()}},M)}))).apply(this,arguments)}function Hh(M,D){return du.apply(this,arguments)}function du(){return(du=(0,Z.Z)(L().mark(function M(D,E){return L().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",hi(D,E));case 1:case"end":return C.stop()}},M)}))).apply(this,arguments)}function Na(M,D){return ji.apply(this,arguments)}function ji(){return(ji=(0,Z.Z)(L().mark(function M(D,E){return L().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",hi(D,E));case 1:case"end":return C.stop()}},M)}))).apply(this,arguments)}function qd(M,D){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,Z.Z)(L().mark(function M(D,E){return L().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",hi(D,E));case 1:case"end":return C.stop()}},M)}))).apply(this,arguments)}function Gl(M,D){return wa.apply(this,arguments)}function wa(){return(wa=(0,Z.Z)(L().mark(function M(D,E){return L().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",li(D,"POST","/v1/accounts:signInWithEmailLink",Dr(D,E)));case 1:case"end":return C.stop()}},M)}))).apply(this,arguments)}function jh(M,D){return Kd.apply(this,arguments)}function Kd(){return(Kd=(0,Z.Z)(L().mark(function M(D,E){return L().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",li(D,"POST","/v1/accounts:signInWithEmailLink",Dr(D,E)));case 1:case"end":return C.stop()}},M)}))).apply(this,arguments)}var Hc=function(M){(0,m.Z)(E,M);var S,D=(0,P.Z)(E);function E(S,C,A){var F,U=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return(0,s.Z)(this,E),(F=D.call(this,"password",A))._email=S,F._password=C,F._tenantId=U,F}return(0,W.Z)(E,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:(S=(0,Z.Z)(L().mark(function A(F){return L().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:Y.t0=this.signInMethod,Y.next="password"===Y.t0?3:"emailLink"===Y.t0?4:5;break;case 3:return Y.abrupt("return",Fs(F,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return Y.abrupt("return",Gl(F,{email:this._email,oobCode:this._password}));case 5:He(F,"internal-error");case 6:case"end":return Y.stop()}},A,this)})),function C(A){return S.apply(this,arguments)})},{key:"_linkToIdToken",value:function(){var S=(0,Z.Z)(L().mark(function A(F,U){return L().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:te.t0=this.signInMethod,te.next="password"===te.t0?3:"emailLink"===te.t0?4:5;break;case 3:return te.abrupt("return",vn(F,{idToken:U,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return te.abrupt("return",jh(F,{idToken:U,email:this._email,oobCode:this._password}));case 5:He(F,"internal-error");case 6:case"end":return te.stop()}},A,this)}));return function C(A,F){return S.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(C){return this._getIdTokenResponse(C)}}],[{key:"_fromEmailAndPassword",value:function(C,A){return new E(C,A,"password")}},{key:"_fromEmailAndCode",value:function(C,A){var F=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new E(C,A,"emailLink",F)}},{key:"fromJSON",value:function(C){var A="string"==typeof C?JSON.parse(C):C;if((null==A?void 0:A.email)&&(null==A?void 0:A.password)){if("password"===A.signInMethod)return this._fromEmailAndPassword(A.email,A.password);if("emailLink"===A.signInMethod)return this._fromEmailAndCode(A.email,A.password,A.tenantId)}return null}}]),E}(Cr);function Bo(M,D){return $d.apply(this,arguments)}function $d(){return($d=(0,Z.Z)(L().mark(function M(D,E){return L().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",li(D,"POST","/v1/accounts:signInWithIdp",Dr(D,E)));case 1:case"end":return C.stop()}},M)}))).apply(this,arguments)}var Za=function(M){(0,m.Z)(E,M);var D=(0,P.Z)(E);function E(){var S;return(0,s.Z)(this,E),(S=D.apply(this,arguments)).pendingToken=null,S}return(0,W.Z)(E,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(C){return Bo(C,this.buildRequest())}},{key:"_linkToIdToken",value:function(C,A){var F=this.buildRequest();return F.idToken=A,Bo(C,F)}},{key:"_getReauthenticationResolver",value:function(C){var A=this.buildRequest();return A.autoCreate=!1,Bo(C,A)}},{key:"buildRequest",value:function(){var C={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)C.pendingToken=this.pendingToken;else{var A={};this.idToken&&(A.id_token=this.idToken),this.accessToken&&(A.access_token=this.accessToken),this.secret&&(A.oauth_token_secret=this.secret),A.providerId=this.providerId,this.nonce&&!this.pendingToken&&(A.nonce=this.nonce),C.postBody=(0,K.xO)(A)}return C}}],[{key:"_fromParams",value:function(C){var A=new E(C.providerId,C.signInMethod);return C.idToken||C.accessToken?(C.idToken&&(A.idToken=C.idToken),C.accessToken&&(A.accessToken=C.accessToken),C.nonce&&!C.pendingToken&&(A.nonce=C.nonce),C.pendingToken&&(A.pendingToken=C.pendingToken)):C.oauthToken&&C.oauthTokenSecret?(A.accessToken=C.oauthToken,A.secret=C.oauthTokenSecret):He("argument-error"),A}},{key:"fromJSON",value:function(C){var A="string"==typeof C?JSON.parse(C):C,F=A.providerId,U=A.signInMethod,Y=(0,le._T)(A,["providerId","signInMethod"]);if(!F||!U)return null;var te=new E(F,U);return te.idToken=Y.idToken||void 0,te.accessToken=Y.accessToken||void 0,te.secret=Y.secret,te.nonce=Y.nonce,te.pendingToken=Y.pendingToken||null,te}}]),E}(Cr);function og(M,D){return Qd.apply(this,arguments)}function Qd(){return(Qd=(0,Z.Z)(L().mark(function M(D,E){return L().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",dr(D,"POST","/v1/accounts:sendVerificationCode",Dr(D,E)));case 1:case"end":return C.stop()}},M)}))).apply(this,arguments)}function Jd(){return(Jd=(0,Z.Z)(L().mark(function M(D,E){return L().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",li(D,"POST","/v1/accounts:signInWithPhoneNumber",Dr(D,E)));case 1:case"end":return C.stop()}},M)}))).apply(this,arguments)}function Xd(){return(Xd=(0,Z.Z)(L().mark(function M(D,E){var S;return L().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,li(D,"POST","/v1/accounts:signInWithPhoneNumber",Dr(D,E));case 2:if(!(S=A.sent).temporaryProof){A.next=5;break}throw wr(D,"account-exists-with-different-credential",S);case 5:return A.abrupt("return",S);case 6:case"end":return A.stop()}},M)}))).apply(this,arguments)}var X_=(0,B.Z)({},"USER_NOT_FOUND","user-not-found");function Gc(){return(Gc=(0,Z.Z)(L().mark(function M(D,E){var S;return L().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return S=Object.assign(Object.assign({},E),{operation:"REAUTH"}),A.abrupt("return",li(D,"POST","/v1/accounts:signInWithPhoneNumber",Dr(D,S),X_));case 2:case"end":return A.stop()}},M)}))).apply(this,arguments)}var zl=function(M){(0,m.Z)(E,M);var D=(0,P.Z)(E);function E(S){var C;return(0,s.Z)(this,E),(C=D.call(this,"phone","phone")).params=S,C}return(0,W.Z)(E,[{key:"_getIdTokenResponse",value:function(C){return function sg(M,D){return Jd.apply(this,arguments)}(C,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(C,A){return function ug(M,D){return Xd.apply(this,arguments)}(C,Object.assign({idToken:A},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(C){return function ef(M,D){return Gc.apply(this,arguments)}(C,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var C=this.params,A=C.temporaryProof,F=C.phoneNumber;return A&&F?{temporaryProof:A,phoneNumber:F}:{sessionInfo:C.verificationId,code:C.verificationCode}}},{key:"toJSON",value:function(){var C={providerId:this.providerId};return this.params.phoneNumber&&(C.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(C.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(C.verificationCode=this.params.verificationCode),this.params.verificationId&&(C.verificationId=this.params.verificationId),C}}],[{key:"_fromVerification",value:function(C,A){return new E({verificationId:C,verificationCode:A})}},{key:"_fromTokenResponse",value:function(C,A){return new E({phoneNumber:C,temporaryProof:A})}},{key:"fromJSON",value:function(C){"string"==typeof C&&(C=JSON.parse(C));var F=C.verificationId,U=C.verificationCode,Y=C.phoneNumber,te=C.temporaryProof;return U||F||Y||te?new E({verificationId:F,verificationCode:U,phoneNumber:Y,temporaryProof:te}):null}}]),E}(Cr),xs=function(){function M(D){(0,s.Z)(this,M);var E,S,C,A,F,U,Y=(0,K.zd)((0,K.pd)(D)),te=null!==(E=Y.apiKey)&&void 0!==E?E:null,Le=null!==(S=Y.oobCode)&&void 0!==S?S:null,ze=function ei(M){switch(M){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(C=Y.mode)&&void 0!==C?C:null);Ke(te&&Le&&ze,"argument-error"),this.apiKey=te,this.operation=ze,this.code=Le,this.continueUrl=null!==(A=Y.continueUrl)&&void 0!==A?A:null,this.languageCode=null!==(F=Y.languageCode)&&void 0!==F?F:null,this.tenantId=null!==(U=Y.tenantId)&&void 0!==U?U:null}return(0,W.Z)(M,null,[{key:"parseLink",value:function(E){var S=function tf(M){var D=(0,K.zd)((0,K.pd)(M)).link,E=D?(0,K.zd)((0,K.pd)(D)).deep_link_id:null,S=(0,K.zd)((0,K.pd)(M)).deep_link_id;return(S?(0,K.zd)((0,K.pd)(S)).link:null)||S||E||D||M}(E);try{return new M(S)}catch(C){return null}}}]),M}();function zc(M){return xs.parseLink(M)}var nf=function(){var M=function(){function D(){(0,s.Z)(this,D),this.providerId=D.PROVIDER_ID}return(0,W.Z)(D,null,[{key:"credential",value:function(S,C){return Hc._fromEmailAndPassword(S,C)}},{key:"credentialWithLink",value:function(S,C){var A=xs.parseLink(C);return Ke(A,"argument-error"),Hc._fromEmailAndCode(S,A.code,A.tenantId)}}]),D}();return M.PROVIDER_ID="password",M.EMAIL_PASSWORD_SIGN_IN_METHOD="password",M.EMAIL_LINK_SIGN_IN_METHOD="emailLink",M}(),ds=function(){function M(D){(0,s.Z)(this,M),this.providerId=D,this.defaultLanguageCode=null,this.customParameters={}}return(0,W.Z)(M,[{key:"setDefaultLanguage",value:function(E){this.defaultLanguageCode=E}},{key:"setCustomParameters",value:function(E){return this.customParameters=E,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),M}(),zn=function(M){(0,m.Z)(E,M);var D=(0,P.Z)(E);function E(){var S;return(0,s.Z)(this,E),(S=D.apply(this,arguments)).scopes=[],S}return(0,W.Z)(E,[{key:"addScope",value:function(C){return this.scopes.includes(C)||this.scopes.push(C),this}},{key:"getScopes",value:function(){return(0,ie.Z)(this.scopes)}}]),E}(ds),rf=function(M){(0,m.Z)(E,M);var D=(0,P.Z)(E);function E(){return(0,s.Z)(this,E),D.apply(this,arguments)}return(0,W.Z)(E,[{key:"credential",value:function(C){return this._credential(Object.assign(Object.assign({},C),{nonce:C.rawNonce}))}},{key:"_credential",value:function(C){return Ke(C.idToken||C.accessToken,"argument-error"),Za._fromParams(Object.assign(Object.assign({},C),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(C){var A="string"==typeof C?JSON.parse(C):C;return Ke("providerId"in A&&"signInMethod"in A,"argument-error"),Za._fromParams(A)}},{key:"credentialFromResult",value:function(C){return E.oauthCredentialFromTaggedObject(C)}},{key:"credentialFromError",value:function(C){return E.oauthCredentialFromTaggedObject(C.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(C){var A=C._tokenResponse;if(!A)return null;var F=A.oauthIdToken,U=A.oauthAccessToken,te=A.pendingToken,Le=A.nonce,ze=A.providerId;if(!U&&!A.oauthTokenSecret&&!F&&!te||!ze)return null;try{return new E(ze)._credential({idToken:F,accessToken:U,nonce:Le,pendingToken:te})}catch(Pt){return null}}}]),E}(zn),Yc=function(){var M=function(D){(0,m.Z)(S,D);var E=(0,P.Z)(S);function S(){return(0,s.Z)(this,S),E.call(this,"facebook.com")}return(0,W.Z)(S,null,[{key:"credential",value:function(A){return Za._fromParams({providerId:S.PROVIDER_ID,signInMethod:S.FACEBOOK_SIGN_IN_METHOD,accessToken:A})}},{key:"credentialFromResult",value:function(A){return S.credentialFromTaggedObject(A)}},{key:"credentialFromError",value:function(A){return S.credentialFromTaggedObject(A.customData||{})}},{key:"credentialFromTaggedObject",value:function(A){var F=A._tokenResponse;if(!F||!("oauthAccessToken"in F)||!F.oauthAccessToken)return null;try{return S.credential(F.oauthAccessToken)}catch(U){return null}}}]),S}(zn);return M.FACEBOOK_SIGN_IN_METHOD="facebook.com",M.PROVIDER_ID="facebook.com",M}(),Gh=function(){var M=function(D){(0,m.Z)(S,D);var E=(0,P.Z)(S);function S(){var C;return(0,s.Z)(this,S),(C=E.call(this,"google.com")).addScope("profile"),C}return(0,W.Z)(S,null,[{key:"credential",value:function(A,F){return Za._fromParams({providerId:S.PROVIDER_ID,signInMethod:S.GOOGLE_SIGN_IN_METHOD,idToken:A,accessToken:F})}},{key:"credentialFromResult",value:function(A){return S.credentialFromTaggedObject(A)}},{key:"credentialFromError",value:function(A){return S.credentialFromTaggedObject(A.customData||{})}},{key:"credentialFromTaggedObject",value:function(A){var F=A._tokenResponse;if(!F)return null;var U=F.oauthIdToken,Y=F.oauthAccessToken;if(!U&&!Y)return null;try{return S.credential(U,Y)}catch(te){return null}}}]),S}(zn);return M.GOOGLE_SIGN_IN_METHOD="google.com",M.PROVIDER_ID="google.com",M}(),fu=function(){var M=function(D){(0,m.Z)(S,D);var E=(0,P.Z)(S);function S(){return(0,s.Z)(this,S),E.call(this,"github.com")}return(0,W.Z)(S,null,[{key:"credential",value:function(A){return Za._fromParams({providerId:S.PROVIDER_ID,signInMethod:S.GITHUB_SIGN_IN_METHOD,accessToken:A})}},{key:"credentialFromResult",value:function(A){return S.credentialFromTaggedObject(A)}},{key:"credentialFromError",value:function(A){return S.credentialFromTaggedObject(A.customData||{})}},{key:"credentialFromTaggedObject",value:function(A){var F=A._tokenResponse;if(!F||!("oauthAccessToken"in F)||!F.oauthAccessToken)return null;try{return S.credential(F.oauthAccessToken)}catch(U){return null}}}]),S}(zn);return M.GITHUB_SIGN_IN_METHOD="github.com",M.PROVIDER_ID="github.com",M}(),$u=function(M){(0,m.Z)(E,M);var D=(0,P.Z)(E);function E(S,C){var A;return(0,s.Z)(this,E),(A=D.call(this,S,S)).pendingToken=C,A}return(0,W.Z)(E,[{key:"_getIdTokenResponse",value:function(C){return Bo(C,this.buildRequest())}},{key:"_linkToIdToken",value:function(C,A){var F=this.buildRequest();return F.idToken=A,Bo(C,F)}},{key:"_getReauthenticationResolver",value:function(C){var A=this.buildRequest();return A.autoCreate=!1,Bo(C,A)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(C){var A="string"==typeof C?JSON.parse(C):C,F=A.providerId,U=A.signInMethod,Y=A.pendingToken;return F&&U&&Y&&F===U?new E(F,Y):null}},{key:"_create",value:function(C,A){return new E(C,A)}}]),E}(Cr),lg=function(M){(0,m.Z)(E,M);var D=(0,P.Z)(E);function E(S){return(0,s.Z)(this,E),Ke(S.startsWith("saml."),"argument-error"),D.call(this,S)}return(0,W.Z)(E,null,[{key:"credentialFromResult",value:function(C){return E.samlCredentialFromTaggedObject(C)}},{key:"credentialFromError",value:function(C){return E.samlCredentialFromTaggedObject(C.customData||{})}},{key:"credentialFromJSON",value:function(C){var A=$u.fromJSON(C);return Ke(A,"argument-error"),A}},{key:"samlCredentialFromTaggedObject",value:function(C){var A=C._tokenResponse;if(!A)return null;var F=A.pendingToken,U=A.providerId;if(!F||!U)return null;try{return $u._create(U,F)}catch(Y){return null}}}]),E}(ds),qc=function(){var M=function(D){(0,m.Z)(S,D);var E=(0,P.Z)(S);function S(){return(0,s.Z)(this,S),E.call(this,"twitter.com")}return(0,W.Z)(S,null,[{key:"credential",value:function(A,F){return Za._fromParams({providerId:S.PROVIDER_ID,signInMethod:S.TWITTER_SIGN_IN_METHOD,oauthToken:A,oauthTokenSecret:F})}},{key:"credentialFromResult",value:function(A){return S.credentialFromTaggedObject(A)}},{key:"credentialFromError",value:function(A){return S.credentialFromTaggedObject(A.customData||{})}},{key:"credentialFromTaggedObject",value:function(A){var F=A._tokenResponse;if(!F)return null;var U=F.oauthAccessToken,Y=F.oauthTokenSecret;if(!U||!Y)return null;try{return S.credential(U,Y)}catch(te){return null}}}]),S}(zn);return M.TWITTER_SIGN_IN_METHOD="twitter.com",M.PROVIDER_ID="twitter.com",M}();function af(M,D){return zi.apply(this,arguments)}function zi(){return(zi=(0,Z.Z)(L().mark(function M(D,E){return L().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",li(D,"POST","/v1/accounts:signUp",Dr(D,E)));case 1:case"end":return C.stop()}},M)}))).apply(this,arguments)}var La=function(){function M(D){(0,s.Z)(this,M),this.user=D.user,this.providerId=D.providerId,this._tokenResponse=D._tokenResponse,this.operationType=D.operationType}return(0,W.Z)(M,null,[{key:"_fromIdTokenResponse",value:(D=(0,Z.Z)(L().mark(function S(C,A,F){var U,Y,te,Le,ze=arguments;return L().wrap(function($e){for(;;)switch($e.prev=$e.next){case 0:return U=ze.length>3&&void 0!==ze[3]&&ze[3],$e.next=3,Pe._fromIdTokenResponse(C,F,U);case 3:return Y=$e.sent,te=sf(F),Le=new M({user:Y,providerId:te,_tokenResponse:F,operationType:A}),$e.abrupt("return",Le);case 7:case"end":return $e.stop()}},S)})),function E(S,C,A){return D.apply(this,arguments)})},{key:"_forOperation",value:function(){var D=(0,Z.Z)(L().mark(function S(C,A,F){var U;return L().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return te.next=2,C._updateTokensIfNecessary(F,!0);case 2:return U=sf(F),te.abrupt("return",new M({user:C,providerId:U,_tokenResponse:F,operationType:A}));case 4:case"end":return te.stop()}},S)}));return function E(S,C,A){return D.apply(this,arguments)}}()}]),M;var D}();function sf(M){return M.providerId?M.providerId:"phoneNumber"in M?"phone":null}function uf(M){return oo.apply(this,arguments)}function oo(){return(oo=(0,Z.Z)(L().mark(function M(D){var E,S,C,A;return L().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return S=Tt(D),U.next=3,S._initializationPromise;case 3:if(!(null===(E=S.currentUser)||void 0===E?void 0:E.isAnonymous)){U.next=5;break}return U.abrupt("return",new La({user:S.currentUser,providerId:null,operationType:"signIn"}));case 5:return U.next=7,af(S,{returnSecureToken:!0});case 7:return C=U.sent,U.next=10,La._fromIdTokenResponse(S,"signIn",C,!0);case 10:return A=U.sent,U.next=13,S._updateCurrentUser(A.user);case 13:return U.abrupt("return",A);case 14:case"end":return U.stop()}},M)}))).apply(this,arguments)}var Kc=function(M){(0,m.Z)(E,M);var D=(0,P.Z)(E);function E(S,C,A,F){var U,Y;return(0,s.Z)(this,E),(U=D.call(this,C.code,C.message)).operationType=A,U.user=F,Object.setPrototypeOf((0,_.Z)(U),E.prototype),U.customData={appName:S.name,tenantId:null!==(Y=S.tenantId)&&void 0!==Y?Y:void 0,_serverResponse:C.customData._serverResponse,operationType:A},U}return(0,W.Z)(E,null,[{key:"_fromErrorAndOperation",value:function(C,A,F,U){return new E(C,A,F,U)}}]),E}(K.ZR);function hu(M,D,E,S){return("reauthenticate"===D?E._getReauthenticationResolver(M):E._getIdTokenResponse(M)).catch(function(A){throw A.code==="auth/".concat("multi-factor-auth-required")?Kc._fromErrorAndOperation(M,A,D,S):A})}function Ns(M){return new Set(M.map(function(D){return D.providerId}).filter(function(D){return!!D}))}function Qu(M,D){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,Z.Z)(L().mark(function M(D,E){var S,F;return L().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return S=(0,K.m9)(D),Y.next=3,pu(!0,S,E);case 3:return Y.t0=Xi,Y.t1=S.auth,Y.next=7,S.getIdToken();case 7:return Y.t2=Y.sent,Y.t3=[E],Y.t4={idToken:Y.t2,deleteProvider:Y.t3},Y.next=12,(0,Y.t0)(Y.t1,Y.t4);case 12:return F=Ns(Y.sent.providerUserInfo||[]),S.providerData=S.providerData.filter(function(te){return F.has(te.providerId)}),F.has("phone")||(S.phoneNumber=null),Y.next=19,S.auth._persistUserIfCurrent(S);case 19:return Y.abrupt("return",S);case 20:case"end":return Y.stop()}},M)}))).apply(this,arguments)}function _r(M,D){return Ju.apply(this,arguments)}function Ju(){return Ju=(0,Z.Z)(L().mark(function M(D,E){var S,A=arguments;return L().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return S=A.length>2&&void 0!==A[2]&&A[2],U.t0=Di,U.t1=D,U.t2=E,U.t3=D.auth,U.next=7,D.getIdToken();case 7:return U.t4=U.sent,U.t5=U.t2._linkToIdToken.call(U.t2,U.t3,U.t4),U.t6=S,U.next=12,(0,U.t0)(U.t1,U.t5,U.t6);case 12:return U.abrupt("return",La._forOperation(D,"link",U.sent));case 14:case"end":return U.stop()}},M)})),Ju.apply(this,arguments)}function pu(M,D,E){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,Z.Z)(L().mark(function M(D,E,S){var C,A;return L().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.next=2,Re(E);case 2:C=Ns(E.providerData),A=!1===D?"provider-already-linked":"no-such-provider",Ke(C.has(S)===D,E.auth,A);case 5:case"end":return U.stop()}},M)}))).apply(this,arguments)}function lf(M,D){return pi.apply(this,arguments)}function pi(){return pi=(0,Z.Z)(L().mark(function M(D,E){var S,C,A,F,U,te=arguments;return L().wrap(function(ze){for(;;)switch(ze.prev=ze.next){case 0:return S=te.length>2&&void 0!==te[2]&&te[2],C=D.auth,A="reauthenticate",ze.prev=3,ze.next=6,Di(D,hu(C,A,E,D),S);case 6:return Ke((F=ze.sent).idToken,C,"internal-error"),Ke(U=xr(F.idToken),C,"internal-error"),Ke(D.uid===U.sub,C,"user-mismatch"),ze.abrupt("return",La._forOperation(D,A,F));case 15:throw ze.prev=15,ze.t0=ze.catch(3),(null==ze.t0?void 0:ze.t0.code)==="auth/".concat("user-not-found")&&He(C,"user-mismatch"),ze.t0;case 19:case"end":return ze.stop()}},M,null,[[3,15]])})),pi.apply(this,arguments)}function fs(M,D){return ti.apply(this,arguments)}function ti(){return ti=(0,Z.Z)(L().mark(function M(D,E){var S,C,A,F,U=arguments;return L().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return S=U.length>2&&void 0!==U[2]&&U[2],C="signIn",te.next=4,hu(D,C,E);case 4:return A=te.sent,te.next=7,La._fromIdTokenResponse(D,C,A);case 7:if(F=te.sent,S){te.next=11;break}return te.next=11,D._updateCurrentUser(F.user);case 11:return te.abrupt("return",F);case 12:case"end":return te.stop()}},M)})),ti.apply(this,arguments)}function Xu(M,D){return hs.apply(this,arguments)}function hs(){return(hs=(0,Z.Z)(L().mark(function M(D,E){return L().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",fs(Tt(D),E));case 1:case"end":return C.stop()}},M)}))).apply(this,arguments)}function Ba(M,D){return vi.apply(this,arguments)}function vi(){return(vi=(0,Z.Z)(L().mark(function M(D,E){var S;return L().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return S=(0,K.m9)(D),A.next=3,pu(!1,S,E.providerId);case 3:return A.abrupt("return",_r(S,E));case 4:case"end":return A.stop()}},M)}))).apply(this,arguments)}function Ls(M,D){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,Z.Z)(L().mark(function M(D,E){return L().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",lf((0,K.m9)(D),E));case 1:case"end":return C.stop()}},M)}))).apply(this,arguments)}function Yl(M,D){return Va.apply(this,arguments)}function Va(){return(Va=(0,Z.Z)(L().mark(function M(D,E){return L().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",li(D,"POST","/v1/accounts:signInWithCustomToken",Dr(D,E)));case 1:case"end":return C.stop()}},M)}))).apply(this,arguments)}function cf(M,D){return el.apply(this,arguments)}function el(){return(el=(0,Z.Z)(L().mark(function M(D,E){var S,C,A;return L().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return S=Tt(D),U.next=3,Yl(S,{token:E,returnSecureToken:!0});case 3:return C=U.sent,U.next=6,La._fromIdTokenResponse(S,"signIn",C);case 6:return A=U.sent,U.next=9,S._updateCurrentUser(A.user);case 9:return U.abrupt("return",A);case 10:case"end":return U.stop()}},M)}))).apply(this,arguments)}var un=function(){function M(D,E){(0,s.Z)(this,M),this.factorId=D,this.uid=E.mfaEnrollmentId,this.enrollmentTime=new Date(E.enrolledAt).toUTCString(),this.displayName=E.displayName}return(0,W.Z)(M,null,[{key:"_fromServerResponse",value:function(E,S){return"phoneInfo"in S?zh._fromServerResponse(E,S):He(E,"internal-error")}}]),M}(),zh=function(M){(0,m.Z)(E,M);var D=(0,P.Z)(E);function E(S){var C;return(0,s.Z)(this,E),(C=D.call(this,"phone",S)).phoneNumber=S.phoneInfo,C}return(0,W.Z)(E,null,[{key:"_fromServerResponse",value:function(C,A){return new E(A)}}]),E}(un);function Ho(M,D,E){var S;Ke((null===(S=E.url)||void 0===S?void 0:S.length)>0,M,"invalid-continue-uri"),Ke(void 0===E.dynamicLinkDomain||E.dynamicLinkDomain.length>0,M,"invalid-dynamic-link-domain"),D.continueUrl=E.url,D.dynamicLinkDomain=E.dynamicLinkDomain,D.canHandleCodeInApp=E.handleCodeInApp,E.iOS&&(Ke(E.iOS.bundleId.length>0,M,"missing-ios-bundle-id"),D.iOSBundleId=E.iOS.bundleId),E.android&&(Ke(E.android.packageName.length>0,M,"missing-android-pkg-name"),D.androidInstallApp=E.android.installApp,D.androidMinimumVersionCode=E.android.minimumVersion,D.androidPackageName=E.android.packageName)}function df(M,D,E){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,Z.Z)(L().mark(function M(D,E,S){var C,A;return L().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return C=(0,K.m9)(D),A={requestType:"PASSWORD_RESET",email:E},S&&Ho(C,A,S),U.next=5,Hh(C,A);case 5:case"end":return U.stop()}},M)}))).apply(this,arguments)}function vu(M,D,E){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,Z.Z)(L().mark(function M(D,E,S){return L().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,Ku((0,K.m9)(D),{oobCode:E,newPassword:S});case 2:case"end":return A.stop()}},M)}))).apply(this,arguments)}function Yh(M,D){return pt.apply(this,arguments)}function pt(){return(pt=(0,Z.Z)(L().mark(function M(D,E){return L().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,Nr((0,K.m9)(D),{oobCode:E});case 2:case"end":return C.stop()}},M)}))).apply(this,arguments)}function Bn(M,D){return tl.apply(this,arguments)}function tl(){return(tl=(0,Z.Z)(L().mark(function M(D,E){var S,C,A,F;return L().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return S=(0,K.m9)(D),Y.next=3,Ku(S,{oobCode:E});case 3:Ke(A=(C=Y.sent).requestType,S,"internal-error"),Y.t0=A,Y.next="EMAIL_SIGNIN"===Y.t0?9:"VERIFY_AND_CHANGE_EMAIL"===Y.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===Y.t0?12:13;break;case 9:return Y.abrupt("break",14);case 10:return Ke(C.newEmail,S,"internal-error"),Y.abrupt("break",14);case 12:Ke(C.mfaInfo,S,"internal-error");case 13:Ke(C.email,S,"internal-error");case 14:return F=null,C.mfaInfo&&(F=un._fromServerResponse(Tt(S),C.mfaInfo)),Y.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:F},operation:A});case 17:case"end":return Y.stop()}},M)}))).apply(this,arguments)}function ni(M,D){return nl.apply(this,arguments)}function nl(){return(nl=(0,Z.Z)(L().mark(function M(D,E){return L().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.next=2,Bn((0,K.m9)(D),E);case 2:return F.abrupt("return",F.sent.data.email);case 5:case"end":return F.stop()}},M)}))).apply(this,arguments)}function rl(M,D,E){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,Z.Z)(L().mark(function M(D,E,S){var C,A,F;return L().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return C=Tt(D),Y.next=3,af(C,{returnSecureToken:!0,email:E,password:S});case 3:return A=Y.sent,Y.next=6,La._fromIdTokenResponse(C,"signIn",A);case 6:return F=Y.sent,Y.next=9,C._updateCurrentUser(F.user);case 9:return Y.abrupt("return",F);case 10:case"end":return Y.stop()}},M)}))).apply(this,arguments)}function il(M,D,E){return Xu((0,K.m9)(M),nf.credential(D,E))}function $c(M,D,E){return ql.apply(this,arguments)}function ql(){return(ql=(0,Z.Z)(L().mark(function M(D,E,S){var C,A;return L().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return C=(0,K.m9)(D),A={requestType:"EMAIL_SIGNIN",email:E},Ke(S.handleCodeInApp,C,"argument-error"),S&&Ho(C,A,S),U.next=6,Na(C,A);case 6:case"end":return U.stop()}},M)}))).apply(this,arguments)}function Wh(M,D){var E=xs.parseLink(D);return"EMAIL_SIGNIN"===(null==E?void 0:E.operation)}function al(M,D,E){return ps.apply(this,arguments)}function ps(){return(ps=(0,Z.Z)(L().mark(function M(D,E,S){var C,A;return L().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return C=(0,K.m9)(D),Ke((A=nf.credentialWithLink(E,S||Qr()))._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),U.abrupt("return",Xu(C,A));case 4:case"end":return U.stop()}},M)}))).apply(this,arguments)}function na(M,D){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,Z.Z)(L().mark(function M(D,E){return L().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",dr(D,"POST","/v1/accounts:createAuthUri",Dr(D,E)));case 1:case"end":return C.stop()}},M)}))).apply(this,arguments)}function ff(M,D){return So.apply(this,arguments)}function So(){return(So=(0,Z.Z)(L().mark(function M(D,E){var S,C;return L().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return S=Ir()?Qr():"http://localhost",C={identifier:E,continueUri:S},Y.next=4,na((0,K.m9)(D),C);case 4:return Y.abrupt("return",Y.sent.signinMethods||[]);case 7:case"end":return Y.stop()}},M)}))).apply(this,arguments)}function so(M,D){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,Z.Z)(L().mark(function M(D,E){var S,A;return L().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return S=(0,K.m9)(D),te.next=3,D.getIdToken();case 3:return A={requestType:"VERIFY_EMAIL",idToken:te.sent},E&&Ho(S.auth,A,E),te.next=8,xa(S.auth,A);case 8:if(te.sent.email===D.email){te.next=13;break}return te.next=13,D.reload();case 13:case"end":return te.stop()}},M)}))).apply(this,arguments)}function hf(M,D,E){return $l.apply(this,arguments)}function $l(){return($l=(0,Z.Z)(L().mark(function M(D,E,S){var C,F;return L().wrap(function(Le){for(;;)switch(Le.prev=Le.next){case 0:return C=(0,K.m9)(D),Le.next=3,D.getIdToken();case 3:return F={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:Le.sent,newEmail:E},S&&Ho(C.auth,F,S),Le.next=8,qd(C.auth,F);case 8:if(Le.sent.email===D.email){Le.next=13;break}return Le.next=13,D.reload();case 13:case"end":return Le.stop()}},M)}))).apply(this,arguments)}function cg(M,D){return ol.apply(this,arguments)}function ol(){return(ol=(0,Z.Z)(L().mark(function M(D,E){return L().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",dr(D,"POST","/v1/accounts:update",E));case 1:case"end":return C.stop()}},M)}))).apply(this,arguments)}function sl(M,D){return ul.apply(this,arguments)}function ul(){return(ul=(0,Z.Z)(L().mark(function M(D,E){var S,C,A,U,Y,te;return L().wrap(function(ze){for(;;)switch(ze.prev=ze.next){case 0:if(C=E.photoURL,void 0!==(S=E.displayName)||void 0!==C){ze.next=3;break}return ze.abrupt("return");case 3:return A=(0,K.m9)(D),ze.next=6,A.getIdToken();case 6:return U={idToken:ze.sent,displayName:S,photoUrl:C,returnSecureToken:!0},ze.next=10,Di(A,cg(A.auth,U));case 10:return A.displayName=(Y=ze.sent).displayName||null,A.photoURL=Y.photoUrl||null,(te=A.providerData.find(function(Pt){return"password"===Pt.providerId}))&&(te.displayName=A.displayName,te.photoURL=A.photoURL),ze.next=17,A._updateTokensIfNecessary(Y);case 17:case"end":return ze.stop()}},M)}))).apply(this,arguments)}function Qc(M,D){return Ql((0,K.m9)(M),D,null)}function dg(M,D){return Ql((0,K.m9)(M),null,D)}function Ql(M,D,E){return vs.apply(this,arguments)}function vs(){return(vs=(0,Z.Z)(L().mark(function M(D,E,S){var C,F,U;return L().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return C=D.auth,te.next=3,D.getIdToken();case 3:return F={idToken:te.sent,returnSecureToken:!0},E&&(F.email=E),S&&(F.password=S),te.next=9,Di(D,vn(C,F));case 9:return U=te.sent,te.next=12,D._updateTokensIfNecessary(U,!0);case 12:case"end":return te.stop()}},M)}))).apply(this,arguments)}var jo=(0,W.Z)(function M(D,E){var S=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,s.Z)(this,M),this.isNewUser=D,this.providerId=E,this.profile=S}),vf=function(M){(0,m.Z)(E,M);var D=(0,P.Z)(E);function E(S,C,A,F){var U;return(0,s.Z)(this,E),(U=D.call(this,S,C,A)).username=F,U}return(0,W.Z)(E)}(jo),ll=function(M){(0,m.Z)(E,M);var D=(0,P.Z)(E);function E(S,C){return(0,s.Z)(this,E),D.call(this,S,"facebook.com",C)}return(0,W.Z)(E)}(jo),Jc=function(M){(0,m.Z)(E,M);var D=(0,P.Z)(E);function E(S,C){return(0,s.Z)(this,E),D.call(this,S,"github.com",C,"string"==typeof(null==C?void 0:C.login)?null==C?void 0:C.login:null)}return(0,W.Z)(E)}(vf),ey=function(M){(0,m.Z)(E,M);var D=(0,P.Z)(E);function E(S,C){return(0,s.Z)(this,E),D.call(this,S,"google.com",C)}return(0,W.Z)(E)}(jo),ty=function(M){(0,m.Z)(E,M);var D=(0,P.Z)(E);function E(S,C,A){return(0,s.Z)(this,E),D.call(this,S,"twitter.com",C,A)}return(0,W.Z)(E)}(vf);function Si(M){var E=M._tokenResponse;return M.user.isAnonymous&&!E?{providerId:null,isNewUser:!1,profile:null}:function pf(M){var D,E;if(!M)return null;var S=M.providerId,C=M.rawUserInfo?JSON.parse(M.rawUserInfo):{},A=M.isNewUser||"identitytoolkit#SignupNewUserResponse"===M.kind;if(!S&&(null==M?void 0:M.idToken)){var F=null===(E=null===(D=xr(M.idToken))||void 0===D?void 0:D.firebase)||void 0===E?void 0:E.sign_in_provider;if(F)return new jo(A,"anonymous"!==F&&"custom"!==F?F:null)}if(!S)return null;switch(S){case"facebook.com":return new ll(A,C);case"github.com":return new Jc(A,C);case"google.com":return new ey(A,C);case"twitter.com":return new ty(A,C,M.screenName||null);case"custom":case"anonymous":return new jo(A,null);default:return new jo(A,S,C)}}(E)}function gu(M,D){return(0,K.m9)(M).setPersistence(D)}function Zr(M,D,E,S){return(0,K.m9)(M).onIdTokenChanged(D,E,S)}function Xc(M,D,E,S){return(0,K.m9)(M).onAuthStateChanged(D,E,S)}function qh(M){(0,K.m9)(M).useDeviceLanguage()}function fg(M,D){return(0,K.m9)(M).updateCurrentUser(D)}function hg(M){return(0,K.m9)(M).signOut()}function pg(M){return mu.apply(this,arguments)}function mu(){return(mu=(0,Z.Z)(L().mark(function M(D){return L().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.abrupt("return",(0,K.m9)(D).delete());case 1:case"end":return S.stop()}},M)}))).apply(this,arguments)}var Gr=function(){function M(D,E){(0,s.Z)(this,M),this.type=D,this.credential=E}return(0,W.Z)(M,[{key:"toJSON",value:function(){return{multiFactorSession:(0,B.Z)({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(E){return new M("enroll",E)}},{key:"_fromMfaPendingCredential",value:function(E){return new M("signin",E)}},{key:"fromJSON",value:function(E){var S,C;if(null==E?void 0:E.multiFactorSession){if(null===(S=E.multiFactorSession)||void 0===S?void 0:S.pendingCredential)return M._fromMfaPendingCredential(E.multiFactorSession.pendingCredential);if(null===(C=E.multiFactorSession)||void 0===C?void 0:C.idToken)return M._fromIdtoken(E.multiFactorSession.idToken)}return null}}]),M}(),Jl=function(){function M(D,E,S){(0,s.Z)(this,M),this.session=D,this.hints=E,this.signInResolver=S}return(0,W.Z)(M,[{key:"resolveSignIn",value:(D=(0,Z.Z)(L().mark(function S(C){return L().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.abrupt("return",this.signInResolver(C));case 2:case"end":return U.stop()}},S,this)})),function E(S){return D.apply(this,arguments)})}],[{key:"_fromError",value:function(E,S){var C=Tt(E),A=S.customData._serverResponse,F=(A.mfaInfo||[]).map(function(Y){return un._fromServerResponse(C,Y)});Ke(A.mfaPendingCredential,C,"internal-error");var U=Gr._fromMfaPendingCredential(A.mfaPendingCredential);return new M(U,F,function(){var Y=(0,Z.Z)(L().mark(function te(Le){var ze,Pt,$e;return L().wrap(function(Lt){for(;;)switch(Lt.prev=Lt.next){case 0:return Lt.next=2,Le._process(C,U);case 2:ze=Lt.sent,delete A.mfaInfo,delete A.mfaPendingCredential,Pt=Object.assign(Object.assign({},A),{idToken:ze.idToken,refreshToken:ze.refreshToken}),Lt.t0=S.operationType,Lt.next="signIn"===Lt.t0?9:"reauthenticate"===Lt.t0?15:17;break;case 9:return Lt.next=11,La._fromIdTokenResponse(C,S.operationType,Pt);case 11:return $e=Lt.sent,Lt.next=14,C._updateCurrentUser($e.user);case 14:return Lt.abrupt("return",$e);case 15:return Ke(S.user,C,"internal-error"),Lt.abrupt("return",La._forOperation(S.user,S.operationType,Pt));case 17:He(C,"internal-error");case 18:case"end":return Lt.stop()}},te)}));return function(te){return Y.apply(this,arguments)}}())}}]),M;var D}();function gf(M,D){var E,S=(0,K.m9)(M),C=D;return Ke(D.customData.operationType,S,"argument-error"),Ke(null===(E=C.customData._serverResponse)||void 0===E?void 0:E.mfaPendingCredential,S,"argument-error"),Jl._fromError(S,C)}function cl(M,D){return dr(M,"POST","/v2/accounts/mfaEnrollment:start",Dr(M,D))}function lo(M,D){return dr(M,"POST","/v2/accounts/mfaEnrollment:withdraw",Dr(M,D))}var Xl=function(){function M(D){var E=this;(0,s.Z)(this,M),this.user=D,this.enrolledFactors=[],D._onReload(function(S){S.mfaInfo&&(E.enrolledFactors=S.mfaInfo.map(function(C){return un._fromServerResponse(D.auth,C)}))})}return(0,W.Z)(M,[{key:"getSession",value:(D=(0,Z.Z)(L().mark(function S(){return L().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.t0=Gr,A.next=3,this.user.getIdToken();case 3:return A.t1=A.sent,A.abrupt("return",A.t0._fromIdtoken.call(A.t0,A.t1));case 5:case"end":return A.stop()}},S,this)})),function E(){return D.apply(this,arguments)})},{key:"enroll",value:function(){var D=(0,Z.Z)(L().mark(function S(C,A){var F,U,Y;return L().wrap(function(Le){for(;;)switch(Le.prev=Le.next){case 0:return F=C,Le.next=3,this.getSession();case 3:return U=Le.sent,Le.next=6,Di(this.user,F._process(this.user.auth,U,A));case 6:return Y=Le.sent,Le.next=9,this.user._updateTokensIfNecessary(Y);case 9:return Le.abrupt("return",this.user.reload());case 10:case"end":return Le.stop()}},S,this)}));return function E(S,C){return D.apply(this,arguments)}}()},{key:"unenroll",value:function(){var D=(0,Z.Z)(L().mark(function S(C){var A,F,U;return L().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return A="string"==typeof C?C:C.uid,te.next=3,this.user.getIdToken();case 3:return F=te.sent,te.next=6,Di(this.user,lo(this.user.auth,{idToken:F,mfaEnrollmentId:A}));case 6:return U=te.sent,this.enrolledFactors=this.enrolledFactors.filter(function(Le){return Le.uid!==A}),te.next=10,this.user._updateTokensIfNecessary(U);case 10:return te.prev=10,te.next=13,this.user.reload();case 13:te.next=19;break;case 15:if(te.prev=15,te.t0=te.catch(10),te.t0.code==="auth/".concat("user-token-expired")){te.next=19;break}throw te.t0;case 19:case"end":return te.stop()}},S,this,[[10,15]])}));return function E(S){return D.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(E){return new M(E)}}]),M;var D}(),zr=new WeakMap;function Lr(M){var D=(0,K.m9)(M);return zr.has(D)||zr.set(D,Xl._fromUser(D)),zr.get(D)}var Zt="__sak",qn=function(){function M(D,E){(0,s.Z)(this,M),this.storageRetriever=D,this.type=E}return(0,W.Z)(M,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Zt,"1"),this.storage.removeItem(Zt),Promise.resolve(!0)):Promise.resolve(!1)}catch(E){return Promise.resolve(!1)}}},{key:"_set",value:function(E,S){return this.storage.setItem(E,JSON.stringify(S)),Promise.resolve()}},{key:"_get",value:function(E){var S=this.storage.getItem(E);return Promise.resolve(S?JSON.parse(S):null)}},{key:"_remove",value:function(E){return this.storage.removeItem(E),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),M}(),ri=function(){var M=function(D){(0,m.Z)(S,D);var C,E=(0,P.Z)(S);function S(){var C;return(0,s.Z)(this,S),(C=E.call(this,function(){return window.localStorage},"LOCAL")).boundEventHandler=function(A,F){return C.onStorageEvent(A,F)},C.listeners={},C.localCache={},C.pollTimer=null,C.safariLocalStorageNotSynced=function Ft(){var M=(0,K.z$)();return Nt(M)||yn(M)}()&&function ta(){try{return!(!window||window===window.top)}catch(M){return!1}}(),C.fallbackToPolling=cs(),C._shouldAllowMigration=!0,C}return(0,W.Z)(S,[{key:"forAllChangedKeys",value:function(A){for(var F=0,U=Object.keys(this.listeners);F<U.length;F++){var Y=U[F],te=this.storage.getItem(Y),Le=this.localCache[Y];te!==Le&&A(Y,Le,te)}}},{key:"onStorageEvent",value:function(A){var F=this,U=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(A.key){var Y=A.key;if(U?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var te=this.storage.getItem(Y);if(A.newValue!==te)null!==A.newValue?this.storage.setItem(Y,A.newValue):this.storage.removeItem(Y);else if(this.localCache[Y]===A.newValue&&!U)return}var Le=function(){var $e=F.storage.getItem(Y);!U&&F.localCache[Y]===$e||F.notifyListeners(Y,$e)},ze=this.storage.getItem(Y);Ui()&&ze!==A.newValue&&A.newValue!==A.oldValue?setTimeout(Le,10):Le()}else this.forAllChangedKeys(function(Pt,$e,Vt){F.notifyListeners(Pt,Vt)})}},{key:"notifyListeners",value:function(A,F){this.localCache[A]=F;var U=this.listeners[A];if(U)for(var Y=0,te=Array.from(U);Y<te.length;Y++)(0,te[Y])(F&&JSON.parse(F))}},{key:"startPolling",value:function(){var A=this;this.stopPolling(),this.pollTimer=setInterval(function(){A.forAllChangedKeys(function(F,U,Y){A.onStorageEvent(new StorageEvent("storage",{key:F,oldValue:U,newValue:Y}),!0)})},1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(A,F){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[A]||(this.listeners[A]=new Set,this.localCache[A]=this.storage.getItem(A)),this.listeners[A].add(F)}},{key:"_removeListener",value:function(A,F){this.listeners[A]&&(this.listeners[A].delete(F),0===this.listeners[A].size&&delete this.listeners[A]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:(C=(0,Z.Z)(L().mark(function F(U,Y){return L().wrap(function(Le){for(;;)switch(Le.prev=Le.next){case 0:return Le.next=2,(0,X.Z)((0,ne.Z)(S.prototype),"_set",this).call(this,U,Y);case 2:this.localCache[U]=JSON.stringify(Y);case 3:case"end":return Le.stop()}},F,this)})),function A(F,U){return C.apply(this,arguments)})},{key:"_get",value:function(){var C=(0,Z.Z)(L().mark(function F(U){var Y;return L().wrap(function(Le){for(;;)switch(Le.prev=Le.next){case 0:return Le.next=2,(0,X.Z)((0,ne.Z)(S.prototype),"_get",this).call(this,U);case 2:return Y=Le.sent,this.localCache[U]=JSON.stringify(Y),Le.abrupt("return",Y);case 5:case"end":return Le.stop()}},F,this)}));return function A(F){return C.apply(this,arguments)}}()},{key:"_remove",value:function(){var C=(0,Z.Z)(L().mark(function F(U){return L().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return te.next=2,(0,X.Z)((0,ne.Z)(S.prototype),"_remove",this).call(this,U);case 2:delete this.localCache[U];case 3:case"end":return te.stop()}},F,this)}));return function A(F){return C.apply(this,arguments)}}()}]),S}(qn);return M.type="LOCAL",M}(),gs=ri,Br=function(){var M=function(D){(0,m.Z)(S,D);var E=(0,P.Z)(S);function S(){return(0,s.Z)(this,S),E.call(this,function(){return window.sessionStorage},"SESSION")}return(0,W.Z)(S,[{key:"_addListener",value:function(A,F){}},{key:"_removeListener",value:function(A,F){}}]),S}(qn);return M.type="SESSION",M}();function dl(M){return Promise.all(M.map(function(){var D=(0,Z.Z)(L().mark(function E(S){return L().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.prev=0,F.next=3,S;case 3:return F.abrupt("return",{fulfilled:!0,value:F.sent});case 7:return F.prev=7,F.t0=F.catch(0),F.abrupt("return",{fulfilled:!1,reason:F.t0});case 10:case"end":return F.stop()}},E,null,[[0,7]])}));return function(E){return D.apply(this,arguments)}}()))}var ec=function(){var M=function(){function D(E){(0,s.Z)(this,D),this.eventTarget=E,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return(0,W.Z)(D,[{key:"isListeningto",value:function(S){return this.eventTarget===S}},{key:"handleEvent",value:(E=(0,Z.Z)(L().mark(function C(A){var F,U,Y,te,Le,ze,Pt;return L().wrap(function(Lt){for(;;)switch(Lt.prev=Lt.next){case 0:if(Y=(U=(F=A).data).eventId,Le=U.data,null==(ze=this.handlersMap[te=U.eventType])?void 0:ze.size){Lt.next=5;break}return Lt.abrupt("return");case 5:return F.ports[0].postMessage({status:"ack",eventId:Y,eventType:te}),Pt=Array.from(ze).map(function(){var Oi=(0,Z.Z)(L().mark(function Sr(Io){return L().wrap(function(mi){for(;;)switch(mi.prev=mi.next){case 0:return mi.abrupt("return",Io(F.origin,Le));case 1:case"end":return mi.stop()}},Sr)}));return function(Sr){return Oi.apply(this,arguments)}}()),Lt.next=9,dl(Pt);case 9:F.ports[0].postMessage({status:"done",eventId:Y,eventType:te,response:Lt.sent});case 11:case"end":return Lt.stop()}},C,this)})),function S(C){return E.apply(this,arguments)})},{key:"_subscribe",value:function(S,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[S]||(this.handlersMap[S]=new Set),this.handlersMap[S].add(C)}},{key:"_unsubscribe",value:function(S,C){this.handlersMap[S]&&C&&this.handlersMap[S].delete(C),(!C||0===this.handlersMap[S].size)&&delete this.handlersMap[S],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(S){var C=this.receivers.find(function(F){return F.isListeningto(S)});if(C)return C;var A=new D(S);return this.receivers.push(A),A}}]),D;var E}();return M.receivers=[],M}();function yu(){for(var M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",D=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,E="",S=0;S<D;S++)E+=Math.floor(10*Math.random());return M+E}var Qn=function(){function M(D){(0,s.Z)(this,M),this.target=D,this.handlers=new Set}return(0,W.Z)(M,[{key:"removeMessageHandler",value:function(E){E.messageChannel&&(E.messageChannel.port1.removeEventListener("message",E.onMessage),E.messageChannel.port1.close()),this.handlers.delete(E)}},{key:"_send",value:(D=(0,Z.Z)(L().mark(function S(C,A){var U,Y,te,Le,F=this,ze=arguments;return L().wrap(function($e){for(;;)switch($e.prev=$e.next){case 0:if(U=ze.length>2&&void 0!==ze[2]?ze[2]:50,Y="undefined"!=typeof MessageChannel?new MessageChannel:null){$e.next=4;break}throw new Error("connection_unavailable");case 4:return $e.abrupt("return",new Promise(function(Vt,Lt){var Oi=yu("",20);Y.port1.start();var Sr=setTimeout(function(){Lt(new Error("unsupported_event"))},U);F.handlers.add(Le={messageChannel:Y,onMessage:function(gn){var mi=gn;if(mi.data.eventId===Oi)switch(mi.data.status){case"ack":clearTimeout(Sr),te=setTimeout(function(){Lt(new Error("timeout"))},3e3);break;case"done":clearTimeout(te),Vt(mi.data.response);break;default:clearTimeout(Sr),clearTimeout(te),Lt(new Error("invalid_response"))}}}),Y.port1.addEventListener("message",Le.onMessage),F.target.postMessage({eventType:C,eventId:Oi,data:A},[Y.port2])}).finally(function(){Le&&F.removeMessageHandler(Le)}));case 5:case"end":return $e.stop()}},S)})),function E(S,C){return D.apply(this,arguments)})}]),M;var D}();function Vr(){return window}function ms(M){Vr().location.href=M}function bu(){return void 0!==Vr().WorkerGlobalScope&&"function"==typeof Vr().importScripts}function _s(){return ed.apply(this,arguments)}function ed(){return(ed=(0,Z.Z)(L().mark(function M(){return L().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(null==navigator?void 0:navigator.serviceWorker){S.next=2;break}return S.abrupt("return",null);case 2:return S.prev=2,S.next=5,navigator.serviceWorker.ready;case 5:return S.abrupt("return",S.sent.active);case 9:return S.prev=9,S.t0=S.catch(2),S.abrupt("return",null);case 12:case"end":return S.stop()}},M,null,[[2,9]])}))).apply(this,arguments)}function mf(){var M;return(null===(M=null==navigator?void 0:navigator.serviceWorker)||void 0===M?void 0:M.controller)||null}var _f="firebaseLocalStorageDb",co="firebaseLocalStorage",Ha="fbase_key",fo=function(){function M(D){(0,s.Z)(this,M),this.request=D}return(0,W.Z)(M,[{key:"toPromise",value:function(){var E=this;return new Promise(function(S,C){E.request.addEventListener("success",function(){S(E.request.result)}),E.request.addEventListener("error",function(){C(E.request.error)})})}}]),M}();function Ti(M,D){return M.transaction([co],D?"readwrite":"readonly").objectStore(co)}function ho(){var M=indexedDB.deleteDatabase(_f);return new fo(M).toPromise()}function tc(){var M=indexedDB.open(_f,1);return new Promise(function(D,E){M.addEventListener("error",function(){E(M.error)}),M.addEventListener("upgradeneeded",function(){var S=M.result;try{S.createObjectStore(co,{keyPath:Ha})}catch(C){E(C)}}),M.addEventListener("success",(0,Z.Z)(L().mark(function S(){var C;return L().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if((C=M.result).objectStoreNames.contains(co)){F.next=12;break}return C.close(),F.next=5,ho();case 5:return F.t0=D,F.next=8,tc();case 8:F.t1=F.sent,(0,F.t0)(F.t1),F.next=13;break;case 12:D(C);case 13:case"end":return F.stop()}},S)})))})}function It(M,D,E){return ii.apply(this,arguments)}function ii(){return(ii=(0,Z.Z)(L().mark(function M(D,E,S){var C,A;return L().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return A=Ti(D,!0).put(((0,B.Z)(C={},Ha,E),(0,B.Z)(C,"value",S),C)),U.abrupt("return",new fo(A).toPromise());case 2:case"end":return U.stop()}},M)}))).apply(this,arguments)}function Kn(M,D){return td.apply(this,arguments)}function td(){return(td=(0,Z.Z)(L().mark(function M(D,E){var S,C;return L().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return S=Ti(D,!1).get(E),F.next=3,new fo(S).toPromise();case 3:return F.abrupt("return",void 0===(C=F.sent)?null:C.value);case 5:case"end":return F.stop()}},M)}))).apply(this,arguments)}function yf(M,D){var E=Ti(M,!0).delete(D);return new fo(E).toPromise()}var Zn=function(){var M=function(){function D(){(0,s.Z)(this,D),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(function(){},function(){})}return(0,W.Z)(D,[{key:"_openDb",value:(E=(0,Z.Z)(L().mark(function C(){return L().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(!this.db){F.next=2;break}return F.abrupt("return",this.db);case 2:return F.next=4,tc();case 4:return this.db=F.sent,F.abrupt("return",this.db);case 6:case"end":return F.stop()}},C,this)})),function S(){return E.apply(this,arguments)})},{key:"_withRetries",value:function(){var E=(0,Z.Z)(L().mark(function C(A){var F,U;return L().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:F=0;case 1:return te.prev=2,te.next=5,this._openDb();case 5:return U=te.sent,te.next=8,A(U);case 8:return te.abrupt("return",te.sent);case 11:if(te.prev=11,te.t0=te.catch(2),!(F++>3)){te.next=15;break}throw te.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:te.next=1;break;case 18:case"end":return te.stop()}},C,this,[[2,11]])}));return function S(C){return E.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var E=(0,Z.Z)(L().mark(function C(){return L().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.abrupt("return",bu()?this.initializeReceiver():this.initializeSender());case 1:case"end":return F.stop()}},C,this)}));return function S(){return E.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var E=(0,Z.Z)(L().mark(function C(){var A=this;return L().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:this.receiver=ec._getInstance(bu()?self:null),this.receiver._subscribe("keyChanged",function(){var Y=(0,Z.Z)(L().mark(function te(Le,ze){return L().wrap(function(Vt){for(;;)switch(Vt.prev=Vt.next){case 0:return Vt.next=2,A._poll();case 2:return Vt.abrupt("return",{keyProcessed:Vt.sent.includes(ze.key)});case 4:case"end":return Vt.stop()}},te)}));return function(te,Le){return Y.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var Y=(0,Z.Z)(L().mark(function te(Le,ze){return L().wrap(function($e){for(;;)switch($e.prev=$e.next){case 0:return $e.abrupt("return",["keyChanged"]);case 1:case"end":return $e.stop()}},te)}));return function(te,Le){return Y.apply(this,arguments)}}());case 3:case"end":return U.stop()}},C,this)}));return function S(){return E.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var E=(0,Z.Z)(L().mark(function C(){var A,F,U;return L().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return te.next=2,_s();case 2:if(this.activeServiceWorker=te.sent,this.activeServiceWorker){te.next=5;break}return te.abrupt("return");case 5:return this.sender=new Qn(this.activeServiceWorker),te.next=8,this.sender._send("ping",{},800);case 8:if(U=te.sent){te.next=11;break}return te.abrupt("return");case 11:(null===(A=U[0])||void 0===A?void 0:A.fulfilled)&&(null===(F=U[0])||void 0===F?void 0:F.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return te.stop()}},C,this)}));return function S(){return E.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var E=(0,Z.Z)(L().mark(function C(A){return L().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(this.sender&&this.activeServiceWorker&&mf()===this.activeServiceWorker){U.next=2;break}return U.abrupt("return");case 2:return U.prev=2,U.next=5,this.sender._send("keyChanged",{key:A},this.serviceWorkerReceiverAvailable?800:50);case 5:U.next=9;break;case 7:U.prev=7,U.t0=U.catch(2);case 9:case"end":return U.stop()}},C,this,[[2,7]])}));return function S(C){return E.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var E=(0,Z.Z)(L().mark(function C(){var A;return L().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(U.prev=0,indexedDB){U.next=3;break}return U.abrupt("return",!1);case 3:return U.next=5,tc();case 5:return A=U.sent,U.next=8,It(A,Zt,"1");case 8:return U.next=10,yf(A,Zt);case 10:return U.abrupt("return",!0);case 13:U.prev=13,U.t0=U.catch(0);case 15:return U.abrupt("return",!1);case 16:case"end":return U.stop()}},C,null,[[0,13]])}));return function S(){return E.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var E=(0,Z.Z)(L().mark(function C(A){return L().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return this.pendingWrites++,U.prev=1,U.next=4,A();case 4:return U.prev=4,this.pendingWrites--,U.finish(4);case 7:case"end":return U.stop()}},C,this,[[1,,4,7]])}));return function S(C){return E.apply(this,arguments)}}()},{key:"_set",value:function(){var E=(0,Z.Z)(L().mark(function C(A,F){var U=this;return L().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return te.abrupt("return",this._withPendingWrite((0,Z.Z)(L().mark(function Le(){return L().wrap(function(Pt){for(;;)switch(Pt.prev=Pt.next){case 0:return Pt.next=2,U._withRetries(function($e){return It($e,A,F)});case 2:return U.localCache[A]=F,Pt.abrupt("return",U.notifyServiceWorker(A));case 4:case"end":return Pt.stop()}},Le)}))));case 1:case"end":return te.stop()}},C,this)}));return function S(C,A){return E.apply(this,arguments)}}()},{key:"_get",value:function(){var E=(0,Z.Z)(L().mark(function C(A){var F;return L().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return Y.next=2,this._withRetries(function(te){return Kn(te,A)});case 2:return this.localCache[A]=F=Y.sent,Y.abrupt("return",F);case 5:case"end":return Y.stop()}},C,this)}));return function S(C){return E.apply(this,arguments)}}()},{key:"_remove",value:function(){var E=(0,Z.Z)(L().mark(function C(A){var F=this;return L().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return Y.abrupt("return",this._withPendingWrite((0,Z.Z)(L().mark(function te(){return L().wrap(function(ze){for(;;)switch(ze.prev=ze.next){case 0:return ze.next=2,F._withRetries(function(Pt){return yf(Pt,A)});case 2:return delete F.localCache[A],ze.abrupt("return",F.notifyServiceWorker(A));case 4:case"end":return ze.stop()}},te)}))));case 1:case"end":return Y.stop()}},C,this)}));return function S(C){return E.apply(this,arguments)}}()},{key:"_poll",value:function(){var E=(0,Z.Z)(L().mark(function C(){var A,F,U,Y,te,Le,ze,Pt,$e,Vt,Lt;return L().wrap(function(Sr){for(;;)switch(Sr.prev=Sr.next){case 0:return Sr.next=2,this._withRetries(function(Io){var gn=Ti(Io,!1).getAll();return new fo(gn).toPromise()});case 2:if(A=Sr.sent){Sr.next=5;break}return Sr.abrupt("return",[]);case 5:if(0===this.pendingWrites){Sr.next=7;break}return Sr.abrupt("return",[]);case 7:F=[],U=new Set,Y=(0,N.Z)(A);try{for(Y.s();!(te=Y.n()).done;)Pt=(Le=te.value).value,U.add(ze=Le.fbase_key),JSON.stringify(this.localCache[ze])!==JSON.stringify(Pt)&&(this.notifyListeners(ze,Pt),F.push(ze))}catch(Io){Y.e(Io)}finally{Y.f()}for($e=0,Vt=Object.keys(this.localCache);$e<Vt.length;$e++)this.localCache[Lt=Vt[$e]]&&!U.has(Lt)&&(this.notifyListeners(Lt,null),F.push(Lt));return Sr.abrupt("return",F);case 13:case"end":return Sr.stop()}},C,this)}));return function S(){return E.apply(this,arguments)}}()},{key:"notifyListeners",value:function(S,C){this.localCache[S]=C;var A=this.listeners[S];if(A)for(var F=0,U=Array.from(A);F<U.length;F++)(0,U[F])(C)}},{key:"startPolling",value:function(){var S=this;this.stopPolling(),this.pollTimer=setInterval((0,Z.Z)(L().mark(function C(){return L().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.abrupt("return",S._poll());case 1:case"end":return F.stop()}},C)})),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(S,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[S]||(this.listeners[S]=new Set,this._get(S)),this.listeners[S].add(C)}},{key:"_removeListener",value:function(S,C){this.listeners[S]&&(this.listeners[S].delete(C),0===this.listeners[S].size&&delete this.listeners[S]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),D;var E}();return M.type="LOCAL",M}(),bf=Zn;function nc(M,D){return dr(M,"POST","/v2/accounts/mfaSignIn:start",Dr(M,D))}function gi(M){return rc.apply(this,arguments)}function rc(){return(rc=(0,Z.Z)(L().mark(function M(D){return L().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,dr(D,"GET","/v1/recaptchaParams");case 2:if(S.t0=S.sent.recaptchaSiteKey,S.t0){S.next=5;break}S.t0="";case 5:return S.abrupt("return",S.t0);case 6:case"end":return S.stop()}},M)}))).apply(this,arguments)}function _n(M){return new Promise(function(D,E){var S=document.createElement("script");S.setAttribute("src",M),S.onload=D,S.onerror=function(C){var A=tt("internal-error");A.customData=C,E(A)},S.type="text/javascript",S.charset="UTF-8",function hl(){var M,D;return null!==(D=null===(M=document.getElementsByTagName("head"))||void 0===M?void 0:M[0])&&void 0!==D?D:document}().appendChild(S)})}function Go(M){return"__".concat(M).concat(Math.floor(1e6*Math.random()))}var vl=1e12,gl=function(){function M(D){(0,s.Z)(this,M),this.auth=D,this.counter=vl,this._widgets=new Map}return(0,W.Z)(M,[{key:"render",value:function(E,S){var C=this.counter;return this._widgets.set(C,new ai(E,this.auth.name,S||{})),this.counter++,C}},{key:"reset",value:function(E){var S,C=E||vl;null===(S=this._widgets.get(C))||void 0===S||S.delete(),this._widgets.delete(C)}},{key:"getResponse",value:function(E){var S;return(null===(S=this._widgets.get(E||vl))||void 0===S?void 0:S.getResponse())||""}},{key:"execute",value:(D=(0,Z.Z)(L().mark(function S(C){var A;return L().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return null===(A=this._widgets.get(C||vl))||void 0===A||A.execute(),Y.abrupt("return","");case 3:case"end":return Y.stop()}},S,this)})),function E(S){return D.apply(this,arguments)})}]),M;var D}(),ai=function(){function M(D,E,S){var C=this;(0,s.Z)(this,M),this.params=S,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){C.execute()};var A="string"==typeof D?document.getElementById(D):D;Ke(A,"argument-error",{appName:E}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return(0,W.Z)(M,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var E=this;this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(function(){E.responseToken=function ic(M){for(var D=[],E="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",S=0;S<M;S++)D.push(E.charAt(Math.floor(Math.random()*E.length)));return D.join("")}(50);var S=E.params,C=S.callback,A=S["expired-callback"];if(C)try{C(E.responseToken)}catch(F){}E.timerId=window.setTimeout(function(){if(E.timerId=null,E.responseToken=null,A)try{A()}catch(F){}E.isVisible&&E.execute()},6e4)},500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),M}(),ac=Go("rcb"),Yr=new mn(3e4,6e4),Jh="https://www.google.com/recaptcha/api.js?",kf=function(){function M(){(0,s.Z)(this,M),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Vr().grecaptcha}return(0,W.Z)(M,[{key:"load",value:function(E){var S=this,C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Ke(Xh(C),E,"argument-error"),this.shouldResolveImmediately(C)?Promise.resolve(Vr().grecaptcha):new Promise(function(A,F){var U=Vr().setTimeout(function(){F(tt(E,"network-request-failed"))},Yr.get());Vr()[ac]=function(){Vr().clearTimeout(U),delete Vr()[ac];var te=Vr().grecaptcha;if(te){var Le=te.render;te.render=function(ze,Pt){var $e=Le(ze,Pt);return S.counter++,$e},S.hostLanguage=C,A(te)}else F(tt(E,"internal-error"))},_n("".concat(Jh,"?").concat((0,K.xO)({onload:ac,render:"explicit",hl:C}))).catch(function(){clearTimeout(U),F(tt(E,"internal-error"))})})}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(E){return!!Vr().grecaptcha&&(E===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),M}();function Xh(M){return M.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(M)}var vg=function(){function M(){(0,s.Z)(this,M)}return(0,W.Z)(M,[{key:"load",value:(D=(0,Z.Z)(L().mark(function S(C){return L().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.abrupt("return",new gl(C));case 1:case"end":return F.stop()}},S)})),function E(S){return D.apply(this,arguments)})},{key:"clearedOneInstance",value:function(){}}]),M;var D}(),ep="recaptcha",tp={theme:"light",type:"image"},np=function(){function M(D){var E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},tp),S=arguments.length>2?arguments[2]:void 0;(0,s.Z)(this,M),this.parameters=E,this.type=ep,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Tt(S),this.isInvisible="invisible"===this.parameters.size,Ke("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");var C="string"==typeof D?document.getElementById(D):D;Ke(C,this.auth,"argument-error"),this.container=C,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new vg:new kf,this.validateStartingState()}return(0,W.Z)(M,[{key:"verify",value:(D=(0,Z.Z)(L().mark(function S(){var A,F,U,C=this;return L().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return this.assertNotDestroyed(),te.next=3,this.render();case 3:if(A=te.sent,F=this.getAssertedRecaptcha(),!(U=F.getResponse(A))){te.next=8;break}return te.abrupt("return",U);case 8:return te.abrupt("return",new Promise(function(Le){C.tokenChangeListeners.add(function Pt($e){!$e||(C.tokenChangeListeners.delete(Pt),Le($e))}),C.isInvisible&&F.execute(A)}));case 9:case"end":return te.stop()}},S,this)})),function E(){return D.apply(this,arguments)})},{key:"render",value:function(){var E=this;try{this.assertNotDestroyed()}catch(S){return Promise.reject(S)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(function(S){throw E.renderPromise=null,S})),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var E=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(function(S){E.container.removeChild(S)})}},{key:"validateStartingState",value:function(){Ke(!this.parameters.sitekey,this.auth,"argument-error"),Ke(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ke("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(E){var S=this;return function(C){if(S.tokenChangeListeners.forEach(function(F){return F(C)}),"function"==typeof E)E(C);else if("string"==typeof E){var A=Vr()[E];"function"==typeof A&&A(C)}}}},{key:"assertNotDestroyed",value:function(){Ke(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var D=(0,Z.Z)(L().mark(function S(){var C,A;return L().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.next=2,this.init();case 2:return this.widgetId||(C=this.container,this.isInvisible||(A=document.createElement("div"),C.appendChild(A),C=A),this.widgetId=this.getAssertedRecaptcha().render(C,this.parameters)),U.abrupt("return",this.widgetId);case 4:case"end":return U.stop()}},S,this)}));return function E(){return D.apply(this,arguments)}}()},{key:"init",value:function(){var D=(0,Z.Z)(L().mark(function S(){var C;return L().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return Ke(Ir()&&!bu(),this.auth,"internal-error"),F.next=3,ml();case 3:return F.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=F.sent,F.next=8,gi(this.auth);case 8:Ke(C=F.sent,this.auth,"internal-error"),this.parameters.sitekey=C;case 11:case"end":return F.stop()}},S,this)}));return function E(){return D.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Ke(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),M;var D}();function ml(){var M=null;return new Promise(function(D){"complete"!==document.readyState?(M=function(){return D()},window.addEventListener("load",M)):D()}).catch(function(D){throw M&&window.removeEventListener("load",M),D})}var _l=function(){function M(D,E){(0,s.Z)(this,M),this.verificationId=D,this.onConfirmation=E}return(0,W.Z)(M,[{key:"confirm",value:function(E){var S=zl._fromVerification(this.verificationId,E);return this.onConfirmation(S)}}]),M}();function Wr(M,D,E){return ja.apply(this,arguments)}function ja(){return(ja=(0,Z.Z)(L().mark(function M(D,E,S){var C;return L().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return C=Tt(D),U.next=3,ra(C,E,(0,K.m9)(S));case 3:return U.abrupt("return",new _l(U.sent,function(Y){return Xu(C,Y)}));case 5:case"end":return U.stop()}},M)}))).apply(this,arguments)}function Rr(M,D,E){return oc.apply(this,arguments)}function oc(){return(oc=(0,Z.Z)(L().mark(function M(D,E,S){var C;return L().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return C=(0,K.m9)(D),U.next=3,pu(!1,C,"phone");case 3:return U.next=5,ra(C.auth,E,(0,K.m9)(S));case 5:return U.abrupt("return",new _l(U.sent,function(Y){return Ba(C,Y)}));case 7:case"end":return U.stop()}},M)}))).apply(this,arguments)}function Rn(M,D,E){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,Z.Z)(L().mark(function M(D,E,S){var C;return L().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return C=(0,K.m9)(D),U.next=3,ra(C.auth,E,(0,K.m9)(S));case 3:return U.abrupt("return",new _l(U.sent,function(Y){return Ls(C,Y)}));case 5:case"end":return U.stop()}},M)}))).apply(this,arguments)}function ra(M,D,E){return wu.apply(this,arguments)}function wu(){return(wu=(0,Z.Z)(L().mark(function M(D,E,S){var C,A,F,U,te;return L().wrap(function(Vt){for(;;)switch(Vt.prev=Vt.next){case 0:return Vt.next=2,S.verify();case 2:if(A=Vt.sent,Vt.prev=3,Ke("string"==typeof A,D,"argument-error"),Ke(S.type===ep,D,"argument-error"),!("session"in(F="string"==typeof E?{phoneNumber:E}:E))){Vt.next=26;break}if(U=F.session,!("phoneNumber"in F)){Vt.next=17;break}return Ke("enroll"===U.type,D,"internal-error"),Vt.next=13,cl(D,{idToken:U.credential,phoneEnrollmentInfo:{phoneNumber:F.phoneNumber,recaptchaToken:A}});case 13:return Vt.abrupt("return",Vt.sent.phoneSessionInfo.sessionInfo);case 17:return Ke("signin"===U.type,D,"internal-error"),Ke(te=(null===(C=F.multiFactorHint)||void 0===C?void 0:C.uid)||F.multiFactorUid,D,"missing-multi-factor-info"),Vt.next=22,nc(D,{mfaPendingCredential:U.credential,mfaEnrollmentId:te,phoneSignInInfo:{recaptchaToken:A}});case 22:return Vt.abrupt("return",Vt.sent.phoneResponseInfo.sessionInfo);case 24:Vt.next=31;break;case 26:return Vt.next=28,og(D,{phoneNumber:F.phoneNumber,recaptchaToken:A});case 28:return Vt.abrupt("return",Vt.sent.sessionInfo);case 31:return Vt.prev=31,S._reset(),Vt.finish(31);case 34:case"end":return Vt.stop()}},M,null,[[3,,31,34]])}))).apply(this,arguments)}function ca(M,D){return po.apply(this,arguments)}function po(){return(po=(0,Z.Z)(L().mark(function M(D,E){return L().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,_r((0,K.m9)(D),E);case 2:case"end":return C.stop()}},M)}))).apply(this,arguments)}var yl=function(){var M=function(){function D(E){(0,s.Z)(this,D),this.providerId=D.PROVIDER_ID,this.auth=Tt(E)}return(0,W.Z)(D,[{key:"verifyPhoneNumber",value:function(S,C){return ra(this.auth,S,(0,K.m9)(C))}}],[{key:"credential",value:function(S,C){return zl._fromVerification(S,C)}},{key:"credentialFromResult",value:function(S){return D.credentialFromTaggedObject(S)}},{key:"credentialFromError",value:function(S){return D.credentialFromTaggedObject(S.customData||{})}},{key:"credentialFromTaggedObject",value:function(S){var C=S._tokenResponse;if(!C)return null;var A=C.phoneNumber,F=C.temporaryProof;return A&&F?zl._fromTokenResponse(A,F):null}}]),D}();return M.PROVIDER_ID="phone",M.PHONE_SIGN_IN_METHOD="phone",M}();function Vs(M,D){return D?$n(D):(Ke(M._popupRedirectResolver,M,"argument-error"),M._popupRedirectResolver)}var wf=function(M){(0,m.Z)(E,M);var D=(0,P.Z)(E);function E(S){var C;return(0,s.Z)(this,E),(C=D.call(this,"custom","custom")).params=S,C}return(0,W.Z)(E,[{key:"_getIdTokenResponse",value:function(C){return Bo(C,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(C,A){return Bo(C,this._buildIdpRequest(A))}},{key:"_getReauthenticationResolver",value:function(C){return Bo(C,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(C){var A={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return C&&(A.idToken=C),A}}]),E}(Cr);function gg(M){return fs(M.auth,new wf(M),M.bypassAuthState)}function mg(M){var E=M.user;return Ke(E,M.auth,"internal-error"),lf(E,new wf(M),M.bypassAuthState)}function Us(M){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,Z.Z)(L().mark(function M(D){var S;return L().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return Ke(S=D.user,D.auth,"internal-error"),A.abrupt("return",_r(S,new wf(D),D.bypassAuthState));case 3:case"end":return A.stop()}},M)}))).apply(this,arguments)}var sc=function(){function M(D,E,S,C){var A=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(0,s.Z)(this,M),this.auth=D,this.resolver=S,this.user=C,this.bypassAuthState=A,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(E)?E:[E]}return(0,W.Z)(M,[{key:"execute",value:function(){var E=this;return new Promise(function(){var S=(0,Z.Z)(L().mark(function C(A,F){return L().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return E.pendingPromise={resolve:A,reject:F},Y.prev=1,Y.next=4,E.resolver._initialize(E.auth);case 4:return E.eventManager=Y.sent,Y.next=7,E.onExecution();case 7:E.eventManager.registerConsumer(E),Y.next=13;break;case 10:Y.prev=10,Y.t0=Y.catch(1),E.reject(Y.t0);case 13:case"end":return Y.stop()}},C,null,[[1,10]])}));return function(C,A){return S.apply(this,arguments)}}())}},{key:"onAuthEvent",value:(D=(0,Z.Z)(L().mark(function S(C){var A,F,U,Y,te,Le,ze;return L().wrap(function($e){for(;;)switch($e.prev=$e.next){case 0:if(A=C.urlResponse,F=C.sessionId,U=C.postBody,Y=C.tenantId,Le=C.type,!(te=C.error)){$e.next=4;break}return this.reject(te),$e.abrupt("return");case 4:return ze={auth:this.auth,requestUri:A,sessionId:F,tenantId:Y||void 0,postBody:U||void 0,user:this.user,bypassAuthState:this.bypassAuthState},$e.prev=5,$e.t0=this,$e.next=9,this.getIdpTask(Le)(ze);case 9:$e.t1=$e.sent,$e.t0.resolve.call($e.t0,$e.t1),$e.next=16;break;case 13:$e.prev=13,$e.t2=$e.catch(5),this.reject($e.t2);case 16:case"end":return $e.stop()}},S,this,[[5,13]])})),function E(S){return D.apply(this,arguments)})},{key:"onError",value:function(E){this.reject(E)}},{key:"getIdpTask",value:function(E){switch(E){case"signInViaPopup":case"signInViaRedirect":return gg;case"linkViaPopup":case"linkViaRedirect":return Us;case"reauthViaPopup":case"reauthViaRedirect":return mg;default:He(this.auth,"internal-error")}}},{key:"resolve",value:function(E){ln(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(E),this.unregisterAndCleanUp()}},{key:"reject",value:function(E){ln(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(E),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),M;var D}(),Hs=new mn(2e3,1e4);function js(M,D,E){return uc.apply(this,arguments)}function uc(){return(uc=(0,Z.Z)(L().mark(function M(D,E,S){var C,A,F;return L().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return C=Tt(D),Qe(D,E,ds),A=Vs(C,S),F=new wn(C,"signInViaPopup",E,A),Y.abrupt("return",F.executeNotNull());case 5:case"end":return Y.stop()}},M)}))).apply(this,arguments)}function Gs(M,D,E){return nd.apply(this,arguments)}function nd(){return(nd=(0,Z.Z)(L().mark(function M(D,E,S){var C,A,F;return L().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return Qe((C=(0,K.m9)(D)).auth,E,ds),A=Vs(C.auth,S),F=new wn(C.auth,"reauthViaPopup",E,A,C),Y.abrupt("return",F.executeNotNull());case 5:case"end":return Y.stop()}},M)}))).apply(this,arguments)}function _g(M,D,E){return bl.apply(this,arguments)}function bl(){return(bl=(0,Z.Z)(L().mark(function M(D,E,S){var C,A,F;return L().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return Qe((C=(0,K.m9)(D)).auth,E,ds),A=Vs(C.auth,S),F=new wn(C.auth,"linkViaPopup",E,A,C),Y.abrupt("return",F.executeNotNull());case 5:case"end":return Y.stop()}},M)}))).apply(this,arguments)}var wn=function(){var M=function(D){(0,m.Z)(S,D);var C,E=(0,P.Z)(S);function S(C,A,F,U,Y){var te;return(0,s.Z)(this,S),(te=E.call(this,C,A,U,Y)).provider=F,te.authWindow=null,te.pollId=null,S.currentPopupAction&&S.currentPopupAction.cancel(),S.currentPopupAction=(0,_.Z)(te),te}return(0,W.Z)(S,[{key:"executeNotNull",value:(C=(0,Z.Z)(L().mark(function F(){var U;return L().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return te.next=2,this.execute();case 2:return Ke(U=te.sent,this.auth,"internal-error"),te.abrupt("return",U);case 5:case"end":return te.stop()}},F,this)})),function A(){return C.apply(this,arguments)})},{key:"onExecution",value:function(){var C=(0,Z.Z)(L().mark(function F(){var Y,U=this;return L().wrap(function(Le){for(;;)switch(Le.prev=Le.next){case 0:return ln(1===this.filter.length,"Popup operations only handle one event"),Y=yu(),Le.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],Y);case 4:this.authWindow=Le.sent,this.authWindow.associatedEvent=Y,this.resolver._originValidation(this.auth).catch(function(ze){U.reject(ze)}),this.resolver._isIframeWebStorageSupported(this.auth,function(ze){ze||U.reject(tt(U.auth,"web-storage-unsupported"))}),this.pollUserCancellation();case 9:case"end":return Le.stop()}},F,this)}));return function A(){return C.apply(this,arguments)}}()},{key:"eventId",get:function(){var A;return(null===(A=this.authWindow)||void 0===A?void 0:A.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(tt(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,S.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var A=this;!function U(){var Y,te;A.pollId=(null===(te=null===(Y=A.authWindow)||void 0===Y?void 0:Y.window)||void 0===te?void 0:te.closed)?window.setTimeout(function(){A.pollId=null,A.reject(tt(A.auth,"popup-closed-by-user"))},2e3):window.setTimeout(U,Hs.get())}()}}]),S}(sc);return M.currentPopupAction=null,M}(),Ga=new Map,H=function(M){(0,m.Z)(E,M);var S,D=(0,P.Z)(E);function E(S,C){var A,F=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,s.Z)(this,E),(A=D.call(this,S,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],C,void 0,F)).eventId=null,A}return(0,W.Z)(E,[{key:"execute",value:(S=(0,Z.Z)(L().mark(function A(){var F,Y;return L().wrap(function(Le){for(;;)switch(Le.prev=Le.next){case 0:if(F=Ga.get(this.auth._key())){Le.next=21;break}return Le.prev=2,Le.next=5,V(this.resolver,this.auth);case 5:if(!Le.sent){Le.next=12;break}return Le.next=9,(0,X.Z)((0,ne.Z)(E.prototype),"execute",this).call(this);case 9:Le.t0=Le.sent,Le.next=13;break;case 12:Le.t0=null;case 13:Y=Le.t0,F=function(){return Promise.resolve(Y)},Le.next=20;break;case 17:Le.prev=17,Le.t1=Le.catch(2),F=function(){return Promise.reject(Le.t1)};case 20:Ga.set(this.auth._key(),F);case 21:return this.bypassAuthState||Ga.set(this.auth._key(),function(){return Promise.resolve(null)}),Le.abrupt("return",F());case 23:case"end":return Le.stop()}},A,this,[[2,17]])})),function C(){return S.apply(this,arguments)})},{key:"onAuthEvent",value:function(){var S=(0,Z.Z)(L().mark(function A(F){var U;return L().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:if("signInViaRedirect"!==F.type){te.next=4;break}return te.abrupt("return",(0,X.Z)((0,ne.Z)(E.prototype),"onAuthEvent",this).call(this,F));case 4:if("unknown"!==F.type){te.next=7;break}return this.resolve(null),te.abrupt("return");case 7:if(!F.eventId){te.next=17;break}return te.next=10,this.auth._redirectUserForId(F.eventId);case 10:if(!(U=te.sent)){te.next=16;break}return this.user=U,te.abrupt("return",(0,X.Z)((0,ne.Z)(E.prototype),"onAuthEvent",this).call(this,F));case 16:this.resolve(null);case 17:case"end":return te.stop()}},A,this)}));return function C(A){return S.apply(this,arguments)}}()},{key:"onExecution",value:function(){var S=(0,Z.Z)(L().mark(function A(){return L().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:case"end":return U.stop()}},A)}));return function C(){return S.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),E}(sc);function V(M,D){return z.apply(this,arguments)}function z(){return(z=(0,Z.Z)(L().mark(function M(D,E){var S,C,A;return L().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return S=Je(E),C=ge(D),U.next=4,C._isAvailable();case 4:if(U.sent){U.next=6;break}return U.abrupt("return",!1);case 6:return U.next=8,C._get(S);case 8:return U.t0=U.sent,A="true"===U.t0,U.next=12,C._remove(S);case 12:return U.abrupt("return",A);case 13:case"end":return U.stop()}},M)}))).apply(this,arguments)}function Q(M,D){return se.apply(this,arguments)}function se(){return(se=(0,Z.Z)(L().mark(function M(D,E){return L().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",ge(D)._set(Je(E),"true"));case 1:case"end":return C.stop()}},M)}))).apply(this,arguments)}function ce(){Ga.clear()}function he(M,D){Ga.set(M._key(),D)}function ge(M){return $n(M._redirectPersistence)}function Je(M){return Se("pendingRedirect",M.config.apiKey,M.name)}function at(M,D,E){return function ot(M,D,E){return et.apply(this,arguments)}(M,D,E)}function et(){return(et=(0,Z.Z)(L().mark(function M(D,E,S){var C,A;return L().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return C=Tt(D),Qe(D,E,ds),A=Vs(C,S),U.next=5,Q(A,C);case 5:return U.abrupt("return",A._openRedirect(C,E,"signInViaRedirect"));case 6:case"end":return U.stop()}},M)}))).apply(this,arguments)}function Kt(M,D,E){return function fn(M,D,E){return Rt.apply(this,arguments)}(M,D,E)}function Rt(){return(Rt=(0,Z.Z)(L().mark(function M(D,E,S){var C,A;return L().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return Qe((C=(0,K.m9)(D)).auth,E,ds),A=Vs(C.auth,S),Y.next=5,Q(A,C.auth);case 5:return Y.next=7,or(C);case 7:return Y.abrupt("return",A._openRedirect(C.auth,E,"reauthViaRedirect",Y.sent));case 9:case"end":return Y.stop()}},M)}))).apply(this,arguments)}function nn(M,D,E){return function On(M,D,E){return Jn.apply(this,arguments)}(M,D,E)}function Jn(){return(Jn=(0,Z.Z)(L().mark(function M(D,E,S){var C,A;return L().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return Qe((C=(0,K.m9)(D)).auth,E,ds),A=Vs(C.auth,S),Y.next=5,pu(!1,C,E.providerId);case 5:return Y.next=7,Q(A,C.auth);case 7:return Y.next=9,or(C);case 9:return Y.abrupt("return",A._openRedirect(C.auth,E,"linkViaRedirect",Y.sent));case 11:case"end":return Y.stop()}},M)}))).apply(this,arguments)}function ar(M,D){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,Z.Z)(L().mark(function M(D,E){return L().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,Tt(D)._initializationPromise;case 2:return C.abrupt("return",Ri(D,E,!1));case 3:case"end":return C.stop()}},M)}))).apply(this,arguments)}function Ri(M,D){return za.apply(this,arguments)}function za(){return za=(0,Z.Z)(L().mark(function M(D,E){var S,C,A,F,U,Y=arguments;return L().wrap(function(Le){for(;;)switch(Le.prev=Le.next){case 0:return S=Y.length>2&&void 0!==Y[2]&&Y[2],C=Tt(D),A=Vs(C,E),F=new H(C,A,S),Le.next=6,F.execute();case 6:if(!(U=Le.sent)||S){Le.next=13;break}return delete U.user._redirectEventId,Le.next=11,C._persistUserIfCurrent(U.user);case 11:return Le.next=13,C._setRedirectUser(null,E);case 13:return Le.abrupt("return",U);case 14:case"end":return Le.stop()}},M)})),za.apply(this,arguments)}function or(M){return zt.apply(this,arguments)}function zt(){return(zt=(0,Z.Z)(L().mark(function M(D){var E;return L().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return E=yu("".concat(D.uid,":::")),D._redirectEventId=E,C.next=4,D.auth._setRedirectUser(D);case 4:return C.next=6,D.auth._persistUserIfCurrent(D);case 6:return C.abrupt("return",E);case 7:case"end":return C.stop()}},M)}))).apply(this,arguments)}var Ef=function(){function M(D){(0,s.Z)(this,M),this.auth=D,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return(0,W.Z)(M,[{key:"registerConsumer",value:function(E){this.consumers.add(E),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,E)&&(this.sendToConsumer(this.queuedRedirectEvent,E),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(E){this.consumers.delete(E)}},{key:"onEvent",value:function(E){var S=this;if(this.hasEventBeenHandled(E))return!1;var C=!1;return this.consumers.forEach(function(A){S.isEventForConsumer(E,A)&&(C=!0,S.sendToConsumer(E,A),S.saveEventToCache(E))}),this.hasHandledPotentialRedirect||!function rd(M){switch(M.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Df(M);default:return!1}}(E)||(this.hasHandledPotentialRedirect=!0,C||(this.queuedRedirectEvent=E,C=!0)),C}},{key:"sendToConsumer",value:function(E,S){var C;if(E.error&&!Df(E)){var A=(null===(C=E.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";S.onError(tt(this.auth,A))}else S.onAuthEvent(E)}},{key:"isEventForConsumer",value:function(E,S){var C=null===S.eventId||!!E.eventId&&E.eventId===S.eventId;return S.filter.includes(E.type)&&C}},{key:"hasEventBeenHandled",value:function(E){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(To(E))}},{key:"saveEventToCache",value:function(E){this.cachedEventUids.add(To(E)),this.lastProcessedEventTime=Date.now()}}]),M}();function To(M){return[M.type,M.eventId,M.sessionId,M.tenantId].filter(function(D){return D}).join("-")}function Df(M){var E=M.error;return"unknown"===M.type&&(null==E?void 0:E.code)==="auth/".concat("no-auth-event")}function Mf(M){return rp.apply(this,arguments)}function rp(){return rp=(0,Z.Z)(L().mark(function M(D){var S=arguments;return L().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.abrupt("return",dr(D,"GET","/v1/projects",S.length>1&&void 0!==S[1]?S[1]:{}));case 2:case"end":return A.stop()}},M)})),rp.apply(this,arguments)}var Sf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ks=/^https?/;function cc(){return(cc=(0,Z.Z)(L().mark(function M(D){var C,A,F;return L().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:if(!D.config.emulator){Y.next=2;break}return Y.abrupt("return");case 2:return Y.next=4,Mf(D);case 4:C=(0,N.Z)(Y.sent.authorizedDomains),Y.prev=7,C.s();case 9:if((A=C.n()).done){Y.next=20;break}if(F=A.value,Y.prev=11,!Uw(F)){Y.next=14;break}return Y.abrupt("return");case 14:Y.next=18;break;case 16:Y.prev=16,Y.t0=Y.catch(11);case 18:Y.next=9;break;case 20:Y.next=25;break;case 22:Y.prev=22,Y.t1=Y.catch(7),C.e(Y.t1);case 25:return Y.prev=25,C.f(),Y.finish(25);case 28:He(D,"unauthorized-domain");case 29:case"end":return Y.stop()}},M,null,[[7,22,25,28],[11,16]])}))).apply(this,arguments)}function Uw(M){var D=Qr(),E=new URL(D),S=E.protocol,C=E.hostname;if(M.startsWith("chrome-extension://")){var A=new URL(M);return""===A.hostname&&""===C?"chrome-extension:"===S&&M.replace("chrome-extension://","")===D.replace("chrome-extension://",""):"chrome-extension:"===S&&A.hostname===C}if(!ks.test(S))return!1;if(Sf.test(M))return C===M;var F=M.replace(/\./g,"\\.");return new RegExp("^(.+\\."+F+"|"+F+")$","i").test(C)}var Tf=new mn(3e4,6e4);function id(){var M=Vr().___jsl;if(null==M?void 0:M.H)for(var D=0,E=Object.keys(M.H);D<E.length;D++){var S=E[D];if(M.H[S].r=M.H[S].r||[],M.H[S].L=M.H[S].L||[],M.H[S].r=(0,ie.Z)(M.H[S].L),M.CP)for(var C=0;C<M.CP.length;C++)M.CP[C]=null}}var ad=null;function ry(M){return ad=ad||function ny(M){return new Promise(function(D,E){var S,C,A;function F(){id(),gapi.load("gapi.iframes",{callback:function(){D(gapi.iframes.getContext())},ontimeout:function(){id(),E(tt(M,"network-request-failed"))},timeout:Tf.get()})}if(null===(C=null===(S=Vr().gapi)||void 0===S?void 0:S.iframes)||void 0===C?void 0:C.Iframe)D(gapi.iframes.getContext());else{if(!(null===(A=Vr().gapi)||void 0===A?void 0:A.load)){var U=Go("iframefcb");return Vr()[U]=function(){gapi.load?F():E(tt(M,"network-request-failed"))},_n("https://apis.google.com/js/api.js?onload=".concat(U)).catch(function(Y){return E(Y)})}F()}}).catch(function(D){throw ad=null,D})}(M),ad}var iy=new mn(5e3,15e3),fc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ay=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oy(M){var D=M.config;Ke(D.authDomain,M,"auth-domain-config-required");var E=D.emulator?Hr(D,"emulator/auth/iframe"):"https://".concat(M.config.authDomain,"/").concat("__/auth/iframe"),S={apiKey:D.apiKey,appName:M.name,v:oe.SDK_VERSION},C=ay.get(M.config.apiHost);C&&(S.eid=C);var A=M._getFrameworks();return A.length&&(S.fw=A.join(",")),"".concat(E,"?").concat((0,K.xO)(S).slice(1))}function Hw(M){return hc.apply(this,arguments)}function hc(){return hc=(0,Z.Z)(L().mark(function M(D){var E,S;return L().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,ry(D);case 2:return E=A.sent,Ke(S=Vr().gapi,D,"internal-error"),A.abrupt("return",E.open({where:document.body,url:oy(D),messageHandlersFilter:S.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fc,dontclear:!0},function(F){return new Promise(function(){var U=(0,Z.Z)(L().mark(function Y(te,Le){var ze,Pt,$e;return L().wrap(function(Lt){for(;;)switch(Lt.prev=Lt.next){case 0:return $e=function(){Vr().clearTimeout(Pt),te(F)},Lt.next=3,F.restyle({setHideOnLeave:!1});case 3:ze=tt(D,"network-request-failed"),Pt=Vr().setTimeout(function(){Le(ze)},iy.get()),F.ping($e).then($e,function(){Le(ze)});case 6:case"end":return Lt.stop()}},Y)}));return function(Y,te){return U.apply(this,arguments)}}())}));case 6:case"end":return A.stop()}},M)})),hc.apply(this,arguments)}var If={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ao="http://localhost",ip=function(){function M(D){(0,s.Z)(this,M),this.window=D,this.associatedEvent=null}return(0,W.Z)(M,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(E){}}}]),M}();function yg(M,D,E){var S=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,C=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,A=Math.max((window.screen.availHeight-C)/2,0).toString(),F=Math.max((window.screen.availWidth-S)/2,0).toString(),U="",Y=Object.assign(Object.assign({},If),{width:S.toString(),height:C.toString(),top:A,left:F}),te=(0,K.z$)().toLowerCase();E&&(U=Qt(te)?"_blank":E),it(te)&&(D=D||Ao,Y.scrollbars="yes");var Le=Object.entries(Y).reduce(function(Pt,$e){var Vt=(0,G.Z)($e,2),Lt=Vt[0],Oi=Vt[1];return"".concat(Pt).concat(Lt,"=").concat(Oi,",")},"");if(oa(te)&&"_self"!==U)return sy(D||"",U),new ip(null);var ze=window.open(D||"",U,Le);Ke(ze,M,"popup-blocked");try{ze.focus()}catch(Pt){}return new ip(ze)}function sy(M,D){var E=document.createElement("a");E.href=M,E.target=D;var S=document.createEvent("MouseEvent");S.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),E.dispatchEvent(S)}function zo(M,D,E,S,C,A){Ke(M.config.authDomain,M,"auth-domain-config-required"),Ke(M.config.apiKey,M,"invalid-api-key");var F={apiKey:M.config.apiKey,appName:M.name,authType:E,redirectUrl:S,v:oe.SDK_VERSION,eventId:C};if(D instanceof ds){D.setDefaultLanguage(M.languageCode),F.providerId=D.providerId||"",(0,K.xb)(D.getCustomParameters())||(F.customParameters=JSON.stringify(D.getCustomParameters()));for(var U=0,Y=Object.entries(A||{});U<Y.length;U++){var te=(0,G.Z)(Y[U],2);F[te[0]]=te[1]}}if(D instanceof zn){var Pt=D.getScopes().filter(function(Sr){return""!==Sr});Pt.length>0&&(F.scopes=Pt.join(","))}M.tenantId&&(F.tid=M.tenantId);for(var $e=F,Vt=0,Lt=Object.keys($e);Vt<Lt.length;Vt++){var Oi=Lt[Vt];void 0===$e[Oi]&&delete $e[Oi]}return"".concat(function zs(M){var D=M.config;return D.emulator?Hr(D,"emulator/auth/handler"):"https://".concat(D.authDomain,"/").concat("__/auth/handler")}(M),"?").concat((0,K.xO)($e).slice(1))}var od="webStorageSupport",ap=function(){function M(){(0,s.Z)(this,M),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Br,this._completeRedirectFn=Ri,this._overrideRedirectResult=he}return(0,W.Z)(M,[{key:"_openPopup",value:(D=(0,Z.Z)(L().mark(function S(C,A,F,U){var Y,te;return L().wrap(function(ze){for(;;)switch(ze.prev=ze.next){case 0:return ln(null===(Y=this.eventManagers[C._key()])||void 0===Y?void 0:Y.manager,"_initialize() not called before _openPopup()"),te=zo(C,A,F,Qr(),U),ze.abrupt("return",yg(C,te,yu()));case 3:case"end":return ze.stop()}},S,this)})),function E(S,C,A,F){return D.apply(this,arguments)})},{key:"_openRedirect",value:function(){var D=(0,Z.Z)(L().mark(function S(C,A,F,U){return L().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return te.next=2,this._originValidation(C);case 2:return ms(zo(C,A,F,Qr(),U)),te.abrupt("return",new Promise(function(){}));case 4:case"end":return te.stop()}},S,this)}));return function E(S,C,A,F){return D.apply(this,arguments)}}()},{key:"_initialize",value:function(E){var S=this,C=E._key();if(this.eventManagers[C]){var A=this.eventManagers[C],F=A.manager,U=A.promise;return F?Promise.resolve(F):(ln(U,"If manager is not set, promise should be"),U)}var Y=this.initAndGetManager(E);return this.eventManagers[C]={promise:Y},Y.catch(function(){delete S.eventManagers[C]}),Y}},{key:"initAndGetManager",value:function(){var D=(0,Z.Z)(L().mark(function S(C){var A,F;return L().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return Y.next=2,Hw(C);case 2:return A=Y.sent,F=new Ef(C),A.register("authEvent",function(te){return Ke(null==te?void 0:te.authEvent,C,"invalid-auth-event"),{status:F.onEvent(te.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[C._key()]={manager:F},this.iframes[C._key()]=A,Y.abrupt("return",F);case 8:case"end":return Y.stop()}},S,this)}));return function E(S){return D.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(E,S){this.iframes[E._key()].send(od,{type:od},function(A){var F,U=null===(F=null==A?void 0:A[0])||void 0===F?void 0:F[od];void 0!==U&&S(!!U),He(E,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(E){var S=E._key();return this.originValidationPromises[S]||(this.originValidationPromises[S]=function lc(M){return cc.apply(this,arguments)}(E)),this.originValidationPromises[S]}},{key:"_shouldInitProactively",get:function(){return cs()||Nt()||yn()}}]),M;var D}(),op=ap,up=function(M){(0,m.Z)(E,M);var D=(0,P.Z)(E);function E(S){var C;return(0,s.Z)(this,E),(C=D.call(this,"phone")).credential=S,C}return(0,W.Z)(E,[{key:"_finalizeEnroll",value:function(C,A,F){return function Kh(M,D){return dr(M,"POST","/v2/accounts/mfaEnrollment:finalize",Dr(M,D))}(C,{idToken:A,displayName:F,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(C,A){return function Hn(M,D){return dr(M,"POST","/v2/accounts/mfaSignIn:finalize",Dr(M,D))}(C,{mfaPendingCredential:A,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(C){return new E(C)}}]),E}(function(){function M(D){(0,s.Z)(this,M),this.factorId=D}return(0,W.Z)(M,[{key:"_process",value:function(E,S,C){switch(S.type){case"enroll":return this._finalizeEnroll(E,S.credential,C);case"signin":return this._finalizeSignIn(E,S.credential);default:return gt("unexpected MultiFactorSessionType")}}}]),M}()),uy=function(){var M=function(){function D(){(0,s.Z)(this,D)}return(0,W.Z)(D,null,[{key:"assertion",value:function(S){return up._fromCredential(S)}}]),D}();return M.FACTOR_ID="phone",M}(),kl="@firebase/auth",ly=function(){function M(D){(0,s.Z)(this,M),this.auth=D,this.internalListeners=new Map}return(0,W.Z)(M,[{key:"getUid",value:function(){var E;return this.assertAuthConfigured(),(null===(E=this.auth.currentUser)||void 0===E?void 0:E.uid)||null}},{key:"getToken",value:(D=(0,Z.Z)(L().mark(function S(C){return L().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return this.assertAuthConfigured(),U.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){U.next=5;break}return U.abrupt("return",null);case 5:return U.next=7,this.auth.currentUser.getIdToken(C);case 7:return U.abrupt("return",{accessToken:U.sent});case 9:case"end":return U.stop()}},S,this)})),function E(S){return D.apply(this,arguments)})},{key:"addAuthTokenListener",value:function(E){if(this.assertAuthConfigured(),!this.internalListeners.has(E)){var S=this.auth.onIdTokenChanged(function(C){var A;E((null===(A=C)||void 0===A?void 0:A.stsTokenManager.accessToken)||null)});this.internalListeners.set(E,S),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(E){this.assertAuthConfigured();var S=this.internalListeners.get(E);!S||(this.internalListeners.delete(E),S(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),M;var D}();function Ff(){var M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,oe.getApp)(),D=(0,oe._getProvider)(M,"auth");return D.isInitialized()?D.getImmediate():pr(M,{popupRedirectResolver:op,persistence:[bf,gs,Br]})}!function Pf(M){(0,oe._registerComponent)(new Me.wA("auth",function(D,E){var S=E.options,C=D.getProvider("app").getImmediate(),A=D.getProvider("heartbeat"),F=C.options,U=F.apiKey,Y=F.authDomain;return function(te,Le){Ke(U&&!U.includes(":"),"invalid-api-key",{appName:te.name}),Ke(!(null==Y?void 0:Y.includes(":")),"argument-error",{appName:te.name});var ze={apiKey:U,authDomain:Y,clientPlatform:M,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Mi(M)},Pt=new sa(te,Le,ze);return function Ra(M,D){var E=(null==D?void 0:D.persistence)||[],S=(Array.isArray(E)?E:[E]).map($n);(null==D?void 0:D.errorMap)&&M._updateErrorMap(D.errorMap),M._initializeWithPersistence(S,null==D?void 0:D.popupRedirectResolver)}(Pt,S),Pt}(C,A)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(D,E,S){D.getProvider("auth-internal").initialize()})),(0,oe._registerComponent)(new Me.wA("auth-internal",function(D){var E=Tt(D.getProvider("auth").getImmediate());return new ly(E)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,oe.registerVersion)(kl,"0.20.1",function cy(M){switch(M){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(M)),(0,oe.registerVersion)(kl,"0.20.1","esm2017")}("Browser")},2090:function(ht,ke,x){"use strict";x.d(ke,{BH:function(){return Fe},LL:function(){return gt},ZR:function(){return Ke},gQ:function(){return ui},zI:function(){return bt},hu:function(){return W},g5:function(){return ie},US:function(){return L},tV:function(){return le},h$:function(){return K},L:function(){return oe},$s:function(){return Ci},r3:function(){return kr},Sg:function(){return Ce},ne:function(){return ya},p$:function(){return Ie},vZ:function(){return Oa},ZB:function(){return Me},gK:function(){return ci},pd:function(){return Pa},Rd:function(){return Qe},m9:function(){return Di},z$:function(){return qe},GJ:function(){return Do},jU:function(){return Ct},ru:function(){return on},d:function(){return Be},xb:function(){return Hr},w1:function(){return De},hl:function(){return He},uI:function(){return Et},UG:function(){return Mt},Yr:function(){return ye},b$:function(){return Xe},G6:function(){return ve},Mn:function(){return Te},w9:function(){return _a},cI:function(){return $n},UI:function(){return Mo},xO:function(){return Dr},zd:function(){return dr},DV:function(){return mn},ug:function(){return ir},dS:function(){return wi},Pz:function(){return pr},Dv:function(){return wr},Wj:function(){return Xi},lb:function(){return Jr},eu:function(){return tt}});var X=x(7762),ne=x(7685),_=x(7326),m=x(136),P=x(7777),N=x(5724),G=x(5671),Z=x(3144),W=function(Ne,be){if(!Ne)throw ie(be)},ie=function(Ne){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+Ne)},B=function(Ne){for(var be=[],Ue=0,Re=0;Re<Ne.length;Re++){var Ee=Ne.charCodeAt(Re);Ee<128?be[Ue++]=Ee:Ee<2048?(be[Ue++]=Ee>>6|192,be[Ue++]=63&Ee|128):55296==(64512&Ee)&&Re+1<Ne.length&&56320==(64512&Ne.charCodeAt(Re+1))?(Ee=65536+((1023&Ee)<<10)+(1023&Ne.charCodeAt(++Re)),be[Ue++]=Ee>>18|240,be[Ue++]=Ee>>12&63|128,be[Ue++]=Ee>>6&63|128,be[Ue++]=63&Ee|128):(be[Ue++]=Ee>>12|224,be[Ue++]=Ee>>6&63|128,be[Ue++]=63&Ee|128)}return be},L={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(Ne,be){if(!Array.isArray(Ne))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var Ue=be?this.byteToCharMapWebSafe_:this.byteToCharMap_,Re=[],Ee=0;Ee<Ne.length;Ee+=3){var Ye=Ne[Ee],_t=Ee+1<Ne.length,kt=_t?Ne[Ee+1]:0,Bt=Ee+2<Ne.length,en=Bt?Ne[Ee+2]:0,an=(15&kt)<<2|en>>6,Pe=63&en;Bt||(Pe=64,_t||(an=64)),Re.push(Ue[Ye>>2],Ue[(3&Ye)<<4|kt>>4],Ue[an],Ue[Pe])}return Re.join("")},encodeString:function(Ne,be){return this.HAS_NATIVE_SUPPORT&&!be?btoa(Ne):this.encodeByteArray(B(Ne),be)},decodeString:function(Ne,be){return this.HAS_NATIVE_SUPPORT&&!be?atob(Ne):function(Ne){for(var be=[],Ue=0,Re=0;Ue<Ne.length;){var Ee=Ne[Ue++];if(Ee<128)be[Re++]=String.fromCharCode(Ee);else if(Ee>191&&Ee<224){var Ye=Ne[Ue++];be[Re++]=String.fromCharCode((31&Ee)<<6|63&Ye)}else if(Ee>239&&Ee<365){var en=((7&Ee)<<18|(63&Ne[Ue++])<<12|(63&Ne[Ue++])<<6|63&Ne[Ue++])-65536;be[Re++]=String.fromCharCode(55296+(en>>10)),be[Re++]=String.fromCharCode(56320+(1023&en))}else{var Ot=Ne[Ue++],pn=Ne[Ue++];be[Re++]=String.fromCharCode((15&Ee)<<12|(63&Ot)<<6|63&pn)}}return be.join("")}(this.decodeStringToByteArray(Ne,be))},decodeStringToByteArray:function(Ne,be){this.init_();for(var Ue=be?this.charToByteMapWebSafe_:this.charToByteMap_,Re=[],Ee=0;Ee<Ne.length;){var Ye=Ue[Ne.charAt(Ee++)],kt=Ee<Ne.length?Ue[Ne.charAt(Ee)]:0,en=++Ee<Ne.length?Ue[Ne.charAt(Ee)]:64,pn=++Ee<Ne.length?Ue[Ne.charAt(Ee)]:64;if(++Ee,null==Ye||null==kt||null==en||null==pn)throw Error();Re.push(Ye<<2|kt>>4),64!==en&&(Re.push(kt<<4&240|en>>2),64!==pn&&Re.push(en<<6&192|pn))}return Re},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var Ne=0;Ne<this.ENCODED_VALS.length;Ne++)this.byteToCharMap_[Ne]=this.ENCODED_VALS.charAt(Ne),this.charToByteMap_[this.byteToCharMap_[Ne]]=Ne,this.byteToCharMapWebSafe_[Ne]=this.ENCODED_VALS_WEBSAFE.charAt(Ne),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ne]]=Ne,Ne>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ne)]=Ne,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ne)]=Ne)}}},K=function(Ne){var be=B(Ne);return L.encodeByteArray(be,!0)},oe=function(Ne){return K(Ne).replace(/\./g,"")},le=function(Ne){try{return L.decodeString(Ne,!0)}catch(be){console.error("base64Decode failed: ",be)}return null};function Ie(Ve){return Me(void 0,Ve)}function Me(Ve,Ne){if(!(Ne instanceof Object))return Ne;switch(Ne.constructor){case Date:return new Date(Ne.getTime());case Object:void 0===Ve&&(Ve={});break;case Array:Ve=[];break;default:return Ne}for(var Ue in Ne)!Ne.hasOwnProperty(Ue)||!pe(Ue)||(Ve[Ue]=Me(Ve[Ue],Ne[Ue]));return Ve}function pe(Ve){return"__proto__"!==Ve}var Fe=function(){function Ve(){var Ne=this;(0,G.Z)(this,Ve),this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(be,Ue){Ne.resolve=be,Ne.reject=Ue})}return(0,Z.Z)(Ve,[{key:"wrapCallback",value:function(be){var Ue=this;return function(Re,Ee){Re?Ue.reject(Re):Ue.resolve(Ee),"function"==typeof be&&(Ue.promise.catch(function(){}),1===be.length?be(Re):be(Re,Ee))}}}]),Ve}();function Ce(Ve,Ne){if(Ve.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var Ue=Ne||"demo-project",Re=Ve.iat||0,Ee=Ve.sub||Ve.user_id;if(!Ee)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var Ye=Object.assign({iss:"https://securetoken.google.com/".concat(Ue),aud:Ue,iat:Re,exp:Re+3600,auth_time:Re,sub:Ee,user_id:Ee,firebase:{sign_in_provider:"custom",identities:{}}},Ve);return[oe(JSON.stringify({alg:"none",type:"JWT"})),oe(JSON.stringify(Ye)),""].join(".")}function qe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Et(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qe())}function Mt(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Ve){return!1}}function Ct(){return"object"==typeof self&&self.self===self}function on(){var Ve="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ve&&void 0!==Ve.id}function Xe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Be(){return qe().indexOf("Electron/")>=0}function De(){var Ve=qe();return Ve.indexOf("MSIE ")>=0||Ve.indexOf("Trident/")>=0}function Te(){return qe().indexOf("MSAppHost/")>=0}function ye(){return!1}function ve(){return!Mt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function He(){return"object"==typeof indexedDB}function tt(){return new Promise(function(Ve,Ne){try{var be=!0,Ue="validate-browser-context-for-indexeddb-analytics-module",Re=self.indexedDB.open(Ue);Re.onsuccess=function(){Re.result.close(),be||self.indexedDB.deleteDatabase(Ue),Ve(!0)},Re.onupgradeneeded=function(){be=!1},Re.onerror=function(){var Ee;Ne((null===(Ee=Re.error)||void 0===Ee?void 0:Ee.message)||"")}}catch(Ee){Ne(Ee)}})}function bt(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}function Qe(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}var Ke=function(Ve){(0,m.Z)(be,Ve);var Ne=(0,P.Z)(be);function be(Ue,Re,Ee){var Ye;return(0,G.Z)(this,be),(Ye=Ne.call(this,Re)).code=Ue,Ye.customData=Ee,Ye.name="FirebaseError",Object.setPrototypeOf((0,_.Z)(Ye),be.prototype),Error.captureStackTrace&&Error.captureStackTrace((0,_.Z)(Ye),gt.prototype.create),Ye}return(0,Z.Z)(be)}((0,N.Z)(Error)),gt=function(){function Ve(Ne,be,Ue){(0,G.Z)(this,Ve),this.service=Ne,this.serviceName=be,this.errors=Ue}return(0,Z.Z)(Ve,[{key:"create",value:function(be){var Ue=(arguments.length<=1?void 0:arguments[1])||{},Re="".concat(this.service,"/").concat(be),Ee=this.errors[be],Ye=Ee?ln(Ee,Ue):"Error",_t="".concat(this.serviceName,": ").concat(Ye," (").concat(Re,")."),kt=new Ke(Re,_t,Ue);return kt}}]),Ve}();function ln(Ve,Ne){return Ve.replace(hr,function(be,Ue){var Re=Ne[Ue];return null!=Re?String(Re):"<".concat(Ue,"?>")})}var hr=/\{\$([^}]+)}/g;function $n(Ve){return JSON.parse(Ve)}function pr(Ve){return JSON.stringify(Ve)}var Ra=function(Ne){var be={},Ue={},Re={},Ee="";try{var Ye=Ne.split(".");be=$n(le(Ye[0])||""),Ue=$n(le(Ye[1])||""),Ee=Ye[2],Re=Ue.d||{},delete Ue.d}catch(_t){}return{header:be,claims:Ue,data:Re,signature:Ee}},_a=function(Ne){var Ue=Ra(Ne).claims;return!!Ue&&"object"==typeof Ue&&Ue.hasOwnProperty("iat")},Do=function(Ne){var be=Ra(Ne).claims;return"object"==typeof be&&!0===be.admin};function kr(Ve,Ne){return Object.prototype.hasOwnProperty.call(Ve,Ne)}function mn(Ve,Ne){if(Object.prototype.hasOwnProperty.call(Ve,Ne))return Ve[Ne]}function Hr(Ve){for(var Ne in Ve)if(Object.prototype.hasOwnProperty.call(Ve,Ne))return!1;return!0}function Mo(Ve,Ne,be){var Ue={};for(var Re in Ve)Object.prototype.hasOwnProperty.call(Ve,Re)&&(Ue[Re]=Ne.call(be,Ve[Re],Re,Ve));return Ue}function Oa(Ve,Ne){if(Ve===Ne)return!0;for(var be=Object.keys(Ve),Ue=Object.keys(Ne),Re=0,Ee=be;Re<Ee.length;Re++){var Ye=Ee[Re];if(!Ue.includes(Ye))return!1;var _t=Ve[Ye],kt=Ne[Ye];if(tr(_t)&&tr(kt)){if(!Oa(_t,kt))return!1}else if(_t!==kt)return!1}for(var Bt=0,en=Ue;Bt<en.length;Bt++)if(!be.includes(en[Bt]))return!1;return!0}function tr(Ve){return null!==Ve&&"object"==typeof Ve}function Dr(Ve){for(var Ne=[],be=function(){var Ye=(0,ne.Z)(Re[Ue],2),_t=Ye[0],kt=Ye[1];Array.isArray(kt)?kt.forEach(function(Bt){Ne.push(encodeURIComponent(_t)+"="+encodeURIComponent(Bt))}):Ne.push(encodeURIComponent(_t)+"="+encodeURIComponent(kt))},Ue=0,Re=Object.entries(Ve);Ue<Re.length;Ue++)be();return Ne.length?"&"+Ne.join("&"):""}function dr(Ve){var Ne={};return Ve.replace(/^\?/,"").split("&").forEach(function(Ue){if(Ue){var Re=Ue.split("="),Ee=(0,ne.Z)(Re,2),_t=Ee[1];Ne[decodeURIComponent(Ee[0])]=decodeURIComponent(_t)}}),Ne}function Pa(Ve){var Ne=Ve.indexOf("?");if(!Ne)return"";var be=Ve.indexOf("#",Ne);return Ve.substring(Ne,be>0?be:void 0)}var ui=function(){function Ve(){(0,G.Z)(this,Ve),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var Ne=1;Ne<this.blockSize;++Ne)this.pad_[Ne]=0;this.reset()}return(0,Z.Z)(Ve,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(be,Ue){Ue||(Ue=0);var Re=this.W_;if("string"==typeof be)for(var Ee=0;Ee<16;Ee++)Re[Ee]=be.charCodeAt(Ue)<<24|be.charCodeAt(Ue+1)<<16|be.charCodeAt(Ue+2)<<8|be.charCodeAt(Ue+3),Ue+=4;else for(var Ye=0;Ye<16;Ye++)Re[Ye]=be[Ue]<<24|be[Ue+1]<<16|be[Ue+2]<<8|be[Ue+3],Ue+=4;for(var _t=16;_t<80;_t++){var kt=Re[_t-3]^Re[_t-8]^Re[_t-14]^Re[_t-16];Re[_t]=4294967295&(kt<<1|kt>>>31)}for(var Pe,xe,Bt=this.chain_[0],en=this.chain_[1],Ot=this.chain_[2],pn=this.chain_[3],an=this.chain_[4],_e=0;_e<80;_e++){_e<40?_e<20?(Pe=pn^en&(Ot^pn),xe=1518500249):(Pe=en^Ot^pn,xe=1859775393):_e<60?(Pe=en&Ot|pn&(en|Ot),xe=2400959708):(Pe=en^Ot^pn,xe=3395469782);var Se=(Bt<<5|Bt>>>27)+Pe+an+xe+Re[_e]&4294967295;an=pn,pn=Ot,Ot=4294967295&(en<<30|en>>>2),en=Bt,Bt=Se}this.chain_[0]=this.chain_[0]+Bt&4294967295,this.chain_[1]=this.chain_[1]+en&4294967295,this.chain_[2]=this.chain_[2]+Ot&4294967295,this.chain_[3]=this.chain_[3]+pn&4294967295,this.chain_[4]=this.chain_[4]+an&4294967295}},{key:"update",value:function(be,Ue){if(null!=be){void 0===Ue&&(Ue=be.length);for(var Re=Ue-this.blockSize,Ee=0,Ye=this.buf_,_t=this.inbuf_;Ee<Ue;){if(0===_t)for(;Ee<=Re;)this.compress_(be,Ee),Ee+=this.blockSize;if("string"==typeof be){for(;Ee<Ue;)if(Ye[_t]=be.charCodeAt(Ee),++Ee,++_t===this.blockSize){this.compress_(Ye),_t=0;break}}else for(;Ee<Ue;)if(Ye[_t]=be[Ee],++Ee,++_t===this.blockSize){this.compress_(Ye),_t=0;break}}this.inbuf_=_t,this.total_+=Ue}}},{key:"digest",value:function(){var be=[],Ue=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var Re=this.blockSize-1;Re>=56;Re--)this.buf_[Re]=255&Ue,Ue/=256;this.compress_(this.buf_);for(var Ee=0,Ye=0;Ye<5;Ye++)for(var _t=24;_t>=0;_t-=8)be[Ee]=this.chain_[Ye]>>_t&255,++Ee;return be}}]),Ve}();function ya(Ve,Ne){var be=new li(Ve,Ne);return be.subscribe.bind(be)}var li=function(){function Ve(Ne,be){var Ue=this;(0,G.Z)(this,Ve),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=be,this.task.then(function(){Ne(Ue)}).catch(function(Re){Ue.error(Re)})}return(0,Z.Z)(Ve,[{key:"next",value:function(be){this.forEachObserver(function(Ue){Ue.next(be)})}},{key:"error",value:function(be){this.forEachObserver(function(Ue){Ue.error(be)}),this.close(be)}},{key:"complete",value:function(){this.forEachObserver(function(be){be.complete()}),this.close()}},{key:"subscribe",value:function(be,Ue,Re){var Ye,Ee=this;if(void 0===be&&void 0===Ue&&void 0===Re)throw new Error("Missing Observer.");Ye=function nr(Ve,Ne){if("object"!=typeof Ve||null===Ve)return!1;var Ue,be=(0,X.Z)(Ne);try{for(be.s();!(Ue=be.n()).done;){var Re=Ue.value;if(Re in Ve&&"function"==typeof Ve[Re])return!0}}catch(Ee){be.e(Ee)}finally{be.f()}return!1}(be,["next","error","complete"])?be:{next:be,error:Ue,complete:Re},void 0===Ye.next&&(Ye.next=Ji),void 0===Ye.error&&(Ye.error=Ji),void 0===Ye.complete&&(Ye.complete=Ji);var _t=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{Ee.finalError?Ye.error(Ee.finalError):Ye.complete()}catch(kt){}}),this.observers.push(Ye),_t}},{key:"unsubscribeOne",value:function(be){void 0===this.observers||void 0===this.observers[be]||(delete this.observers[be],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(be){if(!this.finalized)for(var Ue=0;Ue<this.observers.length;Ue++)this.sendOne(Ue,be)}},{key:"sendOne",value:function(be,Ue){var Re=this;this.task.then(function(){if(void 0!==Re.observers&&void 0!==Re.observers[be])try{Ue(Re.observers[be])}catch(Ee){"undefined"!=typeof console&&console.error&&console.error(Ee)}})}},{key:"close",value:function(be){var Ue=this;this.finalized||(this.finalized=!0,void 0!==be&&(this.finalError=be),this.task.then(function(){Ue.observers=void 0,Ue.onNoObservers=void 0}))}}]),Ve}();function Ji(){}var wr=function(Ne,be,Ue,Re){var Ee;if(Re<be?Ee="at least "+be:Re>Ue&&(Ee=0===Ue?"none":"no more than "+Ue),Ee)throw new Error(Ne+" failed: Was called with "+Re+(1===Re?" argument.":" arguments.")+" Expects "+Ee+".")};function ci(Ve,Ne){return"".concat(Ve," failed: ").concat(Ne," argument ")}function Xi(Ve,Ne,be,Ue){if((!Ue||be)&&"function"!=typeof be)throw new Error(ci(Ve,Ne)+"must be a valid function.")}function Jr(Ve,Ne,be,Ue){if((!Ue||be)&&("object"!=typeof be||null===be))throw new Error(ci(Ve,Ne)+"must be a valid context object.")}var wi=function(Ne){for(var be=[],Ue=0,Re=0;Re<Ne.length;Re++){var Ee=Ne.charCodeAt(Re);if(Ee>=55296&&Ee<=56319){var Ye=Ee-55296;Re++,W(Re<Ne.length,"Surrogate pair missing trail surrogate."),Ee=65536+(Ye<<10)+(Ne.charCodeAt(Re)-56320)}Ee<128?be[Ue++]=Ee:Ee<2048?(be[Ue++]=Ee>>6|192,be[Ue++]=63&Ee|128):Ee<65536?(be[Ue++]=Ee>>12|224,be[Ue++]=Ee>>6&63|128,be[Ue++]=63&Ee|128):(be[Ue++]=Ee>>18|240,be[Ue++]=Ee>>12&63|128,be[Ue++]=Ee>>6&63|128,be[Ue++]=63&Ee|128)}return be},ir=function(Ne){for(var be=0,Ue=0;Ue<Ne.length;Ue++){var Re=Ne.charCodeAt(Ue);Re<128?be++:Re<2048?be+=2:Re>=55296&&Re<=56319?(be+=4,Ue++):be+=3}return be};function Ci(Ve){var Ne=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,be=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,Ue=Ne*Math.pow(be,Ve),Re=Math.round(.5*Ue*(Math.random()-.5)*2);return Math.min(144e5,Ue+Re)}function Di(Ve){return Ve&&Ve._delegate?Ve._delegate:Ve}},8661:function(ht,ke,x){"use strict";var X=x(3237),ne=x(1120),_=x(3144),m=x(5671),P=x(136),N=x(7777),G=x(7762),Z=x(7685),s=x(5e3),W=null;function ie(){return W}var L=(0,_.Z)(function n(){(0,m.Z)(this,n)}),K=new s.OlP("DocumentToken"),oe=function(){var n=function(){function r(){(0,m.Z)(this,r)}return(0,_.Z)(r,[{key:"historyGo",value:function(t){throw new Error("Not implemented")}}]),r}();return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function le(){return(0,s.LFG)(Me)}()},providedIn:"platform"}),n}(),Ie=new s.OlP("Location Initialized"),Me=function(){var n=function(r){(0,P.Z)(t,r);var e=(0,N.Z)(t);function t(i){var a;return(0,m.Z)(this,t),(a=e.call(this))._doc=i,a._init(),a}return(0,_.Z)(t,[{key:"_init",value:function(){this.location=window.location,this._history=window.history}},{key:"getBaseHrefFromDOM",value:function(){return ie().getBaseHref(this._doc)}},{key:"onPopState",value:function(a){var o=ie().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",a,!1),function(){return o.removeEventListener("popstate",a)}}},{key:"onHashChange",value:function(a){var o=ie().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",a,!1),function(){return o.removeEventListener("hashchange",a)}}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(a){this.location.pathname=a}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}},{key:"pushState",value:function(a,o,u){pe()?this._history.pushState(a,o,u):this.location.hash=u}},{key:"replaceState",value:function(a,o,u){pe()?this._history.replaceState(a,o,u):this.location.hash=u}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"historyGo",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._history.go(a)}},{key:"getState",value:function(){return this._history.state}}]),t}(oe);return n.\u0275fac=function(e){return new(e||n)(s.LFG(K))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function Fe(){return new Me((0,s.LFG)(K))}()},providedIn:"platform"}),n}();function pe(){return!!window.history.pushState}function Ce(n,r){if(0==n.length)return r;if(0==r.length)return n;var e=0;return n.endsWith("/")&&e++,r.startsWith("/")&&e++,2==e?n+r.substring(1):1==e?n+r:n+"/"+r}function qe(n){var r=n.match(/#|\?|$/),e=r&&r.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Et(n){return n&&"?"!==n[0]?"?"+n:n}var Mt=function(){var n=function(){function r(){(0,m.Z)(this,r)}return(0,_.Z)(r,[{key:"historyGo",value:function(t){throw new Error("Not implemented")}}]),r}();return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function Ct(n){var r=(0,s.LFG)(K).location;return new Xe((0,s.LFG)(oe),r&&r.origin||"")}()},providedIn:"root"}),n}(),on=new s.OlP("appBaseHref"),Xe=function(){var n=function(r){(0,P.Z)(t,r);var e=(0,N.Z)(t);function t(i,a){var o;if((0,m.Z)(this,t),(o=e.call(this))._platformLocation=i,o._removeListenerFns=[],null==a&&(a=o._platformLocation.getBaseHrefFromDOM()),null==a)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return o._baseHref=a,o}return(0,_.Z)(t,[{key:"ngOnDestroy",value:function(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}},{key:"onPopState",value:function(a){this._removeListenerFns.push(this._platformLocation.onPopState(a),this._platformLocation.onHashChange(a))}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(a){return Ce(this._baseHref,a)}},{key:"path",value:function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=this._platformLocation.pathname+Et(this._platformLocation.search),u=this._platformLocation.hash;return u&&a?"".concat(o).concat(u):o}},{key:"pushState",value:function(a,o,u,d){var h=this.prepareExternalUrl(u+Et(d));this._platformLocation.pushState(a,o,h)}},{key:"replaceState",value:function(a,o,u,d){var h=this.prepareExternalUrl(u+Et(d));this._platformLocation.replaceState(a,o,h)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}},{key:"historyGo",value:function(){var o,u,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(u=(o=this._platformLocation).historyGo)||void 0===u||u.call(o,a)}}]),t}(Mt);return n.\u0275fac=function(e){return new(e||n)(s.LFG(oe),s.LFG(on,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n}(),Be=function(){var n=function(r){(0,P.Z)(t,r);var e=(0,N.Z)(t);function t(i,a){var o;return(0,m.Z)(this,t),(o=e.call(this))._platformLocation=i,o._baseHref="",o._removeListenerFns=[],null!=a&&(o._baseHref=a),o}return(0,_.Z)(t,[{key:"ngOnDestroy",value:function(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}},{key:"onPopState",value:function(a){this._removeListenerFns.push(this._platformLocation.onPopState(a),this._platformLocation.onHashChange(a))}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){var o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}},{key:"prepareExternalUrl",value:function(a){var o=Ce(this._baseHref,a);return o.length>0?"#"+o:o}},{key:"pushState",value:function(a,o,u,d){var h=this.prepareExternalUrl(u+Et(d));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(a,o,h)}},{key:"replaceState",value:function(a,o,u,d){var h=this.prepareExternalUrl(u+Et(d));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(a,o,h)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}},{key:"historyGo",value:function(){var o,u,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(u=(o=this._platformLocation).historyGo)||void 0===u||u.call(o,a)}}]),t}(Mt);return n.\u0275fac=function(e){return new(e||n)(s.LFG(oe),s.LFG(on,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n}(),De=function(){var n=function(){function r(e,t){var i=this;(0,m.Z)(this,r),this._subject=new s.vpe,this._urlChangeListeners=[],this._platformStrategy=e;var a=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=qe(ve(a)),this._platformStrategy.onPopState(function(o){i._subject.emit({url:i.path(!0),pop:!0,state:o.state,type:o.type})})}return(0,_.Z)(r,[{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(t))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(t+Et(i))}},{key:"normalize",value:function(t){return r.stripTrailingSlash(function ye(n,r){return n&&r.startsWith(n)?r.substring(n.length):r}(this._baseHref,ve(t)))}},{key:"prepareExternalUrl",value:function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}},{key:"go",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(a,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Et(i)),a)}},{key:"replaceState",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(a,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Et(i)),a)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"historyGo",value:function(){var i,a,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(a=(i=this._platformStrategy).historyGo)||void 0===a||a.call(i,t)}},{key:"onUrlChange",value:function(t){var i=this;this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(function(a){i._notifyUrlChangeListeners(a.url,a.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach(function(a){return a(t,i)})}},{key:"subscribe",value:function(t,i,a){return this._subject.subscribe({next:t,error:i,complete:a})}}]),r}();return n.normalizeQueryParams=Et,n.joinWithSlash=Ce,n.stripTrailingSlash=qe,n.\u0275fac=function(e){return new(e||n)(s.LFG(Mt),s.LFG(oe))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function Te(){return new De((0,s.LFG)(Mt),(0,s.LFG)(oe))}()},providedIn:"root"}),n}();function ve(n){return n.replace(/\/index.html$/,"")}function jr(n,r){r=encodeURIComponent(r);var t,e=(0,G.Z)(n.split(";"));try{for(e.s();!(t=e.n()).done;){var i=t.value,a=i.indexOf("="),o=-1==a?[i,""]:[i.slice(0,a),i.slice(a+1)],u=(0,Z.Z)(o,2),h=u[1];if(u[0].trim()===r)return decodeURIComponent(h)}}catch(v){e.e(v)}finally{e.f()}return null}var Fa=function(){var n=function(){function r(e,t,i,a){(0,m.Z)(this,r),this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=i,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}return(0,_.Z)(r,[{key:"klass",set:function(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"ngClass",set:function(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,s.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}},{key:"ngDoCheck",value:function(){if(this._iterableDiffer){var t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){var i=this._keyValueDiffer.diff(this._rawClass);i&&this._applyKeyValueChanges(i)}}},{key:"_applyKeyValueChanges",value:function(t){var i=this;t.forEachAddedItem(function(a){return i._toggleClass(a.key,a.currentValue)}),t.forEachChangedItem(function(a){return i._toggleClass(a.key,a.currentValue)}),t.forEachRemovedItem(function(a){a.previousValue&&i._toggleClass(a.key,!1)})}},{key:"_applyIterableChanges",value:function(t){var i=this;t.forEachAddedItem(function(a){if("string"!=typeof a.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got ".concat((0,s.AaK)(a.item)));i._toggleClass(a.item,!0)}),t.forEachRemovedItem(function(a){return i._toggleClass(a.item,!1)})}},{key:"_applyClasses",value:function(t){var i=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach(function(a){return i._toggleClass(a,!0)}):Object.keys(t).forEach(function(a){return i._toggleClass(a,!!t[a])}))}},{key:"_removeClasses",value:function(t){var i=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach(function(a){return i._toggleClass(a,!1)}):Object.keys(t).forEach(function(a){return i._toggleClass(a,!1)}))}},{key:"_toggleClass",value:function(t,i){var a=this;(t=t.trim())&&t.split(/\s+/g).forEach(function(o){i?a._renderer.addClass(a._ngEl.nativeElement,o):a._renderer.removeClass(a._ngEl.nativeElement,o)})}}]),r}();return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.ZZ4),s.Y36(s.aQg),s.Y36(s.SBq),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n}(),Ku=function(){function n(r,e,t,i){(0,m.Z)(this,n),this.$implicit=r,this.ngForOf=e,this.index=t,this.count=i}return(0,_.Z)(n,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),n}(),la=function(){var n=function(){function r(e,t,i){(0,m.Z)(this,r),this._viewContainer=e,this._template=t,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return(0,_.Z)(r,[{key:"ngForOf",set:function(t){this._ngForOf=t,this._ngForOfDirty=!0}},{key:"ngForTrackBy",get:function(){return this._trackByFn},set:function(t){this._trackByFn=t}},{key:"ngForTemplate",set:function(t){t&&(this._template=t)}},{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){var i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}},{key:"_applyChanges",value:function(t){var i=this,a=this._viewContainer;t.forEachOperation(function(v,b,k){if(null==v.previousIndex)a.createEmbeddedView(i._template,new Ku(v.item,i._ngForOf,-1,-1),null===k?void 0:k);else if(null==k)a.remove(null===b?void 0:b);else if(null!==b){var I=a.get(b);a.move(I,k),vn(I,v)}});for(var o=0,u=a.length;o<u;o++){var h=a.get(o).context;h.index=o,h.count=u,h.ngForOf=this._ngForOf}t.forEachIdentityChange(function(v){vn(a.get(v.currentIndex),v)})}}],[{key:"ngTemplateContextGuard",value:function(t,i){return!0}}]),r}();return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n}();function vn(n,r){n.context.$implicit=r.item}var Nr=function(){var n=function(){function r(e,t){(0,m.Z)(this,r),this._viewContainer=e,this._context=new Ps,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}return(0,_.Z)(r,[{key:"ngIf",set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}},{key:"ngIfThen",set:function(t){Fs("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(t){Fs("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}},{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}],[{key:"ngTemplateContextGuard",value:function(t,i){return!0}}]),r}();return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n}(),Ps=(0,_.Z)(function n(){(0,m.Z)(this,n),this.$implicit=null,this.ngIf=null});function Fs(n,r){if(r&&!r.createEmbeddedView)throw new Error("".concat(n," must be a TemplateRef, but received '").concat((0,s.AaK)(r),"'."))}var fi=function(){function n(r,e){(0,m.Z)(this,n),this._viewContainerRef=r,this._templateRef=e,this._created=!1}return(0,_.Z)(n,[{key:"create",value:function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}},{key:"destroy",value:function(){this._created=!1,this._viewContainerRef.clear()}},{key:"enforceState",value:function(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}]),n}(),hi=function(){var n=function(){function r(){(0,m.Z)(this,r),this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}return(0,_.Z)(r,[{key:"ngSwitch",set:function(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}},{key:"_addCase",value:function(){return this._caseCount++}},{key:"_addDefault",value:function(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}},{key:"_matchCase",value:function(t){var i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}},{key:"_updateDefaultCases",value:function(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(var i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(t)}}}]),r}();return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n}(),ka=function(){var n=function(){function r(e,t,i){(0,m.Z)(this,r),this.ngSwitch=i,i._addCase(),this._view=new fi(e,t)}return(0,_.Z)(r,[{key:"ngDoCheck",value:function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}]),r}();return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(hi,9))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n}(),xa=function(){var n=(0,_.Z)(function r(e,t,i){(0,m.Z)(this,r),i._addDefault(new fi(e,t))});return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(hi,9))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitchDefault",""]]}),n}(),Na=function(){var n=function(){function r(e,t,i){(0,m.Z)(this,r),this._ngEl=e,this._differs=t,this._renderer=i,this._ngStyle=null,this._differ=null}return(0,_.Z)(r,[{key:"ngStyle",set:function(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}},{key:"ngDoCheck",value:function(){if(this._differ){var t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}},{key:"_setStyle",value:function(t,i){var a=t.split("."),o=(0,Z.Z)(a,2),u=o[0],d=o[1];null!=(i=null!=i&&d?"".concat(i).concat(d):i)?this._renderer.setStyle(this._ngEl.nativeElement,u,i):this._renderer.removeStyle(this._ngEl.nativeElement,u)}},{key:"_applyChanges",value:function(t){var i=this;t.forEachRemovedItem(function(a){return i._setStyle(a.key,null)}),t.forEachAddedItem(function(a){return i._setStyle(a.key,a.currentValue)}),t.forEachChangedItem(function(a){return i._setStyle(a.key,a.currentValue)})}}]),r}();return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.aQg),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n}(),zn=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n}(),rf="browser";function $u(n){return"server"===n}var af=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275prov=(0,s.Yz7)({token:n,providedIn:"root",factory:function(){return new zi((0,s.LFG)(K),window)}}),n}(),zi=function(){function n(r,e){(0,m.Z)(this,n),this.document=r,this.window=e,this.offset=function(){return[0,0]}}return(0,_.Z)(n,[{key:"setOffset",value:function(e){this.offset=Array.isArray(e)?function(){return e}:e}},{key:"getScrollPosition",value:function(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}},{key:"scrollToPosition",value:function(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}},{key:"scrollToAnchor",value:function(e){if(this.supportsScrolling()){var t=function sf(n,r){var e=n.getElementById(r)||n.getElementsByName(r)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow))for(var t=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=t.currentNode;i;){var a=i.shadowRoot;if(a){var o=a.getElementById(r)||a.querySelector('[name="'.concat(r,'"]'));if(o)return o}i=t.nextNode()}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}}},{key:"setHistoryScrollRestoration",value:function(e){if(this.supportScrollRestoration()){var t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}},{key:"scrollToElement",value:function(e){var t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,a=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],a-o[1])}},{key:"supportScrollRestoration",value:function(){try{if(!this.supportsScrolling())return!1;var e=La(this.window.history)||La(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(t){return!1}}},{key:"supportsScrolling",value:function(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}]),n}();function La(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}var Zs,oo=(0,_.Z)(function n(){(0,m.Z)(this,n)}),Kc=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(){var t;return(0,m.Z)(this,e),(t=r.apply(this,arguments)).supportsDOMEvents=!0,t}return(0,_.Z)(e)}(L),hu=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(){return(0,m.Z)(this,e),r.apply(this,arguments)}return(0,_.Z)(e,[{key:"onAndCancel",value:function(i,a,o){return i.addEventListener(a,o,!1),function(){i.removeEventListener(a,o,!1)}}},{key:"dispatchEvent",value:function(i,a){i.dispatchEvent(a)}},{key:"remove",value:function(i){i.parentNode&&i.parentNode.removeChild(i)}},{key:"createElement",value:function(i,a){return(a=a||this.getDefaultDocument()).createElement(i)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(i){return i.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(i){return i instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(i,a){return"window"===a?window:"document"===a?i:"body"===a?i.body:null}},{key:"getBaseHref",value:function(i){var a=function Qu(){return(Ns=Ns||document.querySelector("base"))?Ns.getAttribute("href"):null}();return null==a?null:function _r(n){(Zs=Zs||document.createElement("a")).setAttribute("href",n);var r=Zs.pathname;return"/"===r.charAt(0)?r:"/".concat(r)}(a)}},{key:"resetBaseElement",value:function(){Ns=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"getCookie",value:function(i){return jr(document.cookie,i)}}],[{key:"makeCurrent",value:function(){!function ee(n){W||(W=n)}(new e)}}]),e}(Kc),Ns=null,Ju=new s.OlP("TRANSITION_ID"),Mr=[{provide:s.ip1,useFactory:function pu(n,r,e){return function(){e.get(s.CZH).donePromise.then(function(){for(var t=ie(),i=r.querySelectorAll('style[ng-transition="'.concat(n,'"]')),a=0;a<i.length;a++)t.remove(i[a])})}},deps:[Ju,K,s.zs3],multi:!0}],lf=function(){function n(){(0,m.Z)(this,n)}return(0,_.Z)(n,[{key:"addToWindow",value:function(e){s.dqk.getAngularTestability=function(i){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=e.findTestabilityInTree(i,a);if(null==o)throw new Error("Could not find testability for element.");return o},s.dqk.getAllAngularTestabilities=function(){return e.getAllTestabilities()},s.dqk.getAllAngularRootElements=function(){return e.getAllRootElements()},s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(function(a){var o=s.dqk.getAllAngularTestabilities(),u=o.length,d=!1,h=function(b){d=d||b,0==--u&&a(d)};o.forEach(function(v){v.whenStable(h)})})}},{key:"findTestabilityInTree",value:function(e,t,i){if(null==t)return null;var a=e.getTestability(t);return null!=a?a:i?ie().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}],[{key:"init",value:function(){(0,s.VLi)(new n)}}]),n}(),pi=function(){var n=function(){function r(){(0,m.Z)(this,r)}return(0,_.Z)(r,[{key:"build",value:function(){return new XMLHttpRequest}}]),r}();return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n}(),fs=new s.OlP("EventManagerPlugins"),ti=function(){var n=function(){function r(e,t){var i=this;(0,m.Z)(this,r),this._zone=t,this._eventNameToPlugin=new Map,e.forEach(function(a){return a.manager=i}),this._plugins=e.slice().reverse()}return(0,_.Z)(r,[{key:"addEventListener",value:function(t,i,a){return this._findPluginFor(i).addEventListener(t,i,a)}},{key:"addGlobalEventListener",value:function(t,i,a){return this._findPluginFor(i).addGlobalEventListener(t,i,a)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(t){var i=this._eventNameToPlugin.get(t);if(i)return i;for(var a=this._plugins,o=0;o<a.length;o++){var u=a[o];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error("No event manager plugin found for event ".concat(t))}}]),r}();return n.\u0275fac=function(e){return new(e||n)(s.LFG(fs),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n}(),Xu=function(){function n(r){(0,m.Z)(this,n),this._doc=r}return(0,_.Z)(n,[{key:"addGlobalEventListener",value:function(e,t,i){var a=ie().getGlobalEventTarget(this._doc,e);if(!a)throw new Error("Unsupported event target ".concat(a," for event ").concat(t));return this.addEventListener(a,t,i)}}]),n}(),hs=function(){var n=function(){function r(){(0,m.Z)(this,r),this._stylesSet=new Set}return(0,_.Z)(r,[{key:"addStyles",value:function(t){var i=this,a=new Set;t.forEach(function(o){i._stylesSet.has(o)||(i._stylesSet.add(o),a.add(o))}),this.onStylesAdded(a)}},{key:"onStylesAdded",value:function(t){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),r}();return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n}(),Ba=function(){var n=function(r){(0,P.Z)(t,r);var e=(0,N.Z)(t);function t(i){var a;return(0,m.Z)(this,t),(a=e.call(this))._doc=i,a._hostNodes=new Map,a._hostNodes.set(i.head,[]),a}return(0,_.Z)(t,[{key:"_addStylesToHost",value:function(a,o,u){var d=this;a.forEach(function(h){var v=d._doc.createElement("style");v.textContent=h,u.push(o.appendChild(v))})}},{key:"addHost",value:function(a){var o=[];this._addStylesToHost(this._stylesSet,a,o),this._hostNodes.set(a,o)}},{key:"removeHost",value:function(a){var o=this._hostNodes.get(a);o&&o.forEach(vi),this._hostNodes.delete(a)}},{key:"onStylesAdded",value:function(a){var o=this;this._hostNodes.forEach(function(u,d){o._addStylesToHost(a,d,u)})}},{key:"ngOnDestroy",value:function(){this._hostNodes.forEach(function(a){return a.forEach(vi)})}}]),t}(hs);return n.\u0275fac=function(e){return new(e||n)(s.LFG(K))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n}();function vi(n){ie().remove(n)}var Ls={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Uo=/%COMP%/g,cf="_nghost-".concat("%COMP%"),el="_ngcontent-".concat("%COMP%");function Ho(n,r,e){for(var t=0;t<r.length;t++){var i=r[t];Array.isArray(i)?Ho(n,i,e):(i=i.replace(Uo,n),e.push(i))}return e}function df(n){return function(r){if("__ngUnwrap__"===r)return n;!1===n(r)&&(r.preventDefault(),r.returnValue=!1)}}var vu=function(){var n=function(){function r(e,t,i){(0,m.Z)(this,r),this.eventManager=e,this.sharedStylesHost=t,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Bs(e)}return(0,_.Z)(r,[{key:"createRenderer",value:function(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case s.ifc.Emulated:var a=this.rendererByCompId.get(i.id);return a||(a=new Bn(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,a)),a.applyToHost(t),a;case 1:case s.ifc.ShadowDom:return new tl(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){var o=Ho(i.id,i.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),r}();return n.\u0275fac=function(e){return new(e||n)(s.LFG(ti),s.LFG(Ba),s.LFG(s.AFp))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n}(),Bs=function(){function n(r){(0,m.Z)(this,n),this.eventManager=r,this.data=Object.create(null),this.destroyNode=null}return(0,_.Z)(n,[{key:"destroy",value:function(){}},{key:"createElement",value:function(e,t){return t?document.createElementNS(Ls[t]||t,e):document.createElement(e)}},{key:"createComment",value:function(e){return document.createComment(e)}},{key:"createText",value:function(e){return document.createTextNode(e)}},{key:"appendChild",value:function(e,t){e.appendChild(t)}},{key:"insertBefore",value:function(e,t,i){e&&e.insertBefore(t,i)}},{key:"removeChild",value:function(e,t){e&&e.removeChild(t)}},{key:"selectRootElement",value:function(e,t){var i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error('The selector "'.concat(e,'" did not match any elements'));return t||(i.textContent=""),i}},{key:"parentNode",value:function(e){return e.parentNode}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"setAttribute",value:function(e,t,i,a){if(a){t=a+":"+t;var o=Ls[a];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}},{key:"removeAttribute",value:function(e,t,i){if(i){var a=Ls[i];a?e.removeAttributeNS(a,t):e.removeAttribute("".concat(i,":").concat(t))}else e.removeAttribute(t)}},{key:"addClass",value:function(e,t){e.classList.add(t)}},{key:"removeClass",value:function(e,t){e.classList.remove(t)}},{key:"setStyle",value:function(e,t,i,a){a&(s.JOm.DashCase|s.JOm.Important)?e.style.setProperty(t,i,a&s.JOm.Important?"important":""):e.style[t]=i}},{key:"removeStyle",value:function(e,t,i){i&s.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}},{key:"setProperty",value:function(e,t,i){e[t]=i}},{key:"setValue",value:function(e,t){e.nodeValue=t}},{key:"listen",value:function(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,df(i)):this.eventManager.addEventListener(e,t,df(i))}}]),n}(),Bn=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i,a,o){var u;(0,m.Z)(this,e),(u=r.call(this,t)).component=a;var d=Ho(o+"-"+a.id,a.styles,[]);return i.addStyles(d),u.contentAttr=function un(n){return el.replace(Uo,n)}(o+"-"+a.id),u.hostAttr=function zh(n){return cf.replace(Uo,n)}(o+"-"+a.id),u}return(0,_.Z)(e,[{key:"applyToHost",value:function(i){(0,X.Z)((0,ne.Z)(e.prototype),"setAttribute",this).call(this,i,this.hostAttr,"")}},{key:"createElement",value:function(i,a){var o=(0,X.Z)((0,ne.Z)(e.prototype),"createElement",this).call(this,i,a);return(0,X.Z)((0,ne.Z)(e.prototype),"setAttribute",this).call(this,o,this.contentAttr,""),o}}]),e}(Bs),tl=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i,a,o){var u;(0,m.Z)(this,e),(u=r.call(this,t)).sharedStylesHost=i,u.hostEl=a,u.shadowRoot=a.attachShadow({mode:"open"}),u.sharedStylesHost.addHost(u.shadowRoot);for(var d=Ho(o.id,o.styles,[]),h=0;h<d.length;h++){var v=document.createElement("style");v.textContent=d[h],u.shadowRoot.appendChild(v)}return u}return(0,_.Z)(e,[{key:"nodeOrShadowRoot",value:function(i){return i===this.hostEl?this.shadowRoot:i}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(i,a){return(0,X.Z)((0,ne.Z)(e.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(i),a)}},{key:"insertBefore",value:function(i,a,o){return(0,X.Z)((0,ne.Z)(e.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(i),a,o)}},{key:"removeChild",value:function(i,a){return(0,X.Z)((0,ne.Z)(e.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(i),a)}},{key:"parentNode",value:function(i){return this.nodeOrShadowRoot((0,X.Z)((0,ne.Z)(e.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(i)))}}]),e}(Bs),ni=function(){var n=function(r){(0,P.Z)(t,r);var e=(0,N.Z)(t);function t(i){return(0,m.Z)(this,t),e.call(this,i)}return(0,_.Z)(t,[{key:"supports",value:function(a){return!0}},{key:"addEventListener",value:function(a,o,u){var d=this;return a.addEventListener(o,u,!1),function(){return d.removeEventListener(a,o,u)}}},{key:"removeEventListener",value:function(a,o,u){return a.removeEventListener(o,u)}}]),t}(Xu);return n.\u0275fac=function(e){return new(e||n)(s.LFG(K))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n}(),nl=["alt","control","meta","shift"],Ua={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},il={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},$c={alt:function(r){return r.altKey},control:function(r){return r.ctrlKey},meta:function(r){return r.metaKey},shift:function(r){return r.shiftKey}},ql=function(){var n=function(r){(0,P.Z)(t,r);var e=(0,N.Z)(t);function t(i){return(0,m.Z)(this,t),e.call(this,i)}return(0,_.Z)(t,[{key:"supports",value:function(a){return null!=t.parseEventName(a)}},{key:"addEventListener",value:function(a,o,u){var d=t.parseEventName(o),h=t.eventCallback(d.fullKey,u,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return ie().onAndCancel(a,d.domEventName,h)})}}],[{key:"parseEventName",value:function(a){var o=a.toLowerCase().split("."),u=o.shift();if(0===o.length||"keydown"!==u&&"keyup"!==u)return null;var d=t._normalizeKey(o.pop()),h="";if(nl.forEach(function(b){var k=o.indexOf(b);k>-1&&(o.splice(k,1),h+=b+".")}),h+=d,0!=o.length||0===d.length)return null;var v={};return v.domEventName=u,v.fullKey=h,v}},{key:"getEventFullKey",value:function(a){var o="",u=function Wh(n){var r=n.key;if(null==r){if(null==(r=n.keyIdentifier))return"Unidentified";r.startsWith("U+")&&(r=String.fromCharCode(parseInt(r.substring(2),16)),3===n.location&&il.hasOwnProperty(r)&&(r=il[r]))}return Ua[r]||r}(a);return" "===(u=u.toLowerCase())?u="space":"."===u&&(u="dot"),nl.forEach(function(d){d!=u&&(0,$c[d])(a)&&(o+=d+".")}),o+=u}},{key:"eventCallback",value:function(a,o,u){return function(d){t.getEventFullKey(d)===a&&u.runGuarded(function(){return o(d)})}}},{key:"_normalizeKey",value:function(a){return"esc"===a?"escape":a}}]),t}(Xu);return n.\u0275fac=function(e){return new(e||n)(s.LFG(K))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n}(),ff=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:rf},{provide:s.g9A,useValue:function al(){hu.makeCurrent(),lf.init()},multi:!0},{provide:K,useFactory:function na(){return(0,s.RDi)(document),document},deps:[]}]),So=[{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function ps(){return new s.qLn},deps:[]},{provide:fs,useClass:ni,multi:!0,deps:[K,s.R0b,s.Lbi]},{provide:fs,useClass:ql,multi:!0,deps:[K]},{provide:vu,useClass:vu,deps:[ti,Ba,s.AFp]},{provide:s.FYo,useExisting:vu},{provide:hs,useExisting:Ba},{provide:Ba,useClass:Ba,deps:[K]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b]},{provide:ti,useClass:ti,deps:[fs,s.R0b]},{provide:oo,useClass:pi,deps:[]}],so=function(){var n=function(){function r(e){if((0,m.Z)(this,r),e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return(0,_.Z)(r,null,[{key:"withServerTransition",value:function(t){return{ngModule:r,providers:[{provide:s.AFp,useValue:t.appId},{provide:Ju,useExisting:s.AFp},Mr]}}}]),r}();return n.\u0275fac=function(e){return new(e||n)(s.LFG(n,12))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:So,imports:[zn,s.hGG]}),n}();"undefined"!=typeof window&&window;var cl=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(e){return e?new(e||n):s.LFG(lo)},providedIn:"root"}),n}(),lo=function(){var n=function(r){(0,P.Z)(t,r);var e=(0,N.Z)(t);function t(i){var a;return(0,m.Z)(this,t),(a=e.call(this))._doc=i,a}return(0,_.Z)(t,[{key:"sanitize",value:function(a,o){if(null==o)return null;switch(a){case s.q3G.NONE:return o;case s.q3G.HTML:return(0,s.qzn)(o,"HTML")?(0,s.z3N)(o):(0,s.EiD)(this._doc,String(o)).toString();case s.q3G.STYLE:return(0,s.qzn)(o,"Style")?(0,s.z3N)(o):o;case s.q3G.SCRIPT:if((0,s.qzn)(o,"Script"))return(0,s.z3N)(o);throw new Error("unsafe value used in a script context");case s.q3G.URL:return(0,s.yhl)(o),(0,s.qzn)(o,"URL")?(0,s.z3N)(o):(0,s.mCW)(String(o));case s.q3G.RESOURCE_URL:if((0,s.qzn)(o,"ResourceURL"))return(0,s.z3N)(o);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext ".concat(a," (see https://g.co/ng/security#xss)"))}}},{key:"bypassSecurityTrustHtml",value:function(a){return(0,s.JVY)(a)}},{key:"bypassSecurityTrustStyle",value:function(a){return(0,s.L6k)(a)}},{key:"bypassSecurityTrustScript",value:function(a){return(0,s.eBb)(a)}},{key:"bypassSecurityTrustUrl",value:function(a){return(0,s.LAX)(a)}},{key:"bypassSecurityTrustResourceUrl",value:function(a){return(0,s.pB0)(a)}}]),t}(cl);return n.\u0275fac=function(e){return new(e||n)(s.LFG(K))},n.\u0275prov=s.Yz7({token:n,factory:function(e){var t;return t=e?new e:function Kh(n){return new lo(n.get(K))}(s.LFG(s.zs3)),t},providedIn:"root"}),n}(),zr=x(4942),Lr=x(7326),Zt=x(4902),qn=x(5254),Ft=x(1086),ft=x(8929),$h=x(5279),ri=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t){var i;return(0,m.Z)(this,e),(i=r.call(this))._value=t,i}return(0,_.Z)(e,[{key:"value",get:function(){return this.getValue()}},{key:"_subscribe",value:function(i){var a=(0,X.Z)((0,ne.Z)(e.prototype),"_subscribe",this).call(this,i);return a&&!a.closed&&i.next(this._value),a}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new $h.N;return this._value}},{key:"next",value:function(i){(0,X.Z)((0,ne.Z)(e.prototype),"next",this).call(this,this._value=i)}}]),e}(ft.xQ),gs=x(2866),_u=x(6688),Br=x(3489),dl=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(){return(0,m.Z)(this,e),r.apply(this,arguments)}return(0,_.Z)(e,[{key:"notifyNext",value:function(i,a,o,u,d){this.destination.next(a)}},{key:"notifyError",value:function(i,a){this.destination.error(i)}},{key:"notifyComplete",value:function(i){this.destination.complete()}}]),e}(Br.L),ec=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i,a){var o;return(0,m.Z)(this,e),(o=r.call(this)).parent=t,o.outerValue=i,o.outerIndex=a,o.index=0,o}return(0,_.Z)(e,[{key:"_next",value:function(i){this.parent.notifyNext(this.outerValue,i,this.outerIndex,this.index++,this)}},{key:"_error",value:function(i){this.parent.notifyError(i,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),e}(Br.L),yu=x(9249),Qn=x(6498);function Vr(n,r,e,t){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new ec(n,e,t);if(!i.closed)return r instanceof Qn.y?r.subscribe(i):(0,yu.s)(r)(i)}var ms=x(3009),bu={};var ed=function(){function n(r){(0,m.Z)(this,n),this.resultSelector=r}return(0,_.Z)(n,[{key:"call",value:function(e,t){return t.subscribe(new mf(e,this.resultSelector))}}]),n}(),mf=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i){var a;return(0,m.Z)(this,e),(a=r.call(this,t)).resultSelector=i,a.active=0,a.values=[],a.observables=[],a}return(0,_.Z)(e,[{key:"_next",value:function(i){this.values.push(bu),this.observables.push(i)}},{key:"_complete",value:function(){var i=this.observables,a=i.length;if(0===a)this.destination.complete();else{this.active=a,this.toRespond=a;for(var o=0;o<a;o++)this.add(Vr(this,i[o],void 0,o))}}},{key:"notifyComplete",value:function(i){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(i,a,o){var u=this.values,h=this.toRespond?u[o]===bu?--this.toRespond:this.toRespond:0;u[o]=a,0===h&&(this.resultSelector?this._tryResultSelector(u):this.destination.next(u.slice()))}},{key:"_tryResultSelector",value:function(i){var a;try{a=this.resultSelector.apply(this,i)}catch(o){return void this.destination.error(o)}this.destination.next(a)}}]),e}(dl),ys=x(1737),_f=function(){function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n}(),ku=_f,co=x(9146);function Ha(){return(0,co.J)(1)}function fo(){return Ha()(Ft.of.apply(void 0,arguments))}var Ti=x(8896);function ho(n){return new Qn.y(function(r){var e;try{e=n()}catch(i){return void r.error(i)}return(e?(0,qn.D)(e):(0,Ti.c)()).subscribe(r)})}var tc=x(1762),It=x(4850),ii=x(1177);function Kn(n,r){return"function"==typeof r?function(e){return e.pipe(Kn(function(t,i){return(0,qn.D)(n(t,i)).pipe((0,It.U)(function(a,o){return r(t,a,i,o)}))}))}:function(e){return e.lift(new td(n))}}var td=function(){function n(r){(0,m.Z)(this,n),this.project=r}return(0,_.Z)(n,[{key:"call",value:function(e,t){return t.subscribe(new yf(e,this.project))}}]),n}(),yf=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i){var a;return(0,m.Z)(this,e),(a=r.call(this,t)).project=i,a.index=0,a}return(0,_.Z)(e,[{key:"_next",value:function(i){var a,o=this.index++;try{a=this.project(i,o)}catch(u){return void this.destination.error(u)}this._innerSub(a)}},{key:"_innerSub",value:function(i){var a=this.innerSubscription;a&&a.unsubscribe();var o=new ii.IY(this),u=this.destination;u.add(o),this.innerSubscription=(0,ii.ft)(i,o),this.innerSubscription!==o&&u.add(this.innerSubscription)}},{key:"_complete",value:function(){var i=this.innerSubscription;(!i||i.closed)&&(0,X.Z)((0,ne.Z)(e.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=void 0}},{key:"notifyComplete",value:function(){this.innerSubscription=void 0,this.isStopped&&(0,X.Z)((0,ne.Z)(e.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(i){this.destination.next(i)}}]),e}(ii.Ds),Qh=function(){function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n}(),fl=Qh;function Zn(n){return function(r){return 0===n?(0,Ti.c)():r.lift(new bf(n))}}var bf=function(){function n(r){if((0,m.Z)(this,n),this.total=r,this.total<0)throw new fl}return(0,_.Z)(n,[{key:"call",value:function(e,t){return t.subscribe(new nc(e,this.total))}}]),n}(),nc=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i){var a;return(0,m.Z)(this,e),(a=r.call(this,t)).total=i,a.count=0,a}return(0,_.Z)(e,[{key:"_next",value:function(i){var a=this.total,o=++this.count;o<=a&&(this.destination.next(i),o===a&&(this.destination.complete(),this.unsubscribe()))}}]),e}(Br.L);function Hn(){for(var n=arguments.length,r=new Array(n),e=0;e<n;e++)r[e]=arguments[e];var t=r[r.length-1];return(0,gs.K)(t)?(r.pop(),function(i){return fo(r,i,t)}):function(i){return fo(r,i)}}function gi(n,r){var e=!1;return arguments.length>=2&&(e=!0),function(i){return i.lift(new rc(n,r,e))}}var rc=function(){function n(r,e){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,m.Z)(this,n),this.accumulator=r,this.seed=e,this.hasSeed=t}return(0,_.Z)(n,[{key:"call",value:function(e,t){return t.subscribe(new hl(e,this.accumulator,this.seed,this.hasSeed))}}]),n}(),hl=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i,a,o){var u;return(0,m.Z)(this,e),(u=r.call(this,t)).accumulator=i,u._seed=a,u.hasSeed=o,u.index=0,u}return(0,_.Z)(e,[{key:"seed",get:function(){return this._seed},set:function(i){this.hasSeed=!0,this._seed=i}},{key:"_next",value:function(i){if(this.hasSeed)return this._tryNext(i);this.seed=i,this.destination.next(i)}},{key:"_tryNext",value:function(i){var o,a=this.index++;try{o=this.accumulator(this.seed,i,a)}catch(u){this.destination.error(u)}this.seed=o,this.destination.next(o)}}]),e}(Br.L);function _n(n,r){return function(t){return t.lift(new Go(n,r))}}var Go=function(){function n(r,e){(0,m.Z)(this,n),this.predicate=r,this.thisArg=e}return(0,_.Z)(n,[{key:"call",value:function(e,t){return t.subscribe(new pl(e,this.predicate,this.thisArg))}}]),n}(),pl=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i,a){var o;return(0,m.Z)(this,e),(o=r.call(this,t)).predicate=i,o.thisArg=a,o.count=0,o}return(0,_.Z)(e,[{key:"_next",value:function(i){var a;try{a=this.predicate.call(this.thisArg,i,this.count++)}catch(o){return void this.destination.error(o)}a&&this.destination.next(i)}}]),e}(Br.L);function Ea(n){return function(e){var t=new vl(n),i=e.lift(t);return t.caught=i}}var vl=function(){function n(r){(0,m.Z)(this,n),this.selector=r}return(0,_.Z)(n,[{key:"call",value:function(e,t){return t.subscribe(new gl(e,this.selector,this.caught))}}]),n}(),gl=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i,a){var o;return(0,m.Z)(this,e),(o=r.call(this,t)).selector=i,o.caught=a,o}return(0,_.Z)(e,[{key:"error",value:function(i){if(!this.isStopped){var a;try{a=this.selector(i,this.caught)}catch(d){return void(0,X.Z)((0,ne.Z)(e.prototype),"error",this).call(this,d)}this._unsubscribeAndRecycle();var o=new ii.IY(this);this.add(o);var u=(0,ii.ft)(a,o);u!==o&&this.add(u)}}}]),e}(ii.Ds),ai=x(1709);function ic(n,r){return(0,ai.zg)(n,r,1)}function ac(n){return function(e){return 0===n?(0,Ti.c)():e.lift(new Yr(n))}}var Yr=function(){function n(r){if((0,m.Z)(this,n),this.total=r,this.total<0)throw new fl}return(0,_.Z)(n,[{key:"call",value:function(e,t){return t.subscribe(new Jh(e,this.total))}}]),n}(),Jh=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i){var a;return(0,m.Z)(this,e),(a=r.call(this,t)).total=i,a.ring=new Array,a.count=0,a}return(0,_.Z)(e,[{key:"_next",value:function(i){var a=this.ring,o=this.total,u=this.count++;a.length<o?a.push(i):a[u%o]=i}},{key:"_complete",value:function(){var i=this.destination,a=this.count;if(a>0)for(var o=this.count>=this.total?this.total:this.count,u=this.ring,d=0;d<o;d++){var h=a++%o;i.next(u[h])}i.complete()}}]),e}(Br.L);function kf(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ep;return function(r){return r.lift(new Xh(n))}}var Xh=function(){function n(r){(0,m.Z)(this,n),this.errorFactory=r}return(0,_.Z)(n,[{key:"call",value:function(e,t){return t.subscribe(new vg(e,this.errorFactory))}}]),n}(),vg=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i){var a;return(0,m.Z)(this,e),(a=r.call(this,t)).errorFactory=i,a.hasValue=!1,a}return(0,_.Z)(e,[{key:"_next",value:function(i){this.hasValue=!0,this.destination.next(i)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var i;try{i=this.errorFactory()}catch(a){i=a}this.destination.error(i)}}]),e}(Br.L);function ep(){return new ku}function tp(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(r){return r.lift(new np(n))}}var np=function(){function n(r){(0,m.Z)(this,n),this.defaultValue=r}return(0,_.Z)(n,[{key:"call",value:function(e,t){return t.subscribe(new ml(e,this.defaultValue))}}]),n}(),ml=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i){var a;return(0,m.Z)(this,e),(a=r.call(this,t)).defaultValue=i,a.isEmpty=!0,a}return(0,_.Z)(e,[{key:"_next",value:function(i){this.isEmpty=!1,this.destination.next(i)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),e}(Br.L),_l=x(5379);function ja(n,r){var e=arguments.length>=2;return function(t){return t.pipe(n?_n(function(i,a){return n(i,a,t)}):_l.y,Zn(1),e?tp(r):kf(function(){return new ku}))}}var Rr=x(2868),oc=x(4327),Rn=x(2654);function Ai(n){return function(r){return r.lift(new ra(n))}}var ra=function(){function n(r){(0,m.Z)(this,n),this.callback=r}return(0,_.Z)(n,[{key:"call",value:function(e,t){return t.subscribe(new wu(e,this.callback))}}]),n}(),wu=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i){var a;return(0,m.Z)(this,e),(a=r.call(this,t)).add(new Rn.w(i)),a}return(0,_.Z)(e)}(Br.L),ca=(0,_.Z)(function n(r,e){(0,m.Z)(this,n),this.id=r,this.url=e}),po=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i){var a,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return(0,m.Z)(this,e),(a=r.call(this,t,i)).navigationTrigger=o,a.restoredState=u,a}return(0,_.Z)(e,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),e}(ca),yl=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i,a){var o;return(0,m.Z)(this,e),(o=r.call(this,t,i)).urlAfterRedirects=a,o}return(0,_.Z)(e,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),e}(ca),Vs=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i,a){var o;return(0,m.Z)(this,e),(o=r.call(this,t,i)).reason=a,o}return(0,_.Z)(e,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),e}(ca),wf=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i,a){var o;return(0,m.Z)(this,e),(o=r.call(this,t,i)).error=a,o}return(0,_.Z)(e,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),e}(ca),gg=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i,a,o){var u;return(0,m.Z)(this,e),(u=r.call(this,t,i)).urlAfterRedirects=a,u.state=o,u}return(0,_.Z)(e,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),e}(ca),mg=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i,a,o){var u;return(0,m.Z)(this,e),(u=r.call(this,t,i)).urlAfterRedirects=a,u.state=o,u}return(0,_.Z)(e,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),e}(ca),Us=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i,a,o,u){var d;return(0,m.Z)(this,e),(d=r.call(this,t,i)).urlAfterRedirects=a,d.state=o,d.shouldActivate=u,d}return(0,_.Z)(e,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),e}(ca),Yi=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i,a,o){var u;return(0,m.Z)(this,e),(u=r.call(this,t,i)).urlAfterRedirects=a,u.state=o,u}return(0,_.Z)(e,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),e}(ca),sc=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i,a,o){var u;return(0,m.Z)(this,e),(u=r.call(this,t,i)).urlAfterRedirects=a,u.state=o,u}return(0,_.Z)(e,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),e}(ca),Hs=function(){function n(r){(0,m.Z)(this,n),this.route=r}return(0,_.Z)(n,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),n}(),js=function(){function n(r){(0,m.Z)(this,n),this.route=r}return(0,_.Z)(n,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),n}(),uc=function(){function n(r){(0,m.Z)(this,n),this.snapshot=r}return(0,_.Z)(n,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),n}(),Gs=function(){function n(r){(0,m.Z)(this,n),this.snapshot=r}return(0,_.Z)(n,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),n}(),nd=function(){function n(r){(0,m.Z)(this,n),this.snapshot=r}return(0,_.Z)(n,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),n}(),_g=function(){function n(r){(0,m.Z)(this,n),this.snapshot=r}return(0,_.Z)(n,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),n}(),bl=function(){function n(r,e,t){(0,m.Z)(this,n),this.routerEvent=r,this.position=e,this.anchor=t}return(0,_.Z)(n,[{key:"toString",value:function(){var e=this.position?"".concat(this.position[0],", ").concat(this.position[1]):null;return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(e,"')")}}]),n}(),wn="primary",Cf=function(){function n(r){(0,m.Z)(this,n),this.params=r||{}}return(0,_.Z)(n,[{key:"has",value:function(e){return Object.prototype.hasOwnProperty.call(this.params,e)}},{key:"get",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t[0]:t}return null}},{key:"getAll",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t:[t]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),n}();function Ga(n){return new Cf(n)}var H="ngNavigationCancelingError";function V(n){var r=Error("NavigationCancelingError: "+n);return r[H]=!0,r}function Q(n,r,e){var t=e.path.split("/");if(t.length>n.length||"full"===e.pathMatch&&(r.hasChildren()||t.length<n.length))return null;for(var i={},a=0;a<t.length;a++){var o=t[a],u=n[a];if(o.startsWith(":"))i[o.substring(1)]=u;else if(o!==u.path)return null}return{consumed:n.slice(0,t.length),posParams:i}}function ce(n,r){var e=n?Object.keys(n):void 0,t=r?Object.keys(r):void 0;if(!e||!t||e.length!=t.length)return!1;for(var i,a=0;a<e.length;a++)if(!he(n[i=e[a]],r[i]))return!1;return!0}function he(n,r){if(Array.isArray(n)&&Array.isArray(r)){if(n.length!==r.length)return!1;var e=(0,Zt.Z)(n).sort(),t=(0,Zt.Z)(r).sort();return e.every(function(i,a){return t[a]===i})}return n===r}function ge(n){return Array.prototype.concat.apply([],n)}function Je(n){return n.length>0?n[n.length-1]:null}function ot(n,r){for(var e in n)n.hasOwnProperty(e)&&r(n[e],e)}function et(n){return(0,s.CqO)(n)?n:(0,s.QGY)(n)?(0,qn.D)(Promise.resolve(n)):(0,Ft.of)(n)}var fn={exact:function Jn(n,r,e){if(!To(n.segments,r.segments)||!za(n.segments,r.segments,e)||n.numberOfChildren!==r.numberOfChildren)return!1;for(var t in r.children)if(!n.children[t]||!Jn(n.children[t],r.children[t],e))return!1;return!0},subset:Ii},Rt={exact:function On(n,r){return ce(n,r)},subset:function ar(n,r){return Object.keys(r).length<=Object.keys(n).length&&Object.keys(r).every(function(e){return he(n[e],r[e])})},ignored:function(){return!0}};function nn(n,r,e){return fn[e.paths](n.root,r.root,e.matrixParams)&&Rt[e.queryParams](n.queryParams,r.queryParams)&&!("exact"===e.fragment&&n.fragment!==r.fragment)}function Ii(n,r,e){return Ri(n,r,r.segments,e)}function Ri(n,r,e,t){if(n.segments.length>e.length){var i=n.segments.slice(0,e.length);return!(!To(i,e)||r.hasChildren()||!za(i,e,t))}if(n.segments.length===e.length){if(!To(n.segments,e)||!za(n.segments,e,t))return!1;for(var a in r.children)if(!n.children[a]||!Ii(n.children[a],r.children[a],t))return!1;return!0}var o=e.slice(0,n.segments.length),u=e.slice(n.segments.length);return!!(To(n.segments,o)&&za(n.segments,o,t)&&n.children[wn])&&Ri(n.children[wn],r,u,t)}function za(n,r,e){return r.every(function(t,i){return Rt[e](n[i].parameters,t.parameters)})}var or=function(){function n(r,e,t){(0,m.Z)(this,n),this.root=r,this.queryParams=e,this.fragment=t}return(0,_.Z)(n,[{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Ga(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return rp.serialize(this)}}]),n}(),zt=function(){function n(r,e){var t=this;(0,m.Z)(this,n),this.segments=r,this.children=e,this.parent=null,ot(e,function(i,a){return i.parent=t})}return(0,_.Z)(n,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}},{key:"toString",value:function(){return Sf(this)}}]),n}(),bs=function(){function n(r,e){(0,m.Z)(this,n),this.path=r,this.parameters=e}return(0,_.Z)(n,[{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=Ga(this.parameters)),this._parameterMap}},{key:"toString",value:function(){return ad(this)}}]),n}();function To(n,r){return n.length===r.length&&n.every(function(e,t){return e.path===r[t].path})}var rd=(0,_.Z)(function n(){(0,m.Z)(this,n)}),Mf=function(){function n(){(0,m.Z)(this,n)}return(0,_.Z)(n,[{key:"parse",value:function(e){var t=new hc(e);return new or(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}},{key:"serialize",value:function(e){var t="/".concat(ks(e.root,!0)),i=function iy(n){var r=Object.keys(n).map(function(e){var t=n[e];return Array.isArray(t)?t.map(function(i){return"".concat(cc(e),"=").concat(cc(i))}).join("&"):"".concat(cc(e),"=").concat(cc(t))}).filter(function(e){return!!e});return r.length?"?".concat(r.join("&")):""}(e.queryParams),a="string"==typeof e.fragment?"#".concat(function Uw(n){return encodeURI(n)}(e.fragment)):"";return"".concat(t).concat(i).concat(a)}}]),n}(),rp=new Mf;function Sf(n){return n.segments.map(function(r){return ad(r)}).join("/")}function ks(n,r){if(!n.hasChildren())return Sf(n);if(r){var e=n.children[wn]?ks(n.children[wn],!1):"",t=[];return ot(n.children,function(a,o){o!==wn&&t.push("".concat(o,":").concat(ks(a,!1)))}),t.length>0?"".concat(e,"(").concat(t.join("//"),")"):e}var i=function Df(n,r){var e=[];return ot(n.children,function(t,i){i===wn&&(e=e.concat(r(t,i)))}),ot(n.children,function(t,i){i!==wn&&(e=e.concat(r(t,i)))}),e}(n,function(a,o){return o===wn?[ks(n.children[wn],!1)]:["".concat(o,":").concat(ks(a,!1))]});return 1===Object.keys(n.children).length&&null!=n.children[wn]?"".concat(Sf(n),"/").concat(i[0]):"".concat(Sf(n),"/(").concat(i.join("//"),")")}function lc(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function cc(n){return lc(n).replace(/%3B/gi,";")}function Tf(n){return lc(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function id(n){return decodeURIComponent(n)}function ny(n){return id(n.replace(/\+/g,"%20"))}function ad(n){return"".concat(Tf(n.path)).concat(function ry(n){return Object.keys(n).map(function(r){return";".concat(Tf(r),"=").concat(Tf(n[r]))}).join("")}(n.parameters))}var Af=/^[^\/()?;=#]+/;function dc(n){var r=n.match(Af);return r?r[0]:""}var fc=/^[^=?&#]+/,oy=/^[^&#]+/,hc=function(){function n(r){(0,m.Z)(this,n),this.url=r,this.remaining=r}return(0,_.Z)(n,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new zt([],{}):new zt([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());var t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));var i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[wn]=new zt(e,t)),i}},{key:"parseSegment",value:function(){var e=dc(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(e),new bs(id(e),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var e={};this.consumeOptional(";");)this.parseParam(e);return e}},{key:"parseParam",value:function(e){var t=dc(this.remaining);if(t){this.capture(t);var i="";if(this.consumeOptional("=")){var a=dc(this.remaining);a&&this.capture(i=a)}e[id(t)]=id(i)}}},{key:"parseQueryParam",value:function(e){var t=function ay(n){var r=n.match(fc);return r?r[0]:""}(this.remaining);if(t){this.capture(t);var i="";if(this.consumeOptional("=")){var a=function Hw(n){var r=n.match(oy);return r?r[0]:""}(this.remaining);a&&this.capture(i=a)}var o=ny(t),u=ny(i);if(e.hasOwnProperty(o)){var d=e[o];Array.isArray(d)||(e[o]=d=[d]),d.push(u)}else e[o]=u}}},{key:"parseParens",value:function(e){var t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var i=dc(this.remaining),a=this.remaining[i.length];if("/"!==a&&")"!==a&&";"!==a)throw new Error("Cannot parse url '".concat(this.url,"'"));var o=void 0;i.indexOf(":")>-1?(o=i.substr(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=wn);var u=this.parseChildren();t[o]=1===Object.keys(u).length?u[wn]:new zt([],u),this.consumeOptional("//")}return t}},{key:"peekStartsWith",value:function(e){return this.remaining.startsWith(e)}},{key:"consumeOptional",value:function(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}},{key:"capture",value:function(e){if(!this.consumeOptional(e))throw new Error('Expected "'.concat(e,'".'))}}]),n}(),If=function(){function n(r){(0,m.Z)(this,n),this._root=r}return(0,_.Z)(n,[{key:"root",get:function(){return this._root.value}},{key:"parent",value:function(e){var t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}},{key:"children",value:function(e){var t=Rf(e,this._root);return t?t.children.map(function(i){return i.value}):[]}},{key:"firstChild",value:function(e){var t=Rf(e,this._root);return t&&t.children.length>0?t.children[0].value:null}},{key:"siblings",value:function(e){var t=Of(e,this._root);return t.length<2?[]:t[t.length-2].children.map(function(a){return a.value}).filter(function(a){return a!==e})}},{key:"pathFromRoot",value:function(e){return Of(e,this._root).map(function(t){return t.value})}}]),n}();function Rf(n,r){if(n===r.value)return r;var t,e=(0,G.Z)(r.children);try{for(e.s();!(t=e.n()).done;){var a=Rf(n,t.value);if(a)return a}}catch(o){e.e(o)}finally{e.f()}return null}function Of(n,r){if(n===r.value)return[r];var t,e=(0,G.Z)(r.children);try{for(e.s();!(t=e.n()).done;){var a=Of(n,t.value);if(a.length)return a.unshift(r),a}}catch(o){e.e(o)}finally{e.f()}return[]}var ws=function(){function n(r,e){(0,m.Z)(this,n),this.value=r,this.children=e}return(0,_.Z)(n,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),n}();function Ao(n){var r={};return n&&n.children.forEach(function(e){return r[e.value.outlet]=e}),r}var ip=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i){var a;return(0,m.Z)(this,e),(a=r.call(this,t)).snapshot=i,ap((0,Lr.Z)(a),t),a}return(0,_.Z)(e,[{key:"toString",value:function(){return this.snapshot.toString()}}]),e}(If);function yg(n,r){var e=function sy(n,r){var o=new zs([],{},{},"",{},wn,r,null,n.root,-1,{});return new od("",new ws(o,[]))}(n,r),t=new ri([new bs("",{})]),i=new ri({}),a=new ri({}),o=new ri({}),u=new ri(""),d=new pc(t,i,o,u,a,wn,r,e.root);return d.snapshot=e.root,new ip(new ws(d,[]),e)}var pc=function(){function n(r,e,t,i,a,o,u,d){(0,m.Z)(this,n),this.url=r,this.params=e,this.queryParams=t,this.fragment=i,this.data=a,this.outlet=o,this.component=u,this._futureSnapshot=d}return(0,_.Z)(n,[{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe((0,It.U)(function(e){return Ga(e)}))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,It.U)(function(e){return Ga(e)}))),this._queryParamMap}},{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}}]),n}();function bg(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",e=n.pathFromRoot,t=0;if("always"!==r)for(t=e.length-1;t>=1;){var i=e[t],a=e[t-1];if(i.routeConfig&&""===i.routeConfig.path)t--;else{if(a.component)break;t--}}return zo(e.slice(t))}function zo(n){return n.reduce(function(r,e){return{params:Object.assign(Object.assign({},r.params),e.params),data:Object.assign(Object.assign({},r.data),e.data),resolve:Object.assign(Object.assign({},r.resolve),e._resolvedData)}},{params:{},data:{},resolve:{}})}var zs=function(){function n(r,e,t,i,a,o,u,d,h,v,b){(0,m.Z)(this,n),this.url=r,this.params=e,this.queryParams=t,this.fragment=i,this.data=a,this.outlet=o,this.component=u,this.routeConfig=d,this._urlSegment=h,this._lastPathIndex=v,this._resolve=b}return(0,_.Z)(n,[{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=Ga(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Ga(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){var e=this.url.map(function(i){return i.toString()}).join("/"),t=this.routeConfig?this.routeConfig.path:"";return"Route(url:'".concat(e,"', path:'").concat(t,"')")}}]),n}(),od=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i){var a;return(0,m.Z)(this,e),(a=r.call(this,i)).url=t,ap((0,Lr.Z)(a),i),a}return(0,_.Z)(e,[{key:"toString",value:function(){return op(this._root)}}]),e}(If);function ap(n,r){r.value._routerState=n,r.children.forEach(function(e){return ap(n,e)})}function op(n){var r=n.children.length>0?" { ".concat(n.children.map(op).join(", ")," } "):"";return"".concat(n.value).concat(r)}function sp(n){if(n.snapshot){var r=n.snapshot,e=n._futureSnapshot;n.snapshot=e,ce(r.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),r.fragment!==e.fragment&&n.fragment.next(e.fragment),ce(r.params,e.params)||n.params.next(e.params),function se(n,r){if(n.length!==r.length)return!1;for(var e=0;e<n.length;++e)if(!ce(n[e],r[e]))return!1;return!0}(r.url,e.url)||n.url.next(e.url),ce(r.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function up(n,r){var e=ce(n.params,r.params)&&function Ef(n,r){return To(n,r)&&n.every(function(e,t){return ce(e.parameters,r[t].parameters)})}(n.url,r.url);return e&&!(!n.parent!=!r.parent)&&(!n.parent||up(n.parent,r.parent))}function kl(n,r,e){if(e&&n.shouldReuseRoute(r.value,e.value.snapshot)){var t=e.value;t._futureSnapshot=r.value;var i=function kg(n,r,e){return r.children.map(function(t){var a,i=(0,G.Z)(e.children);try{for(i.s();!(a=i.n()).done;){var o=a.value;if(n.shouldReuseRoute(t.value,o.value.snapshot))return kl(n,t,o)}}catch(u){i.e(u)}finally{i.f()}return kl(n,t)})}(n,r,e);return new ws(t,i)}if(n.shouldAttach(r.value)){var a=n.retrieve(r.value);if(null!==a){var o=a.route;return o.value._futureSnapshot=r.value,o.children=r.children.map(function(h){return kl(n,h)}),o}}var u=function ly(n){return new pc(new ri(n.url),new ri(n.params),new ri(n.queryParams),new ri(n.fragment),new ri(n.data),n.outlet,n.component,n)}(r.value),d=r.children.map(function(h){return kl(n,h)});return new ws(u,d)}function cy(n,r,e,t,i){if(0===e.length)return M(r.root,r.root,r.root,t,i);var a=function S(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new E(!0,0,n);var r=0,e=!1,t=n.reduce(function(i,a,o){if("object"==typeof a&&null!=a){if(a.outlets){var u={};return ot(a.outlets,function(d,h){u[h]="string"==typeof d?d.split("/"):d}),[].concat((0,Zt.Z)(i),[{outlets:u}])}if(a.segmentPath)return[].concat((0,Zt.Z)(i),[a.segmentPath])}return"string"!=typeof a?[].concat((0,Zt.Z)(i),[a]):0===o?(a.split("/").forEach(function(d,h){0==h&&"."===d||(0==h&&""===d?e=!0:".."===d?r++:""!=d&&i.push(d))}),i):[].concat((0,Zt.Z)(i),[a])},[]);return new E(e,r,t)}(e);if(a.toRoot())return M(r.root,r.root,new zt([],{}),t,i);var o=function A(n,r,e){if(n.isAbsolute)return new C(r.root,!0,0);if(-1===e.snapshot._lastPathIndex){var t=e.snapshot._urlSegment;return new C(t,t===r.root,0)}var a=Pf(n.commands[0])?0:1;return function F(n,r,e){for(var t=n,i=r,a=e;a>i;){if(a-=i,!(t=t.parent))throw new Error("Invalid number of '../'");i=t.segments.length}return new C(t,!1,i-a)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+a,n.numberOfDoubleDots)}(a,r,n),u=o.processChildren?te(o.segmentGroup,o.index,a.commands):Y(o.segmentGroup,o.index,a.commands);return M(r.root,o.segmentGroup,u,t,i)}function Pf(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Ff(n){return"object"==typeof n&&null!=n&&n.outlets}function M(n,r,e,t,i){var a={};if(t&&ot(t,function(u,d){a[d]=Array.isArray(u)?u.map(function(h){return"".concat(h)}):"".concat(u)}),n===r)return new or(e,a,i);var o=D(n,r,e);return new or(o,a,i)}function D(n,r,e){var t={};return ot(n.children,function(i,a){t[a]=i===r?e:D(i,r,e)}),new zt(n.segments,t)}var E=function(){function n(r,e,t){if((0,m.Z)(this,n),this.isAbsolute=r,this.numberOfDoubleDots=e,this.commands=t,r&&t.length>0&&Pf(t[0]))throw new Error("Root segment cannot have matrix parameters");var i=t.find(Ff);if(i&&i!==Je(t))throw new Error("{outlets:{}} has to be the last command")}return(0,_.Z)(n,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),n}(),C=(0,_.Z)(function n(r,e,t){(0,m.Z)(this,n),this.segmentGroup=r,this.processChildren=e,this.index=t});function Y(n,r,e){if(n||(n=new zt([],{})),0===n.segments.length&&n.hasChildren())return te(n,r,e);var t=function Le(n,r,e){for(var t=0,i=r,a={match:!1,pathIndex:0,commandIndex:0};i<n.segments.length;){if(t>=e.length)return a;var o=n.segments[i],u=e[t];if(Ff(u))break;var d="".concat(u),h=t<e.length-1?e[t+1]:null;if(i>0&&void 0===d)break;if(d&&h&&"object"==typeof h&&void 0===h.outlets){if(!Vt(d,h,o))return a;t+=2}else{if(!Vt(d,{},o))return a;t++}i++}return{match:!0,pathIndex:i,commandIndex:t}}(n,r,e),i=e.slice(t.commandIndex);if(t.match&&t.pathIndex<n.segments.length){var a=new zt(n.segments.slice(0,t.pathIndex),{});return a.children[wn]=new zt(n.segments.slice(t.pathIndex),n.children),te(a,0,i)}return t.match&&0===i.length?new zt(n.segments,{}):t.match&&!n.hasChildren()?ze(n,r,e):t.match?te(n,0,i):ze(n,r,e)}function te(n,r,e){if(0===e.length)return new zt(n.segments,{});var t=function U(n){return Ff(n[0])?n[0].outlets:(0,zr.Z)({},wn,n)}(e),i={};return ot(t,function(a,o){"string"==typeof a&&(a=[a]),null!==a&&(i[o]=Y(n.children[o],r,a))}),ot(n.children,function(a,o){void 0===t[o]&&(i[o]=a)}),new zt(n.segments,i)}function ze(n,r,e){for(var t=n.segments.slice(0,r),i=0;i<e.length;){var a=e[i];if(Ff(a)){var o=Pt(a.outlets);return new zt(t,o)}if(0===i&&Pf(e[0]))t.push(new bs(n.segments[r].path,$e(e[0]))),i++;else{var d=Ff(a)?a.outlets[wn]:"".concat(a),h=i<e.length-1?e[i+1]:null;d&&h&&Pf(h)?(t.push(new bs(d,$e(h))),i+=2):(t.push(new bs(d,{})),i++)}}return new zt(t,{})}function Pt(n){var r={};return ot(n,function(e,t){"string"==typeof e&&(e=[e]),null!==e&&(r[t]=ze(new zt([],{}),0,e))}),r}function $e(n){var r={};return ot(n,function(e,t){return r[t]="".concat(e)}),r}function Vt(n,r,e){return n==e.path&&ce(r,e.parameters)}var Oi=function(){function n(r,e,t,i){(0,m.Z)(this,n),this.routeReuseStrategy=r,this.futureState=e,this.currState=t,this.forwardEvent=i}return(0,_.Z)(n,[{key:"activate",value:function(e){var t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),sp(this.futureState.root),this.activateChildRoutes(t,i,e)}},{key:"deactivateChildRoutes",value:function(e,t,i){var a=this,o=Ao(t);e.children.forEach(function(u){var d=u.value.outlet;a.deactivateRoutes(u,o[d],i),delete o[d]}),ot(o,function(u,d){a.deactivateRouteAndItsChildren(u,i)})}},{key:"deactivateRoutes",value:function(e,t,i){var a=e.value,o=t?t.value:null;if(a===o)if(a.component){var u=i.getContext(a.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}},{key:"deactivateRouteAndItsChildren",value:function(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}},{key:"detachAndStoreRouteSubtree",value:function(e,t){for(var i=t.getContext(e.value.outlet),a=i&&e.value.component?i.children:t,o=Ao(e),u=0,d=Object.keys(o);u<d.length;u++)this.deactivateRouteAndItsChildren(o[d[u]],a);if(i&&i.outlet){var v=i.outlet.detach(),b=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:v,route:e,contexts:b})}}},{key:"deactivateRouteAndOutlet",value:function(e,t){for(var i=t.getContext(e.value.outlet),a=i&&e.value.component?i.children:t,o=Ao(e),u=0,d=Object.keys(o);u<d.length;u++)this.deactivateRouteAndItsChildren(o[d[u]],a);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}},{key:"activateChildRoutes",value:function(e,t,i){var a=this,o=Ao(t);e.children.forEach(function(u){a.activateRoutes(u,o[u.value.outlet],i),a.forwardEvent(new _g(u.value.snapshot))}),e.children.length&&this.forwardEvent(new Gs(e.value.snapshot))}},{key:"activateRoutes",value:function(e,t,i){var a=e.value,o=t?t.value:null;if(sp(a),a===o)if(a.component){var u=i.getOrCreateContext(a.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,i);else if(a.component){var d=i.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){var h=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),d.children.onOutletReAttached(h.contexts),d.attachRef=h.componentRef,d.route=h.route.value,d.outlet&&d.outlet.attach(h.componentRef,h.route.value),sp(h.route.value),this.activateChildRoutes(e,null,d.children)}else{var v=function Sr(n){for(var r=n.parent;r;r=r.parent){var e=r.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(a.snapshot),b=v?v.module.componentFactoryResolver:null;d.attachRef=null,d.route=a,d.resolver=b,d.outlet&&d.outlet.activateWith(a,b),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,i)}}]),n}(),Io=(0,_.Z)(function n(r,e){(0,m.Z)(this,n),this.routes=r,this.module=e});function gn(n){return"function"==typeof n}function Da(n){return n instanceof or}var Er=Symbol("INITIAL_VALUE");function sd(){return Kn(function(n){return function _s(){for(var n=arguments.length,r=new Array(n),e=0;e<n;e++)r[e]=arguments[e];var t=void 0,i=void 0;return(0,gs.K)(r[r.length-1])&&(i=r.pop()),"function"==typeof r[r.length-1]&&(t=r.pop()),1===r.length&&(0,_u.k)(r[0])&&(r=r[0]),(0,ms.n)(r,i).lift(new ed(t))}(n.map(function(r){return r.pipe(Zn(1),Hn(Er))})).pipe(gi(function(r,e){var t=!1;return e.reduce(function(i,a,o){return i!==Er?i:(a===Er&&(t=!0),t||!1!==a&&o!==e.length-1&&!Da(a)?i:a)},r)},Er),_n(function(r){return r!==Er}),(0,It.U)(function(r){return Da(r)?r:!0===r}),Zn(1))})}var KT=(0,_.Z)(function n(){(0,m.Z)(this,n),this.outlet=null,this.route=null,this.resolver=null,this.children=new ud,this.attachRef=null}),ud=function(){function n(){(0,m.Z)(this,n),this.contexts=new Map}return(0,_.Z)(n,[{key:"onChildOutletCreated",value:function(e,t){var i=this.getOrCreateContext(e);i.outlet=t,this.contexts.set(e,i)}},{key:"onChildOutletDestroyed",value:function(e){var t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}},{key:"onOutletDeactivated",value:function(){var e=this.contexts;return this.contexts=new Map,e}},{key:"onOutletReAttached",value:function(e){this.contexts=e}},{key:"getOrCreateContext",value:function(e){var t=this.getContext(e);return t||(t=new KT,this.contexts.set(e,t)),t}},{key:"getContext",value:function(e){return this.contexts.get(e)||null}}]),n}(),fy=function(){var n=function(){function r(e,t,i,a,o){(0,m.Z)(this,r),this.parentContexts=e,this.location=t,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.attachEvents=new s.vpe,this.detachEvents=new s.vpe,this.name=a||wn,e.onChildOutletCreated(this.name,this)}return(0,_.Z)(r,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}},{key:"attach",value:function(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}},{key:"deactivate",value:function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}},{key:"activateWith",value:function(t,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var u=(i=i||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),d=this.parentContexts.getOrCreateContext(this.name).children,h=new $T(t,d,this.location.injector);this.activated=this.location.createComponent(u,this.location.length,h),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}]),r}();return n.\u0275fac=function(e){return new(e||n)(s.Y36(ud),s.Y36(s.s_b),s.Y36(s._Vd),s.$8M("name"),s.Y36(s.sBO))},n.\u0275dir=s.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n}(),$T=function(){function n(r,e,t){(0,m.Z)(this,n),this.route=r,this.childContexts=e,this.parent=t}return(0,_.Z)(n,[{key:"get",value:function(e,t){return e===pc?this.route:e===ud?this.childContexts:this.parent.get(e,t)}}]),n}(),jw=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&s._UZ(0,"router-outlet")},directives:[fy],encapsulation:2}),n}();function Gw(n){for(var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",e=0;e<n.length;e++){var t=n[e],i=JT(r,t);QT(t,i)}}function QT(n,r){n.children&&Gw(n.children,r)}function JT(n,r){return r?n||r.path?n&&!r.path?"".concat(n,"/"):!n&&r.path?r.path:"".concat(n,"/").concat(r.path):"":n}function zw(n){var r=n.children&&n.children.map(zw),e=r?Object.assign(Object.assign({},n),{children:r}):Object.assign({},n);return!e.component&&(r||e.loadChildren)&&e.outlet&&e.outlet!==wn&&(e.component=jw),e}function Ys(n){return n.outlet||wn}function xf(n,r){var e=n.filter(function(t){return Ys(t)===r});return e.push.apply(e,(0,Zt.Z)(n.filter(function(t){return Ys(t)!==r}))),e}var Wo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Nf(n,r,e){var t;if(""===r.path)return"full"===r.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},Wo):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};var a=(r.matcher||Q)(e,n,r);if(!a)return Object.assign({},Wo);var o={};ot(a.posParams,function(d,h){o[h]=d.path});var u=a.consumed.length>0?Object.assign(Object.assign({},o),a.consumed[a.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:a.consumed,remainingSegments:e.slice(a.consumed.length),parameters:u,positionalParamSegments:null!==(t=a.posParams)&&void 0!==t?t:{}}}function lp(n,r,e,t){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"corrected";if(e.length>0&&cp(n,e,t)){var a=new zt(r,Ya(n,r,t,new zt(e,n.children)));return a._sourceSegment=n,a._segmentIndexShift=r.length,{segmentGroup:a,slicedSegments:[]}}if(0===e.length&&hy(n,e,t)){var o=new zt(n.segments,Yw(n,r,e,t,n.children,i));return o._sourceSegment=n,o._segmentIndexShift=r.length,{segmentGroup:o,slicedSegments:e}}var u=new zt(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=r.length,{segmentGroup:u,slicedSegments:e}}function Yw(n,r,e,t,i,a){var d,o={},u=(0,G.Z)(t);try{for(u.s();!(d=u.n()).done;){var h=d.value;if(wg(n,e,h)&&!i[Ys(h)]){var v=new zt([],{});v._sourceSegment=n,v._segmentIndexShift="legacy"===a?n.segments.length:r.length,o[Ys(h)]=v}}}catch(b){u.e(b)}finally{u.f()}return Object.assign(Object.assign({},i),o)}function Ya(n,r,e,t){var i={};i[wn]=t,t._sourceSegment=n,t._segmentIndexShift=r.length;var o,a=(0,G.Z)(e);try{for(a.s();!(o=a.n()).done;){var u=o.value;if(""===u.path&&Ys(u)!==wn){var d=new zt([],{});d._sourceSegment=n,d._segmentIndexShift=r.length,i[Ys(u)]=d}}}catch(h){a.e(h)}finally{a.f()}return i}function cp(n,r,e){return e.some(function(t){return wg(n,r,t)&&Ys(t)!==wn})}function hy(n,r,e){return e.some(function(t){return wg(n,r,t)})}function wg(n,r,e){return(!(n.hasChildren()||r.length>0)||"full"!==e.pathMatch)&&""===e.path}function Ww(n,r,e,t){return!!(Ys(n)===t||t!==wn&&wg(r,e,n))&&("**"===n.path||Nf(r,n,e).matched)}function py(n,r,e){return 0===r.length&&!n.children[e]}var Cg=(0,_.Z)(function n(r){(0,m.Z)(this,n),this.segmentGroup=r||null}),vy=(0,_.Z)(function n(r){(0,m.Z)(this,n),this.urlTree=r});function dp(n){return(0,ys._)(new Cg(n))}function gy(n){return(0,ys._)(new vy(n))}function XT(n){return(0,ys._)(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(n,"'")))}var tA=function(){function n(r,e,t,i,a){(0,m.Z)(this,n),this.configLoader=e,this.urlSerializer=t,this.urlTree=i,this.config=a,this.allowRedirects=!0,this.ngModule=r.get(s.h0i)}return(0,_.Z)(n,[{key:"apply",value:function(){var e=this,t=lp(this.urlTree.root,[],[],this.config).segmentGroup,i=new zt(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,i,wn).pipe((0,It.U)(function(u){return e.createUrlTree(fp(u),e.urlTree.queryParams,e.urlTree.fragment)})).pipe(Ea(function(u){if(u instanceof vy)return e.allowRedirects=!1,e.match(u.urlTree);throw u instanceof Cg?e.noMatchError(u):u}))}},{key:"match",value:function(e){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,e.root,wn).pipe((0,It.U)(function(o){return t.createUrlTree(fp(o),e.queryParams,e.fragment)})).pipe(Ea(function(o){throw o instanceof Cg?t.noMatchError(o):o}))}},{key:"noMatchError",value:function(e){return new Error("Cannot match any routes. URL Segment: '".concat(e.segmentGroup,"'"))}},{key:"createUrlTree",value:function(e,t,i){var a=e.segments.length>0?new zt([],(0,zr.Z)({},wn,e)):e;return new or(a,t,i)}},{key:"expandSegmentGroup",value:function(e,t,i,a){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,It.U)(function(o){return new zt([],o)})):this.expandSegment(e,i,t,i.segments,a,!0)}},{key:"expandChildren",value:function(e,t,i){for(var a=this,o=[],u=0,d=Object.keys(i.children);u<d.length;u++){var h=d[u];"primary"===h?o.unshift(h):o.push(h)}return(0,qn.D)(o).pipe(ic(function(v){var b=i.children[v],k=xf(t,v);return a.expandSegmentGroup(e,k,b,v).pipe((0,It.U)(function(I){return{segment:I,outlet:v}}))}),gi(function(v,b){return v[b.outlet]=b.segment,v},{}),function Wr(n,r){var e=arguments.length>=2;return function(t){return t.pipe(n?_n(function(i,a){return n(i,a,t)}):_l.y,ac(1),e?tp(r):kf(function(){return new ku}))}}())}},{key:"expandSegment",value:function(e,t,i,a,o,u){var d=this;return(0,qn.D)(i).pipe(ic(function(h){return d.expandSegmentAgainstRoute(e,t,i,h,a,o,u).pipe(Ea(function(b){if(b instanceof Cg)return(0,Ft.of)(null);throw b}))}),ja(function(h){return!!h}),Ea(function(h,v){if(h instanceof ku||"EmptyError"===h.name)return py(t,a,o)?(0,Ft.of)(new zt([],{})):dp(t);throw h}))}},{key:"expandSegmentAgainstRoute",value:function(e,t,i,a,o,u,d){return Ww(a,t,o,u)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(e,t,a,o,u):d&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,a,o,u):dp(t):dp(t)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(e,t,i,a,o,u){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,a,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,a,o,u)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(e,t,i,a){var o=this,u=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?gy(u):this.lineralizeSegments(i,u).pipe((0,ai.zg)(function(d){var h=new zt(d,{});return o.expandSegment(e,h,t,d,a,!1)}))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(e,t,i,a,o,u){var d=this,h=Nf(t,a,o),b=h.consumedSegments,k=h.remainingSegments,I=h.positionalParamSegments;if(!h.matched)return dp(t);var O=this.applyRedirectCommands(b,a.redirectTo,I);return a.redirectTo.startsWith("/")?gy(O):this.lineralizeSegments(a,O).pipe((0,ai.zg)(function(q){return d.expandSegment(e,t,i,q.concat(k),u,!1)}))}},{key:"matchSegmentAgainstRoute",value:function(e,t,i,a,o){var u=this;if("**"===i.path)return i.loadChildren?(i._loadedConfig?(0,Ft.of)(i._loadedConfig):this.configLoader.load(e.injector,i)).pipe((0,It.U)(function(O){return i._loadedConfig=O,new zt(a,{})})):(0,Ft.of)(new zt(a,{}));var h=Nf(t,i,a),b=h.consumedSegments,k=h.remainingSegments;return h.matched?this.getChildConfig(e,i,a).pipe((0,ai.zg)(function(O){var q=O.module,J=O.routes,ue=lp(t,b,k,J),fe=ue.segmentGroup,Oe=ue.slicedSegments,Ze=new zt(fe.segments,fe.children);if(0===Oe.length&&Ze.hasChildren())return u.expandChildren(q,J,Ze).pipe((0,It.U)(function(vt){return new zt(b,vt)}));if(0===J.length&&0===Oe.length)return(0,Ft.of)(new zt(b,{}));var lt=Ys(i)===o;return u.expandSegment(q,Ze,J,Oe,lt?wn:o,!0).pipe((0,It.U)(function(vt){return new zt(b.concat(vt.segments),vt.children)}))})):dp(t)}},{key:"getChildConfig",value:function(e,t,i){var a=this;return t.children?(0,Ft.of)(new Io(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,Ft.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,i).pipe((0,ai.zg)(function(o){return o?a.configLoader.load(e.injector,t).pipe((0,It.U)(function(u){return t._loadedConfig=u,u})):function eA(n){return(0,ys._)(V("Cannot load children because the guard of the route \"path: '".concat(n.path,"'\" returned false")))}(t)})):(0,Ft.of)(new Io([],e))}},{key:"runCanLoadGuards",value:function(e,t,i){var a=this,o=t.canLoad;if(!o||0===o.length)return(0,Ft.of)(!0);var u=o.map(function(d){var v,h=e.get(d);if(function Yo(n){return n&&gn(n.canLoad)}(h))v=h.canLoad(t,i);else{if(!gn(h))throw new Error("Invalid CanLoad guard");v=h(t,i)}return et(v)});return(0,Ft.of)(u).pipe(sd(),(0,Rr.b)(function(d){if(Da(d)){var h=V('Redirecting to "'.concat(a.urlSerializer.serialize(d),'"'));throw h.url=d,h}}),(0,It.U)(function(d){return!0===d}))}},{key:"lineralizeSegments",value:function(e,t){for(var i=[],a=t.root;;){if(i=i.concat(a.segments),0===a.numberOfChildren)return(0,Ft.of)(i);if(a.numberOfChildren>1||!a.children[wn])return XT(e.redirectTo);a=a.children[wn]}}},{key:"applyRedirectCommands",value:function(e,t,i){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,i)}},{key:"applyRedirectCreatreUrlTree",value:function(e,t,i,a){var o=this.createSegmentGroup(e,t.root,i,a);return new or(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}},{key:"createQueryParams",value:function(e,t){var i={};return ot(e,function(a,o){if("string"==typeof a&&a.startsWith(":")){var d=a.substring(1);i[o]=t[d]}else i[o]=a}),i}},{key:"createSegmentGroup",value:function(e,t,i,a){var o=this,u=this.createSegments(e,t.segments,i,a),d={};return ot(t.children,function(h,v){d[v]=o.createSegmentGroup(e,h,i,a)}),new zt(u,d)}},{key:"createSegments",value:function(e,t,i,a){var o=this;return t.map(function(u){return u.path.startsWith(":")?o.findPosParam(e,u,a):o.findOrReturn(u,i)})}},{key:"findPosParam",value:function(e,t,i){var a=i[t.path.substring(1)];if(!a)throw new Error("Cannot redirect to '".concat(e,"'. Cannot find '").concat(t.path,"'."));return a}},{key:"findOrReturn",value:function(e,t){var o,i=0,a=(0,G.Z)(t);try{for(a.s();!(o=a.n()).done;){var u=o.value;if(u.path===e.path)return t.splice(i),u;i++}}catch(d){a.e(d)}finally{a.f()}return e}}]),n}();function fp(n){for(var r={},e=0,t=Object.keys(n.children);e<t.length;e++){var i=t[e],o=fp(n.children[i]);(o.segments.length>0||o.hasChildren())&&(r[i]=o)}return function nA(n){if(1===n.numberOfChildren&&n.children[wn]){var r=n.children[wn];return new zt(n.segments.concat(r.segments),r.children)}return n}(new zt(n.segments,r))}var qw=(0,_.Z)(function n(r){(0,m.Z)(this,n),this.path=r,this.route=this.path[this.path.length-1]}),ld=(0,_.Z)(function n(r,e){(0,m.Z)(this,n),this.component=r,this.route=e});function iA(n,r,e){var t=n._root;return hp(t,r?r._root:null,e,[t.value])}function Eg(n,r,e){var t=function oA(n){if(!n)return null;for(var r=n.parent;r;r=r.parent){var e=r.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(r);return(t?t.module.injector:e).get(n)}function hp(n,r,e,t){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=Ao(r);return n.children.forEach(function(o){Kw(o,a[o.value.outlet],e,t.concat([o.value]),i),delete a[o.value.outlet]}),ot(a,function(o,u){return pp(o,e.getContext(u),i)}),i}function Kw(n,r,e,t){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=n.value,o=r?r.value:null,u=e?e.getContext(n.value.outlet):null;if(o&&a.routeConfig===o.routeConfig){var d=sA(o,a,a.routeConfig.runGuardsAndResolvers);d?i.canActivateChecks.push(new qw(t)):(a.data=o.data,a._resolvedData=o._resolvedData),hp(n,r,a.component?u?u.children:null:e,t,i),d&&u&&u.outlet&&u.outlet.isActivated&&i.canDeactivateChecks.push(new ld(u.outlet.component,o))}else o&&pp(r,u,i),i.canActivateChecks.push(new qw(t)),hp(n,null,a.component?u?u.children:null:e,t,i);return i}function sA(n,r,e){if("function"==typeof e)return e(n,r);switch(e){case"pathParamsChange":return!To(n.url,r.url);case"pathParamsOrQueryParamsChange":return!To(n.url,r.url)||!ce(n.queryParams,r.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!up(n,r)||!ce(n.queryParams,r.queryParams);default:return!up(n,r)}}function pp(n,r,e){var t=Ao(n),i=n.value;ot(t,function(a,o){pp(a,i.component?r?r.children.getContext(o):null:r,e)}),e.canDeactivateChecks.push(new ld(i.component&&r&&r.outlet&&r.outlet.isActivated?r.outlet.component:null,i))}var QZ=(0,_.Z)(function n(){(0,m.Z)(this,n)});function hA(n){return new Qn.y(function(r){return r.error(n)})}var JZ=function(){function n(r,e,t,i,a,o){(0,m.Z)(this,n),this.rootComponentType=r,this.config=e,this.urlTree=t,this.url=i,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=o}return(0,_.Z)(n,[{key:"recognize",value:function(){var e=lp(this.urlTree.root,[],[],this.config.filter(function(u){return void 0===u.redirectTo}),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,wn);if(null===t)return null;var i=new zs([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},wn,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new ws(i,t),o=new od(this.url,a);return this.inheritParamsAndData(o._root),o}},{key:"inheritParamsAndData",value:function(e){var t=this,i=e.value,a=bg(i,this.paramsInheritanceStrategy);i.params=Object.freeze(a.params),i.data=Object.freeze(a.data),e.children.forEach(function(o){return t.inheritParamsAndData(o)})}},{key:"processSegmentGroup",value:function(e,t,i){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,i)}},{key:"processChildren",value:function(e,t){for(var i=[],a=0,o=Object.keys(t.children);a<o.length;a++){var u=o[a],d=t.children[u],h=xf(e,u),v=this.processSegmentGroup(h,d,u);if(null===v)return null;i.push.apply(i,(0,Zt.Z)(v))}var b=Jw(i);return function Eu(n){n.sort(function(r,e){return r.value.outlet===wn?-1:e.value.outlet===wn?1:r.value.outlet.localeCompare(e.value.outlet)})}(b),b}},{key:"processSegment",value:function(e,t,i,a){var u,o=(0,G.Z)(e);try{for(o.s();!(u=o.n()).done;){var h=this.processSegmentAgainstRoute(u.value,t,i,a);if(null!==h)return h}}catch(v){o.e(v)}finally{o.f()}return py(t,i,a)?[]:null}},{key:"processSegmentAgainstRoute",value:function(e,t,i,a){if(e.redirectTo||!Ww(e,t,i,a))return null;var o,u=[],d=[];if("**"===e.path){var h=i.length>0?Je(i).parameters:{};o=new zs(i,h,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ky(e),Ys(e),e.component,e,Lf(t),by(t)+i.length,Dg(e))}else{var v=Nf(t,e,i);if(!v.matched)return null;d=v.remainingSegments,o=new zs(u=v.consumedSegments,v.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ky(e),Ys(e),e.component,e,Lf(t),by(t)+u.length,Dg(e))}var b=function _y(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),k=lp(t,u,d,b.filter(function(fe){return void 0===fe.redirectTo}),this.relativeLinkResolution),I=k.segmentGroup,O=k.slicedSegments;if(0===O.length&&I.hasChildren()){var q=this.processChildren(b,I);return null===q?null:[new ws(o,q)]}if(0===b.length&&0===O.length)return[new ws(o,[])];var J=Ys(e)===a,ue=this.processSegment(b,I,O,J?wn:a);return null===ue?null:[new ws(o,ue)]}}]),n}();function Jw(n){var i,r=[],e=new Set,t=(0,G.Z)(n);try{var a=function(){var k=i.value;if(!function yy(n){var r=n.value.routeConfig;return r&&""===r.path&&void 0===r.redirectTo}(k))return r.push(k),"continue";var O,I=r.find(function(q){return k.value.routeConfig===q.value.routeConfig});void 0!==I?((O=I.children).push.apply(O,(0,Zt.Z)(k.children)),e.add(I)):r.push(k)};for(t.s();!(i=t.n()).done;)a()}catch(b){t.e(b)}finally{t.f()}var d,u=(0,G.Z)(e);try{for(u.s();!(d=u.n()).done;){var h=d.value,v=Jw(h.children);r.push(new ws(h.value,v))}}catch(b){u.e(b)}finally{u.f()}return r.filter(function(b){return!e.has(b)})}function Lf(n){for(var r=n;r._sourceSegment;)r=r._sourceSegment;return r}function by(n){for(var r=n,e=r._segmentIndexShift?r._segmentIndexShift:0;r._sourceSegment;)e+=(r=r._sourceSegment)._segmentIndexShift?r._segmentIndexShift:0;return e-1}function ky(n){return n.data||{}}function Dg(n){return n.resolve||{}}function Mg(n){return[].concat((0,Zt.Z)(Object.keys(n)),(0,Zt.Z)(Object.getOwnPropertySymbols(n)))}function Cy(n){return Kn(function(r){var e=n(r);return e?(0,qn.D)(e).pipe((0,It.U)(function(){return r})):(0,Ft.of)(r)})}var Ey=(0,_.Z)(function n(){(0,m.Z)(this,n)}),vA=function(){function n(){(0,m.Z)(this,n)}return(0,_.Z)(n,[{key:"shouldDetach",value:function(e){return!1}},{key:"store",value:function(e,t){}},{key:"shouldAttach",value:function(e){return!1}},{key:"retrieve",value:function(e){return null}},{key:"shouldReuseRoute",value:function(e,t){return e.routeConfig===t.routeConfig}}]),n}(),gA=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(){return(0,m.Z)(this,e),r.apply(this,arguments)}return(0,_.Z)(e)}(vA),Dy=new s.OlP("ROUTES"),tC=function(){function n(r,e,t,i){(0,m.Z)(this,n),this.injector=r,this.compiler=e,this.onLoadStartListener=t,this.onLoadEndListener=i}return(0,_.Z)(n,[{key:"load",value:function(e,t){var i=this;if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);var o=this.loadModuleFactory(t.loadChildren).pipe((0,It.U)(function(u){i.onLoadEndListener&&i.onLoadEndListener(t);var d=u.create(e);return new Io(ge(d.injector.get(Dy,void 0,s.XFs.Self|s.XFs.Optional)).map(zw),d)}),Ea(function(u){throw t._loader$=void 0,u}));return t._loader$=new tc.c(o,function(){return new ft.xQ}).pipe((0,oc.x)()),t._loader$}},{key:"loadModuleFactory",value:function(e){var t=this;return et(e()).pipe((0,ai.zg)(function(i){return i instanceof s.YKP?(0,Ft.of)(i):(0,qn.D)(t.compiler.compileModuleAsync(i))}))}}]),n}(),mA=(0,_.Z)(function n(){(0,m.Z)(this,n)}),_A=function(){function n(){(0,m.Z)(this,n)}return(0,_.Z)(n,[{key:"shouldProcessUrl",value:function(e){return!0}},{key:"extract",value:function(e){return e}},{key:"merge",value:function(e,t){return e}}]),n}();function nC(n){throw n}function My(n,r,e){return r.parse("/")}function Sy(n,r){return(0,Ft.of)(null)}var Ty={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},yA={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},qo=function(){var n=function(){function r(e,t,i,a,o,u,d){var h=this;(0,m.Z)(this,r),this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=i,this.location=a,this.config=d,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ft.xQ,this.errorHandler=nC,this.malformedUriErrorHandler=My,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Sy,afterPreactivation:Sy},this.urlHandlingStrategy=new _A,this.routeReuseStrategy=new gA,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(s.h0i),this.console=o.get(s.c2e);var k=o.get(s.R0b);this.isNgZoneEnabled=k instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(d),this.currentUrlTree=function Kt(){return new or(new zt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new tC(o,u,function(O){return h.triggerEvent(new Hs(O))},function(O){return h.triggerEvent(new js(O))}),this.routerState=yg(this.currentUrlTree,this.rootComponentType),this.transitions=new ri({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return(0,_.Z)(r,[{key:"browserPageId",get:function(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}},{key:"setupNavigations",value:function(t){var i=this,a=this.events;return t.pipe(_n(function(o){return 0!==o.id}),(0,It.U)(function(o){return Object.assign(Object.assign({},o),{extractedUrl:i.urlHandlingStrategy.extract(o.rawUrl)})}),Kn(function(o){var u=!1,d=!1;return(0,Ft.of)(o).pipe((0,Rr.b)(function(h){i.currentNavigation={id:h.id,initialUrl:h.currentRawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:i.lastSuccessfulNavigation?Object.assign(Object.assign({},i.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Kn(function(h){var v=i.browserUrlTree.toString(),b=!i.navigated||h.extractedUrl.toString()!==v||v!==i.currentUrlTree.toString();if(("reload"===i.onSameUrlNavigation||b)&&i.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return Ay(h.source)&&(i.browserUrlTree=h.extractedUrl),(0,Ft.of)(h).pipe(Kn(function(je){var lt=i.transitions.getValue();return a.next(new po(je.id,i.serializeUrl(je.extractedUrl),je.source,je.restoredState)),lt!==i.transitions.getValue()?Ti.E:Promise.resolve(je)}),function rA(n,r,e,t){return Kn(function(i){return function my(n,r,e,t,i){return new tA(n,r,e,t,i).apply()}(n,r,e,i.extractedUrl,t).pipe((0,It.U)(function(a){return Object.assign(Object.assign({},i),{urlAfterRedirects:a})}))})}(i.ngModule.injector,i.configLoader,i.urlSerializer,i.config),(0,Rr.b)(function(je){i.currentNavigation=Object.assign(Object.assign({},i.currentNavigation),{finalUrl:je.urlAfterRedirects})}),function wy(n,r,e,t,i){return(0,ai.zg)(function(a){return function Qw(n,r,e,t){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";try{var o=new JZ(n,r,e,t,i,a).recognize();return null===o?hA(new QZ):(0,Ft.of)(o)}catch(u){return hA(u)}}(n,r,a.urlAfterRedirects,e(a.urlAfterRedirects),t,i).pipe((0,It.U)(function(o){return Object.assign(Object.assign({},a),{targetSnapshot:o})}))})}(i.rootComponentType,i.config,function(je){return i.serializeUrl(je)},i.paramsInheritanceStrategy,i.relativeLinkResolution),(0,Rr.b)(function(je){if("eager"===i.urlUpdateStrategy){if(!je.extras.skipLocationChange){var lt=i.urlHandlingStrategy.merge(je.urlAfterRedirects,je.rawUrl);i.setBrowserUrl(lt,je)}i.browserUrlTree=je.urlAfterRedirects}var ct=new gg(je.id,i.serializeUrl(je.extractedUrl),i.serializeUrl(je.urlAfterRedirects),je.targetSnapshot);a.next(ct)}));if(b&&i.rawUrlTree&&i.urlHandlingStrategy.shouldProcessUrl(i.rawUrlTree)){var q=h.extractedUrl,J=h.source,ue=h.restoredState,fe=h.extras,Oe=new po(h.id,i.serializeUrl(q),J,ue);a.next(Oe);var Ze=yg(q,i.rootComponentType).snapshot;return(0,Ft.of)(Object.assign(Object.assign({},h),{targetSnapshot:Ze,urlAfterRedirects:q,extras:Object.assign(Object.assign({},fe),{skipLocationChange:!1,replaceUrl:!1})}))}return i.rawUrlTree=h.rawUrl,h.resolve(null),Ti.E}),Cy(function(h){var O=h.extras;return i.hooks.beforePreactivation(h.targetSnapshot,{navigationId:h.id,appliedUrlTree:h.extractedUrl,rawUrlTree:h.rawUrl,skipLocationChange:!!O.skipLocationChange,replaceUrl:!!O.replaceUrl})}),(0,Rr.b)(function(h){var v=new mg(h.id,i.serializeUrl(h.extractedUrl),i.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);i.triggerEvent(v)}),(0,It.U)(function(h){return Object.assign(Object.assign({},h),{guards:iA(h.targetSnapshot,h.currentSnapshot,i.rootContexts)})}),function uA(n,r){return(0,ai.zg)(function(e){var t=e.targetSnapshot,i=e.currentSnapshot,a=e.guards,o=a.canActivateChecks,u=a.canDeactivateChecks;return 0===u.length&&0===o.length?(0,Ft.of)(Object.assign(Object.assign({},e),{guardsResult:!0})):function lA(n,r,e,t){return(0,qn.D)(n).pipe((0,ai.zg)(function(i){return function Cu(n,r,e,t,i){var a=r&&r.routeConfig?r.routeConfig.canDeactivate:null;if(!a||0===a.length)return(0,Ft.of)(!0);var o=a.map(function(u){var h,d=Eg(u,r,i);if(function dy(n){return n&&gn(n.canDeactivate)}(d))h=et(d.canDeactivate(n,r,e,t));else{if(!gn(d))throw new Error("Invalid CanDeactivate guard");h=et(d(n,r,e,t))}return h.pipe(ja())});return(0,Ft.of)(o).pipe(sd())}(i.component,i.route,e,r,t)}),ja(function(i){return!0!==i},!0))}(u,t,i,n).pipe((0,ai.zg)(function(d){return d&&function mi(n){return"boolean"==typeof n}(d)?function cA(n,r,e,t){return(0,qn.D)(r).pipe(ic(function(i){return fo(function fA(n,r){return null!==n&&r&&r(new uc(n)),(0,Ft.of)(!0)}(i.route.parent,t),function dA(n,r){return null!==n&&r&&r(new nd(n)),(0,Ft.of)(!0)}(i.route,t),function Zf(n,r,e){var t=r[r.length-1],i=r.slice(0,r.length-1).reverse().map(function(o){return function aA(n){var r=n.routeConfig?n.routeConfig.canActivateChild:null;return r&&0!==r.length?{node:n,guards:r}:null}(o)}).filter(function(o){return null!==o}),a=i.map(function(o){return ho(function(){var u=o.guards.map(function(d){var v,h=Eg(d,o.node,e);if(function Or(n){return n&&gn(n.canActivateChild)}(h))v=et(h.canActivateChild(t,n));else{if(!gn(h))throw new Error("Invalid CanActivateChild guard");v=et(h(t,n))}return v.pipe(ja())});return(0,Ft.of)(u).pipe(sd())})});return(0,Ft.of)(a).pipe(sd())}(n,i.path,e),function $w(n,r,e){var t=r.routeConfig?r.routeConfig.canActivate:null;if(!t||0===t.length)return(0,Ft.of)(!0);var i=t.map(function(a){return ho(function(){var u,o=Eg(a,r,e);if(function vc(n){return n&&gn(n.canActivate)}(o))u=et(o.canActivate(r,n));else{if(!gn(o))throw new Error("Invalid CanActivate guard");u=et(o(r,n))}return u.pipe(ja())})});return(0,Ft.of)(i).pipe(sd())}(n,i.route,e))}),ja(function(i){return!0!==i},!0))}(t,o,n,r):(0,Ft.of)(d)}),(0,It.U)(function(d){return Object.assign(Object.assign({},e),{guardsResult:d})}))})}(i.ngModule.injector,function(h){return i.triggerEvent(h)}),(0,Rr.b)(function(h){if(Da(h.guardsResult)){var v=V('Redirecting to "'.concat(i.serializeUrl(h.guardsResult),'"'));throw v.url=h.guardsResult,v}var b=new Us(h.id,i.serializeUrl(h.extractedUrl),i.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);i.triggerEvent(b)}),_n(function(h){return!!h.guardsResult||(i.restoreHistory(h),i.cancelNavigationTransition(h,""),!1)}),Cy(function(h){if(h.guards.canActivateChecks.length)return(0,Ft.of)(h).pipe((0,Rr.b)(function(v){var b=new Yi(v.id,i.serializeUrl(v.extractedUrl),i.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);i.triggerEvent(b)}),Kn(function(v){var b=!1;return(0,Ft.of)(v).pipe(function Xw(n,r){return(0,ai.zg)(function(e){var t=e.targetSnapshot,i=e.guards.canActivateChecks;if(!i.length)return(0,Ft.of)(e);var a=0;return(0,qn.D)(i).pipe(ic(function(o){return function XZ(n,r,e,t){return function Bf(n,r,e,t){var i=Mg(n);if(0===i.length)return(0,Ft.of)({});var a={};return(0,qn.D)(i).pipe((0,ai.zg)(function(o){return function eC(n,r,e,t){var i=Eg(n,r,t);return et(i.resolve?i.resolve(r,e):i(r,e))}(n[o],r,e,t).pipe((0,Rr.b)(function(u){a[o]=u}))}),ac(1),(0,ai.zg)(function(){return Mg(a).length===i.length?(0,Ft.of)(a):Ti.E}))}(n._resolve,n,r,t).pipe((0,It.U)(function(a){return n._resolvedData=a,n.data=Object.assign(Object.assign({},n.data),bg(n,e).resolve),null}))}(o.route,t,n,r)}),(0,Rr.b)(function(){return a++}),ac(1),(0,ai.zg)(function(o){return a===i.length?(0,Ft.of)(e):Ti.E}))})}(i.paramsInheritanceStrategy,i.ngModule.injector),(0,Rr.b)({next:function(){return b=!0},complete:function(){b||(i.restoreHistory(v),i.cancelNavigationTransition(v,"At least one route resolver didn't emit any value."))}}))}),(0,Rr.b)(function(v){var b=new sc(v.id,i.serializeUrl(v.extractedUrl),i.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);i.triggerEvent(b)}))}),Cy(function(h){var O=h.extras;return i.hooks.afterPreactivation(h.targetSnapshot,{navigationId:h.id,appliedUrlTree:h.extractedUrl,rawUrlTree:h.rawUrl,skipLocationChange:!!O.skipLocationChange,replaceUrl:!!O.replaceUrl})}),(0,It.U)(function(h){var v=function uy(n,r,e){var t=kl(n,r._root,e?e._root:void 0);return new ip(t,r)}(i.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return Object.assign(Object.assign({},h),{targetRouterState:v})}),(0,Rr.b)(function(h){i.currentUrlTree=h.urlAfterRedirects,i.rawUrlTree=i.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),i.routerState=h.targetRouterState,"deferred"===i.urlUpdateStrategy&&(h.extras.skipLocationChange||i.setBrowserUrl(i.rawUrlTree,h),i.browserUrlTree=h.urlAfterRedirects)}),function(r,e,t){return(0,It.U)(function(i){return new Oi(e,i.targetRouterState,i.currentRouterState,t).activate(r),i})}(i.rootContexts,i.routeReuseStrategy,function(h){return i.triggerEvent(h)}),(0,Rr.b)({next:function(){u=!0},complete:function(){u=!0}}),Ai(function(){var h;if(!u&&!d){var v="Navigation ID ".concat(o.id," is not equal to the current navigation id ").concat(i.navigationId);i.cancelNavigationTransition(o,v)}(null===(h=i.currentNavigation)||void 0===h?void 0:h.id)===o.id&&(i.currentNavigation=null)}),Ea(function(h){if(d=!0,function z(n){return n&&n[H]}(h)){var v=Da(h.url);v||(i.navigated=!0,i.restoreHistory(o,!0));var b=new Vs(o.id,i.serializeUrl(o.extractedUrl),h.message);a.next(b),v?setTimeout(function(){var I=i.urlHandlingStrategy.merge(h.url,i.rawUrlTree),O={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===i.urlUpdateStrategy||Ay(o.source)};i.scheduleNavigation(I,"imperative",null,O,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{i.restoreHistory(o,!0);var k=new wf(o.id,i.serializeUrl(o.extractedUrl),h);a.next(k);try{o.resolve(i.errorHandler(h))}catch(I){o.reject(I)}}return Ti.E}))}))}},{key:"resetRootComponentType",value:function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}},{key:"setTransition",value:function(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(i){var a="popstate"===i.type?"popstate":"hashchange";"popstate"===a&&setTimeout(function(){var o,u={replaceUrl:!0},d=(null===(o=i.state)||void 0===o?void 0:o.navigationId)?i.state:null;if(d){var h=Object.assign({},d);delete h.navigationId,delete h.\u0275routerPageId,0!==Object.keys(h).length&&(u.state=h)}var v=t.parseUrl(i.url);t.scheduleNavigation(v,a,d,u)},0)}))}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(t){this.events.next(t)}},{key:"resetConfig",value:function(t){Gw(t),this.config=t.map(zw),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}},{key:"createUrlTree",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=i.relativeTo,o=i.queryParams,u=i.fragment,d=i.queryParamsHandling,h=i.preserveFragment,v=a||this.routerState.root,b=h?this.currentUrlTree.fragment:u,k=null;switch(d){case"merge":k=Object.assign(Object.assign({},this.currentUrlTree.queryParams),o);break;case"preserve":k=this.currentUrlTree.queryParams;break;default:k=o||null}return null!==k&&(k=this.removeEmptyProps(k)),cy(v,this.currentUrlTree,t,k,null!=b?b:null)}},{key:"navigateByUrl",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1},a=Da(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}},{key:"navigate",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return rC(t),this.navigateByUrl(this.createUrlTree(t,i),i)}},{key:"serializeUrl",value:function(t){return this.urlSerializer.serialize(t)}},{key:"parseUrl",value:function(t){var i;try{i=this.urlSerializer.parse(t)}catch(a){i=this.malformedUriErrorHandler(a,this.urlSerializer,t)}return i}},{key:"isActive",value:function(t,i){var a;if(a=!0===i?Object.assign({},Ty):!1===i?Object.assign({},yA):i,Da(t))return nn(this.currentUrlTree,t,a);var o=this.parseUrl(t);return nn(this.currentUrlTree,o,a)}},{key:"removeEmptyProps",value:function(t){return Object.keys(t).reduce(function(i,a){var o=t[a];return null!=o&&(i[a]=o),i},{})}},{key:"processNavigations",value:function(){var t=this;this.navigations.subscribe(function(i){t.navigated=!0,t.lastSuccessfulId=i.id,t.currentPageId=i.targetPageId,t.events.next(new yl(i.id,t.serializeUrl(i.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,i.resolve(!0)},function(i){t.console.warn("Unhandled Navigation Error: ".concat(i))})}},{key:"scheduleNavigation",value:function(t,i,a,o,u){var d,h,v,b,k;if(this.disposed)return Promise.resolve(!1);u?(v=u.resolve,b=u.reject,k=u.promise):k=new Promise(function(J,ue){v=J,b=ue});var O,I=++this.navigationId;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),O=a&&a.\u0275routerPageId?a.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?null!==(d=this.browserPageId)&&void 0!==d?d:0:(null!==(h=this.browserPageId)&&void 0!==h?h:0)+1):O=0,this.setTransition({id:I,targetPageId:O,source:i,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:o,resolve:v,reject:b,promise:k,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),k.catch(function(J){return Promise.reject(J)})}},{key:"setBrowserUrl",value:function(t,i){var a=this.urlSerializer.serialize(t),o=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(a)||i.extras.replaceUrl?this.location.replaceState(a,"",o):this.location.go(a,"",o)}},{key:"restoreHistory",value:function(t){var a,o,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("computed"===this.canceledNavigationResolution){var u=this.currentPageId-t.targetPageId,d="popstate"===t.source||"eager"===this.urlUpdateStrategy||this.currentUrlTree===(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl);d&&0!==u?this.location.historyGo(u):this.currentUrlTree===(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)&&0===u&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}},{key:"resetState",value:function(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}},{key:"cancelNavigationTransition",value:function(t,i){var a=new Vs(t.id,this.serializeUrl(t.extractedUrl),i);this.triggerEvent(a),t.resolve(!1)}},{key:"generateNgRouterState",value:function(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,"\u0275routerPageId":i}:{navigationId:t}}}]),r}();return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n}();function rC(n){for(var r=0;r<n.length;r++){var e=n[r];if(null==e)throw new Error("The requested path contains ".concat(e," segment at index ").concat(r))}}function Ay(n){return"imperative"!==n}var vp=function(){var n=function(){function r(e,t,i){var a=this;(0,m.Z)(this,r),this.router=e,this.route=t,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new ft.xQ,this.subscription=e.events.subscribe(function(o){o instanceof yl&&a.updateTargetUrlAndHref()})}return(0,_.Z)(r,[{key:"routerLink",set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}},{key:"ngOnChanges",value:function(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(t,i,a,o,u){if(0!==t||i||a||o||u||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;var d={skipLocationChange:cd(this.skipLocationChange),replaceUrl:cd(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,d),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}},{key:"urlTree",get:function(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:cd(this.preserveFragment)})}}]),r}();return n.\u0275fac=function(e){return new(e||n)(s.Y36(qo),s.Y36(pc),s.Y36(Mt))},n.\u0275dir=s.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&s.NdJ("click",function(a){return t.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&e&&s.uIk("target",t.target)("href",t.href,s.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[s.TTD]}),n}();function cd(n){return""===n||!!n}var iC=(0,_.Z)(function n(){(0,m.Z)(this,n)}),aC=function(){function n(){(0,m.Z)(this,n)}return(0,_.Z)(n,[{key:"preload",value:function(e,t){return t().pipe(Ea(function(){return(0,Ft.of)(null)}))}}]),n}(),Iy=function(){function n(){(0,m.Z)(this,n)}return(0,_.Z)(n,[{key:"preload",value:function(e,t){return(0,Ft.of)(null)}}]),n}(),Ry=function(){var n=function(){function r(e,t,i,a){(0,m.Z)(this,r),this.router=e,this.injector=i,this.preloadingStrategy=a,this.loader=new tC(i,t,function(h){return e.triggerEvent(new Hs(h))},function(h){return e.triggerEvent(new js(h))})}return(0,_.Z)(r,[{key:"setUpPreloading",value:function(){var t=this;this.subscription=this.router.events.pipe(_n(function(i){return i instanceof yl}),ic(function(){return t.preload()})).subscribe(function(){})}},{key:"preload",value:function(){var t=this.injector.get(s.h0i);return this.processRoutes(t,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"processRoutes",value:function(t,i){var u,a=[],o=(0,G.Z)(i);try{for(o.s();!(u=o.n()).done;){var d=u.value;if(d.loadChildren&&!d.canLoad&&d._loadedConfig){var h=d._loadedConfig;a.push(this.processRoutes(h.module,h.routes))}else d.loadChildren&&!d.canLoad?a.push(this.preloadConfig(t,d)):d.children&&a.push(this.processRoutes(t,d.children))}}catch(v){o.e(v)}finally{o.f()}return(0,qn.D)(a).pipe((0,co.J)(),(0,It.U)(function(v){}))}},{key:"preloadConfig",value:function(t,i){var a=this;return this.preloadingStrategy.preload(i,function(){return(i._loadedConfig?(0,Ft.of)(i._loadedConfig):a.loader.load(t.injector,i)).pipe((0,ai.zg)(function(u){return i._loadedConfig=u,a.processRoutes(u.module,u.routes)}))})}}]),r}();return n.\u0275fac=function(e){return new(e||n)(s.LFG(qo),s.LFG(s.Sil),s.LFG(s.zs3),s.LFG(iC))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n}(),gp=function(){var n=function(){function r(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,m.Z)(this,r),this.router=e,this.viewportScroller=t,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}return(0,_.Z)(r,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var t=this;return this.router.events.subscribe(function(i){i instanceof po?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=i.navigationTrigger,t.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof yl&&(t.lastId=i.id,t.scheduleScrollEvent(i,t.router.parseUrl(i.urlAfterRedirects).fragment))})}},{key:"consumeScrollEvents",value:function(){var t=this;return this.router.events.subscribe(function(i){i instanceof bl&&(i.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(i.position):i.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(i.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))})}},{key:"scheduleScrollEvent",value:function(t,i){this.router.triggerEvent(new bl(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),r}();return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n}(),Du=new s.OlP("ROUTER_CONFIGURATION"),mp=new s.OlP("ROUTER_FORROOT_GUARD"),oC=[De,{provide:rd,useClass:Mf},{provide:qo,useFactory:function CA(n,r,e,t,i,a){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},u=arguments.length>7?arguments[7]:void 0,d=arguments.length>8?arguments[8]:void 0,h=new qo(null,n,r,e,t,i,ge(a));return u&&(h.urlHandlingStrategy=u),d&&(h.routeReuseStrategy=d),EA(o,h),o.enableTracing&&h.events.subscribe(function(v){var b,k;null===(b=console.group)||void 0===b||b.call(console,"Router Event: ".concat(v.constructor.name)),console.log(v.toString()),console.log(v),null===(k=console.groupEnd)||void 0===k||k.call(console)}),h},deps:[rd,ud,De,s.zs3,s.Sil,Dy,Du,[mA,new s.FiY],[Ey,new s.FiY]]},ud,{provide:pc,useFactory:function sC(n){return n.routerState.root},deps:[qo]},Ry,Iy,aC,{provide:Du,useValue:{enableTracing:!1}}];function Oy(){return new s.PXZ("Router",qo)}var Py=function(){var n=function(){function r(e,t){(0,m.Z)(this,r)}return(0,_.Z)(r,null,[{key:"forRoot",value:function(t,i){return{ngModule:r,providers:[oC,xy(t),{provide:mp,useFactory:wA,deps:[[qo,new s.FiY,new s.tp0]]},{provide:Du,useValue:i||{}},{provide:Mt,useFactory:_p,deps:[oe,[new s.tBr(on),new s.FiY],Du]},{provide:gp,useFactory:Fy,deps:[qo,af,Du]},{provide:iC,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:Iy},{provide:s.PXZ,multi:!0,useFactory:Oy},[yp,{provide:s.ip1,multi:!0,useFactory:uC,deps:[yp]},{provide:Ny,useFactory:eL,deps:[yp]},{provide:s.tb,multi:!0,useExisting:Ny}]]}}},{key:"forChild",value:function(t){return{ngModule:r,providers:[xy(t)]}}}]),r}();return n.\u0275fac=function(e){return new(e||n)(s.LFG(mp,8),s.LFG(qo,8))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n}();function Fy(n,r,e){return e.scrollOffset&&r.setOffset(e.scrollOffset),new gp(n,r,e)}function _p(n,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.useHash?new Be(n,r):new Xe(n,r)}function wA(n){return"guarded"}function xy(n){return[{provide:s.deG,multi:!0,useValue:n},{provide:Dy,multi:!0,useValue:n}]}function EA(n,r){n.errorHandler&&(r.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(r.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(r.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(r.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(r.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(r.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(r.canceledNavigationResolution=n.canceledNavigationResolution)}var yp=function(){var n=function(){function r(e){(0,m.Z)(this,r),this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ft.xQ}return(0,_.Z)(r,[{key:"appInitializer",value:function(){var t=this;return this.injector.get(Ie,Promise.resolve(null)).then(function(){if(t.destroyed)return Promise.resolve(!0);var a=null,o=new Promise(function(h){return a=h}),u=t.injector.get(qo),d=t.injector.get(Du);return"disabled"===d.initialNavigation?(u.setUpLocationChangeListener(),a(!0)):"enabled"===d.initialNavigation||"enabledBlocking"===d.initialNavigation?(u.hooks.afterPreactivation=function(){return t.initNavigation?(0,Ft.of)(null):(t.initNavigation=!0,a(!0),t.resultOfPreactivationDone)},u.initialNavigation()):a(!0),o})}},{key:"bootstrapListener",value:function(t){var i=this.injector.get(Du),a=this.injector.get(Ry),o=this.injector.get(gp),u=this.injector.get(qo),d=this.injector.get(s.z2F);t===d.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&u.initialNavigation(),a.setUpPreloading(),o.init(),u.resetRootComponentType(d.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"ngOnDestroy",value:function(){this.destroyed=!0}}]),r}();return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.zs3))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n}();function uC(n){return n.appInitializer.bind(n)}function eL(n){return n.bootstrapListener.bind(n)}var Ny=new s.OlP("Router Initializer"),Pi=x(7757),me=x.n(Pi),Ws=x(655),lC=(0,_.Z)(function n(){(0,m.Z)(this,n),this.uid="",this.isExpired=!1,this.data={title:"",body:"",date:(new Date).getTime(),state:!0,dateOfCreation:(new Date).getTime(),color:"",files:[]}}),Zy=(0,_.Z)(function n(){(0,m.Z)(this,n),this.title="",this.body="",this.state=!0,this.dateOfCreation=(new Date).getTime(),this.color="",this.files=[]}),SA=[{label:"DCE6FF",value:"DCE6FF"},{label:"DCFFE7",value:"DCFFE7"},{label:"FEFFDC",value:"FEFFDC"},{label:"FFDCDC",value:"FFDCDC"},{label:"F7DCFF",value:"F7DCFF"},{label:"DCFFFB",value:"DCFFFB"}],TA=(0,_.Z)(function n(r,e,t){(0,m.Z)(this,n),this.fileBase64Url=r,this.fileName=e,this.contentType=t}),AA=x(8318),cC=(0,_.Z)(function n(){(0,m.Z)(this,n)}),Ly=(0,_.Z)(function n(){(0,m.Z)(this,n)}),bp=function(){function n(r){var e=this;(0,m.Z)(this,n),this.normalizedNames=new Map,this.lazyUpdate=null,r?this.lazyInit="string"==typeof r?function(){e.headers=new Map,r.split("\n").forEach(function(t){var i=t.indexOf(":");if(i>0){var a=t.slice(0,i),o=a.toLowerCase(),u=t.slice(i+1).trim();e.maybeSetNormalizedName(a,o),e.headers.has(o)?e.headers.get(o).push(u):e.headers.set(o,[u])}})}:function(){e.headers=new Map,Object.keys(r).forEach(function(t){var i=r[t],a=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(e.headers.set(a,i),e.maybeSetNormalizedName(t,a))})}:this.headers=new Map}return(0,_.Z)(n,[{key:"has",value:function(e){return this.init(),this.headers.has(e.toLowerCase())}},{key:"get",value:function(e){this.init();var t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(e){return this.init(),this.headers.get(e.toLowerCase())||null}},{key:"append",value:function(e,t){return this.clone({name:e,value:t,op:"a"})}},{key:"set",value:function(e,t){return this.clone({name:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({name:e,value:t,op:"d"})}},{key:"maybeSetNormalizedName",value:function(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}},{key:"init",value:function(){var e=this;this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(t){return e.applyUpdate(t)}),this.lazyUpdate=null))}},{key:"copyFrom",value:function(e){var t=this;e.init(),Array.from(e.headers.keys()).forEach(function(i){t.headers.set(i,e.headers.get(i)),t.normalizedNames.set(i,e.normalizedNames.get(i))})}},{key:"clone",value:function(e){var t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}},{key:"applyUpdate",value:function(e){var t=e.name.toLowerCase();switch(e.op){case"a":case"s":var i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);var a=("a"===e.op?this.headers.get(t):void 0)||[];a.push.apply(a,(0,Zt.Z)(i)),this.headers.set(t,a);break;case"d":var o=e.value;if(o){var u=this.headers.get(t);if(!u)return;0===(u=u.filter(function(d){return-1===o.indexOf(d)})).length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,u)}else this.headers.delete(t),this.normalizedNames.delete(t)}}},{key:"forEach",value:function(e){var t=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(i){return e(t.normalizedNames.get(i),t.headers.get(i))})}}]),n}(),IA=function(){function n(){(0,m.Z)(this,n)}return(0,_.Z)(n,[{key:"encodeKey",value:function(e){return By(e)}},{key:"encodeValue",value:function(e){return By(e)}},{key:"decodeKey",value:function(e){return decodeURIComponent(e)}},{key:"decodeValue",value:function(e){return decodeURIComponent(e)}}]),n}();function RA(n,r){var e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(function(i){var a=i.indexOf("="),o=-1==a?[r.decodeKey(i),""]:[r.decodeKey(i.slice(0,a)),r.decodeValue(i.slice(a+1))],u=(0,Z.Z)(o,2),d=u[0],h=u[1],v=e.get(d)||[];v.push(h),e.set(d,v)}),e}var Cn=/%(\d[a-f0-9])/gi,dC={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function By(n){return encodeURIComponent(n).replace(Cn,function(r,e){var t;return null!==(t=dC[e])&&void 0!==t?t:r})}function Vy(n){return"".concat(n)}var Cl=function(){function n(){var r=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if((0,m.Z)(this,n),this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new IA,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=RA(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(function(t){var i=e.fromObject[t];r.map.set(t,Array.isArray(i)?i:[i])})):this.map=null}return(0,_.Z)(n,[{key:"has",value:function(e){return this.init(),this.map.has(e)}},{key:"get",value:function(e){this.init();var t=this.map.get(e);return t?t[0]:null}},{key:"getAll",value:function(e){return this.init(),this.map.get(e)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(e,t){return this.clone({param:e,value:t,op:"a"})}},{key:"appendAll",value:function(e){var t=[];return Object.keys(e).forEach(function(i){var a=e[i];Array.isArray(a)?a.forEach(function(o){t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:a,op:"a"})}),this.clone(t)}},{key:"set",value:function(e,t){return this.clone({param:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({param:e,value:t,op:"d"})}},{key:"toString",value:function(){var e=this;return this.init(),this.keys().map(function(t){var i=e.encoder.encodeKey(t);return e.map.get(t).map(function(a){return i+"="+e.encoder.encodeValue(a)}).join("&")}).filter(function(t){return""!==t}).join("&")}},{key:"clone",value:function(e){var t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}},{key:"init",value:function(){var e=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(t){return e.map.set(t,e.cloneFrom.map.get(t))}),this.updates.forEach(function(t){switch(t.op){case"a":case"s":var i=("a"===t.op?e.map.get(t.param):void 0)||[];i.push(Vy(t.value)),e.map.set(t.param,i);break;case"d":if(void 0===t.value){e.map.delete(t.param);break}var a=e.map.get(t.param)||[],o=a.indexOf(Vy(t.value));-1!==o&&a.splice(o,1),a.length>0?e.map.set(t.param,a):e.map.delete(t.param)}}),this.cloneFrom=this.updates=null)}}]),n}(),fC=function(){function n(){(0,m.Z)(this,n),this.map=new Map}return(0,_.Z)(n,[{key:"set",value:function(e,t){return this.map.set(e,t),this}},{key:"get",value:function(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}},{key:"delete",value:function(e){return this.map.delete(e),this}},{key:"has",value:function(e){return this.map.has(e)}},{key:"keys",value:function(){return this.map.keys()}}]),n}();function Tg(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function Su(n){return"undefined"!=typeof Blob&&n instanceof Blob}function Ag(n){return"undefined"!=typeof FormData&&n instanceof FormData}var kp=function(){function n(r,e,t,i){var a;if((0,m.Z)(this,n),this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=r.toUpperCase(),function OA(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==t?t:null,a=i):a=t,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new bp),this.context||(this.context=new fC),this.params){var o=this.params.toString();if(0===o.length)this.urlWithParams=e;else{var u=e.indexOf("?");this.urlWithParams=e+(-1===u?"?":u<e.length-1?"&":"")+o}}else this.params=new Cl,this.urlWithParams=e}return(0,_.Z)(n,[{key:"serializeBody",value:function(){return null===this.body?null:Tg(this.body)||Su(this.body)||Ag(this.body)||function hC(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Cl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||Ag(this.body)?null:Su(this.body)?this.body.type||null:Tg(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Cl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}},{key:"clone",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.method||this.method,a=e.url||this.url,o=e.responseType||this.responseType,u=void 0!==e.body?e.body:this.body,d=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,h=void 0!==e.reportProgress?e.reportProgress:this.reportProgress,v=e.headers||this.headers,b=e.params||this.params,k=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(v=Object.keys(e.setHeaders).reduce(function(I,O){return I.set(O,e.setHeaders[O])},v)),e.setParams&&(b=Object.keys(e.setParams).reduce(function(I,O){return I.set(O,e.setParams[O])},b)),new n(i,a,u,{params:b,headers:v,context:k,reportProgress:h,responseType:o,withCredentials:d})}}]),n}(),ia=function(){return(ia=ia||{})[ia.Sent=0]="Sent",ia[ia.UploadProgress=1]="UploadProgress",ia[ia.ResponseHeader=2]="ResponseHeader",ia[ia.DownloadProgress=3]="DownloadProgress",ia[ia.Response=4]="Response",ia[ia.User=5]="User",ia}(),Ig=(0,_.Z)(function n(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";(0,m.Z)(this,n),this.headers=r.headers||new bp,this.status=void 0!==r.status?r.status:e,this.statusText=r.statusText||t,this.url=r.url||null,this.ok=this.status>=200&&this.status<300}),tL=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,m.Z)(this,e),(t=r.call(this,i)).type=ia.ResponseHeader,t}return(0,_.Z)(e,[{key:"clone",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new e({headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}]),e}(Ig),wp=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,m.Z)(this,e),(t=r.call(this,i)).type=ia.Response,t.body=void 0!==i.body?i.body:null,t}return(0,_.Z)(e,[{key:"clone",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new e({body:void 0!==i.body?i.body:this.body,headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}]),e}(Ig),Cp=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t){var i;return(0,m.Z)(this,e),(i=r.call(this,t,0,"Unknown Error")).name="HttpErrorResponse",i.ok=!1,i.message=i.status>=200&&i.status<300?"Http failure during parsing for ".concat(t.url||"(unknown url)"):"Http failure response for ".concat(t.url||"(unknown url)",": ").concat(t.status," ").concat(t.statusText),i.error=t.error||null,i}return(0,_.Z)(e)}(Ig);function Ep(n,r){return{body:r,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}var gc=function(){var n=function(){function r(e){(0,m.Z)(this,r),this.handler=e}return(0,_.Z)(r,[{key:"request",value:function(t,i){var u,a=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t instanceof kp)u=t;else{var d=void 0;d=o.headers instanceof bp?o.headers:new bp(o.headers);var h=void 0;o.params&&(h=o.params instanceof Cl?o.params:new Cl({fromObject:o.params})),u=new kp(t,i,void 0!==o.body?o.body:null,{headers:d,context:o.context,params:h,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}var v=(0,Ft.of)(u).pipe(ic(function(k){return a.handler.handle(k)}));if(t instanceof kp||"events"===o.observe)return v;var b=v.pipe(_n(function(k){return k instanceof wp}));switch(o.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return b.pipe((0,It.U)(function(k){if(null!==k.body&&!(k.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return k.body}));case"blob":return b.pipe((0,It.U)(function(k){if(null!==k.body&&!(k.body instanceof Blob))throw new Error("Response is not a Blob.");return k.body}));case"text":return b.pipe((0,It.U)(function(k){if(null!==k.body&&"string"!=typeof k.body)throw new Error("Response is not a string.");return k.body}));default:return b.pipe((0,It.U)(function(k){return k.body}))}case"response":return b;default:throw new Error("Unreachable: unhandled observe type ".concat(o.observe,"}"))}}},{key:"delete",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",t,i)}},{key:"get",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",t,i)}},{key:"head",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",t,i)}},{key:"jsonp",value:function(t,i){return this.request("JSONP",t,{params:(new Cl).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",t,i)}},{key:"patch",value:function(t,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",t,Ep(a,i))}},{key:"post",value:function(t,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",t,Ep(a,i))}},{key:"put",value:function(t,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",t,Ep(a,i))}}]),r}();return n.\u0275fac=function(e){return new(e||n)(s.LFG(cC))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n}(),Rg=function(){function n(r,e){(0,m.Z)(this,n),this.next=r,this.interceptor=e}return(0,_.Z)(n,[{key:"handle",value:function(e){return this.interceptor.intercept(e,this.next)}}]),n}(),PA=new s.OlP("HTTP_INTERCEPTORS"),FA=function(){var n=function(){function r(){(0,m.Z)(this,r)}return(0,_.Z)(r,[{key:"intercept",value:function(t,i){return i.handle(t)}}]),r}();return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n}(),pC=/^\)\]\}',?\n/,Og=function(){var n=function(){function r(e){(0,m.Z)(this,r),this.xhrFactory=e}return(0,_.Z)(r,[{key:"handle",value:function(t){var i=this;if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Qn.y(function(a){var o=i.xhrFactory.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach(function(ue,fe){return o.setRequestHeader(ue,fe.join(","))}),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){var u=t.detectContentTypeHeader();null!==u&&o.setRequestHeader("Content-Type",u)}if(t.responseType){var d=t.responseType.toLowerCase();o.responseType="json"!==d?d:"text"}var h=t.serializeBody(),v=null,b=function(){if(null!==v)return v;var fe=o.statusText||"OK",Oe=new bp(o.getAllResponseHeaders()),Ze=function ZA(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||t.url;return v=new tL({headers:Oe,status:o.status,statusText:fe,url:Ze})},k=function(){var fe=b(),Oe=fe.headers,Ze=fe.status,je=fe.statusText,lt=fe.url,ct=null;204!==Ze&&(ct=void 0===o.response?o.responseText:o.response),0===Ze&&(Ze=ct?200:0);var vt=Ze>=200&&Ze<300;if("json"===t.responseType&&"string"==typeof ct){var dn=ct;ct=ct.replace(pC,"");try{ct=""!==ct?JSON.parse(ct):null}catch(tn){ct=dn,vt&&(vt=!1,ct={error:tn,text:ct})}}vt?(a.next(new wp({body:ct,headers:Oe,status:Ze,statusText:je,url:lt||void 0})),a.complete()):a.error(new Cp({error:ct,headers:Oe,status:Ze,statusText:je,url:lt||void 0}))},I=function(fe){var Oe=b(),je=new Cp({error:fe,status:o.status||0,statusText:o.statusText||"Unknown Error",url:Oe.url||void 0});a.error(je)},O=!1,q=function(fe){O||(a.next(b()),O=!0);var Oe={type:ia.DownloadProgress,loaded:fe.loaded};fe.lengthComputable&&(Oe.total=fe.total),"text"===t.responseType&&!!o.responseText&&(Oe.partialText=o.responseText),a.next(Oe)},J=function(fe){var Oe={type:ia.UploadProgress,loaded:fe.loaded};fe.lengthComputable&&(Oe.total=fe.total),a.next(Oe)};return o.addEventListener("load",k),o.addEventListener("error",I),o.addEventListener("timeout",I),o.addEventListener("abort",I),t.reportProgress&&(o.addEventListener("progress",q),null!==h&&o.upload&&o.upload.addEventListener("progress",J)),o.send(h),a.next({type:ia.Sent}),function(){o.removeEventListener("error",I),o.removeEventListener("abort",I),o.removeEventListener("load",k),o.removeEventListener("timeout",I),t.reportProgress&&(o.removeEventListener("progress",q),null!==h&&o.upload&&o.upload.removeEventListener("progress",J)),o.readyState!==o.DONE&&o.abort()}})}}]),r}();return n.\u0275fac=function(e){return new(e||n)(s.LFG(oo))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n}(),vC=new s.OlP("XSRF_COOKIE_NAME"),gC=new s.OlP("XSRF_HEADER_NAME"),LA=(0,_.Z)(function n(){(0,m.Z)(this,n)}),oL=function(){var n=function(){function r(e,t,i){(0,m.Z)(this,r),this.doc=e,this.platform=t,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return(0,_.Z)(r,[{key:"getToken",value:function(){if("server"===this.platform)return null;var t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=jr(t,this.cookieName),this.lastCookieString=t),this.lastToken}}]),r}();return n.\u0275fac=function(e){return new(e||n)(s.LFG(K),s.LFG(s.Lbi),s.LFG(vC))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n}(),mC=function(){var n=function(){function r(e,t){(0,m.Z)(this,r),this.tokenService=e,this.headerName=t}return(0,_.Z)(r,[{key:"intercept",value:function(t,i){var a=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||a.startsWith("http://")||a.startsWith("https://"))return i.handle(t);var o=this.tokenService.getToken();return null!==o&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,o)})),i.handle(t)}}]),r}();return n.\u0275fac=function(e){return new(e||n)(s.LFG(LA),s.LFG(gC))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n}(),sL=function(){var n=function(){function r(e,t){(0,m.Z)(this,r),this.backend=e,this.injector=t,this.chain=null}return(0,_.Z)(r,[{key:"handle",value:function(t){if(null===this.chain){var i=this.injector.get(PA,[]);this.chain=i.reduceRight(function(a,o){return new Rg(a,o)},this.backend)}return this.chain.handle(t)}}]),r}();return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ly),s.LFG(s.zs3))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n}(),uL=function(){var n=function(){function r(){(0,m.Z)(this,r)}return(0,_.Z)(r,null,[{key:"disable",value:function(){return{ngModule:r,providers:[{provide:mC,useClass:FA}]}}},{key:"withOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:r,providers:[t.cookieName?{provide:vC,useValue:t.cookieName}:[],t.headerName?{provide:gC,useValue:t.headerName}:[]]}}}]),r}();return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[mC,{provide:PA,useExisting:mC,multi:!0},{provide:LA,useClass:oL},{provide:vC,useValue:"XSRF-TOKEN"},{provide:gC,useValue:"X-XSRF-TOKEN"}]}),n}(),lL=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[gc,{provide:cC,useClass:sL},Og,{provide:Ly,useExisting:Og}],imports:[[uL.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n}(),BA=function(){var n=function(){function r(e){(0,m.Z)(this,r),this.httpClient=e,this.url="https://notesoriginal-default-rtdb.europe-west1.firebasedatabase.app/notes.json",this.urlUid="https://notesoriginal-default-rtdb.europe-west1.firebasedatabase.app/notes/"}return(0,_.Z)(r,[{key:"getNotes",value:function(){return this.httpClient.get(this.url)}},{key:"addNote",value:function(t){return""==t.title&&(t.title="Empty Note"),this.httpClient.post(this.url,JSON.stringify(t))}},{key:"updateNote",value:function(t,i){return this.httpClient.put(this.urlUid+"".concat(t,".json"),JSON.stringify(i))}},{key:"deleteNote",value:function(t){return this.httpClient.delete(this.urlUid+"".concat(t,".json")).subscribe()}}]),r}();return n.\u0275fac=function(e){return new(e||n)(s.LFG(gc))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n}(),yC=function(){var n=function(){function r(e){(0,m.Z)(this,r),this.httpClient=e,this.url="https://notesoriginal-default-rtdb.europe-west1.firebasedatabase.app/notes.json"}return(0,_.Z)(r,[{key:"getDates",value:function(){return this.httpClient.get(this.url)}}]),r}();return n.\u0275fac=function(e){return new(e||n)(s.LFG(gc))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n}(),Uy=x(7830);function Hy(){for(var n=arguments.length,r=new Array(n),e=0;e<n;e++)r[e]=arguments[e];if(1===r.length){var t=r[0];if((0,_u.k)(t))return Vf(t,null);if((0,Uy.K)(t)&&Object.getPrototypeOf(t)===Object.prototype){var i=Object.keys(t);return Vf(i.map(function(o){return t[o]}),i)}}if("function"==typeof r[r.length-1]){var a=r.pop();return Vf(r=1===r.length&&(0,_u.k)(r[0])?r[0]:r,null).pipe((0,It.U)(function(o){return a.apply(void 0,(0,Zt.Z)(o))}))}return Vf(r,null)}function Vf(n,r){return new Qn.y(function(e){var t=n.length;if(0!==t)for(var i=new Array(t),a=0,o=0,u=function(v){var b=(0,qn.D)(n[v]),k=!1;e.add(b.subscribe({next:function(O){k||(k=!0,o++),i[v]=O},error:function(O){return e.error(O)},complete:function(){(++a===t||!k)&&(o===t&&e.next(r?r.reduce(function(O,q,J){return O[q]=i[J],O},{}):i),e.complete())}}))},d=0;d<t;d++)u(d);else e.complete()})}var bC=function(){var n=function(){function r(e,t){(0,m.Z)(this,r),this._renderer=e,this._elementRef=t,this.onChange=function(i){},this.onTouched=function(){}}return(0,_.Z)(r,[{key:"setProperty",value:function(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"setDisabledState",value:function(t){this.setProperty("disabled",t)}}]),r}();return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n}),n}(),Ro=function(){var n=function(r){(0,P.Z)(t,r);var e=(0,N.Z)(t);function t(){return(0,m.Z)(this,t),e.apply(this,arguments)}return(0,_.Z)(t)}(bC);return n.\u0275fac=function(){var r;return function(t){return(r||(r=s.n5z(n)))(t||n)}}(),n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n}(),Fi=new s.OlP("NgValueAccessor"),UA={provide:Fi,useExisting:(0,s.Gpc)(function(){return Fg}),multi:!0},HA=new s.OlP("CompositionEventMode"),Fg=function(){var n=function(r){(0,P.Z)(t,r);var e=(0,N.Z)(t);function t(i,a,o){var u;return(0,m.Z)(this,t),(u=e.call(this,i,a))._compositionMode=o,u._composing=!1,null==u._compositionMode&&(u._compositionMode=!function kC(){var n=ie()?ie().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}()),u}return(0,_.Z)(t,[{key:"writeValue",value:function(a){this.setProperty("value",null==a?"":a)}},{key:"_handleInput",value:function(a){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(a)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(a){this._composing=!1,this._compositionMode&&this.onChange(a)}}]),t}(bC);return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(HA,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&s.NdJ("input",function(a){return t._handleInput(a.target.value)})("blur",function(){return t.onTouched()})("compositionstart",function(){return t._compositionStart()})("compositionend",function(a){return t._compositionEnd(a.target.value)})},features:[s._Bn([UA]),s.qOj]}),n}();function Cs(n){return null==n||0===n.length}function fd(n){return null!=n&&"number"==typeof n.length}var oi=new s.OlP("NgValidators"),Ko=new s.OlP("NgAsyncValidators"),Dp=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,mc=function(){function n(){(0,m.Z)(this,n)}return(0,_.Z)(n,null,[{key:"min",value:function(e){return function wC(n){return function(r){if(Cs(r.value)||Cs(n))return null;var e=parseFloat(r.value);return!isNaN(e)&&e<n?{min:{min:n,actual:r.value}}:null}}(e)}},{key:"max",value:function(e){return function jy(n){return function(r){if(Cs(r.value)||Cs(n))return null;var e=parseFloat(r.value);return!isNaN(e)&&e>n?{max:{max:n,actual:r.value}}:null}}(e)}},{key:"required",value:function(e){return function Gy(n){return Cs(n.value)?{required:!0}:null}(e)}},{key:"requiredTrue",value:function(e){return function xg(n){return!0===n.value?null:{required:!0}}(e)}},{key:"email",value:function(e){return function Ng(n){return Cs(n.value)||Dp.test(n.value)?null:{email:!0}}(e)}},{key:"minLength",value:function(e){return function zy(n){return function(r){return Cs(r.value)||!fd(r.value)?null:r.value.length<n?{minlength:{requiredLength:n,actualLength:r.value.length}}:null}}(e)}},{key:"maxLength",value:function(e){return function Mp(n){return function(r){return fd(r.value)&&r.value.length>n?{maxlength:{requiredLength:n,actualLength:r.value.length}}:null}}(e)}},{key:"pattern",value:function(e){return function CC(n){return n?("string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),r=new RegExp(e)):(e=n.toString(),r=n),function(t){if(Cs(t.value))return null;var i=t.value;return r.test(i)?null:{pattern:{requiredPattern:e,actualValue:i}}}):Sp;var r,e}(e)}},{key:"nullValidator",value:function(e){return null}},{key:"compose",value:function(e){return SC(e)}},{key:"composeAsync",value:function(e){return TC(e)}}]),n}();function Sp(n){return null}function jA(n){return null!=n}function Yy(n){var r=(0,s.QGY)(n)?(0,qn.D)(n):n;return(0,s.CqO)(r),r}function Wy(n){var r={};return n.forEach(function(e){r=null!=e?Object.assign(Object.assign({},r),e):r}),0===Object.keys(r).length?null:r}function EC(n,r){return r.map(function(e){return e(n)})}function MC(n){return n.map(function(r){return function DC(n){return!n.validate}(r)?r:function(e){return r.validate(e)}})}function SC(n){if(!n)return null;var r=n.filter(jA);return 0==r.length?null:function(e){return Wy(EC(e,r))}}function vo(n){return null!=n?SC(MC(n)):null}function TC(n){if(!n)return null;var r=n.filter(jA);return 0==r.length?null:function(e){return Hy(EC(e,r).map(Yy)).pipe((0,It.U)(Wy))}}function qy(n){return null!=n?TC(MC(n)):null}function GA(n,r){return null===n?[r]:Array.isArray(n)?[].concat((0,Zt.Z)(n),[r]):[n,r]}function zA(n){return n._rawValidators}function Ky(n){return n._rawAsyncValidators}function AC(n){return n?Array.isArray(n)?n:[n]:[]}function Zg(n,r){return Array.isArray(n)?n.includes(r):n===r}function Lg(n,r){var e=AC(r);return AC(n).forEach(function(i){Zg(e,i)||e.push(i)}),e}function $y(n,r){return AC(r).filter(function(e){return!Zg(n,e)})}var IC=function(){function n(){(0,m.Z)(this,n),this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}return(0,_.Z)(n,[{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}},{key:"_setValidators",value:function(e){this._rawValidators=e||[],this._composedValidatorFn=vo(this._rawValidators)}},{key:"_setAsyncValidators",value:function(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=qy(this._rawAsyncValidators)}},{key:"validator",get:function(){return this._composedValidatorFn||null}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn||null}},{key:"_registerOnDestroy",value:function(e){this._onDestroyCallbacks.push(e)}},{key:"_invokeOnDestroyCallbacks",value:function(){this._onDestroyCallbacks.forEach(function(e){return e()}),this._onDestroyCallbacks=[]}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this.control&&this.control.reset(e)}},{key:"hasError",value:function(e,t){return!!this.control&&this.control.hasError(e,t)}},{key:"getError",value:function(e,t){return this.control?this.control.getError(e,t):null}}]),n}(),Es=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(){var t;return(0,m.Z)(this,e),(t=r.apply(this,arguments))._parent=null,t.name=null,t.valueAccessor=null,t}return(0,_.Z)(e)}(IC),Wa=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(){return(0,m.Z)(this,e),r.apply(this,arguments)}return(0,_.Z)(e,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),e}(IC),Qy=function(){function n(r){(0,m.Z)(this,n),this._cd=r}return(0,_.Z)(n,[{key:"is",value:function(e){var t,i,a;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(a=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===a?void 0:a[e])}}]),n}(),RC=function(){var n=function(r){(0,P.Z)(t,r);var e=(0,N.Z)(t);function t(i){return(0,m.Z)(this,t),e.call(this,i)}return(0,_.Z)(t)}(Qy);return n.\u0275fac=function(e){return new(e||n)(s.Y36(Es,2))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&s.ekj("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))},features:[s.qOj]}),n}(),OC=function(){var n=function(r){(0,P.Z)(t,r);var e=(0,N.Z)(t);function t(i){return(0,m.Z)(this,t),e.call(this,i)}return(0,_.Z)(t)}(Qy);return n.\u0275fac=function(e){return new(e||n)(s.Y36(Wa,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,t){2&e&&s.ekj("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))("ng-submitted",t.is("submitted"))},features:[s.qOj]}),n}();function Ap(n,r){Xy(n,r),r.valueAccessor.writeValue(n.value),function e0(n,r){r.valueAccessor.registerOnChange(function(e){n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&FC(n,r)})}(n,r),function xC(n,r){var e=function(i,a){r.valueAccessor.writeValue(i),a&&r.viewToModelUpdate(i)};n.registerOnChange(e),r._registerOnDestroy(function(){n._unregisterOnChange(e)})}(n,r),function vL(n,r){r.valueAccessor.registerOnTouched(function(){n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&FC(n,r),"submit"!==n.updateOn&&n.markAsTouched()})}(n,r),function PC(n,r){if(r.valueAccessor.setDisabledState){var e=function(i){r.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),r._registerOnDestroy(function(){n._unregisterOnDisabledChange(e)})}}(n,r)}function Hf(n,r){var t=function(){};r.valueAccessor&&(r.valueAccessor.registerOnChange(t),r.valueAccessor.registerOnTouched(t)),Hg(n,r),n&&(r._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(function(){}))}function jf(n,r){n.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(r)})}function Xy(n,r){var e=zA(n);null!==r.validator?n.setValidators(GA(e,r.validator)):"function"==typeof e&&n.setValidators([e]);var t=Ky(n);null!==r.asyncValidator?n.setAsyncValidators(GA(t,r.asyncValidator)):"function"==typeof t&&n.setAsyncValidators([t]);var i=function(){return n.updateValueAndValidity()};jf(r._rawValidators,i),jf(r._rawAsyncValidators,i)}function Hg(n,r){var e=!1;if(null!==n){if(null!==r.validator){var t=zA(n);if(Array.isArray(t)&&t.length>0){var i=t.filter(function(d){return d!==r.validator});i.length!==t.length&&(e=!0,n.setValidators(i))}}if(null!==r.asyncValidator){var a=Ky(n);if(Array.isArray(a)&&a.length>0){var o=a.filter(function(d){return d!==r.asyncValidator});o.length!==a.length&&(e=!0,n.setAsyncValidators(o))}}}var u=function(){};return jf(r._rawValidators,u),jf(r._rawAsyncValidators,u),e}function FC(n,r){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),r.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function t0(n,r){Xy(n,r)}function eI(n,r){n._syncPendingControls(),r.forEach(function(e){var t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function jg(n,r){var e=n.indexOf(r);e>-1&&n.splice(e,1)}var Rp="VALID",Gf="INVALID",pd="PENDING",zf="DISABLED";function a0(n){return(Op(n)?n.validators:n)||null}function Gg(n){return Array.isArray(n)?vo(n):n||null}function o0(n,r){return(Op(r)?r.asyncValidators:n)||null}function VC(n){return Array.isArray(n)?qy(n):n||null}function Op(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}var vd=function(r){return r instanceof jC},zg=function(r){return r instanceof u0};function UC(n){return vd(n)?n.value:n.getRawValue()}function gd(n,r){var e=zg(n),t=n.controls;if(!(e?Object.keys(t):t).length)throw new s.vHH(1e3,"");if(!t[r])throw new s.vHH(1001,"")}function HC(n,r){zg(n),n._forEachChild(function(t,i){if(void 0===r[i])throw new s.vHH(1002,"")})}var s0=function(){function n(r,e){(0,m.Z)(this,n),this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=function(){},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=r,this._rawAsyncValidators=e,this._composedValidatorFn=Gg(this._rawValidators),this._composedAsyncValidatorFn=VC(this._rawAsyncValidators)}return(0,_.Z)(n,[{key:"validator",get:function(){return this._composedValidatorFn},set:function(e){this._rawValidators=this._composedValidatorFn=e}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn},set:function(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return this.status===Rp}},{key:"invalid",get:function(){return this.status===Gf}},{key:"pending",get:function(){return this.status==pd}},{key:"disabled",get:function(){return this.status===zf}},{key:"enabled",get:function(){return this.status!==zf}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"setValidators",value:function(e){this._rawValidators=e,this._composedValidatorFn=Gg(e)}},{key:"setAsyncValidators",value:function(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=VC(e)}},{key:"addValidators",value:function(e){this.setValidators(Lg(e,this._rawValidators))}},{key:"addAsyncValidators",value:function(e){this.setAsyncValidators(Lg(e,this._rawAsyncValidators))}},{key:"removeValidators",value:function(e){this.setValidators($y(e,this._rawValidators))}},{key:"removeAsyncValidators",value:function(e){this.setAsyncValidators($y(e,this._rawAsyncValidators))}},{key:"hasValidator",value:function(e){return Zg(this._rawValidators,e)}},{key:"hasAsyncValidator",value:function(e){return Zg(this._rawAsyncValidators,e)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild(function(e){return e.markAllAsTouched()})}},{key:"markAsUntouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(t){t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"markAsDirty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}},{key:"markAsPristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(t){t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"markAsPending",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status=pd,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}},{key:"disable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status=zf,this.errors=null,this._forEachChild(function(i){i.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(function(i){return i(!0)})}},{key:"enable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status=Rp,this._forEachChild(function(i){i.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(function(i){return i(!1)})}},{key:"_updateAncestors",value:function(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(e){this._parent=e}},{key:"updateValueAndValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Rp||this.status===pd)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}},{key:"_updateTreeValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild(function(t){return t._updateTreeValidity(e)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?zf:Rp}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(e){var t=this;if(this.asyncValidator){this.status=pd,this._hasOwnPendingAsyncValidator=!0;var i=Yy(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(function(a){t._hasOwnPendingAsyncValidator=!1,t.setErrors(a,{emitEvent:e})})}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}},{key:"setErrors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}},{key:"get",value:function(e){return function BC(n,r,e){if(null==r||(Array.isArray(r)||(r=r.split(e)),Array.isArray(r)&&0===r.length))return null;var t=n;return r.forEach(function(i){t=zg(t)?t.controls.hasOwnProperty(i)?t.controls[i]:null:function(r){return r instanceof qs}(t)&&t.at(i)||null}),t}(this,e,".")}},{key:"getError",value:function(e,t){var i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}},{key:"hasError",value:function(e,t){return!!this.getError(e,t)}},{key:"root",get:function(){for(var e=this;e._parent;)e=e._parent;return e}},{key:"_updateControlsErrors",value:function(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}},{key:"_initObservables",value:function(){this.valueChanges=new s.vpe,this.statusChanges=new s.vpe}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?zf:this.errors?Gf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(pd)?pd:this._anyControlsHaveStatus(Gf)?Gf:Rp}},{key:"_anyControlsHaveStatus",value:function(e){return this._anyControls(function(t){return t.status===e})}},{key:"_anyControlsDirty",value:function(){return this._anyControls(function(e){return e.dirty})}},{key:"_anyControlsTouched",value:function(){return this._anyControls(function(e){return e.touched})}},{key:"_updatePristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"_updateTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"_isBoxedValue",value:function(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}},{key:"_registerOnCollectionChange",value:function(e){this._onCollectionChange=e}},{key:"_setUpdateStrategy",value:function(e){Op(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}},{key:"_parentMarkedDirty",value:function(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}]),n}(),jC=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return(0,m.Z)(this,e),(t=r.call(this,a0(a),o0(o,a))).defaultValue=null,t._onChange=[],t._pendingChange=!1,t._applyFormState(i),t._setUpdateStrategy(a),t._initObservables(),t.updateValueAndValidity({onlySelf:!0,emitEvent:!!t.asyncValidator}),Op(a)&&a.initialValueIsDefault&&(t.defaultValue=t._isBoxedValue(i)?i.value:i),t}return(0,_.Z)(e,[{key:"setValue",value:function(i){var a=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=i,this._onChange.length&&!1!==o.emitModelToViewChange&&this._onChange.forEach(function(u){return u(a.value,!1!==o.emitViewToModelChange)}),this.updateValueAndValidity(o)}},{key:"patchValue",value:function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(i,a)}},{key:"reset",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultValue,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(i),this.markAsPristine(a),this.markAsUntouched(a),this.setValue(this.value,a),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(i){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(i){this._onChange.push(i)}},{key:"_unregisterOnChange",value:function(i){jg(this._onChange,i)}},{key:"registerOnDisabledChange",value:function(i){this._onDisabledChange.push(i)}},{key:"_unregisterOnDisabledChange",value:function(i){jg(this._onDisabledChange,i)}},{key:"_forEachChild",value:function(i){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(i){this._isBoxedValue(i)?(this.value=this._pendingValue=i.value,i.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=i}}]),e}(s0),u0=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i,a){var o;return(0,m.Z)(this,e),(o=r.call(this,a0(i),o0(a,i))).controls=t,o._initObservables(),o._setUpdateStrategy(i),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!!o.asyncValidator}),o}return(0,_.Z)(e,[{key:"registerControl",value:function(i,a){return this.controls[i]?this.controls[i]:(this.controls[i]=a,a.setParent(this),a._registerOnCollectionChange(this._onCollectionChange),a)}},{key:"addControl",value:function(i,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.registerControl(i,a),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}},{key:"removeControl",value:function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.controls[i]&&this.controls[i]._registerOnCollectionChange(function(){}),delete this.controls[i],this.updateValueAndValidity({emitEvent:a.emitEvent}),this._onCollectionChange()}},{key:"setControl",value:function(i,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.controls[i]&&this.controls[i]._registerOnCollectionChange(function(){}),delete this.controls[i],a&&this.registerControl(i,a),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}},{key:"contains",value:function(i){return this.controls.hasOwnProperty(i)&&this.controls[i].enabled}},{key:"setValue",value:function(i){var a=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};HC(this,i),Object.keys(i).forEach(function(u){gd(a,u),a.controls[u].setValue(i[u],{onlySelf:!0,emitEvent:o.emitEvent})}),this.updateValueAndValidity(o)}},{key:"patchValue",value:function(i){var a=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=i&&(Object.keys(i).forEach(function(u){a.controls[u]&&a.controls[u].patchValue(i[u],{onlySelf:!0,emitEvent:o.emitEvent})}),this.updateValueAndValidity(o))}},{key:"reset",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(o,u){o.reset(i[u],{onlySelf:!0,emitEvent:a.emitEvent})}),this._updatePristine(a),this._updateTouched(a),this.updateValueAndValidity(a)}},{key:"getRawValue",value:function(){return this._reduceChildren({},function(i,a,o){return i[o]=UC(a),i})}},{key:"_syncPendingControls",value:function(){var i=this._reduceChildren(!1,function(a,o){return!!o._syncPendingControls()||a});return i&&this.updateValueAndValidity({onlySelf:!0}),i}},{key:"_forEachChild",value:function(i){var a=this;Object.keys(this.controls).forEach(function(o){var u=a.controls[o];u&&i(u,o)})}},{key:"_setUpControls",value:function(){var i=this;this._forEachChild(function(a){a.setParent(i),a._registerOnCollectionChange(i._onCollectionChange)})}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(i){for(var a=0,o=Object.keys(this.controls);a<o.length;a++){var u=o[a],d=this.controls[u];if(this.contains(u)&&i(d))return!0}return!1}},{key:"_reduceValue",value:function(){var i=this;return this._reduceChildren({},function(a,o,u){return(o.enabled||i.disabled)&&(a[u]=o.value),a})}},{key:"_reduceChildren",value:function(i,a){var o=i;return this._forEachChild(function(u,d){o=a(o,u,d)}),o}},{key:"_allControlsDisabled",value:function(){for(var i=0,a=Object.keys(this.controls);i<a.length;i++)if(this.controls[a[i]].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}]),e}(s0),qs=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i,a){var o;return(0,m.Z)(this,e),(o=r.call(this,a0(i),o0(a,i))).controls=t,o._initObservables(),o._setUpdateStrategy(i),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!!o.asyncValidator}),o}return(0,_.Z)(e,[{key:"at",value:function(i){return this.controls[i]}},{key:"push",value:function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.controls.push(i),this._registerControl(i),this.updateValueAndValidity({emitEvent:a.emitEvent}),this._onCollectionChange()}},{key:"insert",value:function(i,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.controls.splice(i,0,a),this._registerControl(a),this.updateValueAndValidity({emitEvent:o.emitEvent})}},{key:"removeAt",value:function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.controls[i]&&this.controls[i]._registerOnCollectionChange(function(){}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:a.emitEvent})}},{key:"setControl",value:function(i,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.controls[i]&&this.controls[i]._registerOnCollectionChange(function(){}),this.controls.splice(i,1),a&&(this.controls.splice(i,0,a),this._registerControl(a)),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}},{key:"length",get:function(){return this.controls.length}},{key:"setValue",value:function(i){var a=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};HC(this,i),i.forEach(function(u,d){gd(a,d),a.at(d).setValue(u,{onlySelf:!0,emitEvent:o.emitEvent})}),this.updateValueAndValidity(o)}},{key:"patchValue",value:function(i){var a=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=i&&(i.forEach(function(u,d){a.at(d)&&a.at(d).patchValue(u,{onlySelf:!0,emitEvent:o.emitEvent})}),this.updateValueAndValidity(o))}},{key:"reset",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(o,u){o.reset(i[u],{onlySelf:!0,emitEvent:a.emitEvent})}),this._updatePristine(a),this._updateTouched(a),this.updateValueAndValidity(a)}},{key:"getRawValue",value:function(){return this.controls.map(function(i){return UC(i)})}},{key:"clear",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.controls.length<1||(this._forEachChild(function(a){return a._registerOnCollectionChange(function(){})}),this.controls.splice(0),this.updateValueAndValidity({emitEvent:i.emitEvent}))}},{key:"_syncPendingControls",value:function(){var i=this.controls.reduce(function(a,o){return!!o._syncPendingControls()||a},!1);return i&&this.updateValueAndValidity({onlySelf:!0}),i}},{key:"_forEachChild",value:function(i){this.controls.forEach(function(a,o){i(a,o)})}},{key:"_updateValue",value:function(){var i=this;this.value=this.controls.filter(function(a){return a.enabled||i.disabled}).map(function(a){return a.value})}},{key:"_anyControls",value:function(i){return this.controls.some(function(a){return a.enabled&&i(a)})}},{key:"_setUpControls",value:function(){var i=this;this._forEachChild(function(a){return i._registerControl(a)})}},{key:"_allControlsDisabled",value:function(){var a,i=(0,G.Z)(this.controls);try{for(i.s();!(a=i.n()).done;)if(a.value.enabled)return!1}catch(u){i.e(u)}finally{i.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(i){i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)}}]),e}(s0),nI={provide:Wa,useExisting:(0,s.Gpc)(function(){return Au})},Pp=function(){return Promise.resolve(null)}(),Au=function(){var n=function(r){(0,P.Z)(t,r);var e=(0,N.Z)(t);function t(i,a){var o;return(0,m.Z)(this,t),(o=e.call(this)).submitted=!1,o._directives=new Set,o.ngSubmit=new s.vpe,o.form=new u0({},vo(i),qy(a)),o}return(0,_.Z)(t,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}},{key:"addControl",value:function(a){var o=this;Pp.then(function(){var u=o._findContainer(a.path);a.control=u.registerControl(a.name,a.control),Ap(a.control,a),a.control.updateValueAndValidity({emitEvent:!1}),o._directives.add(a)})}},{key:"getControl",value:function(a){return this.form.get(a.path)}},{key:"removeControl",value:function(a){var o=this;Pp.then(function(){var u=o._findContainer(a.path);u&&u.removeControl(a.name),o._directives.delete(a)})}},{key:"addFormGroup",value:function(a){var o=this;Pp.then(function(){var u=o._findContainer(a.path),d=new u0({});t0(d,a),u.registerControl(a.name,d),d.updateValueAndValidity({emitEvent:!1})})}},{key:"removeFormGroup",value:function(a){var o=this;Pp.then(function(){var u=o._findContainer(a.path);u&&u.removeControl(a.name)})}},{key:"getFormGroup",value:function(a){return this.form.get(a.path)}},{key:"updateModel",value:function(a,o){var u=this;Pp.then(function(){u.form.get(a.path).setValue(o)})}},{key:"setValue",value:function(a){this.control.setValue(a)}},{key:"onSubmit",value:function(a){return this.submitted=!0,eI(this.form,this._directives),this.ngSubmit.emit(a),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this.form.reset(a),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(a){return a.pop(),a.length?this.form.get(a):this.form}}]),t}(Wa);return n.\u0275fac=function(e){return new(e||n)(s.Y36(oi,10),s.Y36(Ko,10))},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,t){1&e&&s.NdJ("submit",function(a){return t.onSubmit(a)})("reset",function(){return t.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([nI]),s.qOj]}),n}(),bL={provide:Es,useExisting:(0,s.Gpc)(function(){return d0})},GC=function(){return Promise.resolve(null)}(),d0=function(){var n=function(r){(0,P.Z)(t,r);var e=(0,N.Z)(t);function t(i,a,o,u,d){var h;return(0,m.Z)(this,t),(h=e.call(this))._changeDetectorRef=d,h.control=new jC,h._registered=!1,h.update=new s.vpe,h._parent=i,h._setValidators(a),h._setAsyncValidators(o),h.valueAccessor=function Ip(n,r){if(!r)return null;Array.isArray(r);var e=void 0,t=void 0,i=void 0;return r.forEach(function(a){a.constructor===Fg?e=a:function XA(n){return Object.getPrototypeOf(n.constructor)===Ro}(a)?t=a:i=a}),i||t||e||null}((0,Lr.Z)(h),u),h}return(0,_.Z)(t,[{key:"ngOnChanges",value:function(a){if(this._checkForErrors(),!this._registered||"name"in a){if(this._registered&&(this._checkName(),this.formDirective)){var o=a.name.previousValue;this.formDirective.removeControl({name:o,path:this._getPath(o)})}this._setUpControl()}"isDisabled"in a&&this._updateDisabled(a),function r0(n,r){if(!n.hasOwnProperty("model"))return!1;var e=n.model;return!!e.isFirstChange()||!Object.is(r,e.currentValue)}(a,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"path",get:function(){return this._getPath(this.name)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"viewToModelUpdate",value:function(a){this.viewModel=a,this.update.emit(a)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){Ap(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}},{key:"_updateValue",value:function(a){var o=this;GC.then(function(){var u;o.control.setValue(a,{emitViewToModelChange:!1}),null===(u=o._changeDetectorRef)||void 0===u||u.markForCheck()})}},{key:"_updateDisabled",value:function(a){var o=this,u=a.isDisabled.currentValue,d=""===u||u&&"false"!==u;GC.then(function(){var h;d&&!o.control.disabled?o.control.disable():!d&&o.control.disabled&&o.control.enable(),null===(h=o._changeDetectorRef)||void 0===h||h.markForCheck()})}},{key:"_getPath",value:function(a){return this._parent?function Uf(n,r){return[].concat((0,Zt.Z)(r.path),[n])}(a,this._parent):[a]}}]),t}(Es);return n.\u0275fac=function(e){return new(e||n)(s.Y36(Wa,9),s.Y36(oi,10),s.Y36(Ko,10),s.Y36(Fi,10),s.Y36(s.sBO,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[s._Bn([bL]),s.qOj,s.TTD]}),n}(),zC=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n}(),h0=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n}(),qC={provide:Wa,useExisting:(0,s.Gpc)(function(){return El})},El=function(){var n=function(r){(0,P.Z)(t,r);var e=(0,N.Z)(t);function t(i,a){var o;return(0,m.Z)(this,t),(o=e.call(this)).validators=i,o.asyncValidators=a,o.submitted=!1,o._onCollectionChange=function(){return o._updateDomValue()},o.directives=[],o.form=null,o.ngSubmit=new s.vpe,o._setValidators(i),o._setAsyncValidators(a),o}return(0,_.Z)(t,[{key:"ngOnChanges",value:function(a){this._checkFormPresent(),a.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}},{key:"ngOnDestroy",value:function(){this.form&&(Hg(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(function(){}))}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"addControl",value:function(a){var o=this.form.get(a.path);return Ap(o,a),o.updateValueAndValidity({emitEvent:!1}),this.directives.push(a),o}},{key:"getControl",value:function(a){return this.form.get(a.path)}},{key:"removeControl",value:function(a){Hf(a.control||null,a),jg(this.directives,a)}},{key:"addFormGroup",value:function(a){this._setUpFormContainer(a)}},{key:"removeFormGroup",value:function(a){this._cleanUpFormContainer(a)}},{key:"getFormGroup",value:function(a){return this.form.get(a.path)}},{key:"addFormArray",value:function(a){this._setUpFormContainer(a)}},{key:"removeFormArray",value:function(a){this._cleanUpFormContainer(a)}},{key:"getFormArray",value:function(a){return this.form.get(a.path)}},{key:"updateModel",value:function(a,o){this.form.get(a.path).setValue(o)}},{key:"onSubmit",value:function(a){return this.submitted=!0,eI(this.form,this.directives),this.ngSubmit.emit(a),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this.form.reset(a),this.submitted=!1}},{key:"_updateDomValue",value:function(){var a=this;this.directives.forEach(function(o){var u=o.control,d=a.form.get(o.path);u!==d&&(Hf(u||null,o),vd(d)&&(Ap(d,o),o.control=d))}),this.form._updateTreeValidity({emitEvent:!1})}},{key:"_setUpFormContainer",value:function(a){var o=this.form.get(a.path);t0(o,a),o.updateValueAndValidity({emitEvent:!1})}},{key:"_cleanUpFormContainer",value:function(a){if(this.form){var o=this.form.get(a.path);if(o){var u=function NC(n,r){return Hg(n,r)}(o,a);u&&o.updateValueAndValidity({emitEvent:!1})}}}},{key:"_updateRegistrations",value:function(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(function(){})}},{key:"_updateValidators",value:function(){Xy(this.form,this),this._oldForm&&Hg(this._oldForm,this)}},{key:"_checkFormPresent",value:function(){}}]),t}(Wa);return n.\u0275fac=function(e){return new(e||n)(s.Y36(oi,10),s.Y36(Ko,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,t){1&e&&s.NdJ("submit",function(a){return t.onSubmit(a)})("reset",function(){return t.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([qC]),s.qOj,s.TTD]}),n}(),eE=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[h0]]}),n}(),tE=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[eE]}),n}();function qr(n){for(var r=arguments.length,e=new Array(r>1?r-1:0),t=1;t<r;t++)e[t-1]=arguments[t];return e.length?e.some(function(i){return n[i]}):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var Tl=x(353);function Lp(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tl.P;return function(e){return e.lift(new yE(n,r))}}var tm,yE=function(){function n(r,e){(0,m.Z)(this,n),this.dueTime=r,this.scheduler=e}return(0,_.Z)(n,[{key:"call",value:function(e,t){return t.subscribe(new bE(e,this.dueTime,this.scheduler))}}]),n}(),bE=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i,a){var o;return(0,m.Z)(this,e),(o=r.call(this,t)).dueTime=i,o.scheduler=a,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return(0,_.Z)(e,[{key:"_next",value:function(i){this.clearDebounce(),this.lastValue=i,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(I0,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var i=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(i)}}},{key:"clearDebounce",value:function(){var i=this.debouncedSubscription;null!==i&&(this.remove(i),i.unsubscribe(),this.debouncedSubscription=null)}}]),e}(Br.L);function I0(n){n.debouncedNext()}function yt(n){return null!=n&&"false"!=="".concat(n)}function Yn(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return R0(n)?Number(n):r}function R0(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function Bp(n){return Array.isArray(n)?n:[n]}function xi(n){return null==n?"":"string"==typeof n?n:"".concat(n,"px")}function Ou(n){return n instanceof s.SBq?n.nativeElement:n}try{tm="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){tm=!1}var Qf,Vp,Cd,P0,Pn=function(){var n=(0,_.Z)(function r(e){(0,m.Z)(this,r),this._platformId=e,this.isBrowser=this._platformId?function Vo(n){return n===rf}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!tm)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT});return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.Lbi))},n.\u0275prov=(0,s.Yz7)({factory:function(){return new n((0,s.LFG)(s.Lbi))},token:n,providedIn:"root"}),n}(),kd=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n}(),kE=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function wE(){if(Qf)return Qf;if("object"!=typeof document||!document)return Qf=new Set(kE);var n=document.createElement("input");return Qf=new Set(kE.filter(function(r){return n.setAttribute("type",r),n.type===r}))}function wd(n){return function JI(){if(null==Vp&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){return Vp=!0}}))}finally{Vp=Vp||!1}return Vp}()?n:!!n.capture}function CE(){if(null==Cd){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Cd=!1;if("scrollBehavior"in document.documentElement.style)Cd=!0;else{var n=Element.prototype.scrollTo;Cd=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Cd}function F0(n){if(function XI(){if(null==P0){var n="undefined"!=typeof document?document.head:null;P0=!(!n||!n.createShadowRoot&&!n.attachShadow)}return P0}()){var r=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&r instanceof ShadowRoot)return r}return null}var x0=function(){var n=function(){function r(){(0,m.Z)(this,r)}return(0,_.Z)(r,[{key:"create",value:function(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}]),r}();return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,s.Yz7)({factory:function(){return new n},token:n,providedIn:"root"}),n}(),EE=function(){var n=function(){function r(e){(0,m.Z)(this,r),this._mutationObserverFactory=e,this._observedElements=new Map}return(0,_.Z)(r,[{key:"ngOnDestroy",value:function(){var t=this;this._observedElements.forEach(function(i,a){return t._cleanupObserver(a)})}},{key:"observe",value:function(t){var i=this,a=Ou(t);return new Qn.y(function(o){var d=i._observeElement(a).subscribe(o);return function(){d.unsubscribe(),i._unobserveElement(a)}})}},{key:"_observeElement",value:function(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{var i=new ft.xQ,a=this._mutationObserverFactory.create(function(o){return i.next(o)});a&&a.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:a,stream:i,count:1})}return this._observedElements.get(t).stream}},{key:"_unobserveElement",value:function(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}},{key:"_cleanupObserver",value:function(t){if(this._observedElements.has(t)){var i=this._observedElements.get(t),a=i.observer,o=i.stream;a&&a.disconnect(),o.complete(),this._observedElements.delete(t)}}}]),r}();return n.\u0275fac=function(e){return new(e||n)(s.LFG(x0))},n.\u0275prov=(0,s.Yz7)({factory:function(){return new n((0,s.LFG)(x0))},token:n,providedIn:"root"}),n}(),Hp=function(){var n=function(){function r(e,t,i){(0,m.Z)(this,r),this._contentObserver=e,this._elementRef=t,this._ngZone=i,this.event=new s.vpe,this._disabled=!1,this._currentSubscription=null}return(0,_.Z)(r,[{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=yt(t),this._disabled?this._unsubscribe():this._subscribe()}},{key:"debounce",get:function(){return this._debounce},set:function(t){this._debounce=Yn(t),this._subscribe()}},{key:"ngAfterContentInit",value:function(){!this._currentSubscription&&!this.disabled&&this._subscribe()}},{key:"ngOnDestroy",value:function(){this._unsubscribe()}},{key:"_subscribe",value:function(){var t=this;this._unsubscribe();var i=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(function(){t._currentSubscription=(t.debounce?i.pipe(Lp(t.debounce)):i).subscribe(t.event)})}},{key:"_unsubscribe",value:function(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}]),r}();return n.\u0275fac=function(e){return new(e||n)(s.Y36(EE),s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n}(),jp=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[x0]}),n}(),AE=function(){function n(r){var e=this;(0,m.Z)(this,n),this._items=r,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new ft.xQ,this._typeaheadSubscription=Rn.w.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=function(t){return t.disabled},this._pressedLetters=[],this.tabOut=new ft.xQ,this.change=new ft.xQ,r instanceof s.n_E&&r.changes.subscribe(function(t){if(e._activeItem){var a=t.toArray().indexOf(e._activeItem);a>-1&&a!==e._activeItemIndex&&(e._activeItemIndex=a)}})}return(0,_.Z)(n,[{key:"skipPredicate",value:function(e){return this._skipPredicateFn=e,this}},{key:"withWrap",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._wrap=e,this}},{key:"withVerticalOrientation",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._vertical=e,this}},{key:"withHorizontalOrientation",value:function(e){return this._horizontal=e,this}},{key:"withAllowedModifierKeys",value:function(e){return this._allowedModifierKeys=e,this}},{key:"withTypeAhead",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200;return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Rr.b)(function(i){return e._pressedLetters.push(i)}),Lp(t),_n(function(){return e._pressedLetters.length>0}),(0,It.U)(function(){return e._pressedLetters.join("")})).subscribe(function(i){for(var a=e._getItemsArray(),o=1;o<a.length+1;o++){var u=(e._activeItemIndex+o)%a.length,d=a[u];if(!e._skipPredicateFn(d)&&0===d.getLabel().toUpperCase().trim().indexOf(i)){e.setActiveItem(u);break}}e._pressedLetters=[]}),this}},{key:"withHomeAndEnd",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._homeAndEnd=e,this}},{key:"setActiveItem",value:function(e){var t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}},{key:"onKeydown",value:function(e){var t=this,i=e.keyCode,o=["altKey","ctrlKey","metaKey","shiftKey"].every(function(u){return!e[u]||t._allowedModifierKeys.indexOf(u)>-1});switch(i){case 9:return void this.tabOut.next();case 40:if(this._vertical&&o){this.setNextItemActive();break}return;case 38:if(this._vertical&&o){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&o){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&o){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&o){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&o){this.setLastItemActive();break}return;default:return void((o||qr(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(i>=65&&i<=90||i>=48&&i<=57)&&this._letterKeyStream.next(String.fromCharCode(i))))}this._pressedLetters=[],e.preventDefault()}},{key:"activeItemIndex",get:function(){return this._activeItemIndex}},{key:"activeItem",get:function(){return this._activeItem}},{key:"isTyping",value:function(){return this._pressedLetters.length>0}},{key:"setFirstItemActive",value:function(){this._setActiveItemByIndex(0,1)}},{key:"setLastItemActive",value:function(){this._setActiveItemByIndex(this._items.length-1,-1)}},{key:"setNextItemActive",value:function(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}},{key:"setPreviousItemActive",value:function(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}},{key:"updateActiveItem",value:function(e){var t=this._getItemsArray(),i="number"==typeof e?e:t.indexOf(e),a=t[i];this._activeItem=null==a?null:a,this._activeItemIndex=i}},{key:"_setActiveItemByDelta",value:function(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}},{key:"_setActiveInWrapMode",value:function(e){for(var t=this._getItemsArray(),i=1;i<=t.length;i++){var a=(this._activeItemIndex+e*i+t.length)%t.length;if(!this._skipPredicateFn(t[a]))return void this.setActiveItem(a)}}},{key:"_setActiveInDefaultMode",value:function(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}},{key:"_setActiveItemByIndex",value:function(e,t){var i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(!i[e+=t])return;this.setActiveItem(e)}}},{key:"_getItemsArray",value:function(){return this._items instanceof s.n_E?this._items.toArray():this._items}}]),n}(),Ed=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(){return(0,m.Z)(this,e),r.apply(this,arguments)}return(0,_.Z)(e,[{key:"setActiveItem",value:function(i){this.activeItem&&this.activeItem.setInactiveStyles(),(0,X.Z)((0,ne.Z)(e.prototype),"setActiveItem",this).call(this,i),this.activeItem&&this.activeItem.setActiveStyles()}}]),e}(AE),Yp=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(){var t;return(0,m.Z)(this,e),(t=r.apply(this,arguments))._origin="program",t}return(0,_.Z)(e,[{key:"setFocusOrigin",value:function(i){return this._origin=i,this}},{key:"setActiveItem",value:function(i){(0,X.Z)((0,ne.Z)(e.prototype),"setActiveItem",this).call(this,i),this.activeItem&&this.activeItem.focus(this._origin)}}]),e}(AE),eR=function(){var n=function(){function r(e){(0,m.Z)(this,r),this._platform=e}return(0,_.Z)(r,[{key:"isDisabled",value:function(t){return t.hasAttribute("disabled")}},{key:"isVisible",value:function(t){return function OE(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}},{key:"isTabbable",value:function(t){if(!this._platform.isBrowser)return!1;var i=function RE(n){try{return n.frameElement}catch(r){return null}}(function _i(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===PE(i)||!this.isVisible(i)))return!1;var a=t.nodeName.toLowerCase(),o=PE(t);return t.hasAttribute("contenteditable")?-1!==o:!("iframe"===a||"object"===a||this._platform.WEBKIT&&this._platform.IOS&&!function im(n){var r=n.nodeName.toLowerCase(),e="input"===r&&n.type;return"text"===e||"password"===e||"select"===r||"textarea"===r}(t))&&("audio"===a?!!t.hasAttribute("controls")&&-1!==o:"video"===a?-1!==o&&(null!==o||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}},{key:"isFocusable",value:function(t,i){return function am(n){return!function cn(n){return function nR(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function i2(n){var r=n.nodeName.toLowerCase();return"input"===r||"select"===r||"button"===r||"textarea"===r}(n)||function tR(n){return function rR(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||Wp(n))}(t)&&!this.isDisabled(t)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(t))}}]),r}();return n.\u0275fac=function(e){return new(e||n)(s.LFG(Pn))},n.\u0275prov=(0,s.Yz7)({factory:function(){return new n((0,s.LFG)(Pn))},token:n,providedIn:"root"}),n}();function Wp(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;var r=n.getAttribute("tabindex");return"-32768"!=r&&!(!r||isNaN(parseInt(r,10)))}function PE(n){if(!Wp(n))return null;var r=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(r)?-1:r}var a2=function(){function n(r,e,t,i){var a=this,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(0,m.Z)(this,n),this._element=r,this._checker=e,this._ngZone=t,this._document=i,this._hasAttached=!1,this.startAnchorListener=function(){return a.focusLastTabbableElement()},this.endAnchorListener=function(){return a.focusFirstTabbableElement()},this._enabled=!0,o||this.attachAnchors()}return(0,_.Z)(n,[{key:"enabled",get:function(){return this._enabled},set:function(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}},{key:"destroy",value:function(){var e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),t&&(t.removeEventListener("focus",this.endAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}},{key:"attachAnchors",value:function(){var e=this;return!!this._hasAttached||(this._ngZone.runOutsideAngular(function(){e._startAnchor||(e._startAnchor=e._createAnchor(),e._startAnchor.addEventListener("focus",e.startAnchorListener)),e._endAnchor||(e._endAnchor=e._createAnchor(),e._endAnchor.addEventListener("focus",e.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}},{key:"focusInitialElementWhenReady",value:function(){var e=this;return new Promise(function(t){e._executeOnStable(function(){return t(e.focusInitialElement())})})}},{key:"focusFirstTabbableElementWhenReady",value:function(){var e=this;return new Promise(function(t){e._executeOnStable(function(){return t(e.focusFirstTabbableElement())})})}},{key:"focusLastTabbableElementWhenReady",value:function(){var e=this;return new Promise(function(t){e._executeOnStable(function(){return t(e.focusLastTabbableElement())})})}},{key:"_getRegionBoundary",value:function(e){for(var t=this._element.querySelectorAll("[cdk-focus-region-".concat(e,"], ")+"[cdkFocusRegion".concat(e,"], ")+"[cdk-focus-".concat(e,"]")),i=0;i<t.length;i++)t[i].hasAttribute("cdk-focus-".concat(e))?console.warn("Found use of deprecated attribute 'cdk-focus-".concat(e,"', ")+"use 'cdkFocusRegion".concat(e,"' instead. The deprecated ")+"attribute will be removed in 8.0.0.",t[i]):t[i].hasAttribute("cdk-focus-region-".concat(e))&&console.warn("Found use of deprecated attribute 'cdk-focus-region-".concat(e,"', ")+"use 'cdkFocusRegion".concat(e,"' instead. The deprecated attribute ")+"will be removed in 8.0.0.",t[i]);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}},{key:"focusInitialElement",value:function(){var e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),!this._checker.isFocusable(e)){var t=this._getFirstTabbableElement(e);return null==t||t.focus(),!!t}return e.focus(),!0}return this.focusFirstTabbableElement()}},{key:"focusFirstTabbableElement",value:function(){var e=this._getRegionBoundary("start");return e&&e.focus(),!!e}},{key:"focusLastTabbableElement",value:function(){var e=this._getRegionBoundary("end");return e&&e.focus(),!!e}},{key:"hasAttached",value:function(){return this._hasAttached}},{key:"_getFirstTabbableElement",value:function(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;for(var t=e.children||e.childNodes,i=0;i<t.length;i++){var a=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(a)return a}return null}},{key:"_getLastTabbableElement",value:function(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;for(var t=e.children||e.childNodes,i=t.length-1;i>=0;i--){var a=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(a)return a}return null}},{key:"_createAnchor",value:function(){var e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}},{key:"_toggleAnchorTabIndex",value:function(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}},{key:"toggleAnchors",value:function(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}},{key:"_executeOnStable",value:function(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Zn(1)).subscribe(e)}}]),n}(),qp=function(){var n=function(){function r(e,t,i){(0,m.Z)(this,r),this._checker=e,this._ngZone=t,this._document=i}return(0,_.Z)(r,[{key:"create",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new a2(t,this._checker,this._ngZone,this._document,i)}}]),r}();return n.\u0275fac=function(e){return new(e||n)(s.LFG(eR),s.LFG(s.R0b),s.LFG(K))},n.\u0275prov=(0,s.Yz7)({factory:function(){return new n((0,s.LFG)(eR),(0,s.LFG)(s.R0b),(0,s.LFG)(K))},token:n,providedIn:"root"}),n}(),iR=function(){var n=function(){function r(e,t,i){(0,m.Z)(this,r),this._elementRef=e,this._focusTrapFactory=t,this._previouslyFocusedElement=null,this._document=i,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}return(0,_.Z)(r,[{key:"enabled",get:function(){return this.focusTrap.enabled},set:function(t){this.focusTrap.enabled=yt(t)}},{key:"autoCapture",get:function(){return this._autoCapture},set:function(t){this._autoCapture=yt(t)}},{key:"ngOnDestroy",value:function(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}},{key:"ngAfterContentInit",value:function(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}},{key:"ngDoCheck",value:function(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}},{key:"ngOnChanges",value:function(t){var i=t.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}},{key:"_captureFocus",value:function(){var t,i,a=null===(t=this._document)||void 0===t?void 0:t.activeElement;this._previouslyFocusedElement=(null===(i=null==a?void 0:a.shadowRoot)||void 0===i?void 0:i.activeElement)||a,this.focusTrap.focusInitialElementWhenReady()}}]),r}();return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(qp),s.Y36(K))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[s.TTD]}),n}();"undefined"!=typeof Element&&Element;var ZE=new s.OlP("liveAnnouncerElement",{providedIn:"root",factory:function oR(){return null}}),Kp=new s.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),B0=function(){var n=function(){function r(e,t,i,a){(0,m.Z)(this,r),this._ngZone=t,this._defaultOptions=a,this._document=i,this._liveElement=e||this._createLiveElement()}return(0,_.Z)(r,[{key:"announce",value:function(t){for(var o,u,i=this,a=this._defaultOptions,d=arguments.length,h=new Array(d>1?d-1:0),v=1;v<d;v++)h[v-1]=arguments[v];return 1===h.length&&"number"==typeof h[0]?u=h[0]:(o=h[0],u=h[1]),this.clear(),clearTimeout(this._previousTimeout),o||(o=a&&a.politeness?a.politeness:"polite"),null==u&&a&&(u=a.duration),this._liveElement.setAttribute("aria-live",o),this._ngZone.runOutsideAngular(function(){return new Promise(function(b){clearTimeout(i._previousTimeout),i._previousTimeout=setTimeout(function(){i._liveElement.textContent=t,b(),"number"==typeof u&&(i._previousTimeout=setTimeout(function(){return i.clear()},u))},100)})})}},{key:"clear",value:function(){this._liveElement&&(this._liveElement.textContent="")}},{key:"ngOnDestroy",value:function(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}},{key:"_createLiveElement",value:function(){for(var t="cdk-live-announcer-element",i=this._document.getElementsByClassName(t),a=this._document.createElement("div"),o=0;o<i.length;o++)i[o].parentNode.removeChild(i[o]);return a.classList.add(t),a.classList.add("cdk-visually-hidden"),a.setAttribute("aria-atomic","true"),a.setAttribute("aria-live","polite"),this._document.body.appendChild(a),a}}]),r}();return n.\u0275fac=function(e){return new(e||n)(s.LFG(ZE,8),s.LFG(s.R0b),s.LFG(K),s.LFG(Kp,8))},n.\u0275prov=(0,s.Yz7)({factory:function(){return new n((0,s.LFG)(ZE,8),(0,s.LFG)(s.R0b),(0,s.LFG)(K),(0,s.LFG)(Kp,8))},token:n,providedIn:"root"}),n}(),LE=function(){var n=function(){function r(e,t,i,a){(0,m.Z)(this,r),this._elementRef=e,this._liveAnnouncer=t,this._contentObserver=i,this._ngZone=a,this._politeness="polite"}return(0,_.Z)(r,[{key:"politeness",get:function(){return this._politeness},set:function(t){var i=this;this._politeness="off"===t||"assertive"===t?t:"polite","off"===this._politeness?this._subscription&&(this._subscription.unsubscribe(),this._subscription=null):this._subscription||(this._subscription=this._ngZone.runOutsideAngular(function(){return i._contentObserver.observe(i._elementRef).subscribe(function(){var a=i._elementRef.nativeElement.textContent;a!==i._previousAnnouncedText&&(i._liveAnnouncer.announce(a,i._politeness),i._previousAnnouncedText=a)})}))}},{key:"ngOnDestroy",value:function(){this._subscription&&this._subscription.unsubscribe()}}]),r}();return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(B0),s.Y36(EE),s.Y36(s.R0b))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkAriaLive",""]],inputs:{politeness:["cdkAriaLive","politeness"]},exportAs:["cdkAriaLive"]}),n}();function sm(n){return 0===n.buttons}function V0(n){var r=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!r||-1!==r.identifier||null!=r.radiusX&&1!==r.radiusX||null!=r.radiusY&&1!==r.radiusY)}var Jf=new s.OlP("cdk-focus-monitor-default-options"),Pu=wd({passive:!0,capture:!0}),Wi=function(){var n=function(){function r(e,t,i,a){var o=this;(0,m.Z)(this,r),this._ngZone=e,this._platform=t,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=function(){o._lastTouchTarget=null,o._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=function(u){if(!o._lastTouchTarget){var d=sm(u)?"keyboard":"mouse";o._setOriginForCurrentEventQueue(d)}},this._documentTouchstartListener=function(u){V0(u)?o._lastTouchTarget||o._setOriginForCurrentEventQueue("keyboard"):(null!=o._touchTimeoutId&&clearTimeout(o._touchTimeoutId),o._lastTouchTarget=um(u),o._touchTimeoutId=setTimeout(function(){return o._lastTouchTarget=null},650))},this._windowFocusListener=function(){o._windowFocused=!0,o._windowFocusTimeoutId=setTimeout(function(){return o._windowFocused=!1})},this._rootNodeFocusAndBlurListener=function(u){for(var d=um(u),h="focus"===u.type?o._onFocus:o._onBlur,v=d;v;v=v.parentElement)h.call(o,u,v)},this._document=i,this._detectionMode=(null==a?void 0:a.detectionMode)||0}return(0,_.Z)(r,[{key:"monitor",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=Ou(t);if(!this._platform.isBrowser||1!==a.nodeType)return(0,Ft.of)(null);var o=F0(a)||this._getDocument(),u=this._elementInfo.get(a);if(u)return i&&(u.checkChildren=!0),u.subject;var d={checkChildren:i,subject:new ft.xQ,rootNode:o};return this._elementInfo.set(a,d),this._registerGlobalListeners(d),d.subject}},{key:"stopMonitoring",value:function(t){var i=Ou(t),a=this._elementInfo.get(i);a&&(a.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(a))}},{key:"focusVia",value:function(t,i,a){var o=this,u=Ou(t);u===this._getDocument().activeElement?this._getClosestElementsInfo(u).forEach(function(h){var v=(0,Z.Z)(h,2);return o._originChanged(v[0],i,v[1])}):(this._setOriginForCurrentEventQueue(i),"function"==typeof u.focus&&u.focus(a))}},{key:"ngOnDestroy",value:function(){var t=this;this._elementInfo.forEach(function(i,a){return t.stopMonitoring(a)})}},{key:"_getDocument",value:function(){return this._document||document}},{key:"_getWindow",value:function(){return this._getDocument().defaultView||window}},{key:"_toggleClass",value:function(t,i,a){a?t.classList.add(i):t.classList.remove(i)}},{key:"_getFocusOrigin",value:function(t){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"}},{key:"_setClasses",value:function(t,i){this._toggleClass(t,"cdk-focused",!!i),this._toggleClass(t,"cdk-touch-focused","touch"===i),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===i),this._toggleClass(t,"cdk-mouse-focused","mouse"===i),this._toggleClass(t,"cdk-program-focused","program"===i)}},{key:"_setOriginForCurrentEventQueue",value:function(t){var i=this;this._ngZone.runOutsideAngular(function(){i._origin=t,0===i._detectionMode&&(i._originTimeoutId=setTimeout(function(){return i._origin=null},1))})}},{key:"_wasCausedByTouch",value:function(t){var i=um(t);return this._lastTouchTarget instanceof Node&&i instanceof Node&&(i===this._lastTouchTarget||i.contains(this._lastTouchTarget))}},{key:"_onFocus",value:function(t,i){var a=this._elementInfo.get(i);!a||!a.checkChildren&&i!==um(t)||this._originChanged(i,this._getFocusOrigin(t),a)}},{key:"_onBlur",value:function(t,i){var a=this._elementInfo.get(i);!a||a.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(a.subject,null))}},{key:"_emitOrigin",value:function(t,i){this._ngZone.run(function(){return t.next(i)})}},{key:"_registerGlobalListeners",value:function(t){var i=this;if(this._platform.isBrowser){var a=t.rootNode,o=this._rootNodeFocusListenerCount.get(a)||0;o||this._ngZone.runOutsideAngular(function(){a.addEventListener("focus",i._rootNodeFocusAndBlurListener,Pu),a.addEventListener("blur",i._rootNodeFocusAndBlurListener,Pu)}),this._rootNodeFocusListenerCount.set(a,o+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(function(){var u=i._getDocument(),d=i._getWindow();u.addEventListener("keydown",i._documentKeydownListener,Pu),u.addEventListener("mousedown",i._documentMousedownListener,Pu),u.addEventListener("touchstart",i._documentTouchstartListener,Pu),d.addEventListener("focus",i._windowFocusListener)})}}},{key:"_removeGlobalListeners",value:function(t){var i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){var a=this._rootNodeFocusListenerCount.get(i);a>1?this._rootNodeFocusListenerCount.set(i,a-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Pu),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Pu),this._rootNodeFocusListenerCount.delete(i))}if(!--this._monitoredElementCount){var o=this._getDocument(),u=this._getWindow();o.removeEventListener("keydown",this._documentKeydownListener,Pu),o.removeEventListener("mousedown",this._documentMousedownListener,Pu),o.removeEventListener("touchstart",this._documentTouchstartListener,Pu),u.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}},{key:"_originChanged",value:function(t,i,a){this._setClasses(t,i),this._emitOrigin(a.subject,i),this._lastFocusOrigin=i}},{key:"_getClosestElementsInfo",value:function(t){var i=[];return this._elementInfo.forEach(function(a,o){(o===t||a.checkChildren&&o.contains(t))&&i.push([o,a])}),i}}]),r}();return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(Pn),s.LFG(K,8),s.LFG(Jf,8))},n.\u0275prov=(0,s.Yz7)({factory:function(){return new n((0,s.LFG)(s.R0b),(0,s.LFG)(Pn),(0,s.LFG)(K,8),(0,s.LFG)(Jf,8))},token:n,providedIn:"root"}),n}();function um(n){return n.composedPath?n.composedPath()[0]:n.target}var lm=function(){var n=function(){function r(e,t){(0,m.Z)(this,r),this._elementRef=e,this._focusMonitor=t,this.cdkFocusChange=new s.vpe}return(0,_.Z)(r,[{key:"ngAfterViewInit",value:function(){var t=this,i=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(i,1===i.nodeType&&i.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(function(a){return t.cdkFocusChange.emit(a)})}},{key:"ngOnDestroy",value:function(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}]),r}();return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Wi))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),n}(),U0="cdk-high-contrast-black-on-white",H0="cdk-high-contrast-white-on-black",j0="cdk-high-contrast-active",G0=function(){var n=function(){function r(e,t){(0,m.Z)(this,r),this._platform=e,this._document=t}return(0,_.Z)(r,[{key:"getHighContrastMode",value:function(){if(!this._platform.isBrowser)return 0;var t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);var i=this._document.defaultView||window,a=i&&i.getComputedStyle?i.getComputedStyle(t):null,o=(a&&a.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),o){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}},{key:"_applyBodyHighContrastModeCssClasses",value:function(){if(this._platform.isBrowser&&this._document.body){var t=this._document.body.classList;t.remove(j0),t.remove(U0),t.remove(H0);var i=this.getHighContrastMode();1===i?(t.add(j0),t.add(U0)):2===i&&(t.add(j0),t.add(H0))}}}]),r}();return n.\u0275fac=function(e){return new(e||n)(s.LFG(Pn),s.LFG(K))},n.\u0275prov=(0,s.Yz7)({factory:function(){return new n((0,s.LFG)(Pn),(0,s.LFG)(K))},token:n,providedIn:"root"}),n}(),cm=function(){var n=(0,_.Z)(function r(e){(0,m.Z)(this,r),e._applyBodyHighContrastModeCssClasses()});return n.\u0275fac=function(e){return new(e||n)(s.LFG(G0))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[kd,jp]]}),n}(),BE=new s.OlP("cdk-dir-doc",{providedIn:"root",factory:function d2(){return(0,s.f3M)(K)}}),yr=function(){var n=function(){function r(e){if((0,m.Z)(this,r),this.value="ltr",this.change=new s.vpe,e){var a=(e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null);this.value="ltr"===a||"rtl"===a?a:"ltr"}}return(0,_.Z)(r,[{key:"ngOnDestroy",value:function(){this.change.complete()}}]),r}();return n.\u0275fac=function(e){return new(e||n)(s.LFG(BE,8))},n.\u0275prov=(0,s.Yz7)({factory:function(){return new n((0,s.LFG)(BE,8))},token:n,providedIn:"root"}),n}(),Qp=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n}(),z0=new s.GfV("11.2.13"),Jp=(0,_.Z)(function n(){(0,m.Z)(this,n)}),sR=(0,_.Z)(function n(){(0,m.Z)(this,n)}),Il="*";function Kr(n,r){return{type:7,name:n,definitions:r,options:{}}}function Vn(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:4,styles:r,timings:n}}function VE(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:2,steps:n,options:r}}function Gt(n){return{type:6,styles:n,offset:null}}function En(n,r,e){return{type:0,name:n,styles:r,options:e}}function Un(n,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:1,expr:n,animation:r,options:e}}function UE(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:9,options:n}}function HE(n,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:11,selector:n,animation:r,options:e}}function jE(n){Promise.resolve(null).then(n)}var Xf=function(){function n(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,m.Z)(this,n),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=r+e}return(0,_.Z)(n,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var e=this;jE(function(){return e._onFinish()})}},{key:"_onStart",value:function(){this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"reset",value:function(){this._started=!1}},{key:"setPosition",value:function(e){this._position=this.totalTime?e*this.totalTime:1}},{key:"getPosition",value:function(){return this.totalTime?this._position/this.totalTime:1}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(function(i){return i()}),t.length=0}}]),n}(),GE=function(){function n(r){var e=this;(0,m.Z)(this,n),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=r;var t=0,i=0,a=0,o=this.players.length;0==o?jE(function(){return e._onFinish()}):this.players.forEach(function(u){u.onDone(function(){++t==o&&e._onFinish()}),u.onDestroy(function(){++i==o&&e._onDestroy()}),u.onStart(function(){++a==o&&e._onStart()})}),this.totalTime=this.players.reduce(function(u,d){return Math.max(u,d.totalTime)},0)}return(0,_.Z)(n,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach(function(e){return e.init()})}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[])}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(function(e){return e.play()})}},{key:"pause",value:function(){this.players.forEach(function(e){return e.pause()})}},{key:"restart",value:function(){this.players.forEach(function(e){return e.restart()})}},{key:"finish",value:function(){this._onFinish(),this.players.forEach(function(e){return e.finish()})}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(function(e){return e.destroy()}),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach(function(e){return e.reset()}),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(e){var t=e*this.totalTime;this.players.forEach(function(i){var a=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(a)})}},{key:"getPosition",value:function(){var e=this.players.reduce(function(t,i){return null===t||i.totalTime>t.totalTime?i:t},null);return null!=e?e.getPosition():0}},{key:"beforeDestroy",value:function(){this.players.forEach(function(e){e.beforeDestroy&&e.beforeDestroy()})}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(function(i){return i()}),t.length=0}}]),n}(),Wn=!1;function zE(n){return new s.vHH(3e3,Wn)}function ER(n){return new s.vHH(3502,Wn)}function q0(){return new s.vHH(3300,Wn)}function QE(n){return new s.vHH(3504,Wn)}function TR(){return"undefined"!=typeof window&&void 0!==window.document}function fm(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Dd(n){switch(n.length){case 0:return new Xf;case 1:return n[0];default:return new GE(n)}}function eD(n,r,e,t){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=[],u=[],d=-1,h=null;if(t.forEach(function(v){var b=v.offset,k=b==d,I=k&&h||{};Object.keys(v).forEach(function(O){var q=O,J=v[O];if("offset"!==O)switch(q=r.normalizePropertyName(q,o),J){case"!":J=i[O];break;case Il:J=a[O];break;default:J=r.normalizeStyleValue(O,q,J,o)}I[q]=J}),k||u.push(I),h=I,d=b}),o.length)throw ER();return u}function th(n,r,e,t){switch(r){case"start":n.onStart(function(){return t(e&&Q0(e,"start",n))});break;case"done":n.onDone(function(){return t(e&&Q0(e,"done",n))});break;case"destroy":n.onDestroy(function(){return t(e&&Q0(e,"destroy",n))})}}function Q0(n,r,e){var t=e.totalTime,a=bc(n.element,n.triggerName,n.fromState,n.toState,r||n.phaseName,null==t?n.totalTime:t,!!e.disabled),o=n._data;return null!=o&&(a._data=o),a}function bc(n,r,e,t){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6?arguments[6]:void 0;return{element:n,triggerName:r,fromState:e,toState:t,phaseName:i,totalTime:a,disabled:!!o}}function Sa(n,r,e){var t;return n instanceof Map?(t=n.get(r))||n.set(r,t=e):(t=n[r])||(t=n[r]=e),t}function tD(n){var r=n.indexOf(":");return[n.substring(1,r),n.substr(r+1)]}var nD=function(r,e){return!1},J0=function(r,e,t){return[]},rD=null;function X0(n){var r=n.parentNode||n.host;return r===rD?null:r}(fm()||"undefined"!=typeof Element)&&(TR()?(rD=function(){return document.documentElement}(),nD=function(r,e){for(;e;){if(e===r)return!0;e=X0(e)}return!1}):nD=function(r,e){return r.contains(e)},J0=function(r,e,t){if(t)return Array.from(r.querySelectorAll(e));var i=r.querySelector(e);return i?[i]:[]});var kc=null,eb=!1;function hm(n){kc||(kc=function pm(){return"undefined"!=typeof document?document.body:null}()||{},eb=!!kc.style&&"WebkitAppearance"in kc.style);var r=!0;return kc.style&&!function IR(n){return"ebkit"==n.substring(1,6)}(n)&&!(r=n in kc.style)&&eb&&(r="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in kc.style),r}var nh=nD,iD=J0,tb=function(){var n=function(){function r(){(0,m.Z)(this,r)}return(0,_.Z)(r,[{key:"validateStyleProperty",value:function(t){return hm(t)}},{key:"matchesElement",value:function(t,i){return!1}},{key:"containsElement",value:function(t,i){return nh(t,i)}},{key:"getParentElement",value:function(t){return X0(t)}},{key:"query",value:function(t,i,a){return iD(t,i,a)}},{key:"computeStyle",value:function(t,i,a){return a||""}},{key:"animate",value:function(t,i,a,o,u){return new Xf(a,o)}}]),r}();return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n}(),nb=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.NOOP=new tb,n}(),FR="ng-enter",rb="ng-leave",gm="ng-trigger",Rl=".ng-trigger",ib="ng-animating",wc=".ng-animating";function rh(n){if("number"==typeof n)return n;var r=n.match(/^(-?[\.\d]+)(m?s)/);return!r||r.length<2?0:mm(parseFloat(r[1]),r[2])}function mm(n,r){return"s"===r?1e3*n:n}function _m(n,r,e){return n.hasOwnProperty("duration")?n:function m2(n,r,e){var i,a=0,o="";if("string"==typeof n){var u=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===u)return r.push(zE()),{duration:0,delay:0,easing:""};i=mm(parseFloat(u[1]),u[2]);var d=u[3];null!=d&&(a=mm(parseFloat(d),u[4]));var h=u[5];h&&(o=h)}else i=n;if(!e){var v=!1,b=r.length;i<0&&(r.push(function YE(){return new s.vHH(3100,Wn)}()),v=!0),a<0&&(r.push(function WE(){return new s.vHH(3101,Wn)}()),v=!0),v&&r.splice(b,0,zE())}return{duration:i,delay:a,easing:o}}(n,r,e)}function Md(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(n).forEach(function(e){r[e]=n[e]}),r}function Ol(n,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r)for(var t in n)e[t]=n[t];else Md(n,e);return e}function ym(n,r,e){return e?r+":"+e+";":""}function ab(n){for(var r="",e=0;e<n.style.length;e++){var t=n.style.item(e);r+=ym(0,t,n.style.getPropertyValue(t))}for(var i in n.style)n.style.hasOwnProperty(i)&&!i.startsWith("_")&&(r+=ym(0,oD(i),n.style[i]));n.setAttribute("style",r)}function eu(n,r,e){n.style&&(Object.keys(r).forEach(function(t){var i=Sd(t);e&&!e.hasOwnProperty(t)&&(e[t]=n.style[i]),n.style[i]=r[t]}),fm()&&ab(n))}function Cc(n,r){n.style&&(Object.keys(r).forEach(function(e){var t=Sd(e);n.style[t]=""}),fm()&&ab(n))}function tv(n){return Array.isArray(n)?1==n.length?n[0]:VE(n):n}var ob=new RegExp("".concat("{{","\\s*(.+?)\\s*").concat("}}"),"g");function aD(n){var r=[];if("string"==typeof n){for(var e;e=ob.exec(n);)r.push(e[1]);ob.lastIndex=0}return r}function bm(n,r,e){var t=n.toString(),i=t.replace(ob,function(a,o){var u=r[o];return r.hasOwnProperty(o)||(e.push(function cR(n){return new s.vHH(3003,Wn)}()),u=""),u.toString()});return i==t?n:i}function km(n){for(var r=[],e=n.next();!e.done;)r.push(e.value),e=n.next();return r}var NR=/-+([a-z0-9])/g;function Sd(n){return n.replace(NR,function(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return e[1].toUpperCase()})}function oD(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function sD(n,r){return 0===n||0===r}function uD(n,r,e){var t=Object.keys(e);if(t.length&&r.length){var i=r[0],a=[];if(t.forEach(function(d){i.hasOwnProperty(d)||a.push(d),i[d]=e[d]}),a.length)for(var o=function(){var h=r[u];a.forEach(function(v){h[v]=sb(n,v)})},u=1;u<r.length;u++)o()}return r}function Po(n,r,e){switch(r.type){case 7:return n.visitTrigger(r,e);case 0:return n.visitState(r,e);case 1:return n.visitTransition(r,e);case 2:return n.visitSequence(r,e);case 3:return n.visitGroup(r,e);case 4:return n.visitAnimate(r,e);case 5:return n.visitKeyframes(r,e);case 6:return n.visitStyle(r,e);case 8:return n.visitReference(r,e);case 9:return n.visitAnimateChild(r,e);case 10:return n.visitAnimateRef(r,e);case 11:return n.visitQuery(r,e);case 12:return n.visitStagger(r,e);default:throw function dR(n){return new s.vHH(3004,Wn)}()}}function sb(n,r){return window.getComputedStyle(n)[r]}function VR(n,r){var e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(function(t){return function ub(n,r,e){if(":"==n[0]){var t=function Fu(n,r){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(e,t){return parseFloat(t)>parseFloat(e)};case":decrement":return function(e,t){return parseFloat(t)<parseFloat(e)};default:return r.push(function kR(n){return new s.vHH(3016,Wn)}()),"* => *"}}(n,e);if("function"==typeof t)return void r.push(t);n=t}var i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function bR(n){return new s.vHH(3015,Wn)}()),r;var a=i[1],o=i[2],u=i[3];r.push(ih(a,u)),"<"==o[0]&&!("*"==a&&"*"==u)&&r.push(ih(u,a))}(t,e,r)}):e.push(n),e}var Cm=new Set(["true","1"]),rv=new Set(["false","0"]);function ih(n,r){var e=Cm.has(n)||rv.has(n),t=Cm.has(r)||rv.has(r);return function(i,a){var o="*"==n||n==i,u="*"==r||r==a;return!o&&e&&"boolean"==typeof i&&(o=i?Cm.has(n):rv.has(n)),!u&&t&&"boolean"==typeof a&&(u=a?Cm.has(r):rv.has(r)),o&&u}}var UR=new RegExp("s*".concat(":self","s*,?"),"g");function cD(n,r,e,t){return new Em(n).build(r,e,t)}var Em=function(){function n(r){(0,m.Z)(this,n),this._driver=r}return(0,_.Z)(n,[{key:"build",value:function(e,t,i){var a=new dD(t);this._resetContextStyleTimingState(a);var o=Po(this,tv(e),a);return a.unsupportedCSSPropertiesFound.size&&(0,Zt.Z)(a.unsupportedCSSPropertiesFound.keys()),o}},{key:"_resetContextStyleTimingState",value:function(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}},{key:"visitTrigger",value:function(e,t){var i=this,a=t.queryCount=0,o=t.depCount=0,u=[],d=[];return"@"==e.name.charAt(0)&&t.errors.push(function fR(){return new s.vHH(3006,Wn)}()),e.definitions.forEach(function(h){if(i._resetContextStyleTimingState(t),0==h.type){var v=h,b=v.name;b.toString().split(/\s*,\s*/).forEach(function(I){v.name=I,u.push(i.visitState(v,t))}),v.name=b}else if(1==h.type){var k=i.visitTransition(h,t);a+=k.queryCount,o+=k.depCount,d.push(k)}else t.errors.push(function qE(){return new s.vHH(3007,Wn)}())}),{type:7,name:e.name,states:u,transitions:d,queryCount:a,depCount:o,options:null}}},{key:"visitState",value:function(e,t){var i=this.visitStyle(e.styles,t),a=e.options&&e.options.params||null;if(i.containsDynamicStyles){var o=new Set,u=a||{};i.styles.forEach(function(h){if(ah(h)){var v=h;Object.keys(v).forEach(function(b){aD(v[b]).forEach(function(k){u.hasOwnProperty(k)||o.add(k)})})}}),o.size&&(km(o.values()),t.errors.push(function hR(n,r){return new s.vHH(3008,Wn)}()))}return{type:0,name:e.name,style:i,options:a?{params:a}:null}}},{key:"visitTransition",value:function(e,t){t.queryCount=0,t.depCount=0;var i=Po(this,tv(e.animation),t);return{type:1,matchers:VR(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Td(e.options)}}},{key:"visitSequence",value:function(e,t){var i=this;return{type:2,steps:e.steps.map(function(a){return Po(i,a,t)}),options:Td(e.options)}}},{key:"visitGroup",value:function(e,t){var i=this,a=t.currentTime,o=0,u=e.steps.map(function(d){t.currentTime=a;var h=Po(i,d,t);return o=Math.max(o,t.currentTime),h});return t.currentTime=o,{type:3,steps:u,options:Td(e.options)}}},{key:"visitAnimate",value:function(e,t){var i=function hD(n,r){var e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return lb(_m(n,r).duration,0,"");var i=n,a=i.split(/\s+/).some(function(u){return"{"==u.charAt(0)&&"{"==u.charAt(1)});if(a){var o=lb(0,0,"");return o.dynamic=!0,o.strValue=i,o}return lb((e=e||_m(i,r)).duration,e.delay,e.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;var a,o=e.styles?e.styles:Gt({});if(5==o.type)a=this.visitKeyframes(o,t);else{var u=e.styles,d=!1;if(!u){d=!0;var h={};i.easing&&(h.easing=i.easing),u=Gt(h)}t.currentTime+=i.duration+i.delay;var v=this.visitStyle(u,t);v.isEmptyStep=d,a=v}return t.currentAnimateTimings=null,{type:4,timings:i,style:a,options:null}}},{key:"visitStyle",value:function(e,t){var i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}},{key:"_makeStyleAst",value:function(e,t){var i=[];Array.isArray(e.styles)?e.styles.forEach(function(u){"string"==typeof u?u==Il?i.push(u):t.errors.push(function pR(n){return new s.vHH(3002,Wn)}()):i.push(u)}):i.push(e.styles);var a=!1,o=null;return i.forEach(function(u){if(ah(u)){var d=u,h=d.easing;if(h&&(o=h,delete d.easing),!a)for(var v in d)if(d[v].toString().indexOf("{{")>=0){a=!0;break}}}),{type:6,styles:i,easing:o,offset:e.offset,containsDynamicStyles:a,options:null}}},{key:"_validateStyleAst",value:function(e,t){var i=this,a=t.currentAnimateTimings,o=t.currentTime,u=t.currentTime;a&&u>0&&(u-=a.duration+a.delay),e.styles.forEach(function(d){"string"!=typeof d&&Object.keys(d).forEach(function(h){if(!i._driver.validateStyleProperty(h))return delete d[h],void t.unsupportedCSSPropertiesFound.add(h);var v=t.collectedStyles[t.currentQuerySelector],b=v[h],k=!0;b&&(u!=o&&u>=b.startTime&&o<=b.endTime&&(t.errors.push(function vR(n,r,e,t,i){return new s.vHH(3010,Wn)}()),k=!1),u=b.startTime),k&&(v[h]={startTime:u,endTime:o}),t.options&&function xR(n,r,e){var t=r.params||{},i=aD(n);i.length&&i.forEach(function(a){t.hasOwnProperty(a)||e.push(function lR(n){return new s.vHH(3001,Wn)}())})}(d[h],t.options,t.errors)})})}},{key:"visitKeyframes",value:function(e,t){var i=this,a={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function gR(){return new s.vHH(3011,Wn)}()),a;var u=0,d=[],h=!1,v=!1,b=0,k=e.steps.map(function(Oe){var Ze=i._makeStyleAst(Oe,t),je=null!=Ze.offset?Ze.offset:function fD(n){if("string"==typeof n)return null;var r=null;if(Array.isArray(n))n.forEach(function(t){if(ah(t)&&t.hasOwnProperty("offset")){var i=t;r=parseFloat(i.offset),delete i.offset}});else if(ah(n)&&n.hasOwnProperty("offset")){var e=n;r=parseFloat(e.offset),delete e.offset}return r}(Ze.styles),lt=0;return null!=je&&(u++,lt=Ze.offset=je),v=v||lt<0||lt>1,h=h||lt<b,b=lt,d.push(lt),Ze});v&&t.errors.push(function mR(){return new s.vHH(3012,Wn)}()),h&&t.errors.push(function _R(){return new s.vHH(3200,Wn)}());var I=e.steps.length,O=0;u>0&&u<I?t.errors.push(function yR(){return new s.vHH(3202,Wn)}()):0==u&&(O=1/(I-1));var q=I-1,J=t.currentTime,ue=t.currentAnimateTimings,fe=ue.duration;return k.forEach(function(Oe,Ze){var je=O>0?Ze==q?1:O*Ze:d[Ze],lt=je*fe;t.currentTime=J+ue.delay+lt,ue.duration=lt,i._validateStyleAst(Oe,t),Oe.offset=je,a.styles.push(Oe)}),a}},{key:"visitReference",value:function(e,t){return{type:8,animation:Po(this,tv(e.animation),t),options:Td(e.options)}}},{key:"visitAnimateChild",value:function(e,t){return t.depCount++,{type:9,options:Td(e.options)}}},{key:"visitAnimateRef",value:function(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Td(e.options)}}},{key:"visitQuery",value:function(e,t){var i=t.currentQuerySelector,a=e.options||{};t.queryCount++,t.currentQuery=e;var o=function HR(n){var r=!!n.split(/\s*,\s*/).find(function(e){return":self"==e});return r&&(n=n.replace(UR,"")),n=n.replace(/@\*/g,Rl).replace(/@\w+/g,function(e){return Rl+"-"+e.substr(1)}).replace(/:animating/g,wc),[n,r]}(e.selector),u=(0,Z.Z)(o,2),d=u[0],h=u[1];t.currentQuerySelector=i.length?i+" "+d:d,Sa(t.collectedStyles,t.currentQuerySelector,{});var v=Po(this,tv(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:d,limit:a.limit||0,optional:!!a.optional,includeSelf:h,animation:v,originalSelector:e.selector,options:Td(e.options)}}},{key:"visitStagger",value:function(e,t){t.currentQuery||t.errors.push(function KE(){return new s.vHH(3013,Wn)}());var i="full"===e.timings?{duration:0,delay:0,easing:"full"}:_m(e.timings,t.errors,!0);return{type:12,animation:Po(this,tv(e.animation),t),timings:i,options:null}}}]),n}(),dD=(0,_.Z)(function n(r){(0,m.Z)(this,n),this.errors=r,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set});function ah(n){return!Array.isArray(n)&&"object"==typeof n}function Td(n){return n?(n=Md(n)).params&&(n.params=function jR(n){return n?Md(n):null}(n.params)):n={},n}function lb(n,r,e){return{duration:n,delay:r,easing:e}}function pD(n,r,e,t,i,a){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{type:1,element:n,keyframes:r,preStyleProps:e,postStyleProps:t,duration:i,delay:a,totalTime:i+a,easing:o,subTimeline:u}}var cb=function(){function n(){(0,m.Z)(this,n),this._map=new Map}return(0,_.Z)(n,[{key:"get",value:function(e){return this._map.get(e)||[]}},{key:"append",value:function(e,t){var i,a=this._map.get(e);a||this._map.set(e,a=[]),(i=a).push.apply(i,(0,Zt.Z)(t))}},{key:"has",value:function(e){return this._map.has(e)}},{key:"clear",value:function(){this._map.clear()}}]),n}(),zR=new RegExp(":enter","g"),WR=new RegExp(":leave","g");function gD(n,r,e,t,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},u=arguments.length>7?arguments[7]:void 0,d=arguments.length>8?arguments[8]:void 0,h=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new qR).buildKeyframes(n,r,e,t,i,a,o,u,d,h)}var qR=function(){function n(){(0,m.Z)(this,n)}return(0,_.Z)(n,[{key:"buildKeyframes",value:function(e,t,i,a,o,u,d,h,v){var b=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];v=v||new cb;var k=new mD(e,t,v,a,o,b,[]);k.options=h,k.currentTimeline.setStyles([u],null,k.errors,h),Po(this,i,k);var I=k.timelines.filter(function(ue){return ue.containsAnimation()});if(Object.keys(d).length){for(var O,q=I.length-1;q>=0;q--){var J=I[q];if(J.element===t){O=J;break}}O&&!O.allowOnlyTimelineStyles()&&O.setStyles([d],null,k.errors,h)}return I.length?I.map(function(ue){return ue.buildKeyframes()}):[pD(t,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(e,t){}},{key:"visitState",value:function(e,t){}},{key:"visitTransition",value:function(e,t){}},{key:"visitAnimateChild",value:function(e,t){var i=t.subInstructions.get(t.element);if(i){var a=t.createSubContext(e.options),o=t.currentTimeline.currentTime,u=this._visitSubInstructions(i,a,a.options);o!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}},{key:"visitAnimateRef",value:function(e,t){var i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}},{key:"_visitSubInstructions",value:function(e,t,i){var o=t.currentTimeline.currentTime,u=null!=i.duration?rh(i.duration):null,d=null!=i.delay?rh(i.delay):null;return 0!==u&&e.forEach(function(h){var v=t.appendInstructionToTimeline(h,u,d);o=Math.max(o,v.duration+v.delay)}),o}},{key:"visitReference",value:function(e,t){t.updateOptions(e.options,!0),Po(this,e.animation,t),t.previousNode=e}},{key:"visitSequence",value:function(e,t){var i=this,a=t.subContextCount,o=t,u=e.options;if(u&&(u.params||u.delay)&&((o=t.createSubContext(u)).transformIntoNewTimeline(),null!=u.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=Dm);var d=rh(u.delay);o.delayNextStep(d)}e.steps.length&&(e.steps.forEach(function(h){return Po(i,h,o)}),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>a&&o.transformIntoNewTimeline()),t.previousNode=e}},{key:"visitGroup",value:function(e,t){var i=this,a=[],o=t.currentTimeline.currentTime,u=e.options&&e.options.delay?rh(e.options.delay):0;e.steps.forEach(function(d){var h=t.createSubContext(e.options);u&&h.delayNextStep(u),Po(i,d,h),o=Math.max(o,h.currentTimeline.currentTime),a.push(h.currentTimeline)}),a.forEach(function(d){return t.currentTimeline.mergeTimelineCollectedStyles(d)}),t.transformIntoNewTimeline(o),t.previousNode=e}},{key:"_visitTiming",value:function(e,t){if(e.dynamic){var i=e.strValue;return _m(t.params?bm(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}},{key:"visitAnimate",value:function(e,t){var i=t.currentAnimateTimings=this._visitTiming(e.timings,t),a=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),a.snapshotCurrentStyles());var o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),a.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}},{key:"visitStyle",value:function(e,t){var i=t.currentTimeline,a=t.currentAnimateTimings;!a&&i.getCurrentStyleProperties().length&&i.forwardFrame();var o=a&&a.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}},{key:"visitKeyframes",value:function(e,t){var i=t.currentAnimateTimings,a=t.currentTimeline.duration,o=i.duration,d=t.createSubContext().currentTimeline;d.easing=i.easing,e.styles.forEach(function(h){d.forwardTime((h.offset||0)*o),d.setStyles(h.styles,h.easing,t.errors,t.options),d.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(d),t.transformIntoNewTimeline(a+o),t.previousNode=e}},{key:"visitQuery",value:function(e,t){var i=this,a=t.currentTimeline.currentTime,o=e.options||{},u=o.delay?rh(o.delay):0;u&&(6===t.previousNode.type||0==a&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Dm);var d=a,h=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!o.optional,t.errors);t.currentQueryTotal=h.length;var v=null;h.forEach(function(b,k){t.currentQueryIndex=k;var I=t.createSubContext(e.options,b);u&&I.delayNextStep(u),b===t.element&&(v=I.currentTimeline),Po(i,e.animation,I),I.currentTimeline.applyStylesToKeyframe(),d=Math.max(d,I.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(d),v&&(t.currentTimeline.mergeTimelineCollectedStyles(v),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}},{key:"visitStagger",value:function(e,t){var i=t.parentContext,a=t.currentTimeline,o=e.timings,u=Math.abs(o.duration),d=u*(t.currentQueryTotal-1),h=u*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":h=d-h;break;case"full":h=i.currentStaggerTime}var b=t.currentTimeline;h&&b.delayNextStep(h);var k=b.currentTime;Po(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=a.currentTime-k+(a.startTime-i.currentTimeline.startTime)}}]),n}(),Dm={},mD=function(){function n(r,e,t,i,a,o,u,d){(0,m.Z)(this,n),this._driver=r,this.element=e,this.subInstructions=t,this._enterClassName=i,this._leaveClassName=a,this.errors=o,this.timelines=u,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Dm,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=d||new Mm(this._driver,e,0),u.push(this.currentTimeline)}return(0,_.Z)(n,[{key:"params",get:function(){return this.options.params}},{key:"updateOptions",value:function(e,t){var i=this;if(e){var a=e,o=this.options;null!=a.duration&&(o.duration=rh(a.duration)),null!=a.delay&&(o.delay=rh(a.delay));var u=a.params;if(u){var d=o.params;d||(d=this.options.params={}),Object.keys(u).forEach(function(h){(!t||!d.hasOwnProperty(h))&&(d[h]=bm(u[h],d,i.errors))})}}}},{key:"_copyOptions",value:function(){var e={};if(this.options){var t=this.options.params;if(t){var i=e.params={};Object.keys(t).forEach(function(a){i[a]=t[a]})}}return e}},{key:"createSubContext",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,a=t||this.element,o=new n(this._driver,a,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(a,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}},{key:"transformIntoNewTimeline",value:function(e){return this.previousNode=Dm,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(e,t,i){var a={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+e.delay,easing:""},o=new _D(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,a,e.stretchStartingKeyframe);return this.timelines.push(o),a}},{key:"incrementTime",value:function(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}},{key:"delayNextStep",value:function(e){e>0&&this.currentTimeline.delayNextStep(e)}},{key:"invokeQuery",value:function(e,t,i,a,o,u){var d=[];if(a&&d.push(this.element),e.length>0){e=(e=e.replace(zR,"."+this._enterClassName)).replace(WR,"."+this._leaveClassName);var v=this._driver.query(this.element,e,1!=i);0!==i&&(v=i<0?v.slice(v.length+i,v.length):v.slice(0,i)),d.push.apply(d,(0,Zt.Z)(v))}return!o&&0==d.length&&u.push(function $E(n){return new s.vHH(3014,Wn)}()),d}}]),n}(),Mm=function(){function n(r,e,t,i){(0,m.Z)(this,n),this._driver=r,this.element=e,this.startTime=t,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}return(0,_.Z)(n,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"delayNextStep",value:function(e){var t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}},{key:"fork",value:function(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}},{key:"_updateStyle",value:function(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(e){var t=this;e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(function(i){t._backFill[i]=t._globalTimelineStyles[i]||Il,t._currentKeyframe[i]=Il}),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(e,t,i,a){var o=this;t&&(this._previousKeyframe.easing=t);var u=a&&a.params||{},d=function yD(n,r){var t,e={};return n.forEach(function(i){"*"===i?(t=t||Object.keys(r)).forEach(function(a){e[a]=Il}):Ol(i,!1,e)}),e}(e,this._globalTimelineStyles);Object.keys(d).forEach(function(h){var v=bm(d[h],u,i);o._pendingStyles[h]=v,o._localTimelineStyles.hasOwnProperty(h)||(o._backFill[h]=o._globalTimelineStyles.hasOwnProperty(h)?o._globalTimelineStyles[h]:Il),o._updateStyle(h,v)})}},{key:"applyStylesToKeyframe",value:function(){var e=this,t=this._pendingStyles,i=Object.keys(t);0!=i.length&&(this._pendingStyles={},i.forEach(function(a){e._currentKeyframe[a]=t[a]}),Object.keys(this._localTimelineStyles).forEach(function(a){e._currentKeyframe.hasOwnProperty(a)||(e._currentKeyframe[a]=e._localTimelineStyles[a])}))}},{key:"snapshotCurrentStyles",value:function(){var e=this;Object.keys(this._localTimelineStyles).forEach(function(t){var i=e._localTimelineStyles[t];e._pendingStyles[t]=i,e._updateStyle(t,i)})}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"properties",get:function(){var e=[];for(var t in this._currentKeyframe)e.push(t);return e}},{key:"mergeTimelineCollectedStyles",value:function(e){var t=this;Object.keys(e._styleSummary).forEach(function(i){var a=t._styleSummary[i],o=e._styleSummary[i];(!a||o.time>a.time)&&t._updateStyle(i,o.value)})}},{key:"buildKeyframes",value:function(){var e=this;this.applyStylesToKeyframe();var t=new Set,i=new Set,a=1===this._keyframes.size&&0===this.duration,o=[];this._keyframes.forEach(function(b,k){var I=Ol(b,!0);Object.keys(I).forEach(function(O){var q=I[O];"!"==q?t.add(O):q==Il&&i.add(O)}),a||(I.offset=k/e.duration),o.push(I)});var u=t.size?km(t.values()):[],d=i.size?km(i.values()):[];if(a){var h=o[0],v=Md(h);h.offset=0,v.offset=1,o=[h,v]}return pD(this.element,o,u,d,this.duration,this.startTime,this.easing,!1)}}]),n}(),_D=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i,a,o,u,d){var h,v=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return(0,m.Z)(this,e),(h=r.call(this,t,i,d.delay)).keyframes=a,h.preStyleProps=o,h.postStyleProps=u,h._stretchStartingKeyframe=v,h.timings={duration:d.duration,delay:d.delay,easing:d.easing},h}return(0,_.Z)(e,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var i=this.keyframes,a=this.timings,o=a.delay,u=a.duration,d=a.easing;if(this._stretchStartingKeyframe&&o){var h=[],v=u+o,b=o/v,k=Ol(i[0],!1);k.offset=0,h.push(k);var I=Ol(i[0],!1);I.offset=db(b),h.push(I);for(var O=i.length-1,q=1;q<=O;q++){var J=Ol(i[q],!1);J.offset=db((o+J.offset*u)/v),h.push(J)}u=v,o=0,d="",i=h}return pD(this.element,i,this.preStyleProps,this.postStyleProps,u,o,d,!0)}}]),e}(Mm);function db(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,e=Math.pow(10,r-1);return Math.round(n*e)/e}var fb=(0,_.Z)(function n(){(0,m.Z)(this,n)}),bD=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(){return(0,m.Z)(this,e),r.apply(this,arguments)}return(0,_.Z)(e,[{key:"normalizePropertyName",value:function(i,a){return Sd(i)}},{key:"normalizeStyleValue",value:function(i,a,o,u){var d="",h=o.toString().trim();if(QR[a]&&0!==o&&"0"!==o)if("number"==typeof o)d="px";else{var v=o.match(/^[+-]?[\d\.]+([a-z]*)$/);v&&0==v[1].length&&u.push(function Y0(n,r){return new s.vHH(3005,Wn)}())}return h+d}}]),e}(fb),QR=function(){return function kD(n){var r={};return n.forEach(function(e){return r[e]=!0}),r}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","))}();function wD(n,r,e,t,i,a,o,u,d,h,v,b,k){return{type:0,element:n,triggerName:r,isRemovalTransition:i,fromState:e,fromStyles:a,toState:t,toStyles:o,timelines:u,queriedElements:d,preStyleProps:h,postStyleProps:v,totalTime:b,errors:k}}var Ta={},Ad=function(){function n(r,e,t){(0,m.Z)(this,n),this._triggerName=r,this.ast=e,this._stateStyles=t}return(0,_.Z)(n,[{key:"match",value:function(e,t,i,a){return function JR(n,r,e,t,i){return n.some(function(a){return a(r,e,t,i)})}(this.ast.matchers,e,t,i,a)}},{key:"buildStyles",value:function(e,t,i){var a=this._stateStyles["*"],o=this._stateStyles[e],u=a?a.buildStyles(t,i):{};return o?o.buildStyles(t,i):u}},{key:"build",value:function(e,t,i,a,o,u,d,h,v,b){var k=[],I=this.ast.options&&this.ast.options.params||Ta,q=this.buildStyles(i,d&&d.params||Ta,k),J=h&&h.params||Ta,ue=this.buildStyles(a,J,k),fe=new Set,Oe=new Map,Ze=new Map,je="void"===a,lt={params:Object.assign(Object.assign({},I),J)},ct=b?[]:gD(e,t,this.ast.animation,o,u,q,ue,lt,v,k),vt=0;if(ct.forEach(function(tn){vt=Math.max(tn.duration+tn.delay,vt)}),k.length)return wD(t,this._triggerName,i,a,je,q,ue,[],[],Oe,Ze,vt,k);ct.forEach(function(tn){var An=tn.element,Fr=Sa(Oe,An,{});tn.preStyleProps.forEach(function(qu){return Fr[qu]=!0});var Os=Sa(Ze,An,{});tn.postStyleProps.forEach(function(qu){return Os[qu]=!0}),An!==t&&fe.add(An)});var dn=km(fe.values());return wD(t,this._triggerName,i,a,je,q,ue,ct,dn,Oe,Ze,vt)}}]),n}(),XR=function(){function n(r,e,t){(0,m.Z)(this,n),this.styles=r,this.defaultParams=e,this.normalizer=t}return(0,_.Z)(n,[{key:"buildStyles",value:function(e,t){var i=this,a={},o=Md(this.defaultParams);return Object.keys(e).forEach(function(u){var d=e[u];null!=d&&(o[u]=d)}),this.styles.styles.forEach(function(u){if("string"!=typeof u){var d=u;Object.keys(d).forEach(function(h){var v=d[h];v.length>1&&(v=bm(v,o,t));var b=i.normalizer.normalizePropertyName(h,t);v=i.normalizer.normalizeStyleValue(h,b,v,t),a[b]=v})}}),a}}]),n}(),av=function(){function n(r,e,t){var i=this;(0,m.Z)(this,n),this.name=r,this.ast=e,this._normalizer=t,this.transitionFactories=[],this.states={},e.states.forEach(function(a){i.states[a.name]=new XR(a.style,a.options&&a.options.params||{},t)}),Sm(this.states,"true","1"),Sm(this.states,"false","0"),e.transitions.forEach(function(a){i.transitionFactories.push(new Ad(r,a,i.states))}),this.fallbackTransition=function e1(n,r,e){return new Ad(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(o,u){return!0}],options:null,queryCount:0,depCount:0},r)}(r,this.states)}return(0,_.Z)(n,[{key:"containsQueries",get:function(){return this.ast.queryCount>0}},{key:"matchTransition",value:function(e,t,i,a){return this.transitionFactories.find(function(u){return u.match(e,t,i,a)})||null}},{key:"matchStyles",value:function(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}]),n}();function Sm(n,r,e){n.hasOwnProperty(r)?n.hasOwnProperty(e)||(n[e]=n[r]):n.hasOwnProperty(e)&&(n[r]=n[e])}var t1=new cb,CD=function(){function n(r,e,t){(0,m.Z)(this,n),this.bodyNode=r,this._driver=e,this._normalizer=t,this._animations={},this._playersById={},this.players=[]}return(0,_.Z)(n,[{key:"register",value:function(e,t){var i=[],o=cD(this._driver,t,i,[]);if(i.length)throw function W0(n){return new s.vHH(3503,Wn)}();this._animations[e]=o}},{key:"_buildPlayer",value:function(e,t,i){var a=e.element,o=eD(this._driver,this._normalizer,a,e.keyframes,t,i);return this._driver.animate(a,o,e.duration,e.delay,e.easing,[],!0)}},{key:"create",value:function(e,t){var d,i=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=[],u=this._animations[e],h=new Map;if(u?(d=gD(this._driver,t,u,FR,rb,{},{},a,t1,o)).forEach(function(k){var I=Sa(h,k.element,{});k.postStyleProps.forEach(function(O){return I[O]=null})}):(o.push(q0()),d=[]),o.length)throw QE();h.forEach(function(k,I){Object.keys(k).forEach(function(O){k[O]=i._driver.computeStyle(I,O,Il)})});var v=d.map(function(k){var I=h.get(k.element);return i._buildPlayer(k,{},I)}),b=Dd(v);return this._playersById[e]=b,b.onDestroy(function(){return i.destroy(e)}),this.players.push(b),b}},{key:"destroy",value:function(e){var t=this._getPlayer(e);t.destroy(),delete this._playersById[e];var i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}},{key:"_getPlayer",value:function(e){var t=this._playersById[e];if(!t)throw function K0(n){return new s.vHH(3301,Wn)}();return t}},{key:"listen",value:function(e,t,i,a){var o=bc(t,"","","");return th(this._getPlayer(e),i,o,a),function(){}}},{key:"command",value:function(e,t,i,a){if("register"!=i)if("create"!=i){var u=this._getPlayer(e);switch(i){case"play":u.play();break;case"pause":u.pause();break;case"reset":u.reset();break;case"restart":u.restart();break;case"finish":u.finish();break;case"init":u.init();break;case"setPosition":u.setPosition(parseFloat(a[0]));break;case"destroy":this.destroy(e)}}else this.create(e,t,a[0]||{});else this.register(e,a[0])}}]),n}(),ED="ng-animate-queued",ov="ng-animate-disabled",MD="ng-star-inserted",hb=[],r1={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},SD={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ms="__ng_removed",Am=function(){function n(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";(0,m.Z)(this,n),this.namespaceId=e;var t=r&&r.hasOwnProperty("value"),i=t?r.value:r;if(this.value=a1(i),t){var a=Md(r);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}return(0,_.Z)(n,[{key:"params",get:function(){return this.options.params}},{key:"absorbOptions",value:function(e){var t=e.params;if(t){var i=this.options.params;Object.keys(t).forEach(function(a){null==i[a]&&(i[a]=t[a])})}}}]),n}(),Dc="void",Im=new Am(Dc),i1=function(){function n(r,e,t){(0,m.Z)(this,n),this.id=r,this.hostElement=e,this._engine=t,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+r,Xo(e,this._hostClassName)}return(0,_.Z)(n,[{key:"listen",value:function(e,t,i,a){var o=this;if(!this._triggers.hasOwnProperty(t))throw function DR(n,r){return new s.vHH(3302,Wn)}();if(null==i||0==i.length)throw function MR(n){return new s.vHH(3303,Wn)}();if(!function TD(n){return"start"==n||"done"==n}(i))throw function $0(n,r){return new s.vHH(3400,Wn)}();var u=Sa(this._elementListeners,e,[]),d={name:t,phase:i,callback:a};u.push(d);var h=Sa(this._engine.statesByElement,e,{});return h.hasOwnProperty(t)||(Xo(e,gm),Xo(e,gm+"-"+t),h[t]=Im),function(){o._engine.afterFlush(function(){var v=u.indexOf(d);v>=0&&u.splice(v,1),o._triggers[t]||delete h[t]})}}},{key:"register",value:function(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}},{key:"_getTrigger",value:function(e){var t=this._triggers[e];if(!t)throw function SR(n){return new s.vHH(3401,Wn)}();return t}},{key:"trigger",value:function(e,t,i){var a=this,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],u=this._getTrigger(t),d=new sv(this.id,t,e),h=this._engine.statesByElement.get(e);h||(Xo(e,gm),Xo(e,gm+"-"+t),this._engine.statesByElement.set(e,h={}));var v=h[t],b=new Am(i,this.id),k=i&&i.hasOwnProperty("value");!k&&v&&b.absorbOptions(v.options),h[t]=b,v||(v=Im);var I=b.value===Dc;if(I||v.value!==b.value){var ue=Sa(this._engine.playersByElement,e,[]);ue.forEach(function(Ze){Ze.namespaceId==a.id&&Ze.triggerName==t&&Ze.queued&&Ze.destroy()});var fe=u.matchTransition(v.value,b.value,e,b.params),Oe=!1;if(!fe){if(!o)return;fe=u.fallbackTransition,Oe=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:fe,fromState:v,toState:b,player:d,isFallbackTransition:Oe}),Oe||(Xo(e,ED),d.onStart(function(){oh(e,ED)})),d.onDone(function(){var Ze=a.players.indexOf(d);Ze>=0&&a.players.splice(Ze,1);var je=a._engine.playersByElement.get(e);if(je){var lt=je.indexOf(d);lt>=0&&je.splice(lt,1)}}),this.players.push(d),ue.push(d),d}if(!OD(v.params,b.params)){var O=[],q=u.matchStyles(v.value,v.params,O),J=u.matchStyles(b.value,b.params,O);O.length?this._engine.reportError(O):this._engine.afterFlush(function(){Cc(e,q),eu(e,J)})}}},{key:"deregister",value:function(e){var t=this;delete this._triggers[e],this._engine.statesByElement.forEach(function(i,a){delete i[e]}),this._elementListeners.forEach(function(i,a){t._elementListeners.set(a,i.filter(function(o){return o.name!=e}))})}},{key:"clearElementCache",value:function(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);var t=this._engine.playersByElement.get(e);t&&(t.forEach(function(i){return i.destroy()}),this._engine.playersByElement.delete(e))}},{key:"_signalRemovalForInnerTriggers",value:function(e,t){var i=this,a=this._engine.driver.query(e,Rl,!0);a.forEach(function(o){if(!o[Ms]){var u=i._engine.fetchNamespacesByElement(o);u.size?u.forEach(function(d){return d.triggerLeaveAnimation(o,t,!1,!0)}):i.clearElementCache(o)}}),this._engine.afterFlushAnimationsDone(function(){return a.forEach(function(o){return i.clearElementCache(o)})})}},{key:"triggerLeaveAnimation",value:function(e,t,i,a){var o=this,u=this._engine.statesByElement.get(e),d=new Map;if(u){var h=[];if(Object.keys(u).forEach(function(v){if(d.set(v,u[v].value),o._triggers[v]){var b=o.trigger(e,v,Dc,a);b&&h.push(b)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,d),i&&Dd(h).onDone(function(){return o._engine.processLeaveNode(e)}),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(e){var t=this,i=this._elementListeners.get(e),a=this._engine.statesByElement.get(e);if(i&&a){var o=new Set;i.forEach(function(u){var d=u.name;if(!o.has(d)){o.add(d);var v=t._triggers[d].fallbackTransition,b=a[d]||Im,k=new Am(Dc),I=new sv(t.id,d,e);t._engine.totalQueuedPlayers++,t._queue.push({element:e,triggerName:d,transition:v,fromState:b,toState:k,player:I,isFallbackTransition:!0})}})}}},{key:"removeNode",value:function(e,t){var i=this,a=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),!this.triggerLeaveAnimation(e,t,!0)){var o=!1;if(a.totalAnimations){var u=a.players.length?a.playersByQueriedElement.get(e):[];if(u&&u.length)o=!0;else for(var d=e;d=d.parentNode;)if(a.statesByElement.get(d)){o=!0;break}}if(this.prepareLeaveAnimationListeners(e),o)a.markElementAsRemoved(this.id,e,!1,t);else{var v=e[Ms];(!v||v===r1)&&(a.afterFlush(function(){return i.clearElementCache(e)}),a.destroyInnerAnimations(e),a._onRemovalComplete(e,t))}}}},{key:"insertNode",value:function(e,t){Xo(e,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(e){var t=this,i=[];return this._queue.forEach(function(a){var o=a.player;if(!o.destroyed){var u=a.element,d=t._elementListeners.get(u);d&&d.forEach(function(h){if(h.name==a.triggerName){var v=bc(u,a.triggerName,a.fromState.value,a.toState.value);v._data=e,th(a.player,h.phase,v,h.callback)}}),o.markedForDestroy?t._engine.afterFlush(function(){o.destroy()}):i.push(a)}}),this._queue=[],i.sort(function(a,o){var u=a.transition.ast.depCount,d=o.transition.ast.depCount;return 0==u||0==d?u-d:t._engine.driver.containsElement(a.element,o.element)?1:-1})}},{key:"destroy",value:function(e){this.players.forEach(function(t){return t.destroy()}),this._signalRemovalForInnerTriggers(this.hostElement,e)}},{key:"elementContainsData",value:function(e){var t=!1;return this._elementListeners.has(e)&&(t=!0),!!this._queue.find(function(i){return i.element===e})||t}}]),n}(),pb=function(){function n(r,e,t){(0,m.Z)(this,n),this.bodyNode=r,this.driver=e,this._normalizer=t,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(i,a){}}return(0,_.Z)(n,[{key:"_onRemovalComplete",value:function(e,t){this.onRemovalComplete(e,t)}},{key:"queuedPlayers",get:function(){var e=[];return this._namespaceList.forEach(function(t){t.players.forEach(function(i){i.queued&&e.push(i)})}),e}},{key:"createNamespace",value:function(e,t){var i=new i1(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}},{key:"_balanceNamespaceList",value:function(e,t){var i=this._namespaceList,a=this.namespacesByHostElement,o=i.length-1;if(o>=0){var u=!1;if(void 0!==this.driver.getParentElement)for(var d=this.driver.getParentElement(t);d;){var h=a.get(d);if(h){var v=i.indexOf(h);i.splice(v+1,0,e),u=!0;break}d=this.driver.getParentElement(d)}else for(var b=o;b>=0;b--)if(this.driver.containsElement(i[b].hostElement,t)){i.splice(b+1,0,e),u=!0;break}u||i.unshift(e)}else i.push(e);return a.set(t,e),e}},{key:"register",value:function(e,t){var i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}},{key:"registerTrigger",value:function(e,t,i){var a=this._namespaceLookup[e];a&&a.register(t,i)&&this.totalAnimations++}},{key:"destroy",value:function(e,t){var i=this;if(e){var a=this._fetchNamespace(e);this.afterFlush(function(){i.namespacesByHostElement.delete(a.hostElement),delete i._namespaceLookup[e];var o=i._namespaceList.indexOf(a);o>=0&&i._namespaceList.splice(o,1)}),this.afterFlushAnimationsDone(function(){return a.destroy(t)})}}},{key:"_fetchNamespace",value:function(e){return this._namespaceLookup[e]}},{key:"fetchNamespacesByElement",value:function(e){var t=new Set,i=this.statesByElement.get(e);if(i)for(var a=Object.keys(i),o=0;o<a.length;o++){var u=i[a[o]].namespaceId;if(u){var d=this._fetchNamespace(u);d&&t.add(d)}}return t}},{key:"trigger",value:function(e,t,i,a){if(Rm(t)){var o=this._fetchNamespace(e);if(o)return o.trigger(t,i,a),!0}return!1}},{key:"insertNode",value:function(e,t,i,a){if(Rm(t)){var o=t[Ms];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;var u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){var d=this._fetchNamespace(e);d&&d.insertNode(t,i)}a&&this.collectEnterElement(t)}}},{key:"collectEnterElement",value:function(e){this.collectedEnterElements.push(e)}},{key:"markElementAsDisabled",value:function(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Xo(e,ov)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),oh(e,ov))}},{key:"removeNode",value:function(e,t,i,a){if(Rm(t)){var o=e?this._fetchNamespace(e):null;if(o?o.removeNode(t,a):this.markElementAsRemoved(e,t,!1,a),i){var u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,a)}}else this._onRemovalComplete(t,a)}},{key:"markElementAsRemoved",value:function(e,t,i,a,o){this.collectedLeaveElements.push(t),t[Ms]={namespaceId:e,setForRemoval:a,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}},{key:"listen",value:function(e,t,i,a,o){return Rm(t)?this._fetchNamespace(e).listen(t,i,a,o):function(){}}},{key:"_buildInstruction",value:function(e,t,i,a,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,a,e.fromState.options,e.toState.options,t,o)}},{key:"destroyInnerAnimations",value:function(e){var t=this,i=this.driver.query(e,Rl,!0);i.forEach(function(a){return t.destroyActiveAnimationsForElement(a)}),0!=this.playersByQueriedElement.size&&(i=this.driver.query(e,wc,!0)).forEach(function(a){return t.finishActiveQueriedAnimationOnElement(a)})}},{key:"destroyActiveAnimationsForElement",value:function(e){var t=this.playersByElement.get(e);t&&t.forEach(function(i){i.queued?i.markedForDestroy=!0:i.destroy()})}},{key:"finishActiveQueriedAnimationOnElement",value:function(e){var t=this.playersByQueriedElement.get(e);t&&t.forEach(function(i){return i.finish()})}},{key:"whenRenderingDone",value:function(){var e=this;return new Promise(function(t){if(e.players.length)return Dd(e.players).onDone(function(){return t()});t()})}},{key:"processLeaveNode",value:function(e){var i,t=this,a=e[Ms];if(a&&a.setForRemoval){if(e[Ms]=r1,a.namespaceId){this.destroyInnerAnimations(e);var o=this._fetchNamespace(a.namespaceId);o&&o.clearElementCache(e)}this._onRemovalComplete(e,a.setForRemoval)}(null===(i=e.classList)||void 0===i?void 0:i.contains(ov))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(function(u){t.markElementAsDisabled(u,!1)})}},{key:"flush",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,i=[];if(this.newHostElements.size&&(this.newHostElements.forEach(function(k,I){return e._balanceNamespaceList(k,I)}),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var a=0;a<this.collectedEnterElements.length;a++){var o=this.collectedEnterElements[a];Xo(o,MD)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var u=[];try{i=this._flushAnimations(u,t)}finally{for(var d=0;d<u.length;d++)u[d]()}}else for(var h=0;h<this.collectedLeaveElements.length;h++){var v=this.collectedLeaveElements[h];this.processLeaveNode(v)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(function(k){return k()}),this._flushFns=[],this._whenQuietFns.length){var b=this._whenQuietFns;this._whenQuietFns=[],i.length?Dd(i).onDone(function(){b.forEach(function(k){return k()})}):b.forEach(function(k){return k()})}}},{key:"reportError",value:function(e){throw function JE(n){return new s.vHH(3402,Wn)}()}},{key:"_flushAnimations",value:function(e,t){var i=this,a=new cb,o=[],u=new Map,d=[],h=new Map,v=new Map,b=new Map,k=new Set;this.disabledNodes.forEach(function(Wt){k.add(Wt);for(var In=i.driver.query(Wt,".ng-animate-queued",!0),xn=0;xn<In.length;xn++)k.add(In[xn])});var I=this.bodyNode,O=Array.from(this.statesByElement.keys()),q=gb(O,this.collectedEnterElements),J=new Map,ue=0;q.forEach(function(Wt,In){var xn=FR+ue++;J.set(In,xn),Wt.forEach(function(Qi){return Xo(Qi,xn)})});for(var fe=[],Oe=new Set,Ze=new Set,je=0;je<this.collectedLeaveElements.length;je++){var lt=this.collectedLeaveElements[je],ct=lt[Ms];ct&&ct.setForRemoval&&(fe.push(lt),Oe.add(lt),ct.hasAnimation?this.driver.query(lt,".ng-star-inserted",!0).forEach(function(Wt){return Oe.add(Wt)}):Ze.add(lt))}var vt=new Map,dn=gb(O,Array.from(Oe));dn.forEach(function(Wt,In){var xn=rb+ue++;vt.set(In,xn),Wt.forEach(function(Qi){return Xo(Qi,xn)})}),e.push(function(){q.forEach(function(Wt,In){var xn=J.get(In);Wt.forEach(function(Qi){return oh(Qi,xn)})}),dn.forEach(function(Wt,In){var xn=vt.get(In);Wt.forEach(function(Qi){return oh(Qi,xn)})}),fe.forEach(function(Wt){i.processLeaveNode(Wt)})});for(var tn=[],An=[],Fr=this._namespaceList.length-1;Fr>=0;Fr--)this._namespaceList[Fr].drainQueuedTransitions(t).forEach(function(Wt){var In=Wt.player,xn=Wt.element;if(tn.push(In),i.collectedEnterElements.length){var Qi=xn[Ms];if(Qi&&Qi.setForMove){if(Qi.previousTriggersValues&&Qi.previousTriggersValues.has(Wt.triggerName)){var J_=Qi.previousTriggersValues.get(Wt.triggerName),Uh=i.statesByElement.get(Wt.element);Uh&&Uh[Wt.triggerName]&&(Uh[Wt.triggerName].value=J_)}return void In.destroy()}}var Bw=!I||!i.driver.containsElement(I,xn),YT=vt.get(xn),KZ=J.get(xn),ao=i._buildInstruction(Wt,a,KZ,YT,Bw);if(ao.errors&&ao.errors.length)An.push(ao);else{if(Bw)return In.onStart(function(){return Cc(xn,ao.fromStyles)}),In.onDestroy(function(){return eu(xn,ao.toStyles)}),void o.push(In);if(Wt.isFallbackTransition)return In.onStart(function(){return Cc(xn,ao.fromStyles)}),In.onDestroy(function(){return eu(xn,ao.toStyles)}),void o.push(In);var WT=[];ao.timelines.forEach(function(Wd){Wd.stretchStartingKeyframe=!0,i.disabledNodes.has(Wd.element)||WT.push(Wd)}),ao.timelines=WT,a.append(xn,ao.timelines),d.push({instruction:ao,player:In,element:xn}),ao.queriedElements.forEach(function(Wd){return Sa(h,Wd,[]).push(In)}),ao.preStyleProps.forEach(function(Wd,Vw){var qT=Object.keys(Wd);if(qT.length){var ag=v.get(Vw);ag||v.set(Vw,ag=new Set),qT.forEach(function($Z){return ag.add($Z)})}}),ao.postStyleProps.forEach(function(Wd,Vw){var qT=Object.keys(Wd),ag=b.get(Vw);ag||b.set(Vw,ag=new Set),qT.forEach(function($Z){return ag.add($Z)})})}});if(An.length){var qu=[];An.forEach(function(Wt){qu.push(function XE(n,r){return new s.vHH(3505,Wn)}())}),tn.forEach(function(Wt){return Wt.destroy()}),this.reportError(qu)}var HZ=new Map,GT=new Map;d.forEach(function(Wt){var In=Wt.element;a.has(In)&&(GT.set(In,In),i._beforeAnimationBuild(Wt.player.namespaceId,Wt.instruction,HZ))}),o.forEach(function(Wt){var In=Wt.element;i._getPreviousPlayers(In,!1,Wt.namespaceId,Wt.triggerName,null).forEach(function(Qi){Sa(HZ,In,[]).push(Qi),Qi.destroy()})});var l5=fe.filter(function(Wt){return mb(Wt,v,b)}),zT=new Map;AD(zT,this.driver,Ze,b,Il).forEach(function(Wt){mb(Wt,v,b)&&l5.push(Wt)});var jZ=new Map;q.forEach(function(Wt,In){AD(jZ,i.driver,new Set(Wt),v,"!")}),l5.forEach(function(Wt){var In=zT.get(Wt),xn=jZ.get(Wt);zT.set(Wt,Object.assign(Object.assign({},In),xn))});var GZ=[],c5=[],d5={};d.forEach(function(Wt){var In=Wt.element,xn=Wt.player,Qi=Wt.instruction;if(a.has(In)){if(k.has(In))return xn.onDestroy(function(){return eu(In,Qi.toStyles)}),xn.disabled=!0,xn.overrideTotalTime(Qi.totalTime),void o.push(xn);var J_=d5;if(GT.size>1){for(var Uh=In,Bw=[];Uh=Uh.parentNode;){var YT=GT.get(Uh);if(YT){J_=YT;break}Bw.push(Uh)}Bw.forEach(function(WT){return GT.set(WT,J_)})}var KZ=i._buildAnimation(xn.namespaceId,Qi,HZ,u,jZ,zT);if(xn.setRealPlayer(KZ),J_===d5)GZ.push(xn);else{var ao=i.playersByElement.get(J_);ao&&ao.length&&(xn.parentPlayer=Dd(ao)),o.push(xn)}}else Cc(In,Qi.fromStyles),xn.onDestroy(function(){return eu(In,Qi.toStyles)}),c5.push(xn),k.has(In)&&o.push(xn)}),c5.forEach(function(Wt){var In=u.get(Wt.element);if(In&&In.length){var xn=Dd(In);Wt.setRealPlayer(xn)}}),o.forEach(function(Wt){Wt.parentPlayer?Wt.syncPlayerEvents(Wt.parentPlayer):Wt.destroy()});for(var zZ=0;zZ<fe.length;zZ++){var Q_=fe[zZ],f5=Q_[Ms];if(oh(Q_,rb),!f5||!f5.hasAnimation){var Lw=[];if(h.size){var YZ=h.get(Q_);YZ&&YZ.length&&Lw.push.apply(Lw,(0,Zt.Z)(YZ));for(var h5=this.driver.query(Q_,wc,!0),WZ=0;WZ<h5.length;WZ++){var qZ=h.get(h5[WZ]);qZ&&qZ.length&&Lw.push.apply(Lw,(0,Zt.Z)(qZ))}}var p5=Lw.filter(function(Wt){return!Wt.destroyed});p5.length?o1(this,Q_,p5):this.processLeaveNode(Q_)}}return fe.length=0,GZ.forEach(function(Wt){i.players.push(Wt),Wt.onDone(function(){Wt.destroy();var In=i.players.indexOf(Wt);i.players.splice(In,1)}),Wt.play()}),GZ}},{key:"elementContainsData",value:function(e,t){var i=!1,a=t[Ms];return a&&a.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}},{key:"afterFlush",value:function(e){this._flushFns.push(e)}},{key:"afterFlushAnimationsDone",value:function(e){this._whenQuietFns.push(e)}},{key:"_getPreviousPlayers",value:function(e,t,i,a,o){var u=[];if(t){var d=this.playersByQueriedElement.get(e);d&&(u=d)}else{var h=this.playersByElement.get(e);if(h){var v=!o||o==Dc;h.forEach(function(b){b.queued||!v&&b.triggerName!=a||u.push(b)})}}return(i||a)&&(u=u.filter(function(b){return!(i&&i!=b.namespaceId||a&&a!=b.triggerName)})),u}},{key:"_beforeAnimationBuild",value:function(e,t,i){var b,a=this,u=t.element,d=t.isRemovalTransition?void 0:e,h=t.isRemovalTransition?void 0:t.triggerName,v=(0,G.Z)(t.timelines);try{var k=function(){var q=b.value.element,J=q!==u,ue=Sa(i,q,[]);a._getPreviousPlayers(q,J,d,h,t.toState).forEach(function(Oe){var Ze=Oe.getRealPlayer();Ze.beforeDestroy&&Ze.beforeDestroy(),Oe.destroy(),ue.push(Oe)})};for(v.s();!(b=v.n()).done;)k()}catch(I){v.e(I)}finally{v.f()}Cc(u,t.fromStyles)}},{key:"_buildAnimation",value:function(e,t,i,a,o,u){var d=this,h=t.triggerName,v=t.element,b=[],k=new Set,I=new Set,O=t.timelines.map(function(J){var ue=J.element;k.add(ue);var fe=ue[Ms];if(fe&&fe.removedBeforeQueried)return new Xf(J.duration,J.delay);var Oe=ue!==v,Ze=function ID(n){var r=[];return RD(n,r),r}((i.get(ue)||hb).map(function(tn){return tn.getRealPlayer()})).filter(function(tn){return!!tn.element&&tn.element===ue}),je=o.get(ue),lt=u.get(ue),ct=eD(d.driver,d._normalizer,ue,J.keyframes,je,lt),vt=d._buildPlayer(J,ct,Ze);if(J.subTimeline&&a&&I.add(ue),Oe){var dn=new sv(e,h,ue);dn.setRealPlayer(vt),b.push(dn)}return vt});b.forEach(function(J){Sa(d.playersByQueriedElement,J.element,[]).push(J),J.onDone(function(){return function k2(n,r,e){var t;if(n instanceof Map){if(t=n.get(r)){if(t.length){var i=t.indexOf(e);t.splice(i,1)}0==t.length&&n.delete(r)}}else if(t=n[r]){if(t.length){var a=t.indexOf(e);t.splice(a,1)}0==t.length&&delete n[r]}return t}(d.playersByQueriedElement,J.element,J)})}),k.forEach(function(J){return Xo(J,ib)});var q=Dd(O);return q.onDestroy(function(){k.forEach(function(J){return oh(J,ib)}),eu(v,t.toStyles)}),I.forEach(function(J){Sa(a,J,[]).push(q)}),q}},{key:"_buildPlayer",value:function(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Xf(e.duration,e.delay)}}]),n}(),sv=function(){function n(r,e,t){(0,m.Z)(this,n),this.namespaceId=r,this.triggerName=e,this.element=t,this._player=new Xf,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return(0,_.Z)(n,[{key:"setRealPlayer",value:function(e){var t=this;this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(function(i){t._queuedCallbacks[i].forEach(function(a){return th(e,i,void 0,a)})}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(e){this.totalTime=e}},{key:"syncPlayerEvents",value:function(e){var t=this,i=this._player;i.triggerCallback&&e.onStart(function(){return i.triggerCallback("start")}),e.onDone(function(){return t.finish()}),e.onDestroy(function(){return t.destroy()})}},{key:"_queueEvent",value:function(e,t){Sa(this._queuedCallbacks,e,[]).push(t)}},{key:"onDone",value:function(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}},{key:"onStart",value:function(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}},{key:"onDestroy",value:function(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(e){this.queued||this._player.setPosition(e)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(e){var t=this._player;t.triggerCallback&&t.triggerCallback(e)}}]),n}();function a1(n){return null!=n?n:null}function Rm(n){return n&&1===n.nodeType}function vb(n,r){var e=n.style.display;return n.style.display=null!=r?r:"none",e}function AD(n,r,e,t,i){var a=[];e.forEach(function(d){return a.push(vb(d))});var o=[];t.forEach(function(d,h){var v={};d.forEach(function(b){var k=v[b]=r.computeStyle(h,b,i);(!k||0==k.length)&&(h[Ms]=SD,o.push(h))}),n.set(h,v)});var u=0;return e.forEach(function(d){return vb(d,a[u++])}),o}function gb(n,r){var e=new Map;if(n.forEach(function(u){return e.set(u,[])}),0==r.length)return e;var i=new Set(r),a=new Map;function o(u){if(!u)return 1;var d=a.get(u);if(d)return d;var h=u.parentNode;return d=e.has(h)?h:i.has(h)?1:o(h),a.set(u,d),d}return r.forEach(function(u){var d=o(u);1!==d&&e.get(d).push(u)}),e}function Xo(n,r){var e;null===(e=n.classList)||void 0===e||e.add(r)}function oh(n,r){var e;null===(e=n.classList)||void 0===e||e.remove(r)}function o1(n,r,e){Dd(e).onDone(function(){return n.processLeaveNode(r)})}function RD(n,r){for(var e=0;e<n.length;e++){var t=n[e];t instanceof GE?RD(t.players,r):r.push(t)}}function OD(n,r){var e=Object.keys(n),t=Object.keys(r);if(e.length!=t.length)return!1;for(var i=0;i<e.length;i++){var a=e[i];if(!r.hasOwnProperty(a)||n[a]!==r[a])return!1}return!0}function mb(n,r,e){var t=e.get(n);if(!t)return!1;var i=r.get(n);return i?t.forEach(function(a){return i.add(a)}):r.set(n,t),e.delete(n),!0}var uv=function(){function n(r,e,t){var i=this;(0,m.Z)(this,n),this.bodyNode=r,this._driver=e,this._normalizer=t,this._triggerCache={},this.onRemovalComplete=function(a,o){},this._transitionEngine=new pb(r,e,t),this._timelineEngine=new CD(r,e,t),this._transitionEngine.onRemovalComplete=function(a,o){return i.onRemovalComplete(a,o)}}return(0,_.Z)(n,[{key:"registerTrigger",value:function(e,t,i,a,o){var u=e+"-"+a,d=this._triggerCache[u];if(!d){var h=[],b=cD(this._driver,o,h,[]);if(h.length)throw function CR(n,r){return new s.vHH(3404,Wn)}();d=function b2(n,r,e){return new av(n,r,e)}(a,b,this._normalizer),this._triggerCache[u]=d}this._transitionEngine.registerTrigger(t,a,d)}},{key:"register",value:function(e,t){this._transitionEngine.register(e,t)}},{key:"destroy",value:function(e,t){this._transitionEngine.destroy(e,t)}},{key:"onInsert",value:function(e,t,i,a){this._transitionEngine.insertNode(e,t,i,a)}},{key:"onRemove",value:function(e,t,i,a){this._transitionEngine.removeNode(e,t,a||!1,i)}},{key:"disableAnimations",value:function(e,t){this._transitionEngine.markElementAsDisabled(e,t)}},{key:"process",value:function(e,t,i,a){if("@"==i.charAt(0)){var o=tD(i),u=(0,Z.Z)(o,2);this._timelineEngine.command(u[0],t,u[1],a)}else this._transitionEngine.trigger(e,t,i,a)}},{key:"listen",value:function(e,t,i,a,o){if("@"==i.charAt(0)){var u=tD(i),d=(0,Z.Z)(u,2);return this._timelineEngine.listen(d[0],t,d[1],o)}return this._transitionEngine.listen(e,t,i,a,o)}},{key:"flush",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(e)}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}}]),n}();function PD(n,r){var e=null,t=null;return Array.isArray(r)&&r.length?(e=_b(r[0]),r.length>1&&(t=_b(r[r.length-1]))):r&&(e=_b(r)),e||t?new s1(n,e,t):null}var s1=function(){var n=function(){function r(e,t,i){(0,m.Z)(this,r),this._element=e,this._startStyles=t,this._endStyles=i,this._state=0;var a=r.initialStylesByElement.get(e);a||r.initialStylesByElement.set(e,a={}),this._initialStyles=a}return(0,_.Z)(r,[{key:"start",value:function(){this._state<1&&(this._startStyles&&eu(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(eu(this._element,this._initialStyles),this._endStyles&&(eu(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(r.initialStylesByElement.delete(this._element),this._startStyles&&(Cc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Cc(this._element,this._endStyles),this._endStyles=null),eu(this._element,this._initialStyles),this._state=3)}}]),r}();return n.initialStylesByElement=new WeakMap,n}();function _b(n){for(var r=null,e=Object.keys(n),t=0;t<e.length;t++){var i=e[t];w2(i)&&((r=r||{})[i]=n[i])}return r}function w2(n){return"display"===n||"position"===n}var yb=function(){function n(r,e,t,i){(0,m.Z)(this,n),this.element=r,this.keyframes=e,this.options=t,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=t.duration,this._delay=t.delay||0,this.time=this._duration+this._delay}return(0,_.Z)(n,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var e=this;if(!this._initialized){this._initialized=!0;var t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",function(){return e._onFinish()})}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(e,t,i){return e.animate(t,i)}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"setPosition",value:function(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"totalTime",get:function(){return this._delay+this._duration}},{key:"beforeDestroy",value:function(){var e=this,t={};if(this.hasStarted()){var i=this._finalKeyframe;Object.keys(i).forEach(function(a){"offset"!=a&&(t[a]=e._finished?i[a]:sb(e.element,a))})}this.currentSnapshot=t}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(function(i){return i()}),t.length=0}}]),n}(),C2=function(){function n(){(0,m.Z)(this,n)}return(0,_.Z)(n,[{key:"validateStyleProperty",value:function(e){return hm(e)}},{key:"matchesElement",value:function(e,t){return!1}},{key:"containsElement",value:function(e,t){return nh(e,t)}},{key:"getParentElement",value:function(e){return X0(e)}},{key:"query",value:function(e,t,i){return iD(e,t,i)}},{key:"computeStyle",value:function(e,t,i){return window.getComputedStyle(e)[t]}},{key:"animate",value:function(e,t,i,a,o){var u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],d=0==a?"both":"forwards",h={duration:i,delay:a,fill:d};o&&(h.easing=o);var v={},b=u.filter(function(I){return I instanceof yb});sD(i,a)&&b.forEach(function(I){var O=I.currentSnapshot;Object.keys(O).forEach(function(q){return v[q]=O[q]})});var k=PD(e,t=uD(e,t=t.map(function(I){return Ol(I,!1)}),v));return new yb(e,t,h,k)}}]),n}(),E2=function(){var n=function(r){(0,P.Z)(t,r);var e=(0,N.Z)(t);function t(i,a){var o;return(0,m.Z)(this,t),(o=e.call(this))._nextAnimationId=0,o._renderer=i.createRenderer(a.body,{id:"0",encapsulation:s.ifc.None,styles:[],data:{animation:[]}}),o}return(0,_.Z)(t,[{key:"build",value:function(a){var o=this._nextAnimationId.toString();this._nextAnimationId++;var u=Array.isArray(a)?VE(a):a;return u1(this._renderer,null,o,"register",[u]),new D2(o,this._renderer)}}]),t}(Jp);return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(K))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n}(),D2=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i){var a;return(0,m.Z)(this,e),(a=r.call(this))._id=t,a._renderer=i,a}return(0,_.Z)(e,[{key:"create",value:function(i,a){return new M2(this._id,i,a||{},this._renderer)}}]),e}(sR),M2=function(){function n(r,e,t,i){(0,m.Z)(this,n),this.id=r,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",t)}return(0,_.Z)(n,[{key:"_listen",value:function(e,t){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(e),t)}},{key:"_command",value:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];return u1(this._renderer,this.element,this.id,e,i)}},{key:"onDone",value:function(e){this._listen("done",e)}},{key:"onStart",value:function(e){this._listen("start",e)}},{key:"onDestroy",value:function(e){this._listen("destroy",e)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset"),this._started=!1}},{key:"setPosition",value:function(e){this._command("setPosition",e)}},{key:"getPosition",value:function(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}]),n}();function u1(n,r,e,t,i){return n.setProperty(r,"@@".concat(e,":").concat(t),i)}var l1="@.disabled",S2=function(){var n=function(){function r(e,t,i){(0,m.Z)(this,r),this.delegate=e,this.engine=t,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),t.onRemovalComplete=function(a,o){var u=null==o?void 0:o.parentNode(a);u&&o.removeChild(u,a)}}return(0,_.Z)(r,[{key:"createRenderer",value:function(t,i){var a=this,u=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){var d=this._rendererCache.get(u);return d||(d=new lv("",u,this.engine),this._rendererCache.set(u,d)),d}var h=i.id,v=i.id+"-"+this._currentId;return this._currentId++,this.engine.register(v,t),i.data.animation.forEach(function I(O){Array.isArray(O)?O.forEach(I):a.engine.registerTrigger(h,v,t,O.name,O)}),new T2(this,v,u,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var t=this;this.promise.then(function(){t._microtaskId++})}},{key:"scheduleListenerCallback",value:function(t,i,a){var o=this;t>=0&&t<this._microtaskId?this._zone.run(function(){return i(a)}):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(function(){o._zone.run(function(){o._animationCallbacksBuffer.forEach(function(u){var d=(0,Z.Z)(u,2);(0,d[0])(d[1])}),o._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,a]))}},{key:"end",value:function(){var t=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(function(){t._scheduleCountTask(),t.engine.flush(t._microtaskId)}),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),r}();return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(uv),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n}(),lv=function(){function n(r,e,t){(0,m.Z)(this,n),this.namespaceId=r,this.delegate=e,this.engine=t,this.destroyNode=this.delegate.destroyNode?function(i){return e.destroyNode(i)}:null}return(0,_.Z)(n,[{key:"data",get:function(){return this.delegate.data}},{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(e,t){return this.delegate.createElement(e,t)}},{key:"createComment",value:function(e){return this.delegate.createComment(e)}},{key:"createText",value:function(e){return this.delegate.createText(e)}},{key:"appendChild",value:function(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}},{key:"insertBefore",value:function(e,t,i){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,a)}},{key:"removeChild",value:function(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}},{key:"selectRootElement",value:function(e,t){return this.delegate.selectRootElement(e,t)}},{key:"parentNode",value:function(e){return this.delegate.parentNode(e)}},{key:"nextSibling",value:function(e){return this.delegate.nextSibling(e)}},{key:"setAttribute",value:function(e,t,i,a){this.delegate.setAttribute(e,t,i,a)}},{key:"removeAttribute",value:function(e,t,i){this.delegate.removeAttribute(e,t,i)}},{key:"addClass",value:function(e,t){this.delegate.addClass(e,t)}},{key:"removeClass",value:function(e,t){this.delegate.removeClass(e,t)}},{key:"setStyle",value:function(e,t,i,a){this.delegate.setStyle(e,t,i,a)}},{key:"removeStyle",value:function(e,t,i){this.delegate.removeStyle(e,t,i)}},{key:"setProperty",value:function(e,t,i){"@"==t.charAt(0)&&t==l1?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}},{key:"setValue",value:function(e,t){this.delegate.setValue(e,t)}},{key:"listen",value:function(e,t,i){return this.delegate.listen(e,t,i)}},{key:"disableAnimations",value:function(e,t){this.engine.disableAnimations(e,t)}}]),n}(),T2=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i,a,o){var u;return(0,m.Z)(this,e),(u=r.call(this,i,a,o)).factory=t,u.namespaceId=i,u}return(0,_.Z)(e,[{key:"setProperty",value:function(i,a,o){"@"==a.charAt(0)?"."==a.charAt(1)&&a==l1?this.disableAnimations(i,o=void 0===o||!!o):this.engine.process(this.namespaceId,i,a.substr(1),o):this.delegate.setProperty(i,a,o)}},{key:"listen",value:function(i,a,o){var u=this;if("@"==a.charAt(0)){var d=function FD(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(i),h=a.substr(1),v="";if("@"!=h.charAt(0)){var b=function kb(n){var r=n.indexOf(".");return[n.substring(0,r),n.substr(r+1)]}(h),k=(0,Z.Z)(b,2);h=k[0],v=k[1]}return this.engine.listen(this.namespaceId,d,h,v,function(I){u.factory.scheduleListenerCallback(I._data||-1,o,I)})}return this.delegate.listen(i,a,o)}}]),e}(lv),xD=function(){var n=function(r){(0,P.Z)(t,r);var e=(0,N.Z)(t);function t(i,a,o){return(0,m.Z)(this,t),e.call(this,i.body,a,o)}return(0,_.Z)(t,[{key:"ngOnDestroy",value:function(){this.flush()}}]),t}(uv);return n.\u0275fac=function(e){return new(e||n)(s.LFG(K),s.LFG(nb),s.LFG(fb))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n}(),sr=new s.OlP("AnimationModuleType"),wb=[{provide:Jp,useClass:E2},{provide:fb,useFactory:function ND(){return new bD}},{provide:uv,useClass:xD},{provide:s.FYo,useFactory:function A2(n,r,e){return new S2(n,r,e)},deps:[vu,uv,s.R0b]}],Cb=[{provide:nb,useFactory:function(){return new C2}},{provide:sr,useValue:"BrowserAnimations"}].concat(wb),ZD=[{provide:nb,useClass:tb},{provide:sr,useValue:"NoopAnimations"}].concat(wb),I2=function(){var n=function(){function r(){(0,m.Z)(this,r)}return(0,_.Z)(r,null,[{key:"withConfig",value:function(t){return{ngModule:r,providers:t.disableAnimations?ZD:Cb}}}]),r}();return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:Cb,imports:[so]}),n}();function f1(n,r){if(1&n&&s._UZ(0,"mat-pseudo-checkbox",4),2&n){var e=s.oxw();s.Q6J("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function R2(n,r){if(1&n&&(s.TgZ(0,"span",5),s._uU(1),s.qZA()),2&n){var e=s.oxw();s.xp6(1),s.hij("(",e.group.label,")")}}var O2=["*"],LD=new s.GfV("11.2.13"),h1=new s.OlP("mat-sanity-checks",{providedIn:"root",factory:function P2(){return!0}}),jt=function(){var n=function(){function r(e,t,i){(0,m.Z)(this,r),this._hasDoneGlobalChecks=!1,this._document=i,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=t,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}return(0,_.Z)(r,[{key:"_getWindow",value:function(){var t=this._document.defaultView||window;return"object"==typeof t&&t?t:null}},{key:"_checksAreEnabled",value:function(){return(0,s.X6Q)()&&!this._isTestEnv()}},{key:"_isTestEnv",value:function(){var t=this._getWindow();return t&&(t.__karma__||t.jasmine)}},{key:"_checkDoctypeIsDefined",value:function(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}},{key:"_checkThemeIsPresent",value:function(){if(this._checksAreEnabled()&&!1!==this._sanityChecks&&this._sanityChecks.theme&&this._document.body&&"function"==typeof getComputedStyle){var i=this._document.createElement("div");i.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(i);var a=getComputedStyle(i);a&&"none"!==a.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(i)}}},{key:"_checkCdkVersionMatch",value:function(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&LD.full!==z0.full&&console.warn("The Angular Material version ("+LD.full+") does not match the Angular CDK version ("+z0.full+").\nPlease ensure the versions of these two packages exactly match.")}}]),r}();return n.\u0275fac=function(e){return new(e||n)(s.LFG(G0),s.LFG(h1,8),s.LFG(K))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Qp],Qp]}),n}();function qa(n){return function(r){(0,P.Z)(t,r);var e=(0,N.Z)(t);function t(){var i;(0,m.Z)(this,t);for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return(i=e.call.apply(e,[this].concat(o)))._disabled=!1,i}return(0,_.Z)(t,[{key:"disabled",get:function(){return this._disabled},set:function(a){this._disabled=yt(a)}}]),t}(n)}function qi(n,r){return function(e){(0,P.Z)(i,e);var t=(0,N.Z)(i);function i(){var a;(0,m.Z)(this,i);for(var o=arguments.length,u=new Array(o),d=0;d<o;d++)u[d]=arguments[d];return(a=t.call.apply(t,[this].concat(u))).defaultColor=r,a.color=r,a}return(0,_.Z)(i,[{key:"color",get:function(){return this._color},set:function(o){var u=o||this.defaultColor;u!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-".concat(this._color)),u&&this._elementRef.nativeElement.classList.add("mat-".concat(u)),this._color=u)}}]),i}(n)}function mo(n){var r=function(e){(0,P.Z)(i,e);var t=(0,N.Z)(i);function i(){var a;(0,m.Z)(this,i);for(var o=arguments.length,u=new Array(o),d=0;d<o;d++)u[d]=arguments[d];return(a=t.call.apply(t,[this].concat(u)))._disableRipple=!1,a}return(0,_.Z)(i,[{key:"disableRipple",get:function(){return this._disableRipple},set:function(o){this._disableRipple=yt(o)}}]),i}(n);return r}function xu(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=function(t){(0,P.Z)(a,t);var i=(0,N.Z)(a);function a(){var o;(0,m.Z)(this,a);for(var u=arguments.length,d=new Array(u),h=0;h<u;h++)d[h]=arguments[h];return(o=i.call.apply(i,[this].concat(d)))._tabIndex=r,o.defaultTabIndex=r,o}return(0,_.Z)(a,[{key:"tabIndex",get:function(){return this.disabled?-1:this._tabIndex},set:function(u){this._tabIndex=null!=u?Yn(u):this.defaultTabIndex}}]),a}(n);return e}function Om(n){return function(r){(0,P.Z)(t,r);var e=(0,N.Z)(t);function t(){var i;(0,m.Z)(this,t);for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return(i=e.call.apply(e,[this].concat(o))).errorState=!1,i.stateChanges=new ft.xQ,i}return(0,_.Z)(t,[{key:"updateErrorState",value:function(){var a=this.errorState,h=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);h!==a&&(this.errorState=h,this.stateChanges.next())}}]),t}(n)}var Mc,Sb=new s.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function VD(){return(0,s.f3M)(s.soG)}}),si=function(){function n(){(0,m.Z)(this,n),this._localeChanges=new ft.xQ,this.localeChanges=this._localeChanges}return(0,_.Z)(n,[{key:"getValidDateOrNull",value:function(e){return this.isDateInstance(e)&&this.isValid(e)?e:null}},{key:"deserialize",value:function(e){return null==e||this.isDateInstance(e)&&this.isValid(e)?e:this.invalid()}},{key:"setLocale",value:function(e){this.locale=e,this._localeChanges.next()}},{key:"compareDate",value:function(e,t){return this.getYear(e)-this.getYear(t)||this.getMonth(e)-this.getMonth(t)||this.getDate(e)-this.getDate(t)}},{key:"sameDate",value:function(e,t){if(e&&t){var i=this.isValid(e),a=this.isValid(t);return i&&a?!this.compareDate(e,t):i==a}return e==t}},{key:"clampDate",value:function(e,t,i){return t&&this.compareDate(e,t)<0?t:i&&this.compareDate(e,i)>0?i:e}}]),n}(),Nu=new s.OlP("mat-date-formats");try{Mc="undefined"!=typeof Intl}catch(n){Mc=!1}var UD={long:["January","February","March","April","May","June","July","August","September","October","November","December"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"]},v1=Pm(31,function(r){return String(r+1)}),Tb={long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"]},tu=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function Pm(n,r){for(var e=Array(n),t=0;t<n;t++)e[t]=r(t);return e}var F2=function(){var n=function(r){(0,P.Z)(t,r);var e=(0,N.Z)(t);function t(i,a){var o,u;return(0,m.Z)(this,t),(u=e.call(this)).useUtcForDisplay=!0,(0,X.Z)((o=(0,Lr.Z)(u),(0,ne.Z)(t.prototype)),"setLocale",o).call(o,i),u.useUtcForDisplay=!a.TRIDENT,u._clampDate=a.TRIDENT||a.EDGE,u}return(0,_.Z)(t,[{key:"getYear",value:function(a){return a.getFullYear()}},{key:"getMonth",value:function(a){return a.getMonth()}},{key:"getDate",value:function(a){return a.getDate()}},{key:"getDayOfWeek",value:function(a){return a.getDay()}},{key:"getMonthNames",value:function(a){var o=this;if(Mc){var u=new Intl.DateTimeFormat(this.locale,{month:a,timeZone:"utc"});return Pm(12,function(d){return o._stripDirectionalityCharacters(o._format(u,new Date(2017,d,1)))})}return UD[a]}},{key:"getDateNames",value:function(){var a=this;if(Mc){var o=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return Pm(31,function(u){return a._stripDirectionalityCharacters(a._format(o,new Date(2017,0,u+1)))})}return v1}},{key:"getDayOfWeekNames",value:function(a){var o=this;if(Mc){var u=new Intl.DateTimeFormat(this.locale,{weekday:a,timeZone:"utc"});return Pm(7,function(d){return o._stripDirectionalityCharacters(o._format(u,new Date(2017,0,d+1)))})}return Tb[a]}},{key:"getYearName",value:function(a){if(Mc){var o=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._stripDirectionalityCharacters(this._format(o,a))}return String(this.getYear(a))}},{key:"getFirstDayOfWeek",value:function(){return 0}},{key:"getNumDaysInMonth",value:function(a){return this.getDate(this._createDateWithOverflow(this.getYear(a),this.getMonth(a)+1,0))}},{key:"clone",value:function(a){return new Date(a.getTime())}},{key:"createDate",value:function(a,o,u){var d=this._createDateWithOverflow(a,o,u);return d.getMonth(),d}},{key:"today",value:function(){return new Date}},{key:"parse",value:function(a){return"number"==typeof a?new Date(a):a?new Date(Date.parse(a)):null}},{key:"format",value:function(a,o){if(!this.isValid(a))throw Error("NativeDateAdapter: Cannot format invalid date.");if(Mc){this._clampDate&&(a.getFullYear()<1||a.getFullYear()>9999)&&(a=this.clone(a)).setFullYear(Math.max(1,Math.min(9999,a.getFullYear()))),o=Object.assign(Object.assign({},o),{timeZone:"utc"});var u=new Intl.DateTimeFormat(this.locale,o);return this._stripDirectionalityCharacters(this._format(u,a))}return this._stripDirectionalityCharacters(a.toDateString())}},{key:"addCalendarYears",value:function(a,o){return this.addCalendarMonths(a,12*o)}},{key:"addCalendarMonths",value:function(a,o){var u=this._createDateWithOverflow(this.getYear(a),this.getMonth(a)+o,this.getDate(a));return this.getMonth(u)!=((this.getMonth(a)+o)%12+12)%12&&(u=this._createDateWithOverflow(this.getYear(u),this.getMonth(u),0)),u}},{key:"addCalendarDays",value:function(a,o){return this._createDateWithOverflow(this.getYear(a),this.getMonth(a),this.getDate(a)+o)}},{key:"toIso8601",value:function(a){return[a.getUTCFullYear(),this._2digit(a.getUTCMonth()+1),this._2digit(a.getUTCDate())].join("-")}},{key:"deserialize",value:function(a){if("string"==typeof a){if(!a)return null;if(tu.test(a)){var o=new Date(a);if(this.isValid(o))return o}}return(0,X.Z)((0,ne.Z)(t.prototype),"deserialize",this).call(this,a)}},{key:"isDateInstance",value:function(a){return a instanceof Date}},{key:"isValid",value:function(a){return!isNaN(a.getTime())}},{key:"invalid",value:function(){return new Date(NaN)}},{key:"_createDateWithOverflow",value:function(a,o,u){var d=new Date;return d.setFullYear(a,o,u),d.setHours(0,0,0,0),d}},{key:"_2digit",value:function(a){return("00"+a).slice(-2)}},{key:"_stripDirectionalityCharacters",value:function(a){return a.replace(/[\u200e\u200f]/g,"")}},{key:"_format",value:function(a,o){var u=new Date;return u.setUTCFullYear(o.getFullYear(),o.getMonth(),o.getDate()),u.setUTCHours(o.getHours(),o.getMinutes(),o.getSeconds(),o.getMilliseconds()),a.format(u)}}]),t}(si);return n.\u0275fac=function(e){return new(e||n)(s.LFG(Sb,8),s.LFG(Pn))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n}(),HD=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[{provide:si,useClass:F2}],imports:[[kd]]}),n}(),m1={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}},_1=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[{provide:Nu,useValue:m1}],imports:[[HD]]}),n}(),nu=function(){var n=function(){function r(){(0,m.Z)(this,r)}return(0,_.Z)(r,[{key:"isErrorState",value:function(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}]),r}();return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,s.Yz7)({factory:function(){return new n},token:n,providedIn:"root"}),n}(),xm=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[jt],jt]}),n}(),b1=function(){function n(r,e,t){(0,m.Z)(this,n),this._renderer=r,this.element=e,this.config=t,this.state=3}return(0,_.Z)(n,[{key:"fadeOut",value:function(){this._renderer.fadeOutRipple(this)}}]),n}(),Ab={enterDuration:450,exitDuration:400},cv=wd({passive:!0}),Rb=["mousedown","touchstart"],GD=["mouseup","mouseleave","touchend","touchcancel"],Nm=function(){function n(r,e,t,i){(0,m.Z)(this,n),this._target=r,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=Ou(t))}return(0,_.Z)(n,[{key:"fadeInRipple",value:function(e,t){var i=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),u=Object.assign(Object.assign({},Ab),a.animation);a.centered&&(e=o.left+o.width/2,t=o.top+o.height/2);var d=a.radius||k1(e,t,o),h=e-o.left,v=t-o.top,b=u.enterDuration,k=document.createElement("div");k.classList.add("mat-ripple-element"),k.style.left="".concat(h-d,"px"),k.style.top="".concat(v-d,"px"),k.style.height="".concat(2*d,"px"),k.style.width="".concat(2*d,"px"),null!=a.color&&(k.style.backgroundColor=a.color),k.style.transitionDuration="".concat(b,"ms"),this._containerElement.appendChild(k),zD(k),k.style.transform="scale(1)";var I=new b1(this,k,a);return I.state=0,this._activeRipples.add(I),a.persistent||(this._mostRecentTransientRipple=I),this._runTimeoutOutsideZone(function(){var O=I===i._mostRecentTransientRipple;I.state=1,!a.persistent&&(!O||!i._isPointerDown)&&I.fadeOut()},b),I}},{key:"fadeOutRipple",value:function(e){var t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),t){var i=e.element,a=Object.assign(Object.assign({},Ab),e.config.animation);i.style.transitionDuration="".concat(a.exitDuration,"ms"),i.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(function(){e.state=3,i.parentNode.removeChild(i)},a.exitDuration)}}},{key:"fadeOutAll",value:function(){this._activeRipples.forEach(function(e){return e.fadeOut()})}},{key:"fadeOutAllNonPersistent",value:function(){this._activeRipples.forEach(function(e){e.config.persistent||e.fadeOut()})}},{key:"setupTriggerEvents",value:function(e){var t=Ou(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(Rb))}},{key:"handleEvent",value:function(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(GD),this._pointerUpEventsRegistered=!0)}},{key:"_onMousedown",value:function(e){var t=sm(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}},{key:"_onTouchStart",value:function(e){if(!this._target.rippleDisabled&&!V0(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;for(var t=e.changedTouches,i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}},{key:"_onPointerUp",value:function(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(function(e){!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}},{key:"_runTimeoutOutsideZone",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._ngZone.runOutsideAngular(function(){return setTimeout(e,t)})}},{key:"_registerEvents",value:function(e){var t=this;this._ngZone.runOutsideAngular(function(){e.forEach(function(i){t._triggerElement.addEventListener(i,t,cv)})})}},{key:"_removeTriggerEvents",value:function(){var e=this;this._triggerElement&&(Rb.forEach(function(t){e._triggerElement.removeEventListener(t,e,cv)}),this._pointerUpEventsRegistered&&GD.forEach(function(t){e._triggerElement.removeEventListener(t,e,cv)}))}}]),n}();function zD(n){window.getComputedStyle(n).getPropertyValue("opacity")}function k1(n,r,e){var t=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),i=Math.max(Math.abs(r-e.top),Math.abs(r-e.bottom));return Math.sqrt(t*t+i*i)}var Zm=new s.OlP("mat-ripple-global-options"),_o=function(){var n=function(){function r(e,t,i,a,o){(0,m.Z)(this,r),this._elementRef=e,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new Nm(this,t,e,i)}return(0,_.Z)(r,[{key:"disabled",get:function(){return this._disabled},set:function(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}},{key:"trigger",get:function(){return this._trigger||this._elementRef.nativeElement},set:function(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}},{key:"ngOnInit",value:function(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}},{key:"ngOnDestroy",value:function(){this._rippleRenderer._removeTriggerEvents()}},{key:"fadeOutAll",value:function(){this._rippleRenderer.fadeOutAll()}},{key:"fadeOutAllNonPersistent",value:function(){this._rippleRenderer.fadeOutAllNonPersistent()}},{key:"rippleConfig",get:function(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}},{key:"rippleDisabled",get:function(){return this.disabled||!!this._globalOptions.disabled}},{key:"_setupTriggerEventsIfEnabled",value:function(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}},{key:"launch",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2?arguments[2]:void 0;return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,Object.assign(Object.assign({},this.rippleConfig),a)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}]),r}();return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(Pn),s.Y36(Zm,8),s.Y36(sr,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,t){2&e&&s.ekj("mat-ripple-unbounded",t.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),n}(),ru=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[jt,kd],jt]}),n}(),Ob=function(){var n=(0,_.Z)(function r(e){(0,m.Z)(this,r),this._animationMode=e,this.state="unchecked",this.disabled=!1});return n.\u0275fac=function(e){return new(e||n)(s.Y36(sr,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,t){2&e&&s.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===t.state)("mat-pseudo-checkbox-checked","checked"===t.state)("mat-pseudo-checkbox-disabled",t.disabled)("_mat-animation-noopable","NoopAnimations"===t._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,t){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),n}(),Lm=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[jt]]}),n}(),Bm=new s.OlP("MAT_OPTION_PARENT_COMPONENT"),w1=(0,_.Z)(function n(){(0,m.Z)(this,n)}),C1=qa(w1),E1=0,D1=function(){var n=function(r){(0,P.Z)(t,r);var e=(0,N.Z)(t);function t(i){var a,o;return(0,m.Z)(this,t),(a=e.call(this))._labelId="mat-optgroup-label-".concat(E1++),a._inert=null!==(o=null==i?void 0:i.inertGroups)&&void 0!==o&&o,a}return(0,_.Z)(t)}(C1);return n.\u0275fac=function(e){return new(e||n)(s.Y36(Bm,8))},n.\u0275dir=s.lG2({type:n,inputs:{label:"label"},features:[s.qOj]}),n}(),Pb=new s.OlP("MatOptgroup"),M1=0,Vm=(0,_.Z)(function n(r){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,m.Z)(this,n),this.source=r,this.isUserInput=e}),x2=function(){var n=function(){function r(e,t,i,a){(0,m.Z)(this,r),this._element=e,this._changeDetectorRef=t,this._parent=i,this.group=a,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-".concat(M1++),this.onSelectionChange=new s.vpe,this._stateChanges=new ft.xQ}return(0,_.Z)(r,[{key:"multiple",get:function(){return this._parent&&this._parent.multiple}},{key:"selected",get:function(){return this._selected}},{key:"disabled",get:function(){return this.group&&this.group.disabled||this._disabled},set:function(t){this._disabled=yt(t)}},{key:"disableRipple",get:function(){return this._parent&&this._parent.disableRipple}},{key:"active",get:function(){return this._active}},{key:"viewValue",get:function(){return(this._getHostElement().textContent||"").trim()}},{key:"select",value:function(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}},{key:"deselect",value:function(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}},{key:"focus",value:function(t,i){var a=this._getHostElement();"function"==typeof a.focus&&a.focus(i)}},{key:"setActiveStyles",value:function(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}},{key:"setInactiveStyles",value:function(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}},{key:"getLabel",value:function(){return this.viewValue}},{key:"_handleKeydown",value:function(t){(13===t.keyCode||32===t.keyCode)&&!qr(t)&&(this._selectViaInteraction(),t.preventDefault())}},{key:"_selectViaInteraction",value:function(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}},{key:"_getAriaSelected",value:function(){return this.selected||!this.multiple&&null}},{key:"_getTabIndex",value:function(){return this.disabled?"-1":"0"}},{key:"_getHostElement",value:function(){return this._element.nativeElement}},{key:"ngAfterViewChecked",value:function(){if(this._selected){var t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}},{key:"ngOnDestroy",value:function(){this._stateChanges.complete()}},{key:"_emitSelectionChangeEvent",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.onSelectionChange.emit(new Vm(this,t))}}]),r}();return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(void 0),s.Y36(D1))},n.\u0275dir=s.lG2({type:n,inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"}}),n}(),Um=function(){var n=function(r){(0,P.Z)(t,r);var e=(0,N.Z)(t);function t(i,a,o,u){return(0,m.Z)(this,t),e.call(this,i,a,o,u)}return(0,_.Z)(t)}(x2);return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(Bm,8),s.Y36(Pb,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,t){1&e&&s.NdJ("click",function(){return t._selectViaInteraction()})("keydown",function(a){return t._handleKeydown(a)}),2&e&&(s.Ikx("id",t.id),s.uIk("tabindex",t._getTabIndex())("aria-selected",t._getAriaSelected())("aria-disabled",t.disabled.toString()),s.ekj("mat-selected",t.selected)("mat-option-multiple",t.multiple)("mat-active",t.active)("mat-option-disabled",t.disabled))},exportAs:["matOption"],features:[s.qOj],ngContentSelectors:O2,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,t){1&e&&(s.F$t(),s.YNc(0,f1,1,2,"mat-pseudo-checkbox",0),s.TgZ(1,"span",1),s.Hsn(2),s.qZA(),s.YNc(3,R2,2,1,"span",2),s._UZ(4,"div",3)),2&e&&(s.Q6J("ngIf",t.multiple),s.xp6(3),s.Q6J("ngIf",t.group&&t.group._inert),s.xp6(1),s.Q6J("matRippleTrigger",t._getHostElement())("matRippleDisabled",t.disabled||t.disableRipple))},directives:[Nr,Ob,_o],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),n}();function YD(n,r,e){if(e.length){for(var t=r.toArray(),i=e.toArray(),a=0,o=0;o<n+1;o++)t[o].group&&t[o].group===i[a]&&a++;return a}return 0}var dv=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[ru,zn,jt,Lm]]}),n}(),Fb=["*",[["mat-toolbar-row"]]],xb=["*","mat-toolbar-row"],N2=(0,_.Z)(function n(r){(0,m.Z)(this,n),this._elementRef=r}),Nb=qi(N2),Zb=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n}(),WD=function(){var n=function(r){(0,P.Z)(t,r);var e=(0,N.Z)(t);function t(i,a,o){var u;return(0,m.Z)(this,t),(u=e.call(this,i))._platform=a,u._document=o,u}return(0,_.Z)(t,[{key:"ngAfterViewInit",value:function(){var a=this;this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(function(){return a._checkToolbarMixedModes()}))}},{key:"_checkToolbarMixedModes",value:function(){}}]),t}(Nb);return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Pn),s.Y36(K))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,t,i){var a;1&e&&s.Suo(i,Zb,5),2&e&&s.iGM(a=s.CRH())&&(t._toolbarRows=a)},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,t){2&e&&s.ekj("mat-toolbar-multiple-rows",t._toolbarRows.length>0)("mat-toolbar-single-row",0===t._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[s.qOj],ngContentSelectors:xb,decls:2,vars:0,template:function(e,t){1&e&&(s.F$t(Fb),s.Hsn(0),s.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),n}(),S1=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[jt],jt]}),n}(),T1=["mat-button",""],A1=["*"],R1=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],O1=(0,_.Z)(function n(r){(0,m.Z)(this,n),this._elementRef=r}),P1=qi(qa(mo(O1))),Pl=function(){var n=function(r){(0,P.Z)(t,r);var e=(0,N.Z)(t);function t(i,a,o){var u;(0,m.Z)(this,t),(u=e.call(this,i))._focusMonitor=a,u._animationMode=o,u.isRoundButton=u._hasHostAttributes("mat-fab","mat-mini-fab"),u.isIconButton=u._hasHostAttributes("mat-icon-button");var h,d=(0,G.Z)(R1);try{for(d.s();!(h=d.n()).done;){var v=h.value;u._hasHostAttributes(v)&&u._getHostElement().classList.add(v)}}catch(b){d.e(b)}finally{d.f()}return i.nativeElement.classList.add("mat-button-base"),u.isRoundButton&&(u.color="accent"),u}return(0,_.Z)(t,[{key:"ngAfterViewInit",value:function(){this._focusMonitor.monitor(this._elementRef,!0)}},{key:"ngOnDestroy",value:function(){this._focusMonitor.stopMonitoring(this._elementRef)}},{key:"focus",value:function(a,o){a?this._focusMonitor.focusVia(this._getHostElement(),a,o):this._getHostElement().focus(o)}},{key:"_getHostElement",value:function(){return this._elementRef.nativeElement}},{key:"_isRippleDisabled",value:function(){return this.disableRipple||this.disabled}},{key:"_hasHostAttributes",value:function(){for(var a=this,o=arguments.length,u=new Array(o),d=0;d<o;d++)u[d]=arguments[d];return u.some(function(h){return a._getHostElement().hasAttribute(h)})}}]),t}(P1);return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Wi),s.Y36(sr,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,t){var i;1&e&&s.Gf(_o,5),2&e&&s.iGM(i=s.CRH())&&(t.ripple=i.first)},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,t){2&e&&(s.uIk("disabled",t.disabled||null),s.ekj("_mat-animation-noopable","NoopAnimations"===t._animationMode)("mat-button-disabled",t.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[s.qOj],attrs:T1,ngContentSelectors:A1,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,t){1&e&&(s.F$t(),s.TgZ(0,"span",0),s.Hsn(1),s.qZA(),s._UZ(2,"span",1)(3,"span",2)),2&e&&(s.xp6(2),s.ekj("mat-button-ripple-round",t.isRoundButton||t.isIconButton),s.Q6J("matRippleDisabled",t._isRippleDisabled())("matRippleCentered",t.isIconButton)("matRippleTrigger",t._getHostElement()))},directives:[_o],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n}(),Id=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[ru,jt],jt]}),n}(),qD=x(2474),x1=["*"];function Bb(n){return Error('Unable to find icon with the name "'.concat(n,'"'))}function N1(n){return Error("The URL provided to MatIconRegistry was not trusted as a resource URL "+"via Angular's DomSanitizer. Attempted URL was \"".concat(n,'".'))}function Ub(n){return Error("The literal provided to MatIconRegistry was not trusted as safe HTML by "+"Angular's DomSanitizer. Attempted literal was \"".concat(n,'".'))}var Fl=(0,_.Z)(function n(r,e,t){(0,m.Z)(this,n),this.url=r,this.svgText=e,this.options=t}),Hm=function(){var n=function(){function r(e,t,i,a){(0,m.Z)(this,r),this._httpClient=e,this._sanitizer=t,this._errorHandler=a,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=i}return(0,_.Z)(r,[{key:"addSvgIcon",value:function(t,i,a){return this.addSvgIconInNamespace("",t,i,a)}},{key:"addSvgIconLiteral",value:function(t,i,a){return this.addSvgIconLiteralInNamespace("",t,i,a)}},{key:"addSvgIconInNamespace",value:function(t,i,a,o){return this._addSvgIconConfig(t,i,new Fl(a,null,o))}},{key:"addSvgIconResolver",value:function(t){return this._resolvers.push(t),this}},{key:"addSvgIconLiteralInNamespace",value:function(t,i,a,o){var u=this._sanitizer.sanitize(s.q3G.HTML,a);if(!u)throw Ub(a);return this._addSvgIconConfig(t,i,new Fl("",u,o))}},{key:"addSvgIconSet",value:function(t,i){return this.addSvgIconSetInNamespace("",t,i)}},{key:"addSvgIconSetLiteral",value:function(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}},{key:"addSvgIconSetInNamespace",value:function(t,i,a){return this._addSvgIconSetConfig(t,new Fl(i,null,a))}},{key:"addSvgIconSetLiteralInNamespace",value:function(t,i,a){var o=this._sanitizer.sanitize(s.q3G.HTML,i);if(!o)throw Ub(i);return this._addSvgIconSetConfig(t,new Fl("",o,a))}},{key:"registerFontClassAlias",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return this._fontCssClassesByAlias.set(t,i),this}},{key:"classNameForFontAlias",value:function(t){return this._fontCssClassesByAlias.get(t)||t}},{key:"setDefaultFontSetClass",value:function(t){return this._defaultFontSetClass=t,this}},{key:"getDefaultFontSetClass",value:function(){return this._defaultFontSetClass}},{key:"getSvgIconFromUrl",value:function(t){var i=this,a=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,t);if(!a)throw N1(t);var o=this._cachedIconsByUrl.get(a);return o?(0,Ft.of)(Hb(o)):this._loadSvgIconFromConfig(new Fl(t,null)).pipe((0,Rr.b)(function(u){return i._cachedIconsByUrl.set(a,u)}),(0,It.U)(function(u){return Hb(u)}))}},{key:"getNamedSvgIcon",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=KD(i,t),o=this._svgIconConfigs.get(a);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,t))return this._svgIconConfigs.set(a,o),this._getSvgFromConfig(o);var u=this._iconSetConfigs.get(i);return u?this._getSvgFromIconSetConfigs(t,u):(0,ys._)(Bb(a))}},{key:"ngOnDestroy",value:function(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}},{key:"_getSvgFromConfig",value:function(t){return t.svgText?(0,Ft.of)(Hb(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,It.U)(function(i){return Hb(i)}))}},{key:"_getSvgFromIconSetConfigs",value:function(t,i){var a=this,o=this._extractIconWithNameFromAnySet(t,i);return o?(0,Ft.of)(o):Hy(i.filter(function(d){return!d.svgText}).map(function(d){return a._loadSvgIconSetFromConfig(d).pipe(Ea(function(h){var v=a._sanitizer.sanitize(s.q3G.RESOURCE_URL,d.url),b="Loading icon set URL: ".concat(v," failed: ").concat(h.message);return a._errorHandler.handleError(new Error(b)),(0,Ft.of)(null)}))})).pipe((0,It.U)(function(){var d=a._extractIconWithNameFromAnySet(t,i);if(!d)throw Bb(t);return d}))}},{key:"_extractIconWithNameFromAnySet",value:function(t,i){for(var a=i.length-1;a>=0;a--){var o=i[a];if(o.svgText&&o.svgText.indexOf(t)>-1){var u=this._svgElementFromConfig(o),d=this._extractSvgIconFromSet(u,t,o.options);if(d)return d}}return null}},{key:"_loadSvgIconFromConfig",value:function(t){var i=this;return this._fetchIcon(t).pipe((0,Rr.b)(function(a){return t.svgText=a}),(0,It.U)(function(){return i._svgElementFromConfig(t)}))}},{key:"_loadSvgIconSetFromConfig",value:function(t){return t.svgText?(0,Ft.of)(null):this._fetchIcon(t).pipe((0,Rr.b)(function(i){return t.svgText=i}))}},{key:"_extractSvgIconFromSet",value:function(t,i,a){var o=t.querySelector('[id="'.concat(i,'"]'));if(!o)return null;var u=o.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,a);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),a);var d=this._svgElementFromString("<svg></svg>");return d.appendChild(u),this._setSvgAttributes(d,a)}},{key:"_svgElementFromString",value:function(t){var i=this._document.createElement("DIV");i.innerHTML=t;var a=i.querySelector("svg");if(!a)throw Error("<svg> tag not found");return a}},{key:"_toSvgElement",value:function(t){for(var i=this._svgElementFromString("<svg></svg>"),a=t.attributes,o=0;o<a.length;o++){var u=a[o],d=u.name;"id"!==d&&i.setAttribute(d,u.value)}for(var v=0;v<t.childNodes.length;v++)t.childNodes[v].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[v].cloneNode(!0));return i}},{key:"_setSvgAttributes",value:function(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}},{key:"_fetchIcon",value:function(t){var a,i=this,o=t.url,u=t.options,d=null!==(a=null==u?void 0:u.withCredentials)&&void 0!==a&&a;if(!this._httpClient)throw function Vb(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==o)throw Error('Cannot fetch icon from URL "'.concat(o,'".'));var h=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,o);if(!h)throw N1(o);var v=this._inProgressUrlFetches.get(h);if(v)return v;var b=this._httpClient.get(h,{responseType:"text",withCredentials:d}).pipe(Ai(function(){return i._inProgressUrlFetches.delete(h)}),(0,qD.B)());return this._inProgressUrlFetches.set(h,b),b}},{key:"_addSvgIconConfig",value:function(t,i,a){return this._svgIconConfigs.set(KD(t,i),a),this}},{key:"_addSvgIconSetConfig",value:function(t,i){var a=this._iconSetConfigs.get(t);return a?a.push(i):this._iconSetConfigs.set(t,[i]),this}},{key:"_svgElementFromConfig",value:function(t){if(!t.svgElement){var i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}},{key:"_getIconConfigFromResolvers",value:function(t,i){for(var a=0;a<this._resolvers.length;a++){var o=this._resolvers[a](i,t);if(o)return L1(o)?new Fl(o.url,null,o.options):new Fl(o,null)}}}]),r}();return n.\u0275fac=function(e){return new(e||n)(s.LFG(gc,8),s.LFG(cl),s.LFG(K,8),s.LFG(s.qLn))},n.\u0275prov=(0,s.Yz7)({factory:function(){return new n((0,s.LFG)(gc,8),(0,s.LFG)(cl),(0,s.LFG)(K,8),(0,s.LFG)(s.qLn))},token:n,providedIn:"root"}),n}();function Hb(n){return n.cloneNode(!0)}function KD(n,r){return n+":"+r}function L1(n){return!(!n.url||!n.options)}var B1=(0,_.Z)(function n(r){(0,m.Z)(this,n),this._elementRef=r}),Z2=qi(B1),L2=new s.OlP("mat-icon-location",{providedIn:"root",factory:function B2(){var n=(0,s.f3M)(K),r=n?n.location:null;return{getPathname:function(){return r?r.pathname+r.search:""}}}}),V1=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],U1=V1.map(function(r){return"[".concat(r,"]")}).join(", "),U2=/^url\(['"]?#(.*?)['"]?\)$/,$D=function(){var n=function(r){(0,P.Z)(t,r);var e=(0,N.Z)(t);function t(i,a,o,u,d){var h;return(0,m.Z)(this,t),(h=e.call(this,i))._iconRegistry=a,h._location=u,h._errorHandler=d,h._inline=!1,h._currentIconFetch=Rn.w.EMPTY,o||i.nativeElement.setAttribute("aria-hidden","true"),h}return(0,_.Z)(t,[{key:"inline",get:function(){return this._inline},set:function(a){this._inline=yt(a)}},{key:"svgIcon",get:function(){return this._svgIcon},set:function(a){a!==this._svgIcon&&(a?this._updateSvgIcon(a):this._svgIcon&&this._clearSvgElement(),this._svgIcon=a)}},{key:"fontSet",get:function(){return this._fontSet},set:function(a){var o=this._cleanupFontValue(a);o!==this._fontSet&&(this._fontSet=o,this._updateFontIconClasses())}},{key:"fontIcon",get:function(){return this._fontIcon},set:function(a){var o=this._cleanupFontValue(a);o!==this._fontIcon&&(this._fontIcon=o,this._updateFontIconClasses())}},{key:"_splitIconName",value:function(a){if(!a)return["",""];var o=a.split(":");switch(o.length){case 1:return["",o[0]];case 2:return o;default:throw Error('Invalid icon name: "'.concat(a,'"'))}}},{key:"ngOnInit",value:function(){this._updateFontIconClasses()}},{key:"ngAfterViewChecked",value:function(){var a=this._elementsWithExternalReferences;if(a&&a.size){var o=this._location.getPathname();o!==this._previousPath&&(this._previousPath=o,this._prependPathToReferences(o))}}},{key:"ngOnDestroy",value:function(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}},{key:"_usingFontIcon",value:function(){return!this.svgIcon}},{key:"_setSvgElement",value:function(a){this._clearSvgElement();for(var o=a.querySelectorAll("style"),u=0;u<o.length;u++)o[u].textContent+=" ";var d=this._location.getPathname();this._previousPath=d,this._cacheChildrenWithExternalReferences(a),this._prependPathToReferences(d),this._elementRef.nativeElement.appendChild(a)}},{key:"_clearSvgElement",value:function(){var a=this._elementRef.nativeElement,o=a.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();o--;){var u=a.childNodes[o];(1!==u.nodeType||"svg"===u.nodeName.toLowerCase())&&a.removeChild(u)}}},{key:"_updateFontIconClasses",value:function(){if(this._usingFontIcon()){var a=this._elementRef.nativeElement,o=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();o!=this._previousFontSetClass&&(this._previousFontSetClass&&a.classList.remove(this._previousFontSetClass),o&&a.classList.add(o),this._previousFontSetClass=o),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&a.classList.remove(this._previousFontIconClass),this.fontIcon&&a.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}}},{key:"_cleanupFontValue",value:function(a){return"string"==typeof a?a.trim().split(" ")[0]:a}},{key:"_prependPathToReferences",value:function(a){var o=this._elementsWithExternalReferences;o&&o.forEach(function(u,d){u.forEach(function(h){d.setAttribute(h.name,"url('".concat(a,"#").concat(h.value,"')"))})})}},{key:"_cacheChildrenWithExternalReferences",value:function(a){for(var o=a.querySelectorAll(U1),u=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map,d=function(b){V1.forEach(function(k){var I=o[b],O=I.getAttribute(k),q=O?O.match(U2):null;if(q){var J=u.get(I);J||u.set(I,J=[]),J.push({name:k,value:q[1]})}})},h=0;h<o.length;h++)d(h)}},{key:"_updateSvgIcon",value:function(a){var o=this;if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),a){var u=this._splitIconName(a),d=(0,Z.Z)(u,2),h=d[0],v=d[1];h&&(this._svgNamespace=h),v&&(this._svgName=v),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(v,h).pipe(Zn(1)).subscribe(function(b){return o._setSvgElement(b)},function(b){var k="Error retrieving icon ".concat(h,":").concat(v,"! ").concat(b.message);o._errorHandler.handleError(new Error(k))})}}}]),t}(Z2);return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Hm),s.$8M("aria-hidden"),s.Y36(L2),s.Y36(s.qLn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,t){2&e&&(s.uIk("data-mat-icon-type",t._usingFontIcon()?"font":"svg")("data-mat-icon-name",t._svgName||t.fontIcon)("data-mat-icon-namespace",t._svgNamespace||t.fontSet),s.ekj("mat-icon-inline",t.inline)("mat-icon-no-color","primary"!==t.color&&"accent"!==t.color&&"warn"!==t.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[s.qOj],ngContentSelectors:x1,decls:1,vars:0,template:function(e,t){1&e&&(s.F$t(),s.Hsn(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n}(),QD=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[jt],jt]}),n}(),Xn=x(6787),l=x(8139);function c(n){return function(r){return r.lift(new f(n))}}var f=function(){function n(r){(0,m.Z)(this,n),this.notifier=r}return(0,_.Z)(n,[{key:"call",value:function(e,t){var i=new p(e),a=(0,ii.ft)(this.notifier,new ii.IY(i));return a&&!i.seenValue?(i.add(a),t.subscribe(i)):i}}]),n}(),p=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t){var i;return(0,m.Z)(this,e),(i=r.call(this,t)).seenValue=!1,i}return(0,_.Z)(e,[{key:"notifyNext",value:function(){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),e}(ii.Ds);function g(n){return n instanceof Date&&!isNaN(+n)}var y=x(9312);function w(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tl.P,e=g(n),t=e?+n-r.now():Math.abs(n);return function(i){return i.lift(new T(t,r))}}var T=function(){function n(r,e){(0,m.Z)(this,n),this.delay=r,this.scheduler=e}return(0,_.Z)(n,[{key:"call",value:function(e,t){return t.subscribe(new R(e,this.delay,this.scheduler))}}]),n}(),R=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i,a){var o;return(0,m.Z)(this,e),(o=r.call(this,t)).delay=i,o.scheduler=a,o.queue=[],o.active=!1,o.errored=!1,o}return(0,_.Z)(e,[{key:"_schedule",value:function(i){this.active=!0,this.destination.add(i.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:i}))}},{key:"scheduleNotification",value:function(i){if(!0!==this.errored){var a=this.scheduler,o=new j(a.now()+this.delay,i);this.queue.push(o),!1===this.active&&this._schedule(a)}}},{key:"_next",value:function(i){this.scheduleNotification(y.P.createNext(i))}},{key:"_error",value:function(i){this.errored=!0,this.queue=[],this.destination.error(i),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleNotification(y.P.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(i){for(var a=i.source,o=a.queue,u=i.scheduler,d=i.destination;o.length>0&&o[0].time-u.now()<=0;)o.shift().notification.observe(d);if(o.length>0){var h=Math.max(0,o[0].time-u.now());this.schedule(i,h)}else this.unsubscribe(),a.active=!1}}]),e}(Br.L),j=(0,_.Z)(function n(r,e){(0,m.Z)(this,n),this.time=r,this.notification=e}),Dt=function(){function n(){(0,m.Z)(this,n)}return(0,_.Z)(n,[{key:"attach",value:function(e){return this._attachedHost=e,e.attach(this)}},{key:"detach",value:function(){var e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}},{key:"isAttached",get:function(){return null!=this._attachedHost}},{key:"setAttachedHost",value:function(e){this._attachedHost=e}}]),n}(),xt=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i,a,o){var u;return(0,m.Z)(this,e),(u=r.call(this)).component=t,u.viewContainerRef=i,u.injector=a,u.componentFactoryResolver=o,u}return(0,_.Z)(e)}(Dt),nt=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i,a){var o;return(0,m.Z)(this,e),(o=r.call(this)).templateRef=t,o.viewContainerRef=i,o.context=a,o}return(0,_.Z)(e,[{key:"origin",get:function(){return this.templateRef.elementRef}},{key:"attach",value:function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.context;return this.context=a,(0,X.Z)((0,ne.Z)(e.prototype),"attach",this).call(this,i)}},{key:"detach",value:function(){return this.context=void 0,(0,X.Z)((0,ne.Z)(e.prototype),"detach",this).call(this)}}]),e}(Dt),Yt=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t){var i;return(0,m.Z)(this,e),(i=r.call(this)).element=t instanceof s.SBq?t.nativeElement:t,i}return(0,_.Z)(e)}(Dt),Dn=function(){function n(){(0,m.Z)(this,n),this._isDisposed=!1,this.attachDomPortal=null}return(0,_.Z)(n,[{key:"hasAttached",value:function(){return!!this._attachedPortal}},{key:"attach",value:function(e){return e instanceof xt?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof nt?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof Yt?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}},{key:"detach",value:function(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}},{key:"dispose",value:function(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}},{key:"setDisposeFn",value:function(e){this._disposeFn=e}},{key:"_invokeDisposeFn",value:function(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}]),n}(),Pr=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i,a,o,u){var d,h;return(0,m.Z)(this,e),(h=r.call(this)).outletElement=t,h._componentFactoryResolver=i,h._appRef=a,h._defaultInjector=o,h.attachDomPortal=function(v){var b=v.element,k=h._document.createComment("dom-portal");b.parentNode.insertBefore(k,b),h.outletElement.appendChild(b),h._attachedPortal=v,(0,X.Z)((d=(0,Lr.Z)(h),(0,ne.Z)(e.prototype)),"setDisposeFn",d).call(d,function(){k.parentNode&&k.parentNode.replaceChild(b,k)})},h._document=u,h}return(0,_.Z)(e,[{key:"attachComponentPortal",value:function(i){var d,a=this,u=(i.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(i.component);return i.viewContainerRef?(d=i.viewContainerRef.createComponent(u,i.viewContainerRef.length,i.injector||i.viewContainerRef.injector),this.setDisposeFn(function(){return d.destroy()})):(d=u.create(i.injector||this._defaultInjector),this._appRef.attachView(d.hostView),this.setDisposeFn(function(){a._appRef.detachView(d.hostView),d.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(d)),this._attachedPortal=i,d}},{key:"attachTemplatePortal",value:function(i){var a=this,o=i.viewContainerRef,u=o.createEmbeddedView(i.templateRef,i.context);return u.rootNodes.forEach(function(d){return a.outletElement.appendChild(d)}),u.detectChanges(),this.setDisposeFn(function(){var d=o.indexOf(u);-1!==d&&o.remove(d)}),this._attachedPortal=i,u}},{key:"dispose",value:function(){(0,X.Z)((0,ne.Z)(e.prototype),"dispose",this).call(this),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}},{key:"_getComponentRootNode",value:function(i){return i.hostView.rootNodes[0]}}]),e}(Dn),Ni=function(){var n=function(r){(0,P.Z)(t,r);var e=(0,N.Z)(t);function t(i,a,o){var u,d;return(0,m.Z)(this,t),(d=e.call(this))._componentFactoryResolver=i,d._viewContainerRef=a,d._isInitialized=!1,d.attached=new s.vpe,d.attachDomPortal=function(h){var v=h.element,b=d._document.createComment("dom-portal");h.setAttachedHost((0,Lr.Z)(d)),v.parentNode.insertBefore(b,v),d._getRootNode().appendChild(v),d._attachedPortal=h,(0,X.Z)((u=(0,Lr.Z)(d),(0,ne.Z)(t.prototype)),"setDisposeFn",u).call(u,function(){b.parentNode&&b.parentNode.replaceChild(v,b)})},d._document=o,d}return(0,_.Z)(t,[{key:"portal",get:function(){return this._attachedPortal},set:function(a){this.hasAttached()&&!a&&!this._isInitialized||(this.hasAttached()&&(0,X.Z)((0,ne.Z)(t.prototype),"detach",this).call(this),a&&(0,X.Z)((0,ne.Z)(t.prototype),"attach",this).call(this,a),this._attachedPortal=a)}},{key:"attachedRef",get:function(){return this._attachedRef}},{key:"ngOnInit",value:function(){this._isInitialized=!0}},{key:"ngOnDestroy",value:function(){(0,X.Z)((0,ne.Z)(t.prototype),"dispose",this).call(this),this._attachedPortal=null,this._attachedRef=null}},{key:"attachComponentPortal",value:function(a){a.setAttachedHost(this);var o=null!=a.viewContainerRef?a.viewContainerRef:this._viewContainerRef,d=(a.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(a.component),h=o.createComponent(d,o.length,a.injector||o.injector);return o!==this._viewContainerRef&&this._getRootNode().appendChild(h.hostView.rootNodes[0]),(0,X.Z)((0,ne.Z)(t.prototype),"setDisposeFn",this).call(this,function(){return h.destroy()}),this._attachedPortal=a,this._attachedRef=h,this.attached.emit(h),h}},{key:"attachTemplatePortal",value:function(a){var o=this;a.setAttachedHost(this);var u=this._viewContainerRef.createEmbeddedView(a.templateRef,a.context);return(0,X.Z)((0,ne.Z)(t.prototype),"setDisposeFn",this).call(this,function(){return o._viewContainerRef.clear()}),this._attachedPortal=a,this._attachedRef=u,this.attached.emit(u),u}},{key:"_getRootNode",value:function(){var a=this._viewContainerRef.element.nativeElement;return a.nodeType===a.ELEMENT_NODE?a:a.parentNode}}]),t}(Dn);return n.\u0275fac=function(e){return new(e||n)(s.Y36(s._Vd),s.Y36(s.s_b),s.Y36(K))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[s.qOj]}),n}(),Ts=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n}(),uh=x(7043);function yo(n,r,e,t){return(0,uh.m)(e)&&(t=e,e=void 0),t?yo(n,r,e).pipe((0,It.U)(function(i){return(0,_u.k)(i)?t.apply(void 0,(0,Zt.Z)(i)):t(i)})):new Qn.y(function(i){H2(n,r,function a(o){i.next(arguments.length>1?Array.prototype.slice.call(arguments):o)},i,e)})}function H2(n,r,e,t,i){var a;if(function Z5(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){var o=n;n.addEventListener(r,e,i),a=function(){return o.removeEventListener(r,e,i)}}else if(function N5(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){var u=n;n.on(r,e),a=function(){return u.off(r,e)}}else if(function x5(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){var d=n;n.addListener(r,e),a=function(){return d.removeListener(r,e)}}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(var h=0,v=n.length;h<v;h++)H2(n[h],r,e,t,i)}t.add(a)}var B5=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i){var a;return(0,m.Z)(this,e),(a=r.call(this,t,i)).scheduler=t,a.work=i,a}return(0,_.Z)(e,[{key:"requestAsyncId",value:function(i,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==o&&o>0?(0,X.Z)((0,ne.Z)(e.prototype),"requestAsyncId",this).call(this,i,a,o):(i.actions.push(this),i.scheduled||(i.scheduled=requestAnimationFrame(function(){return i.flush(null)})))}},{key:"recycleAsyncId",value:function(i,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==o&&o>0||null===o&&this.delay>0)return(0,X.Z)((0,ne.Z)(e.prototype),"recycleAsyncId",this).call(this,i,a,o);0===i.actions.length&&(cancelAnimationFrame(a),i.scheduled=void 0)}}]),e}(x(6686).o),U5=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(){return(0,m.Z)(this,e),r.apply(this,arguments)}return(0,_.Z)(e,[{key:"flush",value:function(i){this.active=!0,this.scheduled=void 0;var o,a=this.actions,u=-1,d=a.length;i=i||a.shift();do{if(o=i.execute(i.state,i.delay))break}while(++u<d&&(i=a.shift()));if(this.active=!1,o){for(;++u<d&&(i=a.shift());)i.unsubscribe();throw o}}}]),e}(x(2268).v);new U5(B5);function Tc(n,r){return function(e){return e.lift(new j5(n,r))}}var j5=function(){function n(r,e){(0,m.Z)(this,n),this.compare=r,this.keySelector=e}return(0,_.Z)(n,[{key:"call",value:function(e,t){return t.subscribe(new G5(e,this.compare,this.keySelector))}}]),n}(),G5=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i,a){var o;return(0,m.Z)(this,e),(o=r.call(this,t)).keySelector=a,o.hasKey=!1,"function"==typeof i&&(o.compare=i),o}return(0,_.Z)(e,[{key:"compare",value:function(i,a){return i===a}},{key:"_next",value:function(i){var a;try{var o=this.keySelector;a=o?o(i):i}catch(h){return this.destination.error(h)}var u=!1;if(this.hasKey)try{u=(0,this.compare)(this.key,a)}catch(h){return this.destination.error(h)}else this.hasKey=!0;u||(this.key=a,this.destination.next(i))}}]),e}(Br.L);function z5(n){return function(e){return e.lift(new Y5(n))}}var Y5=function(){function n(r){(0,m.Z)(this,n),this.durationSelector=r}return(0,_.Z)(n,[{key:"call",value:function(e,t){return t.subscribe(new W5(e,this.durationSelector))}}]),n}(),W5=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i){var a;return(0,m.Z)(this,e),(a=r.call(this,t)).durationSelector=i,a.hasValue=!1,a}return(0,_.Z)(e,[{key:"_next",value:function(i){if(this.value=i,this.hasValue=!0,!this.throttled){var a;try{a=(0,this.durationSelector)(i)}catch(d){return this.destination.error(d)}var u=(0,ii.ft)(a,new ii.IY(this));!u||u.closed?this.clearThrottle():this.add(this.throttled=u)}}},{key:"clearThrottle",value:function(){var i=this.value,a=this.hasValue,o=this.throttled;o&&(this.remove(o),this.throttled=void 0,o.unsubscribe()),a&&(this.value=void 0,this.hasValue=!1,this.destination.next(i))}},{key:"notifyNext",value:function(){this.clearThrottle()}},{key:"notifyComplete",value:function(){this.clearThrottle()}}]),e}(ii.Ds),j2=x(4241);function G2(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1?arguments[1]:void 0,e=arguments.length>2?arguments[2]:void 0,t=-1;return(0,j2.k)(r)?t=Number(r)<1?1:Number(r):(0,gs.K)(r)&&(e=r),(0,gs.K)(e)||(e=Tl.P),new Qn.y(function(i){var a=(0,j2.k)(n)?n:+n-e.now();return e.schedule(q5,a,{index:0,period:t,subscriber:i})})}function q5(n){var r=n.index,e=n.period,t=n.subscriber;if(t.next(r),!t.closed){if(-1===e)return t.complete();n.index=r+1,this.schedule(n,e)}}function JD(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tl.P;return z5(function(){return G2(n,r)})}function Gb(){return function(n){return n.lift(new K5)}}var K5=function(){function n(){(0,m.Z)(this,n)}return(0,_.Z)(n,[{key:"call",value:function(e,t){return t.subscribe(new $5(e))}}]),n}(),$5=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t){var i;return(0,m.Z)(this,e),(i=r.call(this,t)).hasPrev=!1,i}return(0,_.Z)(e,[{key:"_next",value:function(i){var a;this.hasPrev?a=[this.prev,i]:this.hasPrev=!0,this.prev=i,a&&this.destination.next(a)}}]),e}(Br.L),Q5=x(341),zb=x(7770),J5=x(5283),X5=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,o=arguments.length>2?arguments[2]:void 0;return(0,m.Z)(this,e),(t=r.call(this)).scheduler=o,t._events=[],t._infiniteTimeWindow=!1,t._bufferSize=i<1?1:i,t._windowTime=a<1?1:a,a===Number.POSITIVE_INFINITY?(t._infiniteTimeWindow=!0,t.next=t.nextInfiniteTimeWindow):t.next=t.nextTimeWindow,t}return(0,_.Z)(e,[{key:"nextInfiniteTimeWindow",value:function(i){if(!this.isStopped){var a=this._events;a.push(i),a.length>this._bufferSize&&a.shift()}(0,X.Z)((0,ne.Z)(e.prototype),"next",this).call(this,i)}},{key:"nextTimeWindow",value:function(i){this.isStopped||(this._events.push(new eq(this._getNow(),i)),this._trimBufferThenGetEvents()),(0,X.Z)((0,ne.Z)(e.prototype),"next",this).call(this,i)}},{key:"_subscribe",value:function(i){var h,a=this._infiniteTimeWindow,o=a?this._events:this._trimBufferThenGetEvents(),u=this.scheduler,d=o.length;if(this.closed)throw new $h.N;if(this.isStopped||this.hasError?h=Rn.w.EMPTY:(this.observers.push(i),h=new J5.W(this,i)),u&&i.add(i=new zb.ht(i,u)),a)for(var v=0;v<d&&!i.closed;v++)i.next(o[v]);else for(var b=0;b<d&&!i.closed;b++)i.next(o[b].value);return this.hasError?i.error(this.thrownError):this.isStopped&&i.complete(),h}},{key:"_getNow",value:function(){return(this.scheduler||Q5.c).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var i=this._getNow(),a=this._bufferSize,o=this._windowTime,u=this._events,d=u.length,h=0;h<d&&!(i-u[h].time<o);)h++;return d>a&&(h=Math.max(h,d-a)),h>0&&u.splice(0,h),u}}]),e}(ft.xQ),eq=(0,_.Z)(function n(r,e){(0,m.Z)(this,n),this.time=r,this.value=e});function H1(n,r,e){var t;return t=n&&"object"==typeof n?n:{bufferSize:n,windowTime:r,refCount:!1,scheduler:e},function(i){return i.lift(function tq(n){var u,h,r=n.bufferSize,e=void 0===r?Number.POSITIVE_INFINITY:r,t=n.windowTime,i=void 0===t?Number.POSITIVE_INFINITY:t,a=n.refCount,o=n.scheduler,d=0,v=!1,b=!1;return function(I){var O;d++,!u||v?(v=!1,u=new X5(e,i,o),O=u.subscribe(this),h=I.subscribe({next:function(J){u.next(J)},error:function(J){v=!0,u.error(J)},complete:function(){b=!0,h=void 0,u.complete()}}),b&&(h=void 0)):O=u.subscribe(this),this.add(function(){d--,O.unsubscribe(),O=void 0,h&&!b&&a&&0===d&&(h.unsubscribe(),h=void 0,u=void 0)})}}(t))}}var Wb=function(){function n(){var r=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];(0,m.Z)(this,n),this._multiple=e,this._emitChanges=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new ft.xQ,t&&t.length&&(e?t.forEach(function(a){return r._markSelected(a)}):this._markSelected(t[0]),this._selectedToEmit.length=0)}return(0,_.Z)(n,[{key:"selected",get:function(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}},{key:"select",value:function(){for(var e=this,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];this._verifyValueAssignment(i),i.forEach(function(o){return e._markSelected(o)}),this._emitChangeEvent()}},{key:"deselect",value:function(){for(var e=this,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];this._verifyValueAssignment(i),i.forEach(function(o){return e._unmarkSelected(o)}),this._emitChangeEvent()}},{key:"toggle",value:function(e){this.isSelected(e)?this.deselect(e):this.select(e)}},{key:"clear",value:function(){this._unmarkAll(),this._emitChangeEvent()}},{key:"isSelected",value:function(e){return this._selection.has(e)}},{key:"isEmpty",value:function(){return 0===this._selection.size}},{key:"hasValue",value:function(){return!this.isEmpty()}},{key:"sort",value:function(e){this._multiple&&this.selected&&this._selected.sort(e)}},{key:"isMultipleSelection",value:function(){return this._multiple}},{key:"_emitChangeEvent",value:function(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}},{key:"_markSelected",value:function(e){this.isSelected(e)||(this._multiple||this._unmarkAll(),this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}},{key:"_unmarkSelected",value:function(e){this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}},{key:"_unmarkAll",value:function(){var e=this;this.isEmpty()||this._selection.forEach(function(t){return e._unmarkSelected(t)})}},{key:"_verifyValueAssignment",value:function(e){}}]),n}(),fv=function(){var n=function(){function r(e,t,i){(0,m.Z)(this,r),this._ngZone=e,this._platform=t,this._scrolled=new ft.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}return(0,_.Z)(r,[{key:"register",value:function(t){var i=this;this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(function(){return i._scrolled.next(t)}))}},{key:"deregister",value:function(t){var i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}},{key:"scrolled",value:function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return this._platform.isBrowser?new Qn.y(function(a){t._globalSubscription||t._addGlobalListener();var o=i>0?t._scrolled.pipe(JD(i)).subscribe(a):t._scrolled.subscribe(a);return t._scrolledCount++,function(){o.unsubscribe(),t._scrolledCount--,t._scrolledCount||t._removeGlobalListener()}}):(0,Ft.of)()}},{key:"ngOnDestroy",value:function(){var t=this;this._removeGlobalListener(),this.scrollContainers.forEach(function(i,a){return t.deregister(a)}),this._scrolled.complete()}},{key:"ancestorScrolled",value:function(t,i){var a=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(_n(function(o){return!o||a.indexOf(o)>-1}))}},{key:"getAncestorScrollContainers",value:function(t){var i=this,a=[];return this.scrollContainers.forEach(function(o,u){i._scrollableContainsElement(u,t)&&a.push(u)}),a}},{key:"_getWindow",value:function(){return this._document.defaultView||window}},{key:"_scrollableContainsElement",value:function(t,i){var a=Ou(i),o=t.getElementRef().nativeElement;do{if(a==o)return!0}while(a=a.parentElement);return!1}},{key:"_addGlobalListener",value:function(){var t=this;this._globalSubscription=this._ngZone.runOutsideAngular(function(){return yo(t._getWindow().document,"scroll").subscribe(function(){return t._scrolled.next()})})}},{key:"_removeGlobalListener",value:function(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}]),r}();return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(Pn),s.LFG(K,8))},n.\u0275prov=(0,s.Yz7)({factory:function(){return new n((0,s.LFG)(s.R0b),(0,s.LFG)(Pn),(0,s.LFG)(K,8))},token:n,providedIn:"root"}),n}(),As=function(){var n=function(){function r(e,t,i){var a=this;(0,m.Z)(this,r),this._platform=e,this._change=new ft.xQ,this._changeListener=function(o){a._change.next(o)},this._document=i,t.runOutsideAngular(function(){if(e.isBrowser){var o=a._getWindow();o.addEventListener("resize",a._changeListener),o.addEventListener("orientationchange",a._changeListener)}a.change().subscribe(function(){return a._updateViewportSize()})})}return(0,_.Z)(r,[{key:"ngOnDestroy",value:function(){if(this._platform.isBrowser){var t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}},{key:"getViewportSize",value:function(){this._viewportSize||this._updateViewportSize();var t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}},{key:"getViewportRect",value:function(){var t=this.getViewportScrollPosition(),i=this.getViewportSize(),a=i.width,o=i.height;return{top:t.top,left:t.left,bottom:t.top+o,right:t.left+a,height:o,width:a}}},{key:"getViewportScrollPosition",value:function(){if(!this._platform.isBrowser)return{top:0,left:0};var t=this._document,i=this._getWindow(),a=t.documentElement,o=a.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||i.scrollY||a.scrollTop||0,left:-o.left||t.body.scrollLeft||i.scrollX||a.scrollLeft||0}}},{key:"change",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return t>0?this._change.pipe(JD(t)):this._change}},{key:"_getWindow",value:function(){return this._document.defaultView||window}},{key:"_updateViewportSize",value:function(){var t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}]),r}();return n.\u0275fac=function(e){return new(e||n)(s.LFG(Pn),s.LFG(s.R0b),s.LFG(K,8))},n.\u0275prov=(0,s.Yz7)({factory:function(){return new n((0,s.LFG)(Pn),(0,s.LFG)(s.R0b),(0,s.LFG)(K,8))},token:n,providedIn:"root"}),n}(),Rd=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n}(),j1=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Qp,kd,Rd],Qp,Rd]}),n}(),pq=function(){function n(r,e){(0,m.Z)(this,n),this.predicate=r,this.inclusive=e}return(0,_.Z)(n,[{key:"call",value:function(e,t){return t.subscribe(new vq(e,this.predicate,this.inclusive))}}]),n}(),vq=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i,a){var o;return(0,m.Z)(this,e),(o=r.call(this,t)).predicate=i,o.inclusive=a,o.index=0,o}return(0,_.Z)(e,[{key:"_next",value:function(i){var o,a=this.destination;try{o=this.predicate(i,this.index++)}catch(u){return void a.error(u)}this.nextOrComplete(i,o)}},{key:"nextOrComplete",value:function(i,a){var o=this.destination;Boolean(a)?o.next(i):(this.inclusive&&o.next(i),o.complete())}}]),e}(Br.L),q2=CE(),gq=function(){function n(r,e){(0,m.Z)(this,n),this._viewportRuler=r,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}return(0,_.Z)(n,[{key:"attach",value:function(){}},{key:"enable",value:function(){if(this._canBeEnabled()){var e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=xi(-this._previousScrollPosition.left),e.style.top=xi(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}},{key:"disable",value:function(){if(this._isEnabled){var e=this._document.documentElement,i=e.style,a=this._document.body.style,o=i.scrollBehavior||"",u=a.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),q2&&(i.scrollBehavior=a.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),q2&&(i.scrollBehavior=o,a.scrollBehavior=u)}}},{key:"_canBeEnabled",value:function(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;var t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}]),n}(),mq=function(){function n(r,e,t,i){var a=this;(0,m.Z)(this,n),this._scrollDispatcher=r,this._ngZone=e,this._viewportRuler=t,this._config=i,this._scrollSubscription=null,this._detach=function(){a.disable(),a._overlayRef.hasAttached()&&a._ngZone.run(function(){return a._overlayRef.detach()})}}return(0,_.Z)(n,[{key:"attach",value:function(e){this._overlayRef=e}},{key:"enable",value:function(){var e=this;if(!this._scrollSubscription){var t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(function(){var i=e._viewportRuler.getViewportScrollPosition().top;Math.abs(i-e._initialScrollPosition)>e._config.threshold?e._detach():e._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}}},{key:"disable",value:function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}},{key:"detach",value:function(){this.disable(),this._overlayRef=null}}]),n}(),K2=function(){function n(){(0,m.Z)(this,n)}return(0,_.Z)(n,[{key:"enable",value:function(){}},{key:"disable",value:function(){}},{key:"attach",value:function(){}}]),n}();function G1(n,r){return r.some(function(e){return n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right})}function $2(n,r){return r.some(function(e){return n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right})}var _q=function(){function n(r,e,t,i){(0,m.Z)(this,n),this._scrollDispatcher=r,this._viewportRuler=e,this._ngZone=t,this._config=i,this._scrollSubscription=null}return(0,_.Z)(n,[{key:"attach",value:function(e){this._overlayRef=e}},{key:"enable",value:function(){var e=this;this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(function(){if(e._overlayRef.updatePosition(),e._config&&e._config.autoClose){var i=e._overlayRef.overlayElement.getBoundingClientRect(),a=e._viewportRuler.getViewportSize(),o=a.width,u=a.height;G1(i,[{width:o,height:u,bottom:u,right:o,top:0,left:0}])&&(e.disable(),e._ngZone.run(function(){return e._overlayRef.detach()}))}}))}},{key:"disable",value:function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}},{key:"detach",value:function(){this.disable(),this._overlayRef=null}}]),n}(),yq=function(){var n=(0,_.Z)(function r(e,t,i,a){var o=this;(0,m.Z)(this,r),this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this.noop=function(){return new K2},this.close=function(u){return new mq(o._scrollDispatcher,o._ngZone,o._viewportRuler,u)},this.block=function(){return new gq(o._viewportRuler,o._document)},this.reposition=function(u){return new _q(o._scrollDispatcher,o._viewportRuler,o._ngZone,u)},this._document=a});return n.\u0275fac=function(e){return new(e||n)(s.LFG(fv),s.LFG(As),s.LFG(s.R0b),s.LFG(K))},n.\u0275prov=(0,s.Yz7)({factory:function(){return new n((0,s.LFG)(fv),(0,s.LFG)(As),(0,s.LFG)(s.R0b),(0,s.LFG)(K))},token:n,providedIn:"root"}),n}(),Wm=(0,_.Z)(function n(r){if((0,m.Z)(this,n),this.scrollStrategy=new K2,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,r)for(var t=0,i=Object.keys(r);t<i.length;t++){var a=i[t];void 0!==r[a]&&(this[a]=r[a])}}),bq=(0,_.Z)(function n(r,e,t,i,a){(0,m.Z)(this,n),this.offsetX=t,this.offsetY=i,this.panelClass=a,this.originX=r.originX,this.originY=r.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}),kq=(0,_.Z)(function n(r,e){(0,m.Z)(this,n),this.connectionPair=r,this.scrollableViewProperties=e}),Q2=function(){var n=function(){function r(e){(0,m.Z)(this,r),this._attachedOverlays=[],this._document=e}return(0,_.Z)(r,[{key:"ngOnDestroy",value:function(){this.detach()}},{key:"add",value:function(t){this.remove(t),this._attachedOverlays.push(t)}},{key:"remove",value:function(t){var i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}]),r}();return n.\u0275fac=function(e){return new(e||n)(s.LFG(K))},n.\u0275prov=(0,s.Yz7)({factory:function(){return new n((0,s.LFG)(K))},token:n,providedIn:"root"}),n}(),wq=function(){var n=function(r){(0,P.Z)(t,r);var e=(0,N.Z)(t);function t(i){var a;return(0,m.Z)(this,t),(a=e.call(this,i))._keydownListener=function(o){for(var u=a._attachedOverlays,d=u.length-1;d>-1;d--)if(u[d]._keydownEvents.observers.length>0){u[d]._keydownEvents.next(o);break}},a}return(0,_.Z)(t,[{key:"add",value:function(a){(0,X.Z)((0,ne.Z)(t.prototype),"add",this).call(this,a),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}},{key:"detach",value:function(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}]),t}(Q2);return n.\u0275fac=function(e){return new(e||n)(s.LFG(K))},n.\u0275prov=(0,s.Yz7)({factory:function(){return new n((0,s.LFG)(K))},token:n,providedIn:"root"}),n}(),Cq=function(){var n=function(r){(0,P.Z)(t,r);var e=(0,N.Z)(t);function t(i,a){var o;return(0,m.Z)(this,t),(o=e.call(this,i))._platform=a,o._cursorStyleIsSet=!1,o._clickListener=function(u){for(var d=u.composedPath?u.composedPath()[0]:u.target,h=o._attachedOverlays.slice(),v=h.length-1;v>-1;v--){var b=h[v];if(!(b._outsidePointerEvents.observers.length<1)&&b.hasAttached()){if(b.overlayElement.contains(d))break;b._outsidePointerEvents.next(u)}}},o}return(0,_.Z)(t,[{key:"add",value:function(a){if((0,X.Z)((0,ne.Z)(t.prototype),"add",this).call(this,a),!this._isAttached){var o=this._document.body;o.addEventListener("click",this._clickListener,!0),o.addEventListener("auxclick",this._clickListener,!0),o.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=o.style.cursor,o.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}},{key:"detach",value:function(){if(this._isAttached){var a=this._document.body;a.removeEventListener("click",this._clickListener,!0),a.removeEventListener("auxclick",this._clickListener,!0),a.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(a.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}]),t}(Q2);return n.\u0275fac=function(e){return new(e||n)(s.LFG(K),s.LFG(Pn))},n.\u0275prov=(0,s.Yz7)({factory:function(){return new n((0,s.LFG)(K),(0,s.LFG)(Pn))},token:n,providedIn:"root"}),n}(),J2=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine),Kb=function(){var n=function(){function r(e,t){(0,m.Z)(this,r),this._platform=t,this._document=e}return(0,_.Z)(r,[{key:"ngOnDestroy",value:function(){var t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}},{key:"getContainerElement",value:function(){return this._containerElement||this._createContainer(),this._containerElement}},{key:"_createContainer",value:function(){var t="cdk-overlay-container";if(this._platform.isBrowser||J2)for(var i=this._document.querySelectorAll(".".concat(t,'[platform="server"], ')+".".concat(t,'[platform="test"]')),a=0;a<i.length;a++)i[a].parentNode.removeChild(i[a]);var o=this._document.createElement("div");o.classList.add(t),J2?o.setAttribute("platform","test"):this._platform.isBrowser||o.setAttribute("platform","server"),this._document.body.appendChild(o),this._containerElement=o}}]),r}();return n.\u0275fac=function(e){return new(e||n)(s.LFG(K),s.LFG(Pn))},n.\u0275prov=(0,s.Yz7)({factory:function(){return new n((0,s.LFG)(K),(0,s.LFG)(Pn))},token:n,providedIn:"root"}),n}(),Eq=function(){function n(r,e,t,i,a,o,u,d,h){var v=this;(0,m.Z)(this,n),this._portalOutlet=r,this._host=e,this._pane=t,this._config=i,this._ngZone=a,this._keyboardDispatcher=o,this._document=u,this._location=d,this._outsideClickDispatcher=h,this._backdropElement=null,this._backdropClick=new ft.xQ,this._attachments=new ft.xQ,this._detachments=new ft.xQ,this._locationChanges=Rn.w.EMPTY,this._backdropClickHandler=function(b){return v._backdropClick.next(b)},this._keydownEvents=new ft.xQ,this._outsidePointerEvents=new ft.xQ,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}return(0,_.Z)(n,[{key:"overlayElement",get:function(){return this._pane}},{key:"backdropElement",get:function(){return this._backdropElement}},{key:"hostElement",get:function(){return this._host}},{key:"attach",value:function(e){var t=this,i=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Zn(1)).subscribe(function(){t.hasAttached()&&t.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(function(){return t.dispose()})),this._outsideClickDispatcher.add(this),i}},{key:"detach",value:function(){if(this.hasAttached()){this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();var e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}}},{key:"dispose",value:function(){var e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,e&&this._detachments.next(),this._detachments.complete()}},{key:"hasAttached",value:function(){return this._portalOutlet.hasAttached()}},{key:"backdropClick",value:function(){return this._backdropClick}},{key:"attachments",value:function(){return this._attachments}},{key:"detachments",value:function(){return this._detachments}},{key:"keydownEvents",value:function(){return this._keydownEvents}},{key:"outsidePointerEvents",value:function(){return this._outsidePointerEvents}},{key:"getConfig",value:function(){return this._config}},{key:"updatePosition",value:function(){this._positionStrategy&&this._positionStrategy.apply()}},{key:"updatePositionStrategy",value:function(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}},{key:"updateSize",value:function(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}},{key:"setDirection",value:function(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}},{key:"addPanelClass",value:function(e){this._pane&&this._toggleClasses(this._pane,e,!0)}},{key:"removePanelClass",value:function(e){this._pane&&this._toggleClasses(this._pane,e,!1)}},{key:"getDirection",value:function(){var e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}},{key:"updateScrollStrategy",value:function(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}},{key:"_updateElementDirection",value:function(){this._host.setAttribute("dir",this.getDirection())}},{key:"_updateElementSize",value:function(){if(this._pane){var e=this._pane.style;e.width=xi(this._config.width),e.height=xi(this._config.height),e.minWidth=xi(this._config.minWidth),e.minHeight=xi(this._config.minHeight),e.maxWidth=xi(this._config.maxWidth),e.maxHeight=xi(this._config.maxHeight)}}},{key:"_togglePointerEvents",value:function(e){this._pane.style.pointerEvents=e?"":"none"}},{key:"_attachBackdrop",value:function(){var e=this,t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(function(){requestAnimationFrame(function(){e._backdropElement&&e._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}},{key:"_updateStackingOrder",value:function(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}},{key:"detachBackdrop",value:function(){var e=this,t=this._backdropElement;if(t){var i,a=function o(){t&&(t.removeEventListener("click",e._backdropClickHandler),t.removeEventListener("transitionend",o),t.parentNode&&t.parentNode.removeChild(t)),e._backdropElement==t&&(e._backdropElement=null),e._config.backdropClass&&e._toggleClasses(t,e._config.backdropClass,!1),clearTimeout(i)};t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(function(){t.addEventListener("transitionend",a)}),t.style.pointerEvents="none",i=this._ngZone.runOutsideAngular(function(){return setTimeout(a,500)})}}},{key:"_toggleClasses",value:function(e,t,i){var a=e.classList;Bp(t).forEach(function(o){o&&(i?a.add(o):a.remove(o))})}},{key:"_detachContentWhenStable",value:function(){var e=this;this._ngZone.runOutsideAngular(function(){var t=e._ngZone.onStable.pipe(c((0,Xn.T)(e._attachments,e._detachments))).subscribe(function(){(!e._pane||!e._host||0===e._pane.children.length)&&(e._pane&&e._config.panelClass&&e._toggleClasses(e._pane,e._config.panelClass,!1),e._host&&e._host.parentElement&&(e._previousHostParent=e._host.parentElement,e._previousHostParent.removeChild(e._host)),t.unsubscribe())})})}},{key:"_disposeScrollStrategy",value:function(){var e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}}]),n}(),X2="cdk-overlay-connected-position-bounding-box",Dq=/([A-Za-z%]+)$/,eB=function(){function n(r,e,t,i,a){(0,m.Z)(this,n),this._viewportRuler=e,this._document=t,this._platform=i,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ft.xQ,this._resizeSubscription=Rn.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(r)}return(0,_.Z)(n,[{key:"positions",get:function(){return this._preferredPositions}},{key:"attach",value:function(e){var t=this;this._validatePositions(),e.hostElement.classList.add(X2),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(function(){t._isInitialRender=!0,t.apply()})}},{key:"apply",value:function(){if(!this._isDisposed&&this._platform.isBrowser){if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();var o,d,e=this._originRect,t=this._overlayRect,i=this._viewportRect,a=[],u=(0,G.Z)(this._preferredPositions);try{for(u.s();!(d=u.n()).done;){var h=d.value,v=this._getOriginPoint(e,h),b=this._getOverlayPoint(v,t,h),k=this._getOverlayFit(b,t,i,h);if(k.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,v);this._canFitWithFlexibleDimensions(k,b,i)?a.push({position:h,origin:v,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(v,h)}):(!o||o.overlayFit.visibleArea<k.visibleArea)&&(o={overlayFit:k,overlayPoint:b,originPoint:v,position:h,overlayRect:t})}}catch(Oe){u.e(Oe)}finally{u.f()}if(a.length){var J,I=null,O=-1,q=(0,G.Z)(a);try{for(q.s();!(J=q.n()).done;){var ue=J.value,fe=ue.boundingBoxRect.width*ue.boundingBoxRect.height*(ue.position.weight||1);fe>O&&(O=fe,I=ue)}}catch(Oe){q.e(Oe)}finally{q.f()}return this._isPushed=!1,void this._applyPosition(I.position,I.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}}},{key:"detach",value:function(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}},{key:"dispose",value:function(){this._isDisposed||(this._boundingBox&&hv(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(X2),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}},{key:"reapplyLastPosition",value:function(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();var e=this._lastPosition||this._preferredPositions[0],t=this._getOriginPoint(this._originRect,e);this._applyPosition(e,t)}}},{key:"withScrollableContainers",value:function(e){return this._scrollables=e,this}},{key:"withPositions",value:function(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}},{key:"withViewportMargin",value:function(e){return this._viewportMargin=e,this}},{key:"withFlexibleDimensions",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._hasFlexibleDimensions=e,this}},{key:"withGrowAfterOpen",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._growAfterOpen=e,this}},{key:"withPush",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._canPush=e,this}},{key:"withLockedPosition",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._positionLocked=e,this}},{key:"setOrigin",value:function(e){return this._origin=e,this}},{key:"withDefaultOffsetX",value:function(e){return this._offsetX=e,this}},{key:"withDefaultOffsetY",value:function(e){return this._offsetY=e,this}},{key:"withTransformOriginOn",value:function(e){return this._transformOriginSelector=e,this}},{key:"_getOriginPoint",value:function(e,t){var i;if("center"==t.originX)i=e.left+e.width/2;else{var a=this._isRtl()?e.right:e.left,o=this._isRtl()?e.left:e.right;i="start"==t.originX?a:o}return{x:i,y:"center"==t.originY?e.top+e.height/2:"top"==t.originY?e.top:e.bottom}}},{key:"_getOverlayPoint",value:function(e,t,i){var a;return a="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,{x:e.x+a,y:e.y+("center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height)}}},{key:"_getOverlayFit",value:function(e,t,i,a){var o=nB(t),u=e.x,d=e.y,h=this._getOffset(a,"x"),v=this._getOffset(a,"y");h&&(u+=h),v&&(d+=v);var I=0-d,O=d+o.height-i.height,q=this._subtractOverflows(o.width,0-u,u+o.width-i.width),J=this._subtractOverflows(o.height,I,O),ue=q*J;return{visibleArea:ue,isCompletelyWithinViewport:o.width*o.height===ue,fitsInViewportVertically:J===o.height,fitsInViewportHorizontally:q==o.width}}},{key:"_canFitWithFlexibleDimensions",value:function(e,t,i){if(this._hasFlexibleDimensions){var a=i.bottom-t.y,o=i.right-t.x,u=tB(this._overlayRef.getConfig().minHeight),d=tB(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=u&&u<=a)&&(e.fitsInViewportHorizontally||null!=d&&d<=o)}return!1}},{key:"_pushOverlayOnScreen",value:function(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};var b,k,a=nB(t),o=this._viewportRect,u=Math.max(e.x+a.width-o.width,0),d=Math.max(e.y+a.height-o.height,0),h=Math.max(o.top-i.top-e.y,0),v=Math.max(o.left-i.left-e.x,0);return this._previousPushAmount={x:b=a.width<=o.width?v||-u:e.x<this._viewportMargin?o.left-i.left-e.x:0,y:k=a.height<=o.height?h||-d:e.y<this._viewportMargin?o.top-i.top-e.y:0},{x:e.x+b,y:e.y+k}}},{key:"_applyPosition",value:function(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){var i=this._getScrollVisibility(),a=new kq(e,i);this._positionChanges.next(a)}this._isInitialRender=!1}},{key:"_setTransformOrigin",value:function(e){if(this._transformOriginSelector){var i,t=this._boundingBox.querySelectorAll(this._transformOriginSelector),a=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(var o=0;o<t.length;o++)t[o].style.transformOrigin="".concat(i," ").concat(a)}}},{key:"_calculateBoundingBoxRect",value:function(e,t){var o,u,d,I,O,q,i=this._viewportRect,a=this._isRtl();if("top"===t.overlayY)o=i.height-(u=e.y)+this._viewportMargin;else if("bottom"===t.overlayY)o=i.height-(d=i.height-e.y+2*this._viewportMargin)+this._viewportMargin;else{var h=Math.min(i.bottom-e.y+i.top,e.y),v=this._lastBoundingBoxSize.height;u=e.y-h,(o=2*h)>v&&!this._isInitialRender&&!this._growAfterOpen&&(u=e.y-v/2)}if("end"===t.overlayX&&!a||"start"===t.overlayX&&a)q=i.width-e.x+this._viewportMargin,I=e.x-this._viewportMargin;else if("start"===t.overlayX&&!a||"end"===t.overlayX&&a)O=e.x,I=i.right-e.x;else{var J=Math.min(i.right-e.x+i.left,e.x),ue=this._lastBoundingBoxSize.width;O=e.x-J,(I=2*J)>ue&&!this._isInitialRender&&!this._growAfterOpen&&(O=e.x-ue/2)}return{top:u,left:O,bottom:d,right:q,width:I,height:o}}},{key:"_setBoundingBoxStyles",value:function(e,t){var i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));var a={};if(this._hasExactPosition())a.top=a.left="0",a.bottom=a.right=a.maxHeight=a.maxWidth="",a.width=a.height="100%";else{var o=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;a.height=xi(i.height),a.top=xi(i.top),a.bottom=xi(i.bottom),a.width=xi(i.width),a.left=xi(i.left),a.right=xi(i.right),a.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",a.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(a.maxHeight=xi(o)),u&&(a.maxWidth=xi(u))}this._lastBoundingBoxSize=i,hv(this._boundingBox.style,a)}},{key:"_resetBoundingBoxStyles",value:function(){hv(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}},{key:"_resetOverlayElementStyles",value:function(){hv(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}},{key:"_setOverlayElementStyles",value:function(e,t){var i={},a=this._hasExactPosition(),o=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(a){var d=this._viewportRuler.getViewportScrollPosition();hv(i,this._getExactOverlayY(t,e,d)),hv(i,this._getExactOverlayX(t,e,d))}else i.position="static";var h="",v=this._getOffset(t,"x"),b=this._getOffset(t,"y");v&&(h+="translateX(".concat(v,"px) ")),b&&(h+="translateY(".concat(b,"px)")),i.transform=h.trim(),u.maxHeight&&(a?i.maxHeight=xi(u.maxHeight):o&&(i.maxHeight="")),u.maxWidth&&(a?i.maxWidth=xi(u.maxWidth):o&&(i.maxWidth="")),hv(this._pane.style,i)}},{key:"_getExactOverlayY",value:function(e,t,i){var a={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i));var u=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return o.y-=u,"bottom"===e.overlayY?a.bottom="".concat(this._document.documentElement.clientHeight-(o.y+this._overlayRect.height),"px"):a.top=xi(o.y),a}},{key:"_getExactOverlayX",value:function(e,t,i){var a={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"right"==(this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left")?a.right="".concat(this._document.documentElement.clientWidth-(o.x+this._overlayRect.width),"px"):a.left=xi(o.x),a}},{key:"_getScrollVisibility",value:function(){var e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(function(a){return a.getElementRef().nativeElement.getBoundingClientRect()});return{isOriginClipped:$2(e,i),isOriginOutsideView:G1(e,i),isOverlayClipped:$2(t,i),isOverlayOutsideView:G1(t,i)}}},{key:"_subtractOverflows",value:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];return i.reduce(function(o,u){return o-Math.max(u,0)},e)}},{key:"_getNarrowedViewportRect",value:function(){var e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}},{key:"_isRtl",value:function(){return"rtl"===this._overlayRef.getDirection()}},{key:"_hasExactPosition",value:function(){return!this._hasFlexibleDimensions||this._isPushed}},{key:"_getOffset",value:function(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}},{key:"_validatePositions",value:function(){}},{key:"_addPanelClasses",value:function(e){var t=this;this._pane&&Bp(e).forEach(function(i){""!==i&&-1===t._appliedPanelClasses.indexOf(i)&&(t._appliedPanelClasses.push(i),t._pane.classList.add(i))})}},{key:"_clearPanelClasses",value:function(){var e=this;this._pane&&(this._appliedPanelClasses.forEach(function(t){e._pane.classList.remove(t)}),this._appliedPanelClasses=[])}},{key:"_getOriginRect",value:function(){var e=this._origin;if(e instanceof s.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();var t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}]),n}();function hv(n,r){for(var e in r)r.hasOwnProperty(e)&&(n[e]=r[e]);return n}function tB(n){if("number"!=typeof n&&null!=n){var r=n.split(Dq),e=(0,Z.Z)(r,2),i=e[1];return i&&"px"!==i?null:parseFloat(e[0])}return n||null}function nB(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}var Mq=function(){function n(r,e,t,i,a,o,u){(0,m.Z)(this,n),this._preferredPositions=[],this._positionStrategy=new eB(t,i,a,o,u).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(r,e),this.onPositionChange=this._positionStrategy.positionChanges}return(0,_.Z)(n,[{key:"positions",get:function(){return this._preferredPositions}},{key:"attach",value:function(e){this._overlayRef=e,this._positionStrategy.attach(e),this._direction&&(e.setDirection(this._direction),this._direction=null)}},{key:"dispose",value:function(){this._positionStrategy.dispose()}},{key:"detach",value:function(){this._positionStrategy.detach()}},{key:"apply",value:function(){this._positionStrategy.apply()}},{key:"recalculateLastPosition",value:function(){this._positionStrategy.reapplyLastPosition()}},{key:"withScrollableContainers",value:function(e){this._positionStrategy.withScrollableContainers(e)}},{key:"withFallbackPosition",value:function(e,t,i,a){var o=new bq(e,t,i,a);return this._preferredPositions.push(o),this._positionStrategy.withPositions(this._preferredPositions),this}},{key:"withDirection",value:function(e){return this._overlayRef?this._overlayRef.setDirection(e):this._direction=e,this}},{key:"withOffsetX",value:function(e){return this._positionStrategy.withDefaultOffsetX(e),this}},{key:"withOffsetY",value:function(e){return this._positionStrategy.withDefaultOffsetY(e),this}},{key:"withLockedPosition",value:function(e){return this._positionStrategy.withLockedPosition(e),this}},{key:"withPositions",value:function(e){return this._preferredPositions=e.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}},{key:"setOrigin",value:function(e){return this._positionStrategy.setOrigin(e),this}}]),n}(),rB="cdk-global-overlay-wrapper",Sq=function(){function n(){(0,m.Z)(this,n),this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}return(0,_.Z)(n,[{key:"attach",value:function(e){var t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(rB),this._isDisposed=!1}},{key:"top",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}},{key:"left",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}},{key:"bottom",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}},{key:"right",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}},{key:"width",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}},{key:"height",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}},{key:"centerHorizontally",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.left(e),this._justifyContent="center",this}},{key:"centerVertically",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.top(e),this._alignItems="center",this}},{key:"apply",value:function(){if(this._overlayRef&&this._overlayRef.hasAttached()){var e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),a=i.width,o=i.height,u=i.maxWidth,d=i.maxHeight,h=!("100%"!==a&&"100vw"!==a||u&&"100%"!==u&&"100vw"!==u),v=!("100%"!==o&&"100vh"!==o||d&&"100%"!==d&&"100vh"!==d);e.position=this._cssPosition,e.marginLeft=h?"0":this._leftOffset,e.marginTop=v?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,h?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=v?"flex-start":this._alignItems}}},{key:"dispose",value:function(){if(!this._isDisposed&&this._overlayRef){var e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(rB),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}}]),n}(),Tq=function(){var n=function(){function r(e,t,i,a){(0,m.Z)(this,r),this._viewportRuler=e,this._document=t,this._platform=i,this._overlayContainer=a}return(0,_.Z)(r,[{key:"global",value:function(){return new Sq}},{key:"connectedTo",value:function(t,i,a){return new Mq(i,a,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}},{key:"flexibleConnectedTo",value:function(t){return new eB(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}]),r}();return n.\u0275fac=function(e){return new(e||n)(s.LFG(As),s.LFG(K),s.LFG(Pn),s.LFG(Kb))},n.\u0275prov=(0,s.Yz7)({factory:function(){return new n((0,s.LFG)(As),(0,s.LFG)(K),(0,s.LFG)(Pn),(0,s.LFG)(Kb))},token:n,providedIn:"root"}),n}(),Aq=0,es=function(){var n=function(){function r(e,t,i,a,o,u,d,h,v,b,k){(0,m.Z)(this,r),this.scrollStrategies=e,this._overlayContainer=t,this._componentFactoryResolver=i,this._positionBuilder=a,this._keyboardDispatcher=o,this._injector=u,this._ngZone=d,this._document=h,this._directionality=v,this._location=b,this._outsideClickDispatcher=k}return(0,_.Z)(r,[{key:"create",value:function(t){var i=this._createHostElement(),a=this._createPaneElement(i),o=this._createPortalOutlet(a),u=new Wm(t);return u.direction=u.direction||this._directionality.value,new Eq(o,i,a,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}},{key:"position",value:function(){return this._positionBuilder}},{key:"_createPaneElement",value:function(t){var i=this._document.createElement("div");return i.id="cdk-overlay-".concat(Aq++),i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}},{key:"_createHostElement",value:function(){var t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}},{key:"_createPortalOutlet",value:function(t){return this._appRef||(this._appRef=this._injector.get(s.z2F)),new Pr(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}]),r}();return n.\u0275fac=function(e){return new(e||n)(s.LFG(yq),s.LFG(Kb),s.LFG(s._Vd),s.LFG(Tq),s.LFG(wq),s.LFG(s.zs3),s.LFG(s.R0b),s.LFG(K),s.LFG(yr),s.LFG(De),s.LFG(Cq))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n}(),Iq=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],iB=new s.OlP("cdk-connected-overlay-scroll-strategy"),Rq=function(){var n=(0,_.Z)(function r(e){(0,m.Z)(this,r),this.elementRef=e});return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n}(),aB=function(){var n=function(){function r(e,t,i,a,o){(0,m.Z)(this,r),this._overlay=e,this._dir=o,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Rn.w.EMPTY,this._attachSubscription=Rn.w.EMPTY,this._detachSubscription=Rn.w.EMPTY,this._positionSubscription=Rn.w.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new s.vpe,this.positionChange=new s.vpe,this.attach=new s.vpe,this.detach=new s.vpe,this.overlayKeydown=new s.vpe,this.overlayOutsideClick=new s.vpe,this._templatePortal=new nt(t,i),this._scrollStrategyFactory=a,this.scrollStrategy=this._scrollStrategyFactory()}return(0,_.Z)(r,[{key:"offsetX",get:function(){return this._offsetX},set:function(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}},{key:"offsetY",get:function(){return this._offsetY},set:function(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}},{key:"hasBackdrop",get:function(){return this._hasBackdrop},set:function(t){this._hasBackdrop=yt(t)}},{key:"lockPosition",get:function(){return this._lockPosition},set:function(t){this._lockPosition=yt(t)}},{key:"flexibleDimensions",get:function(){return this._flexibleDimensions},set:function(t){this._flexibleDimensions=yt(t)}},{key:"growAfterOpen",get:function(){return this._growAfterOpen},set:function(t){this._growAfterOpen=yt(t)}},{key:"push",get:function(){return this._push},set:function(t){this._push=yt(t)}},{key:"overlayRef",get:function(){return this._overlayRef}},{key:"dir",get:function(){return this._dir?this._dir.value:"ltr"}},{key:"ngOnDestroy",value:function(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}},{key:"ngOnChanges",value:function(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}},{key:"_createOverlay",value:function(){var t=this;(!this.positions||!this.positions.length)&&(this.positions=Iq);var i=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=i.attachments().subscribe(function(){return t.attach.emit()}),this._detachSubscription=i.detachments().subscribe(function(){return t.detach.emit()}),i.keydownEvents().subscribe(function(a){t.overlayKeydown.next(a),27===a.keyCode&&!t.disableClose&&!qr(a)&&(a.preventDefault(),t._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(function(a){t.overlayOutsideClick.next(a)})}},{key:"_buildConfig",value:function(){var t=this._position=this.positionStrategy||this._createPositionStrategy(),i=new Wm({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}},{key:"_updatePositionStrategy",value:function(t){var i=this,a=this.positions.map(function(o){return{originX:o.originX,originY:o.originY,overlayX:o.overlayX,overlayY:o.overlayY,offsetX:o.offsetX||i.offsetX,offsetY:o.offsetY||i.offsetY,panelClass:o.panelClass||void 0}});return t.setOrigin(this.origin.elementRef).withPositions(a).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}},{key:"_createPositionStrategy",value:function(){var t=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(t),t}},{key:"_attachOverlay",value:function(){var t=this;this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(function(i){t.backdropClick.emit(i)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function hq(n){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(e){return e.lift(new pq(n,r))}}(function(){return t.positionChange.observers.length>0})).subscribe(function(i){t.positionChange.emit(i),0===t.positionChange.observers.length&&t._positionSubscription.unsubscribe()}))}},{key:"_detachOverlay",value:function(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}]),r}();return n.\u0275fac=function(e){return new(e||n)(s.Y36(es),s.Y36(s.Rgc),s.Y36(s.s_b),s.Y36(iB),s.Y36(yr,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[s.TTD]}),n}(),Pq={provide:iB,deps:[es],useFactory:function Oq(n){return function(){return n.scrollStrategies.reposition()}}},lh=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[es,Pq],imports:[[Qp,Ts,j1],j1]}),n}(),Fq=["mat-menu-item",""],oB=["*"];function xq(n,r){if(1&n){var e=s.EpF();s.TgZ(0,"div",0),s.NdJ("keydown",function(a){return s.CHM(e),s.oxw()._handleKeydown(a)})("click",function(){return s.CHM(e),s.oxw().closed.emit("click")})("@transformMenu.start",function(a){return s.CHM(e),s.oxw()._onAnimationStart(a)})("@transformMenu.done",function(a){return s.CHM(e),s.oxw()._onAnimationDone(a)}),s.TgZ(1,"div",1),s.Hsn(2),s.qZA()()}if(2&n){var t=s.oxw();s.Q6J("id",t.panelId)("ngClass",t._classList)("@transformMenu",t._panelAnimationState),s.uIk("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}var tM={transformMenu:Kr("transformMenu",[En("void",Gt({opacity:0,transform:"scale(0.8)"})),Un("void => enter",Vn("120ms cubic-bezier(0, 0, 0.2, 1)",Gt({opacity:1,transform:"scale(1)"}))),Un("* => void",Vn("100ms 25ms linear",Gt({opacity:0})))]),fadeInItems:Kr("fadeInItems",[En("showing",Gt({opacity:1})),Un("void => *",[Gt({opacity:0}),Vn("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},sB=new s.OlP("MatMenuContent"),z1=new s.OlP("MAT_MENU_PANEL"),Nq=(0,_.Z)(function n(){(0,m.Z)(this,n)}),Zq=mo(qa(Nq)),nM=function(){var n=function(r){(0,P.Z)(t,r);var e=(0,N.Z)(t);function t(i,a,o,u){var d;return(0,m.Z)(this,t),(d=e.call(this))._elementRef=i,d._focusMonitor=o,d._parentMenu=u,d.role="menuitem",d._hovered=new ft.xQ,d._focused=new ft.xQ,d._highlighted=!1,d._triggersSubmenu=!1,u&&u.addItem&&u.addItem((0,Lr.Z)(d)),d}return(0,_.Z)(t,[{key:"focus",value:function(a,o){this._focusMonitor&&a?this._focusMonitor.focusVia(this._getHostElement(),a,o):this._getHostElement().focus(o),this._focused.next(this)}},{key:"ngAfterViewInit",value:function(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}},{key:"ngOnDestroy",value:function(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}},{key:"_getTabIndex",value:function(){return this.disabled?"-1":"0"}},{key:"_getHostElement",value:function(){return this._elementRef.nativeElement}},{key:"_checkDisabled",value:function(a){this.disabled&&(a.preventDefault(),a.stopPropagation())}},{key:"_handleMouseEnter",value:function(){this._hovered.next(this)}},{key:"getLabel",value:function(){for(var a,o,u=this._elementRef.nativeElement.cloneNode(!0),d=u.querySelectorAll("mat-icon, .material-icons"),h=0;h<d.length;h++){var v=d[h];null===(a=v.parentNode)||void 0===a||a.removeChild(v)}return(null===(o=u.textContent)||void 0===o?void 0:o.trim())||""}}]),t}(Zq);return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(K),s.Y36(Wi),s.Y36(z1,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(e,t){1&e&&s.NdJ("click",function(a){return t._checkDisabled(a)})("mouseenter",function(){return t._handleMouseEnter()}),2&e&&(s.uIk("role",t.role)("tabindex",t._getTabIndex())("aria-disabled",t.disabled.toString())("disabled",t.disabled||null),s.ekj("mat-menu-item",!0)("mat-menu-item-highlighted",t._highlighted)("mat-menu-item-submenu-trigger",t._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[s.qOj],attrs:Fq,ngContentSelectors:oB,decls:2,vars:2,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"]],template:function(e,t){1&e&&(s.F$t(),s.Hsn(0),s._UZ(1,"div",0)),2&e&&(s.xp6(1),s.Q6J("matRippleDisabled",t.disableRipple||t.disabled)("matRippleTrigger",t._getHostElement()))},directives:[_o],encapsulation:2,changeDetection:0}),n}(),uB=new s.OlP("mat-menu-default-options",{providedIn:"root",factory:function Lq(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}}),Vq=0,$b=function(){var n=function(){function r(e,t,i){(0,m.Z)(this,r),this._elementRef=e,this._ngZone=t,this._defaultOptions=i,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new s.n_E,this._tabSubscription=Rn.w.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new ft.xQ,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new s.vpe,this.close=this.closed,this.panelId="mat-menu-panel-".concat(Vq++)}return(0,_.Z)(r,[{key:"xPosition",get:function(){return this._xPosition},set:function(t){this._xPosition=t,this.setPositionClasses()}},{key:"yPosition",get:function(){return this._yPosition},set:function(t){this._yPosition=t,this.setPositionClasses()}},{key:"overlapTrigger",get:function(){return this._overlapTrigger},set:function(t){this._overlapTrigger=yt(t)}},{key:"hasBackdrop",get:function(){return this._hasBackdrop},set:function(t){this._hasBackdrop=yt(t)}},{key:"panelClass",set:function(t){var i=this,a=this._previousPanelClass;a&&a.length&&a.split(" ").forEach(function(o){i._classList[o]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(function(o){i._classList[o]=!0}),this._elementRef.nativeElement.className="")}},{key:"classList",get:function(){return this.panelClass},set:function(t){this.panelClass=t}},{key:"ngOnInit",value:function(){this.setPositionClasses()}},{key:"ngAfterContentInit",value:function(){var t=this;this._updateDirectDescendants(),this._keyManager=new Yp(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(function(){return t.closed.emit("tab")}),this._directDescendantItems.changes.pipe(Hn(this._directDescendantItems),Kn(function(i){return Xn.T.apply(void 0,(0,Zt.Z)(i.map(function(a){return a._focused})))})).subscribe(function(i){return t._keyManager.updateActiveItem(i)})}},{key:"ngOnDestroy",value:function(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}},{key:"_hovered",value:function(){return this._directDescendantItems.changes.pipe(Hn(this._directDescendantItems),Kn(function(i){return Xn.T.apply(void 0,(0,Zt.Z)(i.map(function(a){return a._hovered})))}))}},{key:"addItem",value:function(t){}},{key:"removeItem",value:function(t){}},{key:"_handleKeydown",value:function(t){var i=t.keyCode,a=this._keyManager;switch(i){case 27:qr(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:(38===i||40===i)&&a.setFocusOrigin("keyboard"),a.onKeydown(t)}}},{key:"focusFirstItem",value:function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"program";this.lazyContent?this._ngZone.onStable.pipe(Zn(1)).subscribe(function(){return t._focusFirstItem(i)}):this._focusFirstItem(i)}},{key:"_focusFirstItem",value:function(t){var i=this._keyManager;if(i.setFocusOrigin(t).setFirstItemActive(),!i.activeItem&&this._directDescendantItems.length)for(var a=this._directDescendantItems.first._getHostElement().parentElement;a;){if("menu"===a.getAttribute("role")){a.focus();break}a=a.parentElement}}},{key:"resetActiveItem",value:function(){this._keyManager.setActiveItem(-1)}},{key:"setElevation",value:function(t){var i=Math.min(4+t,24),a="mat-elevation-z".concat(i),o=Object.keys(this._classList).find(function(u){return u.startsWith("mat-elevation-z")});(!o||o===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[a]=!0,this._previousElevation=a)}},{key:"setPositionClasses",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.xPosition,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.yPosition,a=this._classList;a["mat-menu-before"]="before"===t,a["mat-menu-after"]="after"===t,a["mat-menu-above"]="above"===i,a["mat-menu-below"]="below"===i}},{key:"_startAnimation",value:function(){this._panelAnimationState="enter"}},{key:"_resetAnimation",value:function(){this._panelAnimationState="void"}},{key:"_onAnimationDone",value:function(t){this._animationDone.next(t),this._isAnimating=!1}},{key:"_onAnimationStart",value:function(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}},{key:"_updateDirectDescendants",value:function(){var t=this;this._allItems.changes.pipe(Hn(this._allItems)).subscribe(function(i){t._directDescendantItems.reset(i.filter(function(a){return a._parentMenu===t})),t._directDescendantItems.notifyOnChanges()})}}]),r}();return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(uB))},n.\u0275dir=s.lG2({type:n,contentQueries:function(e,t,i){var a;1&e&&(s.Suo(i,sB,5),s.Suo(i,nM,5),s.Suo(i,nM,4)),2&e&&(s.iGM(a=s.CRH())&&(t.lazyContent=a.first),s.iGM(a=s.CRH())&&(t._allItems=a),s.iGM(a=s.CRH())&&(t.items=a))},viewQuery:function(e,t){var i;1&e&&s.Gf(s.Rgc,5),2&e&&s.iGM(i=s.CRH())&&(t.templateRef=i.first)},inputs:{backdropClass:"backdropClass",xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{closed:"closed",close:"close"}}),n}(),Uq=function(){var n=function(r){(0,P.Z)(t,r);var e=(0,N.Z)(t);function t(i,a,o){return(0,m.Z)(this,t),e.call(this,i,a,o)}return(0,_.Z)(t)}($b);return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(uB))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(e,t){2&e&&s.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[s._Bn([{provide:z1,useExisting:n}]),s.qOj],ngContentSelectors:oB,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(e,t){1&e&&(s.F$t(),s.YNc(0,xq,3,6,"ng-template"))},directives:[Fa],styles:['mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}.mat-menu-item-submenu-trigger::after{width:0;height:0;border-style:solid;border-width:5px 0 5px 5px;border-color:transparent transparent transparent currentColor;content:"";display:inline-block;position:absolute;top:50%;right:16px;transform:translateY(-50%)}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}[dir=rtl] .mat-menu-item-submenu-trigger::after{right:auto;left:16px;transform:rotateY(180deg) translateY(-50%)}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n'],encapsulation:2,data:{animation:[tM.transformMenu,tM.fadeInItems]},changeDetection:0}),n}(),lB=new s.OlP("mat-menu-scroll-strategy"),cB={provide:lB,deps:[es],useFactory:function Hq(n){return function(){return n.scrollStrategies.reposition()}}},fB=wd({passive:!0}),jq=function(){var n=function(){function r(e,t,i,a,o,u,d,h){var v=this;(0,m.Z)(this,r),this._overlay=e,this._element=t,this._viewContainerRef=i,this._menuItemInstance=u,this._dir=d,this._focusMonitor=h,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Rn.w.EMPTY,this._hoverSubscription=Rn.w.EMPTY,this._menuCloseSubscription=Rn.w.EMPTY,this._handleTouchStart=function(b){V0(b)||(v._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new s.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new s.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=a,this._parentMaterialMenu=o instanceof $b?o:void 0,t.nativeElement.addEventListener("touchstart",this._handleTouchStart,fB),u&&(u._triggersSubmenu=this.triggersSubmenu())}return(0,_.Z)(r,[{key:"_deprecatedMatMenuTriggerFor",get:function(){return this.menu},set:function(t){this.menu=t}},{key:"menu",get:function(){return this._menu},set:function(t){var i=this;t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.subscribe(function(a){i._destroyMenu(a),("click"===a||"tab"===a)&&i._parentMaterialMenu&&i._parentMaterialMenu.closed.emit(a)})))}},{key:"ngAfterContentInit",value:function(){this._checkMenu(),this._handleHover()}},{key:"ngOnDestroy",value:function(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,fB),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}},{key:"menuOpen",get:function(){return this._menuOpen}},{key:"dir",get:function(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}},{key:"triggersSubmenu",value:function(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}},{key:"toggleMenu",value:function(){return this._menuOpen?this.closeMenu():this.openMenu()}},{key:"openMenu",value:function(){var t=this;if(!this._menuOpen){this._checkMenu();var i=this._createOverlay(),a=i.getConfig();this._setPosition(a.positionStrategy),a.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,i.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(function(){return t.closeMenu()}),this._initMenu(),this.menu instanceof $b&&this.menu._startAnimation()}}},{key:"closeMenu",value:function(){this.menu.close.emit()}},{key:"focus",value:function(t,i){this._focusMonitor&&t?this._focusMonitor.focusVia(this._element,t,i):this._element.nativeElement.focus(i)}},{key:"_destroyMenu",value:function(t){var i=this;if(this._overlayRef&&this.menuOpen){var a=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===t||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,a instanceof $b?(a._resetAnimation(),a.lazyContent?a._animationDone.pipe(_n(function(o){return"void"===o.toState}),Zn(1),c(a.lazyContent._attached)).subscribe({next:function(){return a.lazyContent.detach()},complete:function(){return i._setIsMenuOpen(!1)}}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),a.lazyContent&&a.lazyContent.detach())}}},{key:"_initMenu",value:function(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this.menu.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}},{key:"_setMenuElevation",value:function(){if(this.menu.setElevation){for(var t=0,i=this.menu.parentMenu;i;)t++,i=i.parentMenu;this.menu.setElevation(t)}}},{key:"_setIsMenuOpen",value:function(t){this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&(this._menuItemInstance._highlighted=t)}},{key:"_checkMenu",value:function(){}},{key:"_createOverlay",value:function(){if(!this._overlayRef){var t=this._getOverlayConfig();this._subscribeToPositions(t.positionStrategy),this._overlayRef=this._overlay.create(t),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}},{key:"_getOverlayConfig",value:function(){return new Wm({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:this.menu.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}},{key:"_subscribeToPositions",value:function(t){var i=this;this.menu.setPositionClasses&&t.positionChanges.subscribe(function(a){i.menu.setPositionClasses("start"===a.connectionPair.overlayX?"after":"before","top"===a.connectionPair.overlayY?"below":"above")})}},{key:"_setPosition",value:function(t){var a=(0,Z.Z)("before"===this.menu.xPosition?["end","start"]:["start","end"],2),o=a[0],u=a[1],h=(0,Z.Z)("above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],2),v=h[0],b=h[1],k=v,I=b,O=o,q=u,J=0;this.triggersSubmenu()?(q=o="before"===this.menu.xPosition?"start":"end",u=O="end"===o?"start":"end",J="bottom"===v?8:-8):this.menu.overlapTrigger||(k="top"===v?"bottom":"top",I="top"===b?"bottom":"top"),t.withPositions([{originX:o,originY:k,overlayX:O,overlayY:v,offsetY:J},{originX:u,originY:k,overlayX:q,overlayY:v,offsetY:J},{originX:o,originY:I,overlayX:O,overlayY:b,offsetY:-J},{originX:u,originY:I,overlayX:q,overlayY:b,offsetY:-J}])}},{key:"_menuClosingActions",value:function(){var t=this,i=this._overlayRef.backdropClick(),a=this._overlayRef.detachments(),o=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,Ft.of)(),u=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(_n(function(d){return d!==t._menuItemInstance}),_n(function(){return t._menuOpen})):(0,Ft.of)();return(0,Xn.T)(i,o,u,a)}},{key:"_handleMousedown",value:function(t){sm(t)||(this._openedBy=0===t.button?"mouse":void 0,this.triggersSubmenu()&&t.preventDefault())}},{key:"_handleKeydown",value:function(t){var i=t.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}},{key:"_handleClick",value:function(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}},{key:"_handleHover",value:function(){var t=this;!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(_n(function(i){return i===t._menuItemInstance&&!i.disabled}),w(0,l.E)).subscribe(function(){t._openedBy="mouse",t.menu instanceof $b&&t.menu._isAnimating?t.menu._animationDone.pipe(Zn(1),w(0,l.E),c(t._parentMaterialMenu._hovered())).subscribe(function(){return t.openMenu()}):t.openMenu()}))}},{key:"_getPortal",value:function(){return(!this._portal||this._portal.templateRef!==this.menu.templateRef)&&(this._portal=new nt(this.menu.templateRef,this._viewContainerRef)),this._portal}}]),r}();return n.\u0275fac=function(e){return new(e||n)(s.Y36(es),s.Y36(s.SBq),s.Y36(s.s_b),s.Y36(lB),s.Y36(z1,8),s.Y36(nM,10),s.Y36(yr,8),s.Y36(Wi))},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:["aria-haspopup","true",1,"mat-menu-trigger"],hostVars:2,hostBindings:function(e,t){1&e&&s.NdJ("mousedown",function(a){return t._handleMousedown(a)})("keydown",function(a){return t._handleKeydown(a)})("click",function(a){return t._handleClick(a)}),2&e&&s.uIk("aria-expanded",t.menuOpen||null)("aria-controls",t.menuOpen?t.menu.panelId:null)},inputs:{restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"],_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"]}),n}(),hB=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[cB],imports:[jt]}),n}(),pB=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[cB],imports:[[zn,jt,ru,lh,hB],Rd,jt,hB]}),n}(),Gq=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-header"]],decls:33,vars:1,consts:[[1,"example-spacer"],["onclick","window.location.href ='https://twitter.com/intent/tweet?text=%23NODs'","mat-icon-button","","aria-label","Example icon-button with heart icon",1,"example-icon","favorite-icon"],["mat-icon-button","","aria-label","Example icon-button with share icon",1,"example-icon"],["ID","menubtn","mat-button","",3,"matMenuTriggerFor"],["menu","matMenu"],["ID","btn1","mat-menu-item",""],["ID","btn2","mat-menu-item",""],["ID","btn3","mat-menu-item",""],["ID","btn4","mat-menu-item",""],["ID","btn5","mat-menu-item",""],["ID","btn6","mat-menu-item",""]],template:function(e,t){if(1&e&&(s.TgZ(0,"mat-toolbar")(1,"span"),s._uU(2,"NOD's"),s.qZA(),s._UZ(3,"span",0),s.TgZ(4,"button",1)(5,"mat-icon"),s._uU(6,"public"),s.qZA()(),s.TgZ(7,"button",2)(8,"mat-icon"),s._uU(9,"share"),s.qZA()(),s.TgZ(10,"button",3)(11,"mat-icon"),s._uU(12,"info"),s.qZA()(),s.TgZ(13,"mat-menu",null,4)(15,"button",5)(16,"mat-icon"),s._uU(17,"school"),s.qZA()(),s.TgZ(18,"button",6)(19,"mat-icon"),s._uU(20,"local_grocery_store"),s.qZA()(),s.TgZ(21,"button",7)(22,"mat-icon"),s._uU(23,"fitness_center"),s.qZA()(),s.TgZ(24,"button",8)(25,"mat-icon"),s._uU(26,"group"),s.qZA()(),s.TgZ(27,"button",9)(28,"mat-icon"),s._uU(29,"whatshot"),s.qZA()(),s.TgZ(30,"button",10)(31,"mat-icon"),s._uU(32,"flash_on"),s.qZA()()()()),2&e){var i=s.MAs(14);s.xp6(10),s.Q6J("matMenuTriggerFor",i)}},directives:[WD,Pl,$D,jq,Uq,nM],styles:["#btn1.mat-menu-item[_ngcontent-%COMP%]{background-color:#dce6ff;color:#000}#btn2.mat-menu-item[_ngcontent-%COMP%]{background-color:#dcffe7;color:#000}#btn3.mat-menu-item[_ngcontent-%COMP%]{background-color:#feffdc;color:#000}#btn4.mat-menu-item[_ngcontent-%COMP%]{background-color:#ffdcdc;color:#000}#btn5.mat-menu-item[_ngcontent-%COMP%]{background-color:#f7dcff;color:#000}#btn6.mat-menu-item[_ngcontent-%COMP%]{background-color:#dcfffb;color:#000}#menubtn.mat-button[_ngcontent-%COMP%]{margin-left:auto;width:auto}"]}),n}(),zq=["underline"],Yq=["connectionContainer"],Wq=["inputContainer"],qq=["label"];function Kq(n,r){1&n&&(s.ynx(0),s.TgZ(1,"div",14),s._UZ(2,"div",15)(3,"div",16)(4,"div",17),s.qZA(),s.TgZ(5,"div",18),s._UZ(6,"div",15)(7,"div",16)(8,"div",17),s.qZA(),s.BQk())}function $q(n,r){1&n&&(s.TgZ(0,"div",19),s.Hsn(1,1),s.qZA())}function Qq(n,r){if(1&n&&(s.ynx(0),s.Hsn(1,2),s.TgZ(2,"span"),s._uU(3),s.qZA(),s.BQk()),2&n){var e=s.oxw(2);s.xp6(3),s.Oqu(e._control.placeholder)}}function Jq(n,r){1&n&&s.Hsn(0,3,["*ngSwitchCase","true"])}function Xq(n,r){1&n&&(s.TgZ(0,"span",23),s._uU(1," *"),s.qZA())}function e8(n,r){if(1&n){var e=s.EpF();s.TgZ(0,"label",20,21),s.NdJ("cdkObserveContent",function(){return s.CHM(e),s.oxw().updateOutlineGap()}),s.YNc(2,Qq,4,1,"ng-container",12),s.YNc(3,Jq,1,0,"ng-content",12),s.YNc(4,Xq,2,0,"span",22),s.qZA()}if(2&n){var t=s.oxw();s.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),s.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),s.uIk("for",t._control.id)("aria-owns",t._control.id),s.xp6(2),s.Q6J("ngSwitchCase",!1),s.xp6(1),s.Q6J("ngSwitchCase",!0),s.xp6(1),s.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function t8(n,r){1&n&&(s.TgZ(0,"div",24),s.Hsn(1,4),s.qZA())}function n8(n,r){if(1&n&&(s.TgZ(0,"div",25,26),s._UZ(2,"span",27),s.qZA()),2&n){var e=s.oxw();s.xp6(2),s.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function r8(n,r){if(1&n&&(s.TgZ(0,"div"),s.Hsn(1,5),s.qZA()),2&n){var e=s.oxw();s.Q6J("@transitionMessages",e._subscriptAnimationState)}}function i8(n,r){if(1&n&&(s.TgZ(0,"div",31),s._uU(1),s.qZA()),2&n){var e=s.oxw(2);s.Q6J("id",e._hintLabelId),s.xp6(1),s.Oqu(e.hintLabel)}}function a8(n,r){if(1&n&&(s.TgZ(0,"div",28),s.YNc(1,i8,2,2,"div",29),s.Hsn(2,6),s._UZ(3,"div",30),s.Hsn(4,7),s.qZA()),2&n){var e=s.oxw();s.Q6J("@transitionMessages",e._subscriptAnimationState),s.xp6(1),s.Q6J("ngIf",e.hintLabel)}}var o8=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],s8=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],vB=new s.OlP("MatError"),l8={transitionMessages:Kr("transitionMessages",[En("enter",Gt({opacity:1,transform:"translateY(0%)"})),Un("void => enter",[Gt({opacity:0,transform:"translateY(-5px)"}),Vn("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},qm=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n}),n}(),gB=new s.OlP("MatHint"),Y1=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-label"]]}),n}(),d8=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-placeholder"]]}),n}(),mB=new s.OlP("MatPrefix"),_B=new s.OlP("MatSuffix"),f8=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","matSuffix",""]],features:[s._Bn([{provide:_B,useExisting:n}])]}),n}(),yB=0,p8=(0,_.Z)(function n(r){(0,m.Z)(this,n),this._elementRef=r}),v8=qi(p8,"primary"),g8=new s.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Km=new s.OlP("MatFormField"),kB=function(){var n=function(r){(0,P.Z)(t,r);var e=(0,N.Z)(t);function t(i,a,o,u,d,h,v,b){var k;return(0,m.Z)(this,t),(k=e.call(this,i))._elementRef=i,k._changeDetectorRef=a,k._dir=u,k._defaults=d,k._platform=h,k._ngZone=v,k._outlineGapCalculationNeededImmediately=!1,k._outlineGapCalculationNeededOnStable=!1,k._destroyed=new ft.xQ,k._showAlwaysAnimate=!1,k._subscriptAnimationState="",k._hintLabel="",k._hintLabelId="mat-hint-".concat(yB++),k._labelId="mat-form-field-label-".concat(yB++),k.floatLabel=k._getDefaultFloatLabelState(),k._animationsEnabled="NoopAnimations"!==b,k.appearance=d&&d.appearance?d.appearance:"legacy",k._hideRequiredMarker=!(!d||null==d.hideRequiredMarker)&&d.hideRequiredMarker,k}return(0,_.Z)(t,[{key:"appearance",get:function(){return this._appearance},set:function(a){var o=this._appearance;this._appearance=a||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&o!==a&&(this._outlineGapCalculationNeededOnStable=!0)}},{key:"hideRequiredMarker",get:function(){return this._hideRequiredMarker},set:function(a){this._hideRequiredMarker=yt(a)}},{key:"_shouldAlwaysFloat",value:function(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}},{key:"_canLabelFloat",value:function(){return"never"!==this.floatLabel}},{key:"hintLabel",get:function(){return this._hintLabel},set:function(a){this._hintLabel=a,this._processHints()}},{key:"floatLabel",get:function(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel},set:function(a){a!==this._floatLabel&&(this._floatLabel=a||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}},{key:"_control",get:function(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic},set:function(a){this._explicitFormFieldControl=a}},{key:"getLabelId",value:function(){return this._hasFloatingLabel()?this._labelId:null}},{key:"getConnectedOverlayOrigin",value:function(){return this._connectionContainerRef||this._elementRef}},{key:"ngAfterContentInit",value:function(){var a=this;this._validateControlChild();var o=this._control;o.controlType&&this._elementRef.nativeElement.classList.add("mat-form-field-type-".concat(o.controlType)),o.stateChanges.pipe(Hn(null)).subscribe(function(){a._validatePlaceholders(),a._syncDescribedByIds(),a._changeDetectorRef.markForCheck()}),o.ngControl&&o.ngControl.valueChanges&&o.ngControl.valueChanges.pipe(c(this._destroyed)).subscribe(function(){return a._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(function(){a._ngZone.onStable.pipe(c(a._destroyed)).subscribe(function(){a._outlineGapCalculationNeededOnStable&&a.updateOutlineGap()})}),(0,Xn.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(function(){a._outlineGapCalculationNeededOnStable=!0,a._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Hn(null)).subscribe(function(){a._processHints(),a._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Hn(null)).subscribe(function(){a._syncDescribedByIds(),a._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(c(this._destroyed)).subscribe(function(){"function"==typeof requestAnimationFrame?a._ngZone.runOutsideAngular(function(){requestAnimationFrame(function(){return a.updateOutlineGap()})}):a.updateOutlineGap()})}},{key:"ngAfterContentChecked",value:function(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}},{key:"ngAfterViewInit",value:function(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}},{key:"ngOnDestroy",value:function(){this._destroyed.next(),this._destroyed.complete()}},{key:"_shouldForward",value:function(a){var o=this._control?this._control.ngControl:null;return o&&o[a]}},{key:"_hasPlaceholder",value:function(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}},{key:"_hasLabel",value:function(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}},{key:"_shouldLabelFloat",value:function(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}},{key:"_hideControlPlaceholder",value:function(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}},{key:"_hasFloatingLabel",value:function(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}},{key:"_getDisplayedMessages",value:function(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}},{key:"_animateAndLockLabel",value:function(){var a=this;this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,yo(this._label.nativeElement,"transitionend").pipe(Zn(1)).subscribe(function(){a._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}},{key:"_validatePlaceholders",value:function(){}},{key:"_processHints",value:function(){this._validateHints(),this._syncDescribedByIds()}},{key:"_validateHints",value:function(){}},{key:"_getDefaultFloatLabelState",value:function(){return this._defaults&&this._defaults.floatLabel||"auto"}},{key:"_syncDescribedByIds",value:function(){if(this._control){var a=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&a.push.apply(a,(0,Zt.Z)(this._control.userAriaDescribedBy.split(" "))),"hint"===this._getDisplayedMessages()){var o=this._hintChildren?this._hintChildren.find(function(d){return"start"===d.align}):null,u=this._hintChildren?this._hintChildren.find(function(d){return"end"===d.align}):null;o?a.push(o.id):this._hintLabel&&a.push(this._hintLabelId),u&&a.push(u.id)}else this._errorChildren&&a.push.apply(a,(0,Zt.Z)(this._errorChildren.map(function(d){return d.id})));this._control.setDescribedByIds(a)}}},{key:"_validateControlChild",value:function(){}},{key:"updateOutlineGap",value:function(){var a=this._label?this._label.nativeElement:null;if("outline"===this.appearance&&a&&a.children.length&&a.textContent.trim()&&this._platform.isBrowser){if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);var o=0,u=0,d=this._connectionContainerRef.nativeElement,h=d.querySelectorAll(".mat-form-field-outline-start"),v=d.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){var b=d.getBoundingClientRect();if(0===b.width&&0===b.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);for(var k=this._getStartEnd(b),I=a.children,O=this._getStartEnd(I[0].getBoundingClientRect()),q=0,J=0;J<I.length;J++)q+=I[J].offsetWidth;o=Math.abs(O-k)-5,u=q>0?.75*q+10:0}for(var ue=0;ue<h.length;ue++)h[ue].style.width="".concat(o,"px");for(var fe=0;fe<v.length;fe++)v[fe].style.width="".concat(u,"px");this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}}},{key:"_getStartEnd",value:function(a){return this._dir&&"rtl"===this._dir.value?a.right:a.left}},{key:"_isAttachedToDOM",value:function(){var a=this._elementRef.nativeElement;if(a.getRootNode){var o=a.getRootNode();return o&&o!==a}return document.documentElement.contains(a)}}]),t}(v8);return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(yr,8),s.Y36(g8,8),s.Y36(Pn),s.Y36(s.R0b),s.Y36(sr,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,t,i){var a;1&e&&(s.Suo(i,qm,5),s.Suo(i,qm,7),s.Suo(i,Y1,5),s.Suo(i,Y1,7),s.Suo(i,d8,5),s.Suo(i,vB,5),s.Suo(i,gB,5),s.Suo(i,mB,5),s.Suo(i,_B,5)),2&e&&(s.iGM(a=s.CRH())&&(t._controlNonStatic=a.first),s.iGM(a=s.CRH())&&(t._controlStatic=a.first),s.iGM(a=s.CRH())&&(t._labelChildNonStatic=a.first),s.iGM(a=s.CRH())&&(t._labelChildStatic=a.first),s.iGM(a=s.CRH())&&(t._placeholderChild=a.first),s.iGM(a=s.CRH())&&(t._errorChildren=a),s.iGM(a=s.CRH())&&(t._hintChildren=a),s.iGM(a=s.CRH())&&(t._prefixChildren=a),s.iGM(a=s.CRH())&&(t._suffixChildren=a))},viewQuery:function(e,t){var i;1&e&&(s.Gf(zq,5),s.Gf(Yq,7),s.Gf(Wq,5),s.Gf(qq,5)),2&e&&(s.iGM(i=s.CRH())&&(t.underlineRef=i.first),s.iGM(i=s.CRH())&&(t._connectionContainerRef=i.first),s.iGM(i=s.CRH())&&(t._inputContainerRef=i.first),s.iGM(i=s.CRH())&&(t._label=i.first))},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,t){2&e&&s.ekj("mat-form-field-appearance-standard","standard"==t.appearance)("mat-form-field-appearance-fill","fill"==t.appearance)("mat-form-field-appearance-outline","outline"==t.appearance)("mat-form-field-appearance-legacy","legacy"==t.appearance)("mat-form-field-invalid",t._control.errorState)("mat-form-field-can-float",t._canLabelFloat())("mat-form-field-should-float",t._shouldLabelFloat())("mat-form-field-has-label",t._hasFloatingLabel())("mat-form-field-hide-placeholder",t._hideControlPlaceholder())("mat-form-field-disabled",t._control.disabled)("mat-form-field-autofilled",t._control.autofilled)("mat-focused",t._control.focused)("ng-untouched",t._shouldForward("untouched"))("ng-touched",t._shouldForward("touched"))("ng-pristine",t._shouldForward("pristine"))("ng-dirty",t._shouldForward("dirty"))("ng-valid",t._shouldForward("valid"))("ng-invalid",t._shouldForward("invalid"))("ng-pending",t._shouldForward("pending"))("_mat-animation-noopable",!t._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[s._Bn([{provide:Km,useExisting:n}]),s.qOj],ngContentSelectors:s8,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,t){1&e&&(s.F$t(o8),s.TgZ(0,"div",0)(1,"div",1,2),s.NdJ("click",function(a){return t._control.onContainerClick&&t._control.onContainerClick(a)}),s.YNc(3,Kq,9,0,"ng-container",3),s.YNc(4,$q,2,0,"div",4),s.TgZ(5,"div",5,6),s.Hsn(7),s.TgZ(8,"span",7),s.YNc(9,e8,5,16,"label",8),s.qZA()(),s.YNc(10,t8,2,0,"div",9),s.qZA(),s.YNc(11,n8,3,4,"div",10),s.TgZ(12,"div",11),s.YNc(13,r8,2,1,"div",12),s.YNc(14,a8,5,2,"div",13),s.qZA()()),2&e&&(s.xp6(3),s.Q6J("ngIf","outline"==t.appearance),s.xp6(1),s.Q6J("ngIf",t._prefixChildren.length),s.xp6(5),s.Q6J("ngIf",t._hasFloatingLabel()),s.xp6(1),s.Q6J("ngIf",t._suffixChildren.length),s.xp6(1),s.Q6J("ngIf","outline"!=t.appearance),s.xp6(1),s.Q6J("ngSwitch",t._getDisplayedMessages()),s.xp6(1),s.Q6J("ngSwitchCase","error"),s.xp6(1),s.Q6J("ngSwitchCase","hint"))},directives:[Nr,hi,Hp,ka],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[l8.transitionMessages]},changeDetection:0}),n}(),Qb=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[zn,jt,jp],jt]}),n}(),wB=wd({passive:!0}),CB=function(){var n=function(){function r(e,t){(0,m.Z)(this,r),this._platform=e,this._ngZone=t,this._monitoredElements=new Map}return(0,_.Z)(r,[{key:"monitor",value:function(t){var i=this;if(!this._platform.isBrowser)return Ti.E;var a=Ou(t),o=this._monitoredElements.get(a);if(o)return o.subject;var u=new ft.xQ,d="cdk-text-field-autofilled",h=function(b){"cdk-text-field-autofill-start"!==b.animationName||a.classList.contains(d)?"cdk-text-field-autofill-end"===b.animationName&&a.classList.contains(d)&&(a.classList.remove(d),i._ngZone.run(function(){return u.next({target:b.target,isAutofilled:!1})})):(a.classList.add(d),i._ngZone.run(function(){return u.next({target:b.target,isAutofilled:!0})}))};return this._ngZone.runOutsideAngular(function(){a.addEventListener("animationstart",h,wB),a.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(a,{subject:u,unlisten:function(){a.removeEventListener("animationstart",h,wB)}}),u}},{key:"stopMonitoring",value:function(t){var i=Ou(t),a=this._monitoredElements.get(i);a&&(a.unlisten(),a.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}},{key:"ngOnDestroy",value:function(){var t=this;this._monitoredElements.forEach(function(i,a){return t.stopMonitoring(a)})}}]),r}();return n.\u0275fac=function(e){return new(e||n)(s.LFG(Pn),s.LFG(s.R0b))},n.\u0275prov=(0,s.Yz7)({factory:function(){return new n((0,s.LFG)(Pn),(0,s.LFG)(s.R0b))},token:n,providedIn:"root"}),n}(),EB=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[kd]]}),n}(),DB=new s.OlP("MAT_INPUT_VALUE_ACCESSOR"),_8=["button","checkbox","file","hidden","image","radio","range","reset","submit"],y8=0,b8=(0,_.Z)(function n(r,e,t,i){(0,m.Z)(this,n),this._defaultErrorStateMatcher=r,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i}),k8=Om(b8),w8=function(){var n=function(r){(0,P.Z)(t,r);var e=(0,N.Z)(t);function t(i,a,o,u,d,h,v,b,k,I){var O;(0,m.Z)(this,t),(O=e.call(this,h,u,d,o))._elementRef=i,O._platform=a,O.ngControl=o,O._autofillMonitor=b,O._formField=I,O._uid="mat-input-".concat(y8++),O.focused=!1,O.stateChanges=new ft.xQ,O.controlType="mat-input",O.autofilled=!1,O._disabled=!1,O._required=!1,O._type="text",O._readonly=!1,O._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(function(ue){return wE().has(ue)});var q=O._elementRef.nativeElement,J=q.nodeName.toLowerCase();return O._inputValueAccessor=v||q,O._previousNativeValue=O.value,O.id=O.id,a.IOS&&k.runOutsideAngular(function(){i.nativeElement.addEventListener("keyup",function(ue){var fe=ue.target;!fe.value&&!fe.selectionStart&&!fe.selectionEnd&&(fe.setSelectionRange(1,1),fe.setSelectionRange(0,0))})}),O._isServer=!O._platform.isBrowser,O._isNativeSelect="select"===J,O._isTextarea="textarea"===J,O._isNativeSelect&&(O.controlType=q.multiple?"mat-native-select-multiple":"mat-native-select"),O}return(0,_.Z)(t,[{key:"disabled",get:function(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled},set:function(a){this._disabled=yt(a),this.focused&&(this.focused=!1,this.stateChanges.next())}},{key:"id",get:function(){return this._id},set:function(a){this._id=a||this._uid}},{key:"required",get:function(){return this._required},set:function(a){this._required=yt(a)}},{key:"type",get:function(){return this._type},set:function(a){this._type=a||"text",this._validateType(),!this._isTextarea&&wE().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}},{key:"value",get:function(){return this._inputValueAccessor.value},set:function(a){a!==this.value&&(this._inputValueAccessor.value=a,this.stateChanges.next())}},{key:"readonly",get:function(){return this._readonly},set:function(a){this._readonly=yt(a)}},{key:"ngAfterViewInit",value:function(){var a=this;this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(function(o){a.autofilled=o.isAutofilled,a.stateChanges.next()})}},{key:"ngOnChanges",value:function(){this.stateChanges.next()}},{key:"ngOnDestroy",value:function(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}},{key:"ngDoCheck",value:function(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}},{key:"focus",value:function(a){this._elementRef.nativeElement.focus(a)}},{key:"_focusChanged",value:function(a){a!==this.focused&&(!this.readonly||!a)&&(this.focused=a,this.stateChanges.next())}},{key:"_onInput",value:function(){}},{key:"_dirtyCheckPlaceholder",value:function(){var a,o,u=(null===(o=null===(a=this._formField)||void 0===a?void 0:a._hideControlPlaceholder)||void 0===o?void 0:o.call(a))?null:this.placeholder;if(u!==this._previousPlaceholder){var d=this._elementRef.nativeElement;this._previousPlaceholder=u,u?d.setAttribute("placeholder",u):d.removeAttribute("placeholder")}}},{key:"_dirtyCheckNativeValue",value:function(){var a=this._elementRef.nativeElement.value;this._previousNativeValue!==a&&(this._previousNativeValue=a,this.stateChanges.next())}},{key:"_validateType",value:function(){_8.indexOf(this._type)}},{key:"_isNeverEmpty",value:function(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}},{key:"_isBadInput",value:function(){var a=this._elementRef.nativeElement.validity;return a&&a.badInput}},{key:"empty",get:function(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}},{key:"shouldLabelFloat",get:function(){if(this._isNativeSelect){var a=this._elementRef.nativeElement,o=a.options[0];return this.focused||a.multiple||!this.empty||!!(a.selectedIndex>-1&&o&&o.label)}return this.focused||!this.empty}},{key:"setDescribedByIds",value:function(a){a.length?this._elementRef.nativeElement.setAttribute("aria-describedby",a.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}},{key:"onContainerClick",value:function(){this.focused||this.focus()}}]),t}(k8);return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Pn),s.Y36(Es,10),s.Y36(Au,8),s.Y36(El,8),s.Y36(nu),s.Y36(DB,10),s.Y36(CB),s.Y36(s.R0b),s.Y36(Km,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(e,t){1&e&&s.NdJ("focus",function(){return t._focusChanged(!0)})("blur",function(){return t._focusChanged(!1)})("input",function(){return t._onInput()}),2&e&&(s.Ikx("disabled",t.disabled)("required",t.required),s.uIk("id",t.id)("data-placeholder",t.placeholder)("readonly",t.readonly&&!t._isNativeSelect||null)("aria-invalid",t.errorState&&!t.empty)("aria-required",t.required),s.ekj("mat-input-server",t._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[s._Bn([{provide:qm,useExisting:n}]),s.qOj,s.TTD]}),n}(),MB=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[nu],imports:[[EB,Qb,jt],EB,Qb]}),n}(),C8=["trigger"],E8=["panel"];function D8(n,r){if(1&n&&(s.TgZ(0,"span",8),s._uU(1),s.qZA()),2&n){var e=s.oxw();s.xp6(1),s.Oqu(e.placeholder)}}function M8(n,r){if(1&n&&(s.TgZ(0,"span",12),s._uU(1),s.qZA()),2&n){var e=s.oxw(2);s.xp6(1),s.Oqu(e.triggerValue)}}function S8(n,r){1&n&&s.Hsn(0,0,["*ngSwitchCase","true"])}function T8(n,r){if(1&n&&(s.TgZ(0,"span",9),s.YNc(1,M8,2,1,"span",10),s.YNc(2,S8,1,0,"ng-content",11),s.qZA()),2&n){var e=s.oxw();s.Q6J("ngSwitch",!!e.customTrigger),s.xp6(2),s.Q6J("ngSwitchCase",!0)}}function A8(n,r){if(1&n){var e=s.EpF();s.TgZ(0,"div",13)(1,"div",14,15),s.NdJ("@transformPanel.done",function(a){return s.CHM(e),s.oxw()._panelDoneAnimatingStream.next(a.toState)})("keydown",function(a){return s.CHM(e),s.oxw()._handleKeydown(a)}),s.Hsn(3,1),s.qZA()()}if(2&n){var t=s.oxw();s.Q6J("@transformPanelWrap",void 0),s.xp6(1),s.Gre("mat-select-panel ",t._getPanelTheme(),""),s.Udp("transform-origin",t._transformOrigin)("font-size",t._triggerFontSize,"px"),s.Q6J("ngClass",t.panelClass)("@transformPanel",t.multiple?"showing-multiple":"showing"),s.uIk("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}var I8=[[["mat-select-trigger"]],"*"],R8=["mat-select-trigger","*"],SB={transformPanelWrap:Kr("transformPanelWrap",[Un("* => void",HE("@transformPanel",[UE()],{optional:!0}))]),transformPanel:Kr("transformPanel",[En("void",Gt({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),En("showing",Gt({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),En("showing-multiple",Gt({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Un("void => *",Vn("120ms cubic-bezier(0, 0, 0.2, 1)")),Un("* => void",Vn("100ms 25ms linear",Gt({opacity:0})))])},TB=0,IB=new s.OlP("mat-select-scroll-strategy"),x8=new s.OlP("MAT_SELECT_CONFIG"),N8={provide:IB,deps:[es],useFactory:function F8(n){return function(){return n.scrollStrategies.reposition()}}},Z8=(0,_.Z)(function n(r,e){(0,m.Z)(this,n),this.source=r,this.value=e}),L8=(0,_.Z)(function n(r,e,t,i,a){(0,m.Z)(this,n),this._elementRef=r,this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=i,this.ngControl=a}),B8=mo(xu(qa(Om(L8)))),RB=new s.OlP("MatSelectTrigger"),V8=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-select-trigger"]],features:[s._Bn([{provide:RB,useExisting:n}])]}),n}(),U8=function(){var n=function(r){(0,P.Z)(t,r);var e=(0,N.Z)(t);function t(i,a,o,u,d,h,v,b,k,I,O,q,J,ue){var fe,Oe,Ze,je;return(0,m.Z)(this,t),(fe=e.call(this,d,u,v,b,I))._viewportRuler=i,fe._changeDetectorRef=a,fe._ngZone=o,fe._dir=h,fe._parentFormField=k,fe.ngControl=I,fe._liveAnnouncer=J,fe._defaultOptions=ue,fe._panelOpen=!1,fe._compareWith=function(lt,ct){return lt===ct},fe._uid="mat-select-".concat(TB++),fe._triggerAriaLabelledBy=null,fe._destroy=new ft.xQ,fe._onChange=function(){},fe._onTouched=function(){},fe._valueId="mat-select-value-".concat(TB++),fe._panelDoneAnimatingStream=new ft.xQ,fe._overlayPanelClass=(null===(Oe=fe._defaultOptions)||void 0===Oe?void 0:Oe.overlayPanelClass)||"",fe._focused=!1,fe.controlType="mat-select",fe._required=!1,fe._multiple=!1,fe._disableOptionCentering=null!==(je=null===(Ze=fe._defaultOptions)||void 0===Ze?void 0:Ze.disableOptionCentering)&&void 0!==je&&je,fe.ariaLabel="",fe.optionSelectionChanges=ho(function(){var lt=fe.options;return lt?lt.changes.pipe(Hn(lt),Kn(function(){return Xn.T.apply(void 0,(0,Zt.Z)(lt.map(function(ct){return ct.onSelectionChange})))})):fe._ngZone.onStable.pipe(Zn(1),Kn(function(){return fe.optionSelectionChanges}))}),fe.openedChange=new s.vpe,fe._openedStream=fe.openedChange.pipe(_n(function(lt){return lt}),(0,It.U)(function(){})),fe._closedStream=fe.openedChange.pipe(_n(function(lt){return!lt}),(0,It.U)(function(){})),fe.selectionChange=new s.vpe,fe.valueChange=new s.vpe,fe.ngControl&&(fe.ngControl.valueAccessor=(0,Lr.Z)(fe)),null!=(null==ue?void 0:ue.typeaheadDebounceInterval)&&(fe._typeaheadDebounceInterval=ue.typeaheadDebounceInterval),fe._scrollStrategyFactory=q,fe._scrollStrategy=fe._scrollStrategyFactory(),fe.tabIndex=parseInt(O)||0,fe.id=fe.id,fe}return(0,_.Z)(t,[{key:"focused",get:function(){return this._focused||this._panelOpen}},{key:"placeholder",get:function(){return this._placeholder},set:function(a){this._placeholder=a,this.stateChanges.next()}},{key:"required",get:function(){return this._required},set:function(a){this._required=yt(a),this.stateChanges.next()}},{key:"multiple",get:function(){return this._multiple},set:function(a){this._multiple=yt(a)}},{key:"disableOptionCentering",get:function(){return this._disableOptionCentering},set:function(a){this._disableOptionCentering=yt(a)}},{key:"compareWith",get:function(){return this._compareWith},set:function(a){this._compareWith=a,this._selectionModel&&this._initializeSelection()}},{key:"value",get:function(){return this._value},set:function(a){(a!==this._value||this._multiple&&Array.isArray(a))&&(this.options&&this._setSelectionByValue(a),this._value=a)}},{key:"typeaheadDebounceInterval",get:function(){return this._typeaheadDebounceInterval},set:function(a){this._typeaheadDebounceInterval=Yn(a)}},{key:"id",get:function(){return this._id},set:function(a){this._id=a||this._uid,this.stateChanges.next()}},{key:"ngOnInit",value:function(){var a=this;this._selectionModel=new Wb(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Tc(),c(this._destroy)).subscribe(function(){return a._panelDoneAnimating(a.panelOpen)})}},{key:"ngAfterContentInit",value:function(){var a=this;this._initKeyManager(),this._selectionModel.changed.pipe(c(this._destroy)).subscribe(function(o){o.added.forEach(function(u){return u.select()}),o.removed.forEach(function(u){return u.deselect()})}),this.options.changes.pipe(Hn(null),c(this._destroy)).subscribe(function(){a._resetOptions(),a._initializeSelection()})}},{key:"ngDoCheck",value:function(){var a=this._getTriggerAriaLabelledby();if(a!==this._triggerAriaLabelledBy){var o=this._elementRef.nativeElement;this._triggerAriaLabelledBy=a,a?o.setAttribute("aria-labelledby",a):o.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}},{key:"ngOnChanges",value:function(a){a.disabled&&this.stateChanges.next(),a.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}},{key:"ngOnDestroy",value:function(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}},{key:"toggle",value:function(){this.panelOpen?this.close():this.open()}},{key:"open",value:function(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}},{key:"close",value:function(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}},{key:"writeValue",value:function(a){this.value=a}},{key:"registerOnChange",value:function(a){this._onChange=a}},{key:"registerOnTouched",value:function(a){this._onTouched=a}},{key:"setDisabledState",value:function(a){this.disabled=a,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}},{key:"panelOpen",get:function(){return this._panelOpen}},{key:"selected",get:function(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}},{key:"triggerValue",get:function(){if(this.empty)return"";if(this._multiple){var a=this._selectionModel.selected.map(function(o){return o.viewValue});return this._isRtl()&&a.reverse(),a.join(", ")}return this._selectionModel.selected[0].viewValue}},{key:"_isRtl",value:function(){return!!this._dir&&"rtl"===this._dir.value}},{key:"_handleKeydown",value:function(a){this.disabled||(this.panelOpen?this._handleOpenKeydown(a):this._handleClosedKeydown(a))}},{key:"_handleClosedKeydown",value:function(a){var o=a.keyCode,u=40===o||38===o||37===o||39===o,d=13===o||32===o,h=this._keyManager;if(!h.isTyping()&&d&&!qr(a)||(this.multiple||a.altKey)&&u)a.preventDefault(),this.open();else if(!this.multiple){var v=this.selected;h.onKeydown(a);var b=this.selected;b&&v!==b&&this._liveAnnouncer.announce(b.viewValue,1e4)}}},{key:"_handleOpenKeydown",value:function(a){var o=this._keyManager,u=a.keyCode,d=40===u||38===u,h=o.isTyping();if(d&&a.altKey)a.preventDefault(),this.close();else if(h||13!==u&&32!==u||!o.activeItem||qr(a))if(!h&&this._multiple&&65===u&&a.ctrlKey){a.preventDefault();var v=this.options.some(function(k){return!k.disabled&&!k.selected});this.options.forEach(function(k){k.disabled||(v?k.select():k.deselect())})}else{var b=o.activeItemIndex;o.onKeydown(a),this._multiple&&d&&a.shiftKey&&o.activeItem&&o.activeItemIndex!==b&&o.activeItem._selectViaInteraction()}else a.preventDefault(),o.activeItem._selectViaInteraction()}},{key:"_onFocus",value:function(){this.disabled||(this._focused=!0,this.stateChanges.next())}},{key:"_onBlur",value:function(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}},{key:"_onAttached",value:function(){var a=this;this.overlayDir.positionChange.pipe(Zn(1)).subscribe(function(){a._changeDetectorRef.detectChanges(),a._positioningSettled()})}},{key:"_getPanelTheme",value:function(){return this._parentFormField?"mat-".concat(this._parentFormField.color):""}},{key:"empty",get:function(){return!this._selectionModel||this._selectionModel.isEmpty()}},{key:"_initializeSelection",value:function(){var a=this;Promise.resolve().then(function(){a._setSelectionByValue(a.ngControl?a.ngControl.value:a._value),a.stateChanges.next()})}},{key:"_setSelectionByValue",value:function(a){var o=this;if(this._selectionModel.selected.forEach(function(d){return d.setInactiveStyles()}),this._selectionModel.clear(),this.multiple&&a)Array.isArray(a),a.forEach(function(d){return o._selectValue(d)}),this._sortValues();else{var u=this._selectValue(a);u?this._keyManager.updateActiveItem(u):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}},{key:"_selectValue",value:function(a){var o=this,u=this.options.find(function(d){if(o._selectionModel.isSelected(d))return!1;try{return null!=d.value&&o._compareWith(d.value,a)}catch(h){return!1}});return u&&this._selectionModel.select(u),u}},{key:"_initKeyManager",value:function(){var a=this;this._keyManager=new Ed(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(c(this._destroy)).subscribe(function(){a.panelOpen&&(!a.multiple&&a._keyManager.activeItem&&a._keyManager.activeItem._selectViaInteraction(),a.focus(),a.close())}),this._keyManager.change.pipe(c(this._destroy)).subscribe(function(){a._panelOpen&&a.panel?a._scrollOptionIntoView(a._keyManager.activeItemIndex||0):!a._panelOpen&&!a.multiple&&a._keyManager.activeItem&&a._keyManager.activeItem._selectViaInteraction()})}},{key:"_resetOptions",value:function(){var a=this,o=(0,Xn.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(c(o)).subscribe(function(u){a._onSelect(u.source,u.isUserInput),u.isUserInput&&!a.multiple&&a._panelOpen&&(a.close(),a.focus())}),Xn.T.apply(void 0,(0,Zt.Z)(this.options.map(function(u){return u._stateChanges}))).pipe(c(o)).subscribe(function(){a._changeDetectorRef.markForCheck(),a.stateChanges.next()})}},{key:"_onSelect",value:function(a,o){var u=this._selectionModel.isSelected(a);null!=a.value||this._multiple?(u!==a.selected&&(a.selected?this._selectionModel.select(a):this._selectionModel.deselect(a)),o&&this._keyManager.setActiveItem(a),this.multiple&&(this._sortValues(),o&&this.focus())):(a.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(a.value)),u!==this._selectionModel.isSelected(a)&&this._propagateChanges(),this.stateChanges.next()}},{key:"_sortValues",value:function(){var a=this;if(this.multiple){var o=this.options.toArray();this._selectionModel.sort(function(u,d){return a.sortComparator?a.sortComparator(u,d,o):o.indexOf(u)-o.indexOf(d)}),this.stateChanges.next()}}},{key:"_propagateChanges",value:function(a){var o;o=this.multiple?this.selected.map(function(u){return u.value}):this.selected?this.selected.value:a,this._value=o,this.valueChange.emit(o),this._onChange(o),this.selectionChange.emit(this._getChangeEvent(o)),this._changeDetectorRef.markForCheck()}},{key:"_highlightCorrectOption",value:function(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}},{key:"_canOpen",value:function(){var a;return!this._panelOpen&&!this.disabled&&(null===(a=this.options)||void 0===a?void 0:a.length)>0}},{key:"focus",value:function(a){this._elementRef.nativeElement.focus(a)}},{key:"_getPanelAriaLabelledby",value:function(){var a;if(this.ariaLabel)return null;var o=null===(a=this._parentFormField)||void 0===a?void 0:a.getLabelId();return this.ariaLabelledby?(o?o+" ":"")+this.ariaLabelledby:o}},{key:"_getAriaActiveDescendant",value:function(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}},{key:"_getTriggerAriaLabelledby",value:function(){var a;if(this.ariaLabel)return null;var o=null===(a=this._parentFormField)||void 0===a?void 0:a.getLabelId(),u=(o?o+" ":"")+this._valueId;return this.ariaLabelledby&&(u+=" "+this.ariaLabelledby),u}},{key:"_panelDoneAnimating",value:function(a){this.openedChange.emit(a)}},{key:"setDescribedByIds",value:function(a){this._ariaDescribedby=a.join(" ")}},{key:"onContainerClick",value:function(){this.focus(),this.open()}},{key:"shouldLabelFloat",get:function(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}]),t}(B8);return n.\u0275fac=function(e){return new(e||n)(s.Y36(As),s.Y36(s.sBO),s.Y36(s.R0b),s.Y36(nu),s.Y36(s.SBq),s.Y36(yr,8),s.Y36(Au,8),s.Y36(El,8),s.Y36(Km,8),s.Y36(Es,10),s.$8M("tabindex"),s.Y36(IB),s.Y36(B0),s.Y36(x8,8))},n.\u0275dir=s.lG2({type:n,viewQuery:function(e,t){var i;1&e&&(s.Gf(C8,5),s.Gf(E8,5),s.Gf(aB,5)),2&e&&(s.iGM(i=s.CRH())&&(t.trigger=i.first),s.iGM(i=s.CRH())&&(t.panel=i.first),s.iGM(i=s.CRH())&&(t.overlayDir=i.first))},inputs:{ariaLabel:["aria-label","ariaLabel"],id:"id",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",typeaheadDebounceInterval:"typeaheadDebounceInterval",panelClass:"panelClass",ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",sortComparator:"sortComparator"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[s.qOj,s.TTD]}),n}(),OB=function(){var n=function(r){(0,P.Z)(t,r);var e=(0,N.Z)(t);function t(){var i;return(0,m.Z)(this,t),(i=e.apply(this,arguments))._scrollTop=0,i._triggerFontSize=0,i._transformOrigin="top",i._offsetY=0,i._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}],i}return(0,_.Z)(t,[{key:"_calculateOverlayScroll",value:function(a,o,u){var d=this._getItemHeight();return Math.min(Math.max(0,d*a-o+d/2),u)}},{key:"ngOnInit",value:function(){var a=this;(0,X.Z)((0,ne.Z)(t.prototype),"ngOnInit",this).call(this),this._viewportRuler.change().pipe(c(this._destroy)).subscribe(function(){a.panelOpen&&(a._triggerRect=a.trigger.nativeElement.getBoundingClientRect(),a._changeDetectorRef.markForCheck())})}},{key:"open",value:function(){var a=this;(0,X.Z)((0,ne.Z)(t.prototype),"_canOpen",this).call(this)&&((0,X.Z)((0,ne.Z)(t.prototype),"open",this).call(this),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(Zn(1)).subscribe(function(){a._triggerFontSize&&a.overlayDir.overlayRef&&a.overlayDir.overlayRef.overlayElement&&(a.overlayDir.overlayRef.overlayElement.style.fontSize="".concat(a._triggerFontSize,"px"))}))}},{key:"_scrollOptionIntoView",value:function(a){var o=YD(a,this.options,this.optionGroups),u=this._getItemHeight();this.panel.nativeElement.scrollTop=function Sc(n,r,e,t){return n<e?n:n+r>e+t?Math.max(0,n-t+r):e}((a+o)*u,u,this.panel.nativeElement.scrollTop,256)}},{key:"_positioningSettled",value:function(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}},{key:"_panelDoneAnimating",value:function(a){this.panelOpen?this._scrollTop=0:(this.overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),(0,X.Z)((0,ne.Z)(t.prototype),"_panelDoneAnimating",this).call(this,a)}},{key:"_getChangeEvent",value:function(a){return new Z8(this,a)}},{key:"_calculateOverlayOffsetX",value:function(){var h,a=this.overlayDir.overlayRef.overlayElement.getBoundingClientRect(),o=this._viewportRuler.getViewportSize(),u=this._isRtl(),d=this.multiple?56:32;if(this.multiple)h=40;else if(this.disableOptionCentering)h=16;else{var v=this._selectionModel.selected[0]||this.options.first;h=v&&v.group?32:16}u||(h*=-1);var b=0-(a.left+h-(u?d:0)),k=a.right+h-o.width+(u?0:d);b>0?h+=b+8:k>0&&(h-=k+8),this.overlayDir.offsetX=Math.round(h),this.overlayDir.overlayRef.updatePosition()}},{key:"_calculateOverlayOffsetY",value:function(a,o,u){var b,d=this._getItemHeight(),h=(d-this._triggerRect.height)/2,v=Math.floor(256/d);return this.disableOptionCentering?0:(b=0===this._scrollTop?a*d:this._scrollTop===u?(a-(this._getItemCount()-v))*d+(d-(this._getItemCount()*d-256)%d):o-d/2,Math.round(-1*b-h))}},{key:"_checkOverlayWithinViewport",value:function(a){var o=this._getItemHeight(),u=this._viewportRuler.getViewportSize(),d=this._triggerRect.top-8,h=u.height-this._triggerRect.bottom-8,v=Math.abs(this._offsetY),k=Math.min(this._getItemCount()*o,256)-v-this._triggerRect.height;k>h?this._adjustPanelUp(k,h):v>d?this._adjustPanelDown(v,d,a):this._transformOrigin=this._getOriginBasedOnOption()}},{key:"_adjustPanelUp",value:function(a,o){var u=Math.round(a-o);this._scrollTop-=u,this._offsetY-=u,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}},{key:"_adjustPanelDown",value:function(a,o,u){var d=Math.round(a-o);if(this._scrollTop+=d,this._offsetY+=d,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=u)return this._scrollTop=u,this._offsetY=0,void(this._transformOrigin="50% top 0px")}},{key:"_calculateOverlayPosition",value:function(){var v,a=this._getItemHeight(),o=this._getItemCount(),u=Math.min(o*a,256),h=o*a-u;v=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),v+=YD(v,this.options,this.optionGroups);var b=u/2;this._scrollTop=this._calculateOverlayScroll(v,b,h),this._offsetY=this._calculateOverlayOffsetY(v,b,h),this._checkOverlayWithinViewport(h)}},{key:"_getOriginBasedOnOption",value:function(){var a=this._getItemHeight(),o=(a-this._triggerRect.height)/2,u=Math.abs(this._offsetY)-o+a/2;return"50% ".concat(u,"px 0px")}},{key:"_getItemHeight",value:function(){return 3*this._triggerFontSize}},{key:"_getItemCount",value:function(){return this.options.length+this.optionGroups.length}}]),t}(U8);return n.\u0275fac=function(){var r;return function(t){return(r||(r=s.n5z(n)))(t||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(e,t,i){var a;1&e&&(s.Suo(i,RB,5),s.Suo(i,Um,5),s.Suo(i,Pb,5)),2&e&&(s.iGM(a=s.CRH())&&(t.customTrigger=a.first),s.iGM(a=s.CRH())&&(t.options=a),s.iGM(a=s.CRH())&&(t.optionGroups=a))},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(e,t){1&e&&s.NdJ("keydown",function(a){return t._handleKeydown(a)})("focus",function(){return t._onFocus()})("blur",function(){return t._onBlur()}),2&e&&(s.uIk("id",t.id)("tabindex",t.tabIndex)("aria-controls",t.panelOpen?t.id+"-panel":null)("aria-expanded",t.panelOpen)("aria-label",t.ariaLabel||null)("aria-required",t.required.toString())("aria-disabled",t.disabled.toString())("aria-invalid",t.errorState)("aria-describedby",t._ariaDescribedby||null)("aria-activedescendant",t._getAriaActiveDescendant()),s.ekj("mat-select-disabled",t.disabled)("mat-select-invalid",t.errorState)("mat-select-required",t.required)("mat-select-empty",t.empty)("mat-select-multiple",t.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[s._Bn([{provide:qm,useExisting:n},{provide:Bm,useExisting:n}]),s.qOj],ngContentSelectors:R8,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,t){if(1&e&&(s.F$t(I8),s.TgZ(0,"div",0,1),s.NdJ("click",function(){return t.toggle()}),s.TgZ(3,"div",2),s.YNc(4,D8,2,1,"span",3),s.YNc(5,T8,3,2,"span",4),s.qZA(),s.TgZ(6,"div",5),s._UZ(7,"div",6),s.qZA()(),s.YNc(8,A8,4,14,"ng-template",7),s.NdJ("backdropClick",function(){return t.close()})("attach",function(){return t._onAttached()})("detach",function(){return t.close()})),2&e){var i=s.MAs(1);s.uIk("aria-owns",t.panelOpen?t.id+"-panel":null),s.xp6(3),s.Q6J("ngSwitch",t.empty),s.uIk("id",t._valueId),s.xp6(1),s.Q6J("ngSwitchCase",!0),s.xp6(1),s.Q6J("ngSwitchCase",!1),s.xp6(3),s.Q6J("cdkConnectedOverlayPanelClass",t._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",t._scrollStrategy)("cdkConnectedOverlayOrigin",i)("cdkConnectedOverlayOpen",t.panelOpen)("cdkConnectedOverlayPositions",t._positions)("cdkConnectedOverlayMinWidth",null==t._triggerRect?null:t._triggerRect.width)("cdkConnectedOverlayOffsetY",t._offsetY)}},directives:[Rq,hi,ka,xa,aB,Fa],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px}\n'],encapsulation:2,data:{animation:[SB.transformPanelWrap,SB.transformPanel]},changeDetection:0}),n}(),W1=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[N8],imports:[[zn,lh,dv,jt],Rd,Qb,dv,jt]}),n}();function H8(n,r){}var q1=(0,_.Z)(function n(){(0,m.Z)(this,n),this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}),j8={dialogContainer:Kr("dialogContainer",[En("void, exit",Gt({opacity:0,transform:"scale(0.7)"})),En("enter",Gt({transform:"none"})),Un("* => enter",Vn("150ms cubic-bezier(0, 0, 0.2, 1)",Gt({transform:"none",opacity:1}))),Un("* => void, * => exit",Vn("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Gt({opacity:0})))])},G8=function(){var n=function(r){(0,P.Z)(t,r);var e=(0,N.Z)(t);function t(i,a,o,u,d,h){var v;return(0,m.Z)(this,t),(v=e.call(this))._elementRef=i,v._focusTrapFactory=a,v._changeDetectorRef=o,v._config=d,v._focusMonitor=h,v._animationStateChanged=new s.vpe,v._elementFocusedBeforeDialogWasOpened=null,v._closeInteractionType=null,v.attachDomPortal=function(b){return v._portalOutlet.hasAttached(),v._portalOutlet.attachDomPortal(b)},v._ariaLabelledBy=d.ariaLabelledBy||null,v._document=u,v}return(0,_.Z)(t,[{key:"_initializeWithAttachedContent",value:function(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}},{key:"attachComponentPortal",value:function(a){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(a)}},{key:"attachTemplatePortal",value:function(a){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(a)}},{key:"_recaptureFocus",value:function(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}},{key:"_trapFocus",value:function(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}},{key:"_restoreFocus",value:function(){var a=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&a&&"function"==typeof a.focus){var o=this._getActiveElement(),u=this._elementRef.nativeElement;(!o||o===this._document.body||o===u||u.contains(o))&&(this._focusMonitor?(this._focusMonitor.focusVia(a,this._closeInteractionType),this._closeInteractionType=null):a.focus())}this._focusTrap&&this._focusTrap.destroy()}},{key:"_setupFocusTrap",value:function(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}},{key:"_capturePreviouslyFocusedElement",value:function(){this._document&&(this._elementFocusedBeforeDialogWasOpened=this._getActiveElement())}},{key:"_focusDialogContainer",value:function(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}},{key:"_containsFocus",value:function(){var a=this._elementRef.nativeElement,o=this._getActiveElement();return a===o||a.contains(o)}},{key:"_getActiveElement",value:function(){var a,o=this._document.activeElement;return(null===(a=null==o?void 0:o.shadowRoot)||void 0===a?void 0:a.activeElement)||o}}]),t}(Dn);return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(qp),s.Y36(s.sBO),s.Y36(K,8),s.Y36(q1),s.Y36(Wi))},n.\u0275dir=s.lG2({type:n,viewQuery:function(e,t){var i;1&e&&s.Gf(Ni,7),2&e&&s.iGM(i=s.CRH())&&(t._portalOutlet=i.first)},features:[s.qOj]}),n}(),z8=function(){var n=function(r){(0,P.Z)(t,r);var e=(0,N.Z)(t);function t(){var i;return(0,m.Z)(this,t),(i=e.apply(this,arguments))._state="enter",i}return(0,_.Z)(t,[{key:"_onAnimationDone",value:function(a){var o=a.toState,u=a.totalTime;"enter"===o?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:u})):"exit"===o&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:u}))}},{key:"_onAnimationStart",value:function(a){var o=a.toState,u=a.totalTime;"enter"===o?this._animationStateChanged.next({state:"opening",totalTime:u}):("exit"===o||"void"===o)&&this._animationStateChanged.next({state:"closing",totalTime:u})}},{key:"_startExitAnimation",value:function(){this._state="exit",this._changeDetectorRef.markForCheck()}}]),t}(G8);return n.\u0275fac=function(){var r;return function(t){return(r||(r=s.n5z(n)))(t||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,t){1&e&&s.WFA("@dialogContainer.start",function(a){return t._onAnimationStart(a)})("@dialogContainer.done",function(a){return t._onAnimationDone(a)}),2&e&&(s.Ikx("id",t._id),s.uIk("role",t._config.role)("aria-labelledby",t._config.ariaLabel?null:t._ariaLabelledBy)("aria-label",t._config.ariaLabel)("aria-describedby",t._config.ariaDescribedBy||null),s.d8E("@dialogContainer",t._state))},features:[s.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,t){1&e&&s.YNc(0,H8,0,0,"ng-template",0)},directives:[Ni],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[j8.dialogContainer]}}),n}(),Y8=0,K1=function(){function n(r,e){var t=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"mat-dialog-".concat(Y8++);(0,m.Z)(this,n),this._overlayRef=r,this._containerInstance=e,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new ft.xQ,this._afterClosed=new ft.xQ,this._beforeClosed=new ft.xQ,this._state=0,e._id=i,e._animationStateChanged.pipe(_n(function(a){return"opened"===a.state}),Zn(1)).subscribe(function(){t._afterOpened.next(),t._afterOpened.complete()}),e._animationStateChanged.pipe(_n(function(a){return"closed"===a.state}),Zn(1)).subscribe(function(){clearTimeout(t._closeFallbackTimeout),t._finishDialogClose()}),r.detachments().subscribe(function(){t._beforeClosed.next(t._result),t._beforeClosed.complete(),t._afterClosed.next(t._result),t._afterClosed.complete(),t.componentInstance=null,t._overlayRef.dispose()}),r.keydownEvents().pipe(_n(function(a){return 27===a.keyCode&&!t.disableClose&&!qr(a)})).subscribe(function(a){a.preventDefault(),$1(t,"keyboard")}),r.backdropClick().subscribe(function(){t.disableClose?t._containerInstance._recaptureFocus():$1(t,"mouse")})}return(0,_.Z)(n,[{key:"close",value:function(e){var t=this;this._result=e,this._containerInstance._animationStateChanged.pipe(_n(function(i){return"closing"===i.state}),Zn(1)).subscribe(function(i){t._beforeClosed.next(e),t._beforeClosed.complete(),t._overlayRef.detachBackdrop(),t._closeFallbackTimeout=setTimeout(function(){return t._finishDialogClose()},i.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}},{key:"afterOpened",value:function(){return this._afterOpened}},{key:"afterClosed",value:function(){return this._afterClosed}},{key:"beforeClosed",value:function(){return this._beforeClosed}},{key:"backdropClick",value:function(){return this._overlayRef.backdropClick()}},{key:"keydownEvents",value:function(){return this._overlayRef.keydownEvents()}},{key:"updatePosition",value:function(e){var t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this}},{key:"updateSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this._overlayRef.updateSize({width:e,height:t}),this._overlayRef.updatePosition(),this}},{key:"addPanelClass",value:function(e){return this._overlayRef.addPanelClass(e),this}},{key:"removePanelClass",value:function(e){return this._overlayRef.removePanelClass(e),this}},{key:"getState",value:function(){return this._state}},{key:"_finishDialogClose",value:function(){this._state=2,this._overlayRef.dispose()}},{key:"_getPositionStrategy",value:function(){return this._overlayRef.getConfig().positionStrategy}}]),n}();function $1(n,r,e){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=r),n.close(e)}var W8=new s.OlP("MatDialogData"),q8=new s.OlP("mat-dialog-default-options"),PB=new s.OlP("mat-dialog-scroll-strategy"),$8={provide:PB,deps:[es],useFactory:function K8(n){return function(){return n.scrollStrategies.block()}}},Q8=function(){var n=function(){function r(e,t,i,a,o,u,d,h,v){var b=this;(0,m.Z)(this,r),this._overlay=e,this._injector=t,this._defaultOptions=i,this._parentDialog=a,this._overlayContainer=o,this._dialogRefConstructor=d,this._dialogContainerType=h,this._dialogDataToken=v,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ft.xQ,this._afterOpenedAtThisLevel=new ft.xQ,this._ariaHiddenElements=new Map,this.afterAllClosed=ho(function(){return b.openDialogs.length?b._getAfterAllClosed():b._getAfterAllClosed().pipe(Hn(void 0))}),this._scrollStrategy=u}return(0,_.Z)(r,[{key:"openDialogs",get:function(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}},{key:"afterOpened",get:function(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}},{key:"_getAfterAllClosed",value:function(){var t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}},{key:"open",value:function(t,i){var a=this;i=function J8(n,r){return Object.assign(Object.assign({},r),n)}(i,this._defaultOptions||new q1),i.id&&this.getDialogById(i.id);var o=this._createOverlay(i),u=this._attachDialogContainer(o,i),d=this._attachDialogContent(t,u,o,i);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(d),d.afterClosed().subscribe(function(){return a._removeOpenDialog(d)}),this.afterOpened.next(d),u._initializeWithAttachedContent(),d}},{key:"closeAll",value:function(){this._closeDialogs(this.openDialogs)}},{key:"getDialogById",value:function(t){return this.openDialogs.find(function(i){return i.id===t})}},{key:"ngOnDestroy",value:function(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}},{key:"_createOverlay",value:function(t){var i=this._getOverlayConfig(t);return this._overlay.create(i)}},{key:"_getOverlayConfig",value:function(t){var i=new Wm({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(i.backdropClass=t.backdropClass),i}},{key:"_attachDialogContainer",value:function(t,i){var o=s.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:q1,useValue:i}]}),u=new xt(this._dialogContainerType,i.viewContainerRef,o,i.componentFactoryResolver);return t.attach(u).instance}},{key:"_attachDialogContent",value:function(t,i,a,o){var u=new this._dialogRefConstructor(a,i,o.id);if(t instanceof s.Rgc)i.attachTemplatePortal(new nt(t,null,{$implicit:o.data,dialogRef:u}));else{var d=this._createInjector(o,u,i),h=i.attachComponentPortal(new xt(t,o.viewContainerRef,d));u.componentInstance=h.instance}return u.updateSize(o.width,o.height).updatePosition(o.position),u}},{key:"_createInjector",value:function(t,i,a){var o=t&&t.viewContainerRef&&t.viewContainerRef.injector,u=[{provide:this._dialogContainerType,useValue:a},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:i}];return t.direction&&(!o||!o.get(yr,null))&&u.push({provide:yr,useValue:{value:t.direction,change:(0,Ft.of)()}}),s.zs3.create({parent:o||this._injector,providers:u})}},{key:"_removeOpenDialog",value:function(t){var i=this.openDialogs.indexOf(t);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach(function(a,o){a?o.setAttribute("aria-hidden",a):o.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}},{key:"_hideNonDialogContentFromAssistiveTechnology",value:function(){var t=this._overlayContainer.getContainerElement();if(t.parentElement)for(var i=t.parentElement.children,a=i.length-1;a>-1;a--){var o=i[a];o!==t&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}},{key:"_closeDialogs",value:function(t){for(var i=t.length;i--;)t[i].close()}}]),r}();return n.\u0275fac=function(e){return new(e||n)(s.Y36(es),s.Y36(s.zs3),s.Y36(void 0),s.Y36(void 0),s.Y36(Kb),s.Y36(void 0),s.Y36(s.DyG),s.Y36(s.DyG),s.Y36(s.OlP))},n.\u0275dir=s.lG2({type:n}),n}(),iM=function(){var n=function(r){(0,P.Z)(t,r);var e=(0,N.Z)(t);function t(i,a,o,u,d,h,v){return(0,m.Z)(this,t),e.call(this,i,a,u,h,v,d,K1,z8,W8)}return(0,_.Z)(t)}(Q8);return n.\u0275fac=function(e){return new(e||n)(s.LFG(es),s.LFG(s.zs3),s.LFG(De,8),s.LFG(q8,8),s.LFG(PB),s.LFG(n,12),s.LFG(Kb))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n}(),Q1=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[iM,$8],imports:[[lh,Ts,jt],jt]}),n}(),eK=["mat-calendar-body",""];function tK(n,r){if(1&n&&(s.TgZ(0,"tr",2)(1,"td",3),s._uU(2),s.qZA()()),2&n){var e=s.oxw();s.xp6(1),s.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),s.uIk("colspan",e.numCols),s.xp6(1),s.hij(" ",e.label," ")}}function nK(n,r){if(1&n&&(s.TgZ(0,"td",7),s._uU(1),s.qZA()),2&n){var e=s.oxw(2);s.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),s.uIk("colspan",e._firstRowOffset),s.xp6(1),s.hij(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function rK(n,r){if(1&n){var e=s.EpF();s.TgZ(0,"td",8),s.NdJ("click",function(d){var v=s.CHM(e).$implicit;return s.oxw(2)._cellClicked(v,d)}),s.TgZ(1,"div",9),s._uU(2),s.qZA(),s._UZ(3,"div",10),s.qZA()}if(2&n){var t=r.$implicit,i=r.index,a=s.oxw().index,o=s.oxw();s.Udp("width",o._cellWidth)("padding-top",o._cellPadding)("padding-bottom",o._cellPadding),s.ekj("mat-calendar-body-disabled",!t.enabled)("mat-calendar-body-active",o._isActiveCell(a,i))("mat-calendar-body-range-start",o._isRangeStart(t.compareValue))("mat-calendar-body-range-end",o._isRangeEnd(t.compareValue))("mat-calendar-body-in-range",o._isInRange(t.compareValue))("mat-calendar-body-comparison-bridge-start",o._isComparisonBridgeStart(t.compareValue,a,i))("mat-calendar-body-comparison-bridge-end",o._isComparisonBridgeEnd(t.compareValue,a,i))("mat-calendar-body-comparison-start",o._isComparisonStart(t.compareValue))("mat-calendar-body-comparison-end",o._isComparisonEnd(t.compareValue))("mat-calendar-body-in-comparison-range",o._isInComparisonRange(t.compareValue))("mat-calendar-body-preview-start",o._isPreviewStart(t.compareValue))("mat-calendar-body-preview-end",o._isPreviewEnd(t.compareValue))("mat-calendar-body-in-preview",o._isInPreview(t.compareValue)),s.Q6J("ngClass",t.cssClasses)("tabindex",o._isActiveCell(a,i)?0:-1),s.uIk("data-mat-row",a)("data-mat-col",i)("aria-label",t.ariaLabel)("aria-disabled",!t.enabled||null)("aria-selected",o._isSelected(t.compareValue)),s.xp6(1),s.ekj("mat-calendar-body-selected",o._isSelected(t.compareValue))("mat-calendar-body-comparison-identical",o._isComparisonIdentical(t.compareValue))("mat-calendar-body-today",o.todayValue===t.compareValue),s.xp6(1),s.hij(" ",t.displayValue," ")}}function iK(n,r){if(1&n&&(s.TgZ(0,"tr",4),s.YNc(1,nK,2,6,"td",5),s.YNc(2,rK,4,46,"td",6),s.qZA()),2&n){var e=r.$implicit,t=r.index,i=s.oxw();s.xp6(1),s.Q6J("ngIf",0===t&&i._firstRowOffset),s.xp6(1),s.Q6J("ngForOf",e)}}function aK(n,r){if(1&n&&(s.TgZ(0,"th",5),s._uU(1),s.qZA()),2&n){var e=r.$implicit;s.uIk("aria-label",e.long),s.xp6(1),s.Oqu(e.narrow)}}var xB=["*"];function oK(n,r){}function sK(n,r){if(1&n){var e=s.EpF();s.TgZ(0,"mat-month-view",5),s.NdJ("activeDateChange",function(a){return s.CHM(e),s.oxw().activeDate=a})("_userSelection",function(a){return s.CHM(e),s.oxw()._dateSelected(a)}),s.qZA()}if(2&n){var t=s.oxw();s.Q6J("activeDate",t.activeDate)("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)("comparisonStart",t.comparisonStart)("comparisonEnd",t.comparisonEnd)}}function uK(n,r){if(1&n){var e=s.EpF();s.TgZ(0,"mat-year-view",6),s.NdJ("activeDateChange",function(a){return s.CHM(e),s.oxw().activeDate=a})("monthSelected",function(a){return s.CHM(e),s.oxw()._monthSelectedInYearView(a)})("selectedChange",function(a){return s.CHM(e),s.oxw()._goToDateInView(a,"month")}),s.qZA()}if(2&n){var t=s.oxw();s.Q6J("activeDate",t.activeDate)("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)}}function lK(n,r){if(1&n){var e=s.EpF();s.TgZ(0,"mat-multi-year-view",7),s.NdJ("activeDateChange",function(a){return s.CHM(e),s.oxw().activeDate=a})("yearSelected",function(a){return s.CHM(e),s.oxw()._yearSelectedInMultiYearView(a)})("selectedChange",function(a){return s.CHM(e),s.oxw()._goToDateInView(a,"year")}),s.qZA()}if(2&n){var t=s.oxw();s.Q6J("activeDate",t.activeDate)("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)}}function cK(n,r){}var dK=["button"];function fK(n,r){1&n&&(s.O4$(),s.TgZ(0,"svg",3),s._UZ(1,"path",4),s.qZA())}var hK=[[["","matDatepickerToggleIcon",""]]],pK=["[matDatepickerToggleIcon]"],Xb=function(){var n=function(){function r(){(0,m.Z)(this,r),this.changes=new ft.xQ,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 20 years",this.nextMultiYearLabel="Next 20 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}return(0,_.Z)(r,[{key:"formatYearRange",value:function(t,i){return"".concat(t," \u2013 ").concat(i)}}]),r}();return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,s.Yz7)({factory:function(){return new n},token:n,providedIn:"root"}),n}(),J1=(0,_.Z)(function n(r,e,t,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:r,u=arguments.length>6?arguments[6]:void 0;(0,m.Z)(this,n),this.value=r,this.displayValue=e,this.ariaLabel=t,this.enabled=i,this.cssClasses=a,this.compareValue=o,this.rawValue=u}),Qm=function(){var n=function(){function r(e,t){var i=this;(0,m.Z)(this,r),this._elementRef=e,this._ngZone=t,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new s.vpe,this.previewChange=new s.vpe,this._enterHandler=function(a){if(i._skipNextFocus&&"focus"===a.type)i._skipNextFocus=!1;else if(a.target&&i.isRange){var o=i._getCellFromElement(a.target);o&&i._ngZone.run(function(){return i.previewChange.emit({value:o.enabled?o:null,event:a})})}},this._leaveHandler=function(a){null!==i.previewEnd&&i.isRange&&a.target&&X1(a.target)&&i._ngZone.run(function(){return i.previewChange.emit({value:null,event:a})})},t.runOutsideAngular(function(){var a=e.nativeElement;a.addEventListener("mouseenter",i._enterHandler,!0),a.addEventListener("focus",i._enterHandler,!0),a.addEventListener("mouseleave",i._leaveHandler,!0),a.addEventListener("blur",i._leaveHandler,!0)})}return(0,_.Z)(r,[{key:"_cellClicked",value:function(t,i){t.enabled&&this.selectedValueChange.emit({value:t.value,event:i})}},{key:"_isSelected",value:function(t){return this.startValue===t||this.endValue===t}},{key:"ngOnChanges",value:function(t){var i=t.numCols,a=this.rows,o=this.numCols;(t.rows||i)&&(this._firstRowOffset=a&&a.length&&a[0].length?o-a[0].length:0),(t.cellAspectRatio||i||!this._cellPadding)&&(this._cellPadding="".concat(50*this.cellAspectRatio/o,"%")),(i||!this._cellWidth)&&(this._cellWidth="".concat(100/o,"%"))}},{key:"ngOnDestroy",value:function(){var t=this._elementRef.nativeElement;t.removeEventListener("mouseenter",this._enterHandler,!0),t.removeEventListener("focus",this._enterHandler,!0),t.removeEventListener("mouseleave",this._leaveHandler,!0),t.removeEventListener("blur",this._leaveHandler,!0)}},{key:"_isActiveCell",value:function(t,i){var a=t*this.numCols+i;return t&&(a-=this._firstRowOffset),a==this.activeCell}},{key:"_focusActiveCell",value:function(){var t=this,i=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.pipe(Zn(1)).subscribe(function(){var a=t._elementRef.nativeElement.querySelector(".mat-calendar-body-active");a&&(i||(t._skipNextFocus=!0),a.focus())})})}},{key:"_isRangeStart",value:function(t){return eO(t,this.startValue,this.endValue)}},{key:"_isRangeEnd",value:function(t){return tO(t,this.startValue,this.endValue)}},{key:"_isInRange",value:function(t){return nO(t,this.startValue,this.endValue,this.isRange)}},{key:"_isComparisonStart",value:function(t){return eO(t,this.comparisonStart,this.comparisonEnd)}},{key:"_isComparisonBridgeStart",value:function(t,i,a){if(!this._isComparisonStart(t)||this._isRangeStart(t)||!this._isInRange(t))return!1;var o=this.rows[i][a-1];if(!o){var u=this.rows[i-1];o=u&&u[u.length-1]}return o&&!this._isRangeEnd(o.compareValue)}},{key:"_isComparisonBridgeEnd",value:function(t,i,a){if(!this._isComparisonEnd(t)||this._isRangeEnd(t)||!this._isInRange(t))return!1;var o=this.rows[i][a+1];if(!o){var u=this.rows[i+1];o=u&&u[0]}return o&&!this._isRangeStart(o.compareValue)}},{key:"_isComparisonEnd",value:function(t){return tO(t,this.comparisonStart,this.comparisonEnd)}},{key:"_isInComparisonRange",value:function(t){return nO(t,this.comparisonStart,this.comparisonEnd,this.isRange)}},{key:"_isComparisonIdentical",value:function(t){return this.comparisonStart===this.comparisonEnd&&t===this.comparisonStart}},{key:"_isPreviewStart",value:function(t){return eO(t,this.previewStart,this.previewEnd)}},{key:"_isPreviewEnd",value:function(t){return tO(t,this.previewStart,this.previewEnd)}},{key:"_isInPreview",value:function(t){return nO(t,this.previewStart,this.previewEnd,this.isRange)}},{key:"_getCellFromElement",value:function(t){var i;if(X1(t)?i=t:X1(t.parentNode)&&(i=t.parentNode),i){var a=i.getAttribute("data-mat-row"),o=i.getAttribute("data-mat-col");if(a&&o)return this.rows[parseInt(a)][parseInt(o)]}return null}}]),r}();return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["","mat-calendar-body",""]],hostAttrs:["role","grid","aria-readonly","true",1,"mat-calendar-body"],inputs:{numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",previewStart:"previewStart",previewEnd:"previewEnd",label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange"},exportAs:["matCalendarBody"],features:[s.TTD],attrs:eK,decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["aria-hidden","true","class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell",3,"ngClass","tabindex","mat-calendar-body-disabled","mat-calendar-body-active","mat-calendar-body-range-start","mat-calendar-body-range-end","mat-calendar-body-in-range","mat-calendar-body-comparison-bridge-start","mat-calendar-body-comparison-bridge-end","mat-calendar-body-comparison-start","mat-calendar-body-comparison-end","mat-calendar-body-in-comparison-range","mat-calendar-body-preview-start","mat-calendar-body-preview-end","mat-calendar-body-in-preview","width","paddingTop","paddingBottom","click",4,"ngFor","ngForOf"],["aria-hidden","true",1,"mat-calendar-body-label"],["role","gridcell",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],[1,"mat-calendar-body-cell-preview"]],template:function(e,t){1&e&&(s.YNc(0,tK,3,6,"tr",0),s.YNc(1,iK,3,2,"tr",1)),2&e&&(s.Q6J("ngIf",t._firstRowOffset<t.labelMinRequiredCells),s.xp6(1),s.Q6J("ngForOf",t.rows))},directives:[Nr,la,Fa],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell{position:relative;height:0;line-height:0;text-align:center;outline:none;cursor:pointer}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.mat-datepicker-dialog .mat-dialog-container{position:relative;overflow:visible}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected),.cdk-high-contrast-active .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected){outline:dotted 2px}[dir=rtl] .mat-calendar-body-label{text-align:right}@media(hover: none){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected){background-color:transparent}}\n'],encapsulation:2,changeDetection:0}),n}();function X1(n){return"TD"===n.nodeName}function eO(n,r,e){return null!==e&&r!==e&&n<e&&n===r}function tO(n,r,e){return null!==r&&r!==e&&n>=r&&n===e}function nO(n,r,e,t){return t&&null!==r&&null!==e&&r!==e&&n>=r&&n<=e}var Fo=(0,_.Z)(function n(r,e){(0,m.Z)(this,n),this.start=r,this.end=e}),ch=function(){var n=function(){function r(e,t){(0,m.Z)(this,r),this.selection=e,this._adapter=t,this._selectionChanged=new ft.xQ,this.selectionChanged=this._selectionChanged,this.selection=e}return(0,_.Z)(r,[{key:"updateSelection",value:function(t,i){var a=this.selection;this.selection=t,this._selectionChanged.next({selection:t,source:i,oldValue:a})}},{key:"ngOnDestroy",value:function(){this._selectionChanged.complete()}},{key:"_isValidDateInstance",value:function(t){return this._adapter.isDateInstance(t)&&this._adapter.isValid(t)}},{key:"clone",value:function(){return null}}]),r}();return n.\u0275fac=function(e){return new(e||n)(s.LFG(void 0),s.LFG(si))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n}(),_K=function(){var n=function(r){(0,P.Z)(t,r);var e=(0,N.Z)(t);function t(i){return(0,m.Z)(this,t),e.call(this,null,i)}return(0,_.Z)(t,[{key:"add",value:function(a){(0,X.Z)((0,ne.Z)(t.prototype),"updateSelection",this).call(this,a,this)}},{key:"isValid",value:function(){return null!=this.selection&&this._isValidDateInstance(this.selection)}},{key:"isComplete",value:function(){return null!=this.selection}},{key:"clone",value:function(){var a=new t(this._adapter);return a.updateSelection(this.selection,this),a}}]),t}(ch);return n.\u0275fac=function(e){return new(e||n)(s.LFG(si))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n}(),NB={provide:ch,deps:[[new s.FiY,new s.tp0,ch],si],useFactory:function bK(n,r){return n||new _K(r)}},aM=new s.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY"),ZB=function(){var n=function(){function r(e,t,i,a,o){(0,m.Z)(this,r),this._changeDetectorRef=e,this._dateFormats=t,this._dateAdapter=i,this._dir=a,this._rangeStrategy=o,this._rerenderSubscription=Rn.w.EMPTY,this.selectedChange=new s.vpe,this._userSelection=new s.vpe,this.activeDateChange=new s.vpe,this._activeDate=this._dateAdapter.today()}return(0,_.Z)(r,[{key:"activeDate",get:function(){return this._activeDate},set:function(t){var i=this._activeDate,a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(a,this.minDate,this.maxDate),this._hasSameMonthAndYear(i,this._activeDate)||this._init()}},{key:"selected",get:function(){return this._selected},set:function(t){this._selected=t instanceof Fo?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setRanges(this._selected)}},{key:"minDate",get:function(){return this._minDate},set:function(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}},{key:"maxDate",get:function(){return this._maxDate},set:function(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}},{key:"ngAfterContentInit",value:function(){var t=this;this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Hn(null)).subscribe(function(){return t._init()})}},{key:"ngOnChanges",value:function(t){var i=t.comparisonStart||t.comparisonEnd;i&&!i.firstChange&&this._setRanges(this.selected)}},{key:"ngOnDestroy",value:function(){this._rerenderSubscription.unsubscribe()}},{key:"_dateSelected",value:function(t){var d,h,i=t.value,a=this._dateAdapter.getYear(this.activeDate),o=this._dateAdapter.getMonth(this.activeDate),u=this._dateAdapter.createDate(a,o,i);this._selected instanceof Fo?(d=this._getDateInCurrentMonth(this._selected.start),h=this._getDateInCurrentMonth(this._selected.end)):d=h=this._getDateInCurrentMonth(this._selected),(d!==i||h!==i)&&this.selectedChange.emit(u),this._userSelection.emit({value:u,event:t.event}),this._previewStart=this._previewEnd=null,this._changeDetectorRef.markForCheck()}},{key:"_handleCalendarBodyKeydown",value:function(t){var i=this._activeDate,a=this._isRtl();switch(t.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,a?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,a?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return void((!this.dateFilter||this.dateFilter(this._activeDate))&&(this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:t}),t.preventDefault()));case 27:return void(null!=this._previewEnd&&!qr(t)&&(this._previewStart=this._previewEnd=null,this.selectedChange.emit(null),this._userSelection.emit({value:null,event:t}),t.preventDefault(),t.stopPropagation()));default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),t.preventDefault()}},{key:"_init",value:function(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();var t=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(t)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}},{key:"_focusActiveCell",value:function(t){this._matCalendarBody._focusActiveCell(t)}},{key:"_previewChanged",value:function(t){var a=t.value;if(this._rangeStrategy){var u=this._rangeStrategy.createPreview(a?a.rawValue:null,this.selected,t.event);this._previewStart=this._getCellCompareValue(u.start),this._previewEnd=this._getCellCompareValue(u.end),this._changeDetectorRef.detectChanges()}}},{key:"_initWeekdays",value:function(){var t=this._dateAdapter.getFirstDayOfWeek(),i=this._dateAdapter.getDayOfWeekNames("narrow"),o=this._dateAdapter.getDayOfWeekNames("long").map(function(u,d){return{long:u,narrow:i[d]}});this._weekdays=o.slice(t).concat(o.slice(0,t))}},{key:"_createWeekCells",value:function(){var t=this._dateAdapter.getNumDaysInMonth(this.activeDate),i=this._dateAdapter.getDateNames();this._weeks=[[]];for(var a=0,o=this._firstWeekOffset;a<t;a++,o++){7==o&&(this._weeks.push([]),o=0);var u=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),a+1),d=this._shouldEnableDate(u),h=this._dateAdapter.format(u,this._dateFormats.display.dateA11yLabel),v=this.dateClass?this.dateClass(u,"month"):void 0;this._weeks[this._weeks.length-1].push(new J1(a+1,i[a],h,d,v,this._getCellCompareValue(u),u))}}},{key:"_shouldEnableDate",value:function(t){return!!t&&(!this.minDate||this._dateAdapter.compareDate(t,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(t,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(t))}},{key:"_getDateInCurrentMonth",value:function(t){return t&&this._hasSameMonthAndYear(t,this.activeDate)?this._dateAdapter.getDate(t):null}},{key:"_hasSameMonthAndYear",value:function(t,i){return!(!t||!i||this._dateAdapter.getMonth(t)!=this._dateAdapter.getMonth(i)||this._dateAdapter.getYear(t)!=this._dateAdapter.getYear(i))}},{key:"_getCellCompareValue",value:function(t){if(t){var i=this._dateAdapter.getYear(t),a=this._dateAdapter.getMonth(t),o=this._dateAdapter.getDate(t);return new Date(i,a,o).getTime()}return null}},{key:"_isRtl",value:function(){return this._dir&&"rtl"===this._dir.value}},{key:"_setRanges",value:function(t){t instanceof Fo?(this._rangeStart=this._getCellCompareValue(t.start),this._rangeEnd=this._getCellCompareValue(t.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(t),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}}]),r}();return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(Nu,8),s.Y36(si,8),s.Y36(yr,8),s.Y36(aM,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-month-view"]],viewQuery:function(e,t){var i;1&e&&s.Gf(Qm,5),2&e&&s.iGM(i=s.CRH())&&(t._matCalendarBody=i.first)},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[s.TTD],decls:7,vars:13,consts:[["role","presentation",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["colspan","7","aria-hidden","true",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","selectedValueChange","previewChange","keydown"],["scope","col"]],template:function(e,t){1&e&&(s.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),s.YNc(3,aK,2,2,"th",2),s.qZA(),s.TgZ(4,"tr"),s._UZ(5,"th",3),s.qZA()(),s.TgZ(6,"tbody",4),s.NdJ("selectedValueChange",function(a){return t._dateSelected(a)})("previewChange",function(a){return t._previewChanged(a)})("keydown",function(a){return t._handleCalendarBodyKeydown(a)}),s.qZA()()),2&e&&(s.xp6(3),s.Q6J("ngForOf",t._weekdays),s.xp6(3),s.Q6J("label",t._monthLabel)("rows",t._weeks)("todayValue",t._todayDate)("startValue",t._rangeStart)("endValue",t._rangeEnd)("comparisonStart",t._comparisonRangeStart)("comparisonEnd",t._comparisonRangeEnd)("previewStart",t._previewStart)("previewEnd",t._previewEnd)("isRange",t._isRange)("labelMinRequiredCells",3)("activeCell",t._dateAdapter.getDate(t.activeDate)-1))},directives:[la,Qm],encapsulation:2,changeDetection:0}),n}(),LB=function(){var n=function(){function r(e,t,i){(0,m.Z)(this,r),this._changeDetectorRef=e,this._dateAdapter=t,this._dir=i,this._rerenderSubscription=Rn.w.EMPTY,this.selectedChange=new s.vpe,this.yearSelected=new s.vpe,this.activeDateChange=new s.vpe,this._activeDate=this._dateAdapter.today()}return(0,_.Z)(r,[{key:"activeDate",get:function(){return this._activeDate},set:function(t){var i=this._activeDate,a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(a,this.minDate,this.maxDate),BB(this._dateAdapter,i,this._activeDate,this.minDate,this.maxDate)||this._init()}},{key:"selected",get:function(){return this._selected},set:function(t){this._selected=t instanceof Fo?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setSelectedYear(t)}},{key:"minDate",get:function(){return this._minDate},set:function(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}},{key:"maxDate",get:function(){return this._maxDate},set:function(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}},{key:"ngAfterContentInit",value:function(){var t=this;this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Hn(null)).subscribe(function(){return t._init()})}},{key:"ngOnDestroy",value:function(){this._rerenderSubscription.unsubscribe()}},{key:"_init",value:function(){var t=this;this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());var a=this._dateAdapter.getYear(this._activeDate)-ek(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(var o=0,u=[];o<24;o++)u.push(a+o),4==u.length&&(this._years.push(u.map(function(d){return t._createCellForYear(d)})),u=[]);this._changeDetectorRef.markForCheck()}},{key:"_yearSelected",value:function(t){var i=t.value;this.yearSelected.emit(this._dateAdapter.createDate(i,0,1));var a=this._dateAdapter.getMonth(this.activeDate),o=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(i,a,1));this.selectedChange.emit(this._dateAdapter.createDate(i,a,Math.min(this._dateAdapter.getDate(this.activeDate),o)))}},{key:"_handleCalendarBodyKeydown",value:function(t){var i=this._activeDate,a=this._isRtl();switch(t.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,a?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,a?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-ek(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-ek(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?-240:-24);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?240:24);break;case 13:case 32:this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:t});break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),t.preventDefault()}},{key:"_getActiveCell",value:function(){return ek(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}},{key:"_focusActiveCell",value:function(){this._matCalendarBody._focusActiveCell()}},{key:"_createCellForYear",value:function(t){var i=this._dateAdapter.createDate(t,0,1),a=this._dateAdapter.getYearName(i),o=this.dateClass?this.dateClass(i,"multi-year"):void 0;return new J1(t,a,a,this._shouldEnableYear(t),o)}},{key:"_shouldEnableYear",value:function(t){if(null==t||this.maxDate&&t>this._dateAdapter.getYear(this.maxDate)||this.minDate&&t<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(var a=this._dateAdapter.createDate(t,0,1);this._dateAdapter.getYear(a)==t;a=this._dateAdapter.addCalendarDays(a,1))if(this.dateFilter(a))return!0;return!1}},{key:"_isRtl",value:function(){return this._dir&&"rtl"===this._dir.value}},{key:"_setSelectedYear",value:function(t){if(this._selectedYear=null,t instanceof Fo){var i=t.start||t.end;i&&(this._selectedYear=this._dateAdapter.getYear(i))}else t&&(this._selectedYear=this._dateAdapter.getYear(t))}}]),r}();return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(si,8),s.Y36(yr,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-multi-year-view"]],viewQuery:function(e,t){var i;1&e&&s.Gf(Qm,5),2&e&&s.iGM(i=s.CRH())&&(t._matCalendarBody=i.first)},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","presentation",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","keydown"]],template:function(e,t){1&e&&(s.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),s._UZ(3,"th",2),s.qZA()(),s.TgZ(4,"tbody",3),s.NdJ("selectedValueChange",function(a){return t._yearSelected(a)})("keydown",function(a){return t._handleCalendarBodyKeydown(a)}),s.qZA()()),2&e&&(s.xp6(4),s.Q6J("rows",t._years)("todayValue",t._todayYear)("startValue",t._selectedYear)("endValue",t._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",t._getActiveCell()))},directives:[Qm],encapsulation:2,changeDetection:0}),n}();function BB(n,r,e,t,i){var a=n.getYear(r),o=n.getYear(e),u=VB(n,t,i);return Math.floor((a-u)/24)===Math.floor((o-u)/24)}function ek(n,r,e,t){return function MK(n,r){return(n%r+r)%r}(n.getYear(r)-VB(n,e,t),24)}function VB(n,r,e){var t=0;return e?t=n.getYear(e)-24+1:r&&(t=n.getYear(r)),t}var UB=function(){var n=function(){function r(e,t,i,a){(0,m.Z)(this,r),this._changeDetectorRef=e,this._dateFormats=t,this._dateAdapter=i,this._dir=a,this._rerenderSubscription=Rn.w.EMPTY,this.selectedChange=new s.vpe,this.monthSelected=new s.vpe,this.activeDateChange=new s.vpe,this._activeDate=this._dateAdapter.today()}return(0,_.Z)(r,[{key:"activeDate",get:function(){return this._activeDate},set:function(t){var i=this._activeDate,a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(a,this.minDate,this.maxDate),this._dateAdapter.getYear(i)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}},{key:"selected",get:function(){return this._selected},set:function(t){this._selected=t instanceof Fo?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setSelectedMonth(t)}},{key:"minDate",get:function(){return this._minDate},set:function(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}},{key:"maxDate",get:function(){return this._maxDate},set:function(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}},{key:"ngAfterContentInit",value:function(){var t=this;this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Hn(null)).subscribe(function(){return t._init()})}},{key:"ngOnDestroy",value:function(){this._rerenderSubscription.unsubscribe()}},{key:"_monthSelected",value:function(t){var i=t.value,a=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1);this.monthSelected.emit(a);var o=this._dateAdapter.getNumDaysInMonth(a);this.selectedChange.emit(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,Math.min(this._dateAdapter.getDate(this.activeDate),o)))}},{key:"_handleCalendarBodyKeydown",value:function(t){var i=this._activeDate,a=this._isRtl();switch(t.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,a?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,a?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?10:1);break;case 13:case 32:this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:t});break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),t.preventDefault()}},{key:"_init",value:function(){var t=this;this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);var i=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(function(a){return a.map(function(o){return t._createCellForMonth(o,i[o])})}),this._changeDetectorRef.markForCheck()}},{key:"_focusActiveCell",value:function(){this._matCalendarBody._focusActiveCell()}},{key:"_getMonthInCurrentYear",value:function(t){return t&&this._dateAdapter.getYear(t)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(t):null}},{key:"_createCellForMonth",value:function(t,i){var a=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1),o=this._dateAdapter.format(a,this._dateFormats.display.monthYearA11yLabel),u=this.dateClass?this.dateClass(a,"year"):void 0;return new J1(t,i.toLocaleUpperCase(),o,this._shouldEnableMonth(t),u)}},{key:"_shouldEnableMonth",value:function(t){var i=this._dateAdapter.getYear(this.activeDate);if(null==t||this._isYearAndMonthAfterMaxDate(i,t)||this._isYearAndMonthBeforeMinDate(i,t))return!1;if(!this.dateFilter)return!0;for(var o=this._dateAdapter.createDate(i,t,1);this._dateAdapter.getMonth(o)==t;o=this._dateAdapter.addCalendarDays(o,1))if(this.dateFilter(o))return!0;return!1}},{key:"_isYearAndMonthAfterMaxDate",value:function(t,i){if(this.maxDate){var a=this._dateAdapter.getYear(this.maxDate),o=this._dateAdapter.getMonth(this.maxDate);return t>a||t===a&&i>o}return!1}},{key:"_isYearAndMonthBeforeMinDate",value:function(t,i){if(this.minDate){var a=this._dateAdapter.getYear(this.minDate),o=this._dateAdapter.getMonth(this.minDate);return t<a||t===a&&i<o}return!1}},{key:"_isRtl",value:function(){return this._dir&&"rtl"===this._dir.value}},{key:"_setSelectedMonth",value:function(t){this._selectedMonth=t instanceof Fo?this._getMonthInCurrentYear(t.start)||this._getMonthInCurrentYear(t.end):this._getMonthInCurrentYear(t)}}]),r}();return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(Nu,8),s.Y36(si,8),s.Y36(yr,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-year-view"]],viewQuery:function(e,t){var i;1&e&&s.Gf(Qm,5),2&e&&s.iGM(i=s.CRH())&&(t._matCalendarBody=i.first)},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","presentation",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","keydown"]],template:function(e,t){1&e&&(s.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),s._UZ(3,"th",2),s.qZA()(),s.TgZ(4,"tbody",3),s.NdJ("selectedValueChange",function(a){return t._monthSelected(a)})("keydown",function(a){return t._handleCalendarBodyKeydown(a)}),s.qZA()()),2&e&&(s.xp6(4),s.Q6J("label",t._yearLabel)("rows",t._months)("todayValue",t._todayMonth)("startValue",t._selectedMonth)("endValue",t._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",t._dateAdapter.getMonth(t.activeDate)))},directives:[Qm],encapsulation:2,changeDetection:0}),n}(),SK=0,TK=function(){var n=function(){function r(e,t,i,a,o){(0,m.Z)(this,r),this._intl=e,this.calendar=t,this._dateAdapter=i,this._dateFormats=a,this._buttonDescriptionId="mat-calendar-button-".concat(SK++),this.calendar.stateChanges.subscribe(function(){return o.markForCheck()})}return(0,_.Z)(r,[{key:"periodButtonText",get:function(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);var i=this._dateAdapter.getYear(this.calendar.activeDate)-ek(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),a=i+24-1,o=this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1)),u=this._dateAdapter.getYearName(this._dateAdapter.createDate(a,0,1));return this._intl.formatYearRange(o,u)}},{key:"periodButtonLabel",get:function(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}},{key:"prevButtonLabel",get:function(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}},{key:"nextButtonLabel",get:function(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}},{key:"currentPeriodClicked",value:function(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}},{key:"previousClicked",value:function(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}},{key:"nextClicked",value:function(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}},{key:"previousEnabled",value:function(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}},{key:"nextEnabled",value:function(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}},{key:"_isSameView",value:function(t,i){return"month"==this.calendar.currentView?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(i)&&this._dateAdapter.getMonth(t)==this._dateAdapter.getMonth(i):"year"==this.calendar.currentView?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(i):BB(this._dateAdapter,t,i,this.calendar.minDate,this.calendar.maxDate)}}]),r}();return n.\u0275fac=function(e){return new(e||n)(s.Y36(Xb),s.Y36((0,s.Gpc)(function(){return aO})),s.Y36(si,8),s.Y36(Nu,8),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:xB,decls:10,vars:10,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","cdkAriaLive","polite",1,"mat-calendar-period-button",3,"click"],[1,"mat-calendar-arrow"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(e,t){1&e&&(s.F$t(),s.TgZ(0,"div",0)(1,"div",1)(2,"button",2),s.NdJ("click",function(){return t.currentPeriodClicked()}),s.TgZ(3,"span"),s._uU(4),s.qZA(),s._UZ(5,"div",3),s.qZA(),s._UZ(6,"div",4),s.Hsn(7),s.TgZ(8,"button",5),s.NdJ("click",function(){return t.previousClicked()}),s.qZA(),s.TgZ(9,"button",6),s.NdJ("click",function(){return t.nextClicked()}),s.qZA()()()),2&e&&(s.xp6(2),s.uIk("aria-label",t.periodButtonLabel)("aria-describedby",t._buttonDescriptionId),s.xp6(1),s.uIk("id",t._buttonDescriptionId),s.xp6(1),s.Oqu(t.periodButtonText),s.xp6(1),s.ekj("mat-calendar-invert","month"!==t.calendar.currentView),s.xp6(3),s.Q6J("disabled",!t.previousEnabled()),s.uIk("aria-label",t.prevButtonLabel),s.xp6(1),s.Q6J("disabled",!t.nextEnabled()),s.uIk("aria-label",t.nextButtonLabel))},directives:[Pl,LE],encapsulation:2,changeDetection:0}),n}(),aO=function(){var n=function(){function r(e,t,i,a){var o=this;(0,m.Z)(this,r),this._dateAdapter=t,this._dateFormats=i,this._changeDetectorRef=a,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new s.vpe,this.yearSelected=new s.vpe,this.monthSelected=new s.vpe,this.viewChanged=new s.vpe(!0),this._userSelection=new s.vpe,this.stateChanges=new ft.xQ,this._intlChanges=e.changes.subscribe(function(){a.markForCheck(),o.stateChanges.next()})}return(0,_.Z)(r,[{key:"startAt",get:function(){return this._startAt},set:function(t){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}},{key:"selected",get:function(){return this._selected},set:function(t){this._selected=t instanceof Fo?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}},{key:"minDate",get:function(){return this._minDate},set:function(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}},{key:"maxDate",get:function(){return this._maxDate},set:function(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}},{key:"activeDate",get:function(){return this._clampedActiveDate},set:function(t){this._clampedActiveDate=this._dateAdapter.clampDate(t,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}},{key:"currentView",get:function(){return this._currentView},set:function(t){var i=this._currentView!==t?t:null;this._currentView=t,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),i&&this.viewChanged.emit(i)}},{key:"ngAfterContentInit",value:function(){this._calendarHeaderPortal=new xt(this.headerComponent||TK),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}},{key:"ngAfterViewChecked",value:function(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}},{key:"ngOnDestroy",value:function(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}},{key:"ngOnChanges",value:function(t){var i=t.minDate||t.maxDate||t.dateFilter;if(i&&!i.firstChange){var a=this._getCurrentViewComponent();a&&(this._changeDetectorRef.detectChanges(),a._init())}this.stateChanges.next()}},{key:"focusActiveCell",value:function(){this._getCurrentViewComponent()._focusActiveCell(!1)}},{key:"updateTodaysDate",value:function(){var t=this.currentView;("month"===t?this.monthView:"year"===t?this.yearView:this.multiYearView)._init()}},{key:"_dateSelected",value:function(t){var i=t.value;(this.selected instanceof Fo||i&&!this._dateAdapter.sameDate(i,this.selected))&&this.selectedChange.emit(i),this._userSelection.emit(t)}},{key:"_yearSelectedInMultiYearView",value:function(t){this.yearSelected.emit(t)}},{key:"_monthSelectedInYearView",value:function(t){this.monthSelected.emit(t)}},{key:"_goToDateInView",value:function(t,i){this.activeDate=t,this.currentView=i}},{key:"_getCurrentViewComponent",value:function(){return this.monthView||this.yearView||this.multiYearView}}]),r}();return n.\u0275fac=function(e){return new(e||n)(s.Y36(Xb),s.Y36(si,8),s.Y36(Nu,8),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-calendar"]],viewQuery:function(e,t){var i;1&e&&(s.Gf(ZB,5),s.Gf(UB,5),s.Gf(LB,5)),2&e&&(s.iGM(i=s.CRH())&&(t.monthView=i.first),s.iGM(i=s.CRH())&&(t.yearView=i.first),s.iGM(i=s.CRH())&&(t.multiYearView=i.first))},hostAttrs:[1,"mat-calendar"],inputs:{startView:"startView",startAt:"startAt",selected:"selected",minDate:"minDate",maxDate:"maxDate",headerComponent:"headerComponent",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[s._Bn([NB]),s.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(e,t){1&e&&(s.YNc(0,oK,0,0,"ng-template",0),s.TgZ(1,"div",1),s.YNc(2,sK,1,8,"mat-month-view",2),s.YNc(3,uK,1,6,"mat-year-view",3),s.YNc(4,lK,1,6,"mat-multi-year-view",4),s.qZA()),2&e&&(s.Q6J("cdkPortalOutlet",t._calendarHeaderPortal),s.xp6(1),s.Q6J("ngSwitch",t.currentView),s.xp6(1),s.Q6J("ngSwitchCase","month"),s.xp6(1),s.Q6J("ngSwitchCase","year"),s.xp6(1),s.Q6J("ngSwitchCase","multi-year"))},directives:[Ni,lm,hi,ka,ZB,UB,LB],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(33% / 7 - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top-width:5px;border-top-style:solid;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}\n'],encapsulation:2,changeDetection:0}),n}(),HB={transformPanel:Kr("transformPanel",[En("void",Gt({opacity:0,transform:"scale(1, 0.8)"})),Un("void => enter",Vn("120ms cubic-bezier(0, 0, 0.2, 1)",Gt({opacity:1,transform:"scale(1, 1)"}))),Un("* => void",Vn("100ms linear",Gt({opacity:0})))]),fadeInCalendar:Kr("fadeInCalendar",[En("void",Gt({opacity:0})),En("enter",Gt({opacity:1})),Un("void => *",Vn("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])},AK=0,jB=new s.OlP("mat-datepicker-scroll-strategy"),RK={provide:jB,deps:[es],useFactory:function IK(n){return function(){return n.scrollStrategies.reposition()}}},OK=(0,_.Z)(function n(r){(0,m.Z)(this,n),this._elementRef=r}),PK=qi(OK),GB=function(){var n=function(r){(0,P.Z)(t,r);var e=(0,N.Z)(t);function t(i,a,o,u,d,h){var v;return(0,m.Z)(this,t),(v=e.call(this,i))._changeDetectorRef=a,v._globalModel=o,v._dateAdapter=u,v._rangeSelectionStrategy=d,v._subscriptions=new Rn.w,v._animationState="enter",v._animationDone=new ft.xQ,v._actionsPortal=null,v._closeButtonText=(null==h?void 0:h.closeCalendarLabel)||"Close calendar",v}return(0,_.Z)(t,[{key:"ngOnInit",value:function(){this._model=this._actionsPortal?this._globalModel.clone():this._globalModel}},{key:"ngAfterViewInit",value:function(){var a=this;this._subscriptions.add(this.datepicker.stateChanges.subscribe(function(){a._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}},{key:"ngOnDestroy",value:function(){this._subscriptions.unsubscribe(),this._animationDone.complete()}},{key:"_handleUserSelection",value:function(a){var o=this._model.selection,u=a.value,d=o instanceof Fo;if(d&&this._rangeSelectionStrategy){var h=this._rangeSelectionStrategy.selectionFinished(u,o,a.event);this._model.updateSelection(h,this)}else u&&(d||!this._dateAdapter.sameDate(u,o))&&this._model.add(u);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}},{key:"_startExitAnimation",value:function(){this._animationState="void",this._changeDetectorRef.markForCheck()}},{key:"_getSelected",value:function(){return this._model.selection}},{key:"_applyPendingSelection",value:function(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}}]),t}(PK);return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(ch),s.Y36(si),s.Y36(aM,8),s.Y36(Xb))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-datepicker-content"]],viewQuery:function(e,t){var i;1&e&&s.Gf(aO,5),2&e&&s.iGM(i=s.CRH())&&(t._calendar=i.first)},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(e,t){1&e&&s.WFA("@transformPanel.done",function(){return t._animationDone.next()}),2&e&&(s.d8E("@transformPanel",t._animationState),s.ekj("mat-datepicker-content-touch",t.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[s.qOj],decls:5,vars:20,consts:[["cdkTrapFocus","",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","yearSelected","monthSelected","viewChanged","_userSelection"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(e,t){1&e&&(s.TgZ(0,"div",0)(1,"mat-calendar",1),s.NdJ("yearSelected",function(a){return t.datepicker._selectYear(a)})("monthSelected",function(a){return t.datepicker._selectMonth(a)})("viewChanged",function(a){return t.datepicker._viewChanged(a)})("_userSelection",function(a){return t._handleUserSelection(a)}),s.qZA(),s.YNc(2,cK,0,0,"ng-template",2),s.TgZ(3,"button",3),s.NdJ("focus",function(){return t._closeButtonFocused=!0})("blur",function(){return t._closeButtonFocused=!1})("click",function(){return t.datepicker.close()}),s._uU(4),s.qZA()()),2&e&&(s.ekj("mat-datepicker-content-container-with-actions",t._actionsPortal),s.xp6(1),s.Q6J("id",t.datepicker.id)("ngClass",t.datepicker.panelClass)("startAt",t.datepicker.startAt)("startView",t.datepicker.startView)("minDate",t.datepicker._getMinDate())("maxDate",t.datepicker._getMaxDate())("dateFilter",t.datepicker._getDateFilter())("headerComponent",t.datepicker.calendarHeaderComponent)("selected",t._getSelected())("dateClass",t.datepicker.dateClass)("comparisonStart",t.comparisonStart)("comparisonEnd",t.comparisonEnd)("@fadeInCalendar","enter"),s.xp6(1),s.Q6J("cdkPortalOutlet",t._actionsPortal),s.xp6(1),s.ekj("cdk-visually-hidden",!t._closeButtonFocused),s.Q6J("color",t.color||"primary"),s.xp6(1),s.Oqu(t._closeButtonText))},directives:[iR,aO,Fa,Ni,Pl],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;overflow:auto;margin:-24px}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}\n"],encapsulation:2,data:{animation:[HB.transformPanel,HB.fadeInCalendar]},changeDetection:0}),n}(),pv=function(){var n=function(){function r(e,t,i,a,o,u,d,h,v){(0,m.Z)(this,r),this._dialog=e,this._overlay=t,this._ngZone=i,this._viewContainerRef=a,this._dateAdapter=u,this._dir=d,this._document=h,this._model=v,this._inputStateChanges=Rn.w.EMPTY,this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new s.vpe,this.monthSelected=new s.vpe,this.viewChanged=new s.vpe(!0),this.openedStream=new s.vpe,this.closedStream=new s.vpe,this._opened=!1,this.id="mat-datepicker-".concat(AK++),this._focusedElementBeforeOpen=null,this._backdropHarnessClass="".concat(this.id,"-backdrop"),this.stateChanges=new ft.xQ,this._scrollStrategy=o}return(0,_.Z)(r,[{key:"startAt",get:function(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)},set:function(t){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}},{key:"color",get:function(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)},set:function(t){this._color=t}},{key:"touchUi",get:function(){return this._touchUi},set:function(t){this._touchUi=yt(t)}},{key:"disabled",get:function(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled},set:function(t){var i=yt(t);i!==this._disabled&&(this._disabled=i,this.stateChanges.next(void 0))}},{key:"restoreFocus",get:function(){return this._restoreFocus},set:function(t){this._restoreFocus=yt(t)}},{key:"panelClass",get:function(){return this._panelClass},set:function(t){this._panelClass=function O0(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:/\s+/,e=[];if(null!=n){var a,t=Array.isArray(n)?n:"".concat(n).split(r),i=(0,G.Z)(t);try{for(i.s();!(a=i.n()).done;){var u="".concat(a.value).trim();u&&e.push(u)}}catch(d){i.e(d)}finally{i.f()}}return e}(t)}},{key:"opened",get:function(){return this._opened},set:function(t){yt(t)?this.open():this.close()}},{key:"_getMinDate",value:function(){return this.datepickerInput&&this.datepickerInput.min}},{key:"_getMaxDate",value:function(){return this.datepickerInput&&this.datepickerInput.max}},{key:"_getDateFilter",value:function(){return this.datepickerInput&&this.datepickerInput.dateFilter}},{key:"ngOnChanges",value:function(t){var i=t.xPosition||t.yPosition;i&&!i.firstChange&&this._popupRef&&(this._setConnectedPositions(this._popupRef.getConfig().positionStrategy),this.opened&&this._popupRef.updatePosition()),this.stateChanges.next(void 0)}},{key:"ngOnDestroy",value:function(){this._destroyPopup(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}},{key:"select",value:function(t){this._model.add(t)}},{key:"_selectYear",value:function(t){this.yearSelected.emit(t)}},{key:"_selectMonth",value:function(t){this.monthSelected.emit(t)}},{key:"_viewChanged",value:function(t){this.viewChanged.emit(t)}},{key:"registerInput",value:function(t){var i=this;return this._inputStateChanges.unsubscribe(),this.datepickerInput=t,this._inputStateChanges=t.stateChanges.subscribe(function(){return i.stateChanges.next(void 0)}),this._model}},{key:"registerActions",value:function(t){this._actionsPortal=t}},{key:"removeActions",value:function(t){t===this._actionsPortal&&(this._actionsPortal=null)}},{key:"open",value:function(){this._opened||this.disabled||(this._document&&(this._focusedElementBeforeOpen=this._document.activeElement),this.touchUi?this._openAsDialog():this._openAsPopup(),this._opened=!0,this.openedStream.emit())}},{key:"close",value:function(){var t=this;if(this._opened){if(this._popupComponentRef&&this._popupRef){var i=this._popupComponentRef.instance;i._startExitAnimation(),i._animationDone.pipe(Zn(1)).subscribe(function(){return t._destroyPopup()})}this._dialogRef&&(this._dialogRef.close(),this._dialogRef=null);var a=function(){t._opened&&(t._opened=!1,t.closedStream.emit(),t._focusedElementBeforeOpen=null)};this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(a)):a()}}},{key:"_applyPendingSelection",value:function(){var t,i,a=(null===(t=this._popupComponentRef)||void 0===t?void 0:t.instance)||(null===(i=this._dialogRef)||void 0===i?void 0:i.componentInstance);null==a||a._applyPendingSelection()}},{key:"_openAsDialog",value:function(){var t=this;this._dialogRef&&this._dialogRef.close(),this._dialogRef=this._dialog.open(GB,{direction:this._dir?this._dir.value:"ltr",viewContainerRef:this._viewContainerRef,panelClass:"mat-datepicker-dialog",hasBackdrop:!0,disableClose:!1,backdropClass:["cdk-overlay-dark-backdrop",this._backdropHarnessClass],width:"",height:"",minWidth:"",minHeight:"",maxWidth:"80vw",maxHeight:"",position:{},autoFocus:!1,restoreFocus:!1}),this._dialogRef.afterClosed().subscribe(function(){return t.close()}),this._forwardContentValues(this._dialogRef.componentInstance)}},{key:"_openAsPopup",value:function(){var t=this,i=new xt(GB,this._viewContainerRef);this._destroyPopup(),this._createPopup(),this._popupComponentRef=this._popupRef.attach(i),this._forwardContentValues(this._popupComponentRef.instance),this._ngZone.onStable.pipe(Zn(1)).subscribe(function(){t._popupRef.updatePosition()})}},{key:"_forwardContentValues",value:function(t){t.datepicker=this,t.color=this.color,t._actionsPortal=this._actionsPortal}},{key:"_createPopup",value:function(){var t=this,i=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition(),a=new Wm({positionStrategy:this._setConnectedPositions(i),hasBackdrop:!0,backdropClass:["mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:this._scrollStrategy(),panelClass:"mat-datepicker-popup"});this._popupRef=this._overlay.create(a),this._popupRef.overlayElement.setAttribute("role","dialog"),(0,Xn.T)(this._popupRef.backdropClick(),this._popupRef.detachments(),this._popupRef.keydownEvents().pipe(_n(function(o){return 27===o.keyCode&&!qr(o)||t.datepickerInput&&qr(o,"altKey")&&38===o.keyCode}))).subscribe(function(o){o&&o.preventDefault(),t.close()})}},{key:"_destroyPopup",value:function(){this._popupRef&&(this._popupRef.dispose(),this._popupRef=this._popupComponentRef=null)}},{key:"_setConnectedPositions",value:function(t){var i="end"===this.xPosition?"end":"start",a="start"===i?"end":"start",o="above"===this.yPosition?"bottom":"top",u="top"===o?"bottom":"top";return t.withPositions([{originX:i,originY:u,overlayX:i,overlayY:o},{originX:i,originY:o,overlayX:i,overlayY:u},{originX:a,originY:u,overlayX:a,overlayY:o},{originX:a,originY:o,overlayX:a,overlayY:u}])}}]),r}();return n.\u0275fac=function(e){return new(e||n)(s.Y36(iM),s.Y36(es),s.Y36(s.R0b),s.Y36(s.s_b),s.Y36(jB),s.Y36(si,8),s.Y36(yr,8),s.Y36(K,8),s.Y36(ch))},n.\u0275dir=s.lG2({type:n,inputs:{startView:"startView",xPosition:"xPosition",yPosition:"yPosition",startAt:"startAt",color:"color",touchUi:"touchUi",disabled:"disabled",restoreFocus:"restoreFocus",panelClass:"panelClass",opened:"opened",calendarHeaderComponent:"calendarHeaderComponent",dateClass:"dateClass"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[s.TTD]}),n}(),FK=function(){var n=function(r){(0,P.Z)(t,r);var e=(0,N.Z)(t);function t(){return(0,m.Z)(this,t),e.apply(this,arguments)}return(0,_.Z)(t)}(pv);return n.\u0275fac=function(){var r;return function(t){return(r||(r=s.n5z(n)))(t||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[s._Bn([NB,{provide:pv,useExisting:n}]),s.qOj],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),n}(),oM=(0,_.Z)(function n(r,e){(0,m.Z)(this,n),this.target=r,this.targetElement=e,this.value=this.target.value}),zB=function(){var n=function(){function r(e,t,i){var a=this;(0,m.Z)(this,r),this._elementRef=e,this._dateAdapter=t,this._dateFormats=i,this.dateChange=new s.vpe,this.dateInput=new s.vpe,this.stateChanges=new ft.xQ,this._onTouched=function(){},this._validatorOnChange=function(){},this._cvaOnChange=function(){},this._valueChangesSubscription=Rn.w.EMPTY,this._localeSubscription=Rn.w.EMPTY,this._parseValidator=function(){return a._lastValueValid?null:{matDatepickerParse:{text:a._elementRef.nativeElement.value}}},this._filterValidator=function(o){var u=a._dateAdapter.getValidDateOrNull(a._dateAdapter.deserialize(o.value));return!u||a._matchesFilter(u)?null:{matDatepickerFilter:!0}},this._minValidator=function(o){var u=a._dateAdapter.getValidDateOrNull(a._dateAdapter.deserialize(o.value)),d=a._getMinDate();return!d||!u||a._dateAdapter.compareDate(d,u)<=0?null:{matDatepickerMin:{min:d,actual:u}}},this._maxValidator=function(o){var u=a._dateAdapter.getValidDateOrNull(a._dateAdapter.deserialize(o.value)),d=a._getMaxDate();return!d||!u||a._dateAdapter.compareDate(d,u)>=0?null:{matDatepickerMax:{max:d,actual:u}}},this._lastValueValid=!1,this._localeSubscription=t.localeChanges.subscribe(function(){a._assignValueProgrammatically(a.value)})}return(0,_.Z)(r,[{key:"value",get:function(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue},set:function(t){this._assignValueProgrammatically(t)}},{key:"disabled",get:function(){return!!this._disabled||this._parentDisabled()},set:function(t){var i=yt(t),a=this._elementRef.nativeElement;this._disabled!==i&&(this._disabled=i,this.stateChanges.next(void 0)),i&&this._isInitialized&&a.blur&&a.blur()}},{key:"_getValidators",value:function(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}},{key:"_registerModel",value:function(t){var i=this;this._model=t,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(function(a){if(i._shouldHandleChangeEvent(a)){var o=i._getValueFromModel(a.selection);i._lastValueValid=i._isValidValue(o),i._cvaOnChange(o),i._onTouched(),i._formatValue(o),i.dateInput.emit(new oM(i,i._elementRef.nativeElement)),i.dateChange.emit(new oM(i,i._elementRef.nativeElement))}})}},{key:"ngAfterViewInit",value:function(){this._isInitialized=!0}},{key:"ngOnChanges",value:function(t){(function YB(n,r){for(var t=0,i=Object.keys(n);t<i.length;t++){var o=n[i[t]],u=o.previousValue,d=o.currentValue;if(!r.isDateInstance(u)||!r.isDateInstance(d))return!0;if(!r.sameDate(u,d))return!0}return!1})(t,this._dateAdapter)&&this.stateChanges.next(void 0)}},{key:"ngOnDestroy",value:function(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}},{key:"registerOnValidatorChange",value:function(t){this._validatorOnChange=t}},{key:"validate",value:function(t){return this._validator?this._validator(t):null}},{key:"writeValue",value:function(t){this._assignValueProgrammatically(t)}},{key:"registerOnChange",value:function(t){this._cvaOnChange=t}},{key:"registerOnTouched",value:function(t){this._onTouched=t}},{key:"setDisabledState",value:function(t){this.disabled=t}},{key:"_onKeydown",value:function(t){t.altKey&&40===t.keyCode&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),t.preventDefault())}},{key:"_onInput",value:function(t){var i=this._lastValueValid,a=this._dateAdapter.parse(t,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(a),a=this._dateAdapter.getValidDateOrNull(a),this._dateAdapter.sameDate(a,this.value)?(t&&!this.value&&this._cvaOnChange(a),i!==this._lastValueValid&&this._validatorOnChange()):(this._assignValue(a),this._cvaOnChange(a),this.dateInput.emit(new oM(this,this._elementRef.nativeElement)))}},{key:"_onChange",value:function(){this.dateChange.emit(new oM(this,this._elementRef.nativeElement))}},{key:"_onBlur",value:function(){this.value&&this._formatValue(this.value),this._onTouched()}},{key:"_formatValue",value:function(t){this._elementRef.nativeElement.value=t?this._dateAdapter.format(t,this._dateFormats.display.dateInput):""}},{key:"_assignValue",value:function(t){this._model?(this._assignValueToModel(t),this._pendingValue=null):this._pendingValue=t}},{key:"_isValidValue",value:function(t){return!t||this._dateAdapter.isValid(t)}},{key:"_parentDisabled",value:function(){return!1}},{key:"_assignValueProgrammatically",value:function(t){t=this._dateAdapter.deserialize(t),this._lastValueValid=this._isValidValue(t),t=this._dateAdapter.getValidDateOrNull(t),this._assignValue(t),this._formatValue(t)}},{key:"_matchesFilter",value:function(t){var i=this._getDateFilter();return!i||i(t)}}]),r}();return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(si,8),s.Y36(Nu,8))},n.\u0275dir=s.lG2({type:n,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[s.TTD]}),n}();var xK={provide:Fi,useExisting:(0,s.Gpc)(function(){return oO}),multi:!0},NK={provide:oi,useExisting:(0,s.Gpc)(function(){return oO}),multi:!0},oO=function(){var n=function(r){(0,P.Z)(t,r);var e=(0,N.Z)(t);function t(i,a,o,u){var d,h;return(0,m.Z)(this,t),(h=e.call(this,i,a,o))._formField=u,h._closedSubscription=Rn.w.EMPTY,h._validator=mc.compose((0,X.Z)((d=(0,Lr.Z)(h),(0,ne.Z)(t.prototype)),"_getValidators",d).call(d)),h}return(0,_.Z)(t,[{key:"matDatepicker",set:function(a){var o=this;a&&(this._datepicker=a,this._closedSubscription=a.closedStream.subscribe(function(){return o._onTouched()}),this._registerModel(a.registerInput(this)))}},{key:"min",get:function(){return this._min},set:function(a){var o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(a));this._dateAdapter.sameDate(o,this._min)||(this._min=o,this._validatorOnChange())}},{key:"max",get:function(){return this._max},set:function(a){var o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(a));this._dateAdapter.sameDate(o,this._max)||(this._max=o,this._validatorOnChange())}},{key:"dateFilter",get:function(){return this._dateFilter},set:function(a){var o=this._matchesFilter(this.value);this._dateFilter=a,this._matchesFilter(this.value)!==o&&this._validatorOnChange()}},{key:"getConnectedOverlayOrigin",value:function(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}},{key:"getThemePalette",value:function(){return this._formField?this._formField.color:void 0}},{key:"getStartValue",value:function(){return this.value}},{key:"ngOnDestroy",value:function(){(0,X.Z)((0,ne.Z)(t.prototype),"ngOnDestroy",this).call(this),this._closedSubscription.unsubscribe()}},{key:"_openPopup",value:function(){this._datepicker&&this._datepicker.open()}},{key:"_getValueFromModel",value:function(a){return a}},{key:"_assignValueToModel",value:function(a){this._model&&this._model.updateSelection(a,this)}},{key:"_getMinDate",value:function(){return this._min}},{key:"_getMaxDate",value:function(){return this._max}},{key:"_getDateFilter",value:function(){return this._dateFilter}},{key:"_shouldHandleChangeEvent",value:function(a){return a.source!==this}}]),t}(zB);return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(si,8),s.Y36(Nu,8),s.Y36(Km,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(e,t){1&e&&s.NdJ("input",function(a){return t._onInput(a.target.value)})("change",function(){return t._onChange()})("blur",function(){return t._onBlur()})("keydown",function(a){return t._onKeydown(a)}),2&e&&(s.Ikx("disabled",t.disabled),s.uIk("aria-haspopup",t._datepicker?"dialog":null)("aria-owns",(null==t._datepicker?null:t._datepicker.opened)&&t._datepicker.id||null)("min",t.min?t._dateAdapter.toIso8601(t.min):null)("max",t.max?t._dateAdapter.toIso8601(t.max):null)("data-mat-calendar",t._datepicker?t._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[s._Bn([xK,NK,{provide:DB,useExisting:n}]),s.qOj]}),n}(),ZK=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","matDatepickerToggleIcon",""]]}),n}(),LK=function(){var n=function(){function r(e,t,i){(0,m.Z)(this,r),this._intl=e,this._changeDetectorRef=t,this._stateChanges=Rn.w.EMPTY;var a=Number(i);this.tabIndex=a||0===a?a:null}return(0,_.Z)(r,[{key:"disabled",get:function(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled},set:function(t){this._disabled=yt(t)}},{key:"ngOnChanges",value:function(t){t.datepicker&&this._watchStateChanges()}},{key:"ngOnDestroy",value:function(){this._stateChanges.unsubscribe()}},{key:"ngAfterContentInit",value:function(){this._watchStateChanges()}},{key:"_open",value:function(t){this.datepicker&&!this.disabled&&(this.datepicker.open(),t.stopPropagation())}},{key:"_watchStateChanges",value:function(){var t=this,i=this.datepicker?this.datepicker.stateChanges:(0,Ft.of)(),a=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:(0,Ft.of)(),o=this.datepicker?(0,Xn.T)(this.datepicker.openedStream,this.datepicker.closedStream):(0,Ft.of)();this._stateChanges.unsubscribe(),this._stateChanges=(0,Xn.T)(this._intl.changes,i,a,o).subscribe(function(){return t._changeDetectorRef.markForCheck()})}}]),r}();return n.\u0275fac=function(e){return new(e||n)(s.Y36(Xb),s.Y36(s.sBO),s.$8M("tabindex"))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-datepicker-toggle"]],contentQueries:function(e,t,i){var a;1&e&&s.Suo(i,ZK,5),2&e&&s.iGM(a=s.CRH())&&(t._customIcon=a.first)},viewQuery:function(e,t){var i;1&e&&s.Gf(dK,5),2&e&&s.iGM(i=s.CRH())&&(t._button=i.first)},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(e,t){1&e&&s.NdJ("click",function(a){return t._open(a)}),2&e&&(s.uIk("tabindex",null)("data-mat-calendar",t.datepicker?t.datepicker.id:null),s.ekj("mat-datepicker-toggle-active",t.datepicker&&t.datepicker.opened)("mat-accent",t.datepicker&&"accent"===t.datepicker.color)("mat-warn",t.datepicker&&"warn"===t.datepicker.color))},inputs:{tabIndex:"tabIndex",disabled:"disabled",datepicker:["for","datepicker"],ariaLabel:["aria-label","ariaLabel"],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[s.TTD],ngContentSelectors:pK,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(e,t){1&e&&(s.F$t(hK),s.TgZ(0,"button",0,1),s.YNc(2,fK,2,0,"svg",2),s.Hsn(3),s.qZA()),2&e&&(s.Q6J("disabled",t.disabled)("disableRipple",t.disableRipple),s.uIk("aria-haspopup",t.datepicker?"dialog":null)("aria-label",t.ariaLabel||t._intl.openCalendarLabel)("tabindex",t.disabled?-1:t.tabIndex),s.xp6(2),s.Q6J("ngIf",!t._customIcon))},directives:[Pl,Nr],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}\n"],encapsulation:2,changeDetection:0}),n}(),qB=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Xb,RK],imports:[[zn,Id,Q1,lh,cm,Ts,jt],Rd]}),n}(),jK=["primaryValueBar"],GK=(0,_.Z)(function n(r){(0,m.Z)(this,n),this._elementRef=r}),zK=qi(GK,"primary"),YK=new s.OlP("mat-progress-bar-location",{providedIn:"root",factory:function WK(){var n=(0,s.f3M)(K),r=n?n.location:null;return{getPathname:function(){return r?r.pathname+r.search:""}}}}),qK=0,KK=function(){var n=function(r){(0,P.Z)(t,r);var e=(0,N.Z)(t);function t(i,a,o,u){var d;(0,m.Z)(this,t),(d=e.call(this,i))._elementRef=i,d._ngZone=a,d._animationMode=o,d._isNoopAnimation=!1,d._value=0,d._bufferValue=0,d.animationEnd=new s.vpe,d._animationEndSubscription=Rn.w.EMPTY,d.mode="determinate",d.progressbarId="mat-progress-bar-".concat(qK++);var h=u?u.getPathname().split("#")[0]:"";return d._rectangleFillValue="url('".concat(h,"#").concat(d.progressbarId,"')"),d._isNoopAnimation="NoopAnimations"===o,d}return(0,_.Z)(t,[{key:"value",get:function(){return this._value},set:function(a){this._value=KB(Yn(a)||0)}},{key:"bufferValue",get:function(){return this._bufferValue},set:function(a){this._bufferValue=KB(a||0)}},{key:"_primaryTransform",value:function(){return{transform:"scale3d(".concat(this.value/100,", 1, 1)")}}},{key:"_bufferTransform",value:function(){return"buffer"===this.mode?{transform:"scale3d(".concat(this.bufferValue/100,", 1, 1)")}:null}},{key:"ngAfterViewInit",value:function(){var a=this;this._ngZone.runOutsideAngular(function(){var o=a._primaryValueBar.nativeElement;a._animationEndSubscription=yo(o,"transitionend").pipe(_n(function(u){return u.target===o})).subscribe(function(){("determinate"===a.mode||"buffer"===a.mode)&&a._ngZone.run(function(){return a.animationEnd.next({value:a.value})})})})}},{key:"ngOnDestroy",value:function(){this._animationEndSubscription.unsubscribe()}}]),t}(zK);return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(sr,8),s.Y36(YK,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-progress-bar"]],viewQuery:function(e,t){var i;1&e&&s.Gf(jK,5),2&e&&s.iGM(i=s.CRH())&&(t._primaryValueBar=i.first)},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(e,t){2&e&&(s.uIk("aria-valuenow","indeterminate"===t.mode||"query"===t.mode?null:t.value)("mode",t.mode),s.ekj("_mat-animation-noopable",t._isNoopAnimation))},inputs:{color:"color",mode:"mode",value:"value",bufferValue:"bufferValue"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[s.qOj],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(e,t){1&e&&(s.TgZ(0,"div",0),s.O4$(),s.TgZ(1,"svg",1)(2,"defs")(3,"pattern",2),s._UZ(4,"circle",3),s.qZA()(),s._UZ(5,"rect",4),s.qZA(),s.kcU(),s._UZ(6,"div",5)(7,"div",6,7)(9,"div",8),s.qZA()),2&e&&(s.xp6(3),s.Q6J("id",t.progressbarId),s.xp6(2),s.uIk("fill",t._rectangleFillValue),s.xp6(1),s.Q6J("ngStyle",t._bufferTransform()),s.xp6(1),s.Q6J("ngStyle",t._primaryTransform()))},directives:[Na],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}\n'],encapsulation:2,changeDetection:0}),n}();function KB(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return Math.max(r,Math.min(e,n))}var $B=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[zn,jt],jt]}),n}(),$K=["*",[["mat-card-footer"]]],QK=["*","mat-card-footer"],n7=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),n}(),r7=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n}(),i7=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r),this.align="start"});return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(e,t){2&e&&s.ekj("mat-card-actions-align-end","end"===t.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),n}(),a7=function(){var n=(0,_.Z)(function r(e){(0,m.Z)(this,r),this._animationMode=e});return n.\u0275fac=function(e){return new(e||n)(s.Y36(sr,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,t){2&e&&s.ekj("_mat-animation-noopable","NoopAnimations"===t._animationMode)},exportAs:["matCard"],ngContentSelectors:QK,decls:2,vars:0,template:function(e,t){1&e&&(s.F$t($K),s.Hsn(0),s.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),n}(),QB=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[jt],jt]}),n}(),sO=function(r){return{"background-color":r}};function o7(n,r){if(1&n&&(s.TgZ(0,"mat-option",20),s._UZ(1,"span",7),s.qZA()),2&n){var e=r.$implicit;s.Q6J("value","#"+e.value),s.xp6(1),s.Q6J("ngStyle",s.VKq(2,sO,"#"+e.value))}}function s7(n,r){if(1&n){var e=s.EpF();s.TgZ(0,"div")(1,"a",28),s.NdJ("click",function(){var u=s.CHM(e).$implicit;return s.oxw(3).onDownloadFileClick(u.fileName,u.fileBase64Url,u.contentType)}),s._uU(2),s.qZA()()}if(2&n){var t=r.index,i=s.oxw(2).$implicit;s.xp6(2),s.hij("",i.data.files[t].fileName," ")}}function u7(n,r){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,s7,3,1,"div",27),s.qZA()),2&n){var e=s.oxw().$implicit;s.xp6(1),s.Q6J("ngForOf",e.data.files)}}function l7(n,r){if(1&n){var e=s.EpF();s.TgZ(0,"mat-card",21),s.NdJ("click",function(){var o=s.CHM(e).$implicit;return s.oxw().onSelectNoteClick(o)}),s.TgZ(1,"mat-card-title"),s._uU(2),s.qZA(),s.TgZ(3,"mat-card-content"),s._uU(4),s.YNc(5,u7,2,1,"div",22),s.qZA(),s.TgZ(6,"mat-card-actions")(7,"div",23)(8,"button",24),s.NdJ("click",function(){var o=s.CHM(e).$implicit;return s.oxw().onDeleteClick(o)})("click",function(){return s.CHM(e),s.oxw().playDeleteAudio()}),s.TgZ(9,"mat-icon"),s._uU(10,"close"),s.qZA()()(),s.TgZ(11,"button",25),s.NdJ("click",function(){var o=s.CHM(e).$implicit;return s.oxw().onShareClick(o)}),s.TgZ(12,"mat-icon"),s._uU(13,"share"),s.qZA()(),s.TgZ(14,"div",26)(15,"button",25),s.NdJ("click",function(){var o=s.CHM(e).$implicit;return s.oxw().onCompleteClick(o)})("click",function(){return s.CHM(e),s.oxw().playCompleteAudio()}),s.TgZ(16,"mat-icon"),s._uU(17,"check"),s.qZA()()()()()}if(2&n){var t=r.$implicit;s.Q6J("ngStyle",s.VKq(5,sO,t.data.color)),s.xp6(2),s.AsE("",!0===t.isExpired?"expired note -> ":"","",t.data.title," "),s.xp6(2),s.hij(" ",t.data.body," "),s.xp6(1),s.Q6J("ngIf",t.data.files)}}var JB=function(){return{standalone:!0}},XB=function(){var n=function(){function r(e,t){(0,m.Z)(this,r),this.notesService=e,this.timerservice=t,this.note=new lC,this.isNotePosted=!0,this.notes=[],this.isNoteExpired=!1,this.colors=SA,this.selectedFiles=[],this.fb=new Zy,this.allowedFormats=[".jpeg",".png",".doc",".mp3",".txt"],this.progressbarValue=0,this.CompletedTasks=0,this.UnCompletedTasks=0,this.TaskCount=0}return(0,_.Z)(r,[{key:"ngOnInit",value:function(){this.getNotes(),this.getDate()}},{key:"playCompleteAudio",value:function(){var t=new Audio;t.src="../../../assets/audio/sound01.mp3",t.load(),t.play()}},{key:"playDeleteAudio",value:function(){var t=new Audio;t.src="../../../assets/audio/sound02.mp3",t.load(),t.play()}},{key:"getNotes",value:function(){var t=this;this.notesService.getNotes().subscribe({next:function(a){t.formatNotes(a),t.expiredNoteCounter()},error:function(a){console.log(a)}})}},{key:"getDate",value:function(){var t=this.timerservice.getDates();console.log(t)}},{key:"expiredNoteCounter",value:function(){var t=this,i=new Date;this.notes.forEach(function(a){var o=a.data.date;Number(i.getTime())>o&&(a.isExpired=!0,a.data.state=!1,t.notesService.updateNote(a.uid,a.data).subscribe())})}},{key:"onCompleteClick",value:function(t){var i=this;1==t.data.state?this.CompletedTasks=this.CompletedTasks+1:this.UnCompletedTasks=this.UnCompletedTasks+1,this.taskPercentageCalculator(),this.notesService.deleteNote(t.uid),this.notes.forEach(function(a,o){a.uid==t.uid&&i.notes.splice(o,1)})}},{key:"taskPercentageCalculator",value:function(){return this.TaskCount=this.CompletedTasks/(this.UnCompletedTasks+this.CompletedTasks),console.log(this.TaskCount),this.TaskCount}},{key:"assignValue",value:function(t){return this.value=t.getTime(),console.log(this.value),this.note.data.date=this.value,this.value}},{key:"formatNotes",value:function(t){this.notes=Object.keys(t).map(function(i){return{uid:i,isExpired:!1,data:t[i]}}),this.notes.sort(function(i,a){return new Date(i.data.date).getDate()-new Date(a.data.date).getDate()}),this.notes.reverse(),console.log(this.notes)}},{key:"onAddNoteClick",value:function(){var t=this;this.notesService.addNote(this.note.data).subscribe({next:function(a){console.log(a),t.onClearNoteClick(),t.getNotes(),console.log(t.note.data.color)},error:function(a){console.log(a)}})}},{key:"onEditNoteClick",value:function(){var t=this;this.notesService.updateNote(this.note.uid,this.note.data).subscribe({next:function(a){console.log(a),t.onClearNoteClick(),t.getNotes(),console.log(t.note.data.color)},error:function(a){console.log(a)}})}},{key:"onSelectNoteClick",value:function(t){this.note=t,this.date=new Date(t.data.date)}},{key:"onShareClick",value:function(t){window.open("http://twitter.com/share?text= title: ".concat(t.data.title,"  content: ").concat(t.data.body),"_blank")}},{key:"onClearNoteClick",value:function(){this.note=new lC,this.date=new Date,this.isNoteExpired=!1}},{key:"onDeleteClick",value:function(t){var i=this;console.log(t.data),0==t.data.state?this.UnCompletedTasks=this.UnCompletedTasks+1:console.log("\xfaloha v\u010das odstr\xe1nen\xe1"),this.taskPercentageCalculator(),this.notesService.deleteNote(t.uid),this.notes.forEach(function(a,o){a.uid==t.uid&&i.notes.splice(o,1)})}},{key:"onSelectFile",value:function(t){var i=this;this.isNotePosted=!1,this.note.data.files||(this.note.data.files=[]);var o=t.target.files[0],u=new FileReader;u.readAsDataURL(o),u.onload=function(){var d=u.result.toString().split(",");d.shift();var h=d.join(","),v=u.result.toString().match(":(.*);");i.note.data.files.push(new TA(h,o.name,v[1]))}}},{key:"startTimer",value:function(){return(0,Ws.mG)(this,void 0,void 0,me().mark(function t(){var i=this;return me().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:(0,AA.F)(1e3).subscribe(function(d){i.progressbarValue=0+d+200});case 2:case"end":return u.stop()}},t)}))}},{key:"convertBase64ToBlobData",value:function(t,i){for(var o=atob(t),u=[],d=0;d<o.length;d+=512){for(var h=o.slice(d,d+512),v=new Array(h.length),b=0;b<h.length;b++)v[b]=h.charCodeAt(b);var k=new Uint8Array(v);u.push(k)}return new Blob(u,{type:i})}},{key:"downloadImage",value:function(t,i,a){var o=this.convertBase64ToBlobData(i,a),u=new Blob([o],{type:a}),d=window.URL.createObjectURL(u),h=document.createElement("a");h.href=d,h.download=t,h.click()}},{key:"onDownloadFileClick",value:function(t,i,a){this.downloadImage(t,i,a)}}]),r}();return n.\u0275fac=function(e){return new(e||n)(s.Y36(BA),s.Y36(yC))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-notes"]],decls:44,vars:20,consts:[[1,"row"],[1,"col-xs-12"],[1,"example-form"],["appearance","fill",1,"example-full-width"],["matInput","","type","text","placeholder","Title",3,"ngModel","ngModelOptions","ngModelChange"],["matInput","","type","text","placeholder","Body",3,"ngModel","ngModelOptions","ngModelChange"],["name","color",3,"ngModel","ngModelChange"],[1,"color-span",3,"ngStyle"],[3,"value",4,"ngFor","ngForOf"],["matInput","","name","date",3,"matDatepicker","ngModel","ngModelChange"],["matSuffix","",3,"for"],["picker",""],["mat-raised-button","","color","primary",1,"post-button",3,"click"],["mat-raised-button","","color","primary",1,"post-button",3,"disabled","click"],[1,"progressbar",3,"hidden"],["mode","determinate",1,"progressbar",3,"value"],[1,"upload"],["id","upload","type","file","onclick","value = null",3,"accept","change"],[1,"cards"],["class","example-card",3,"ngStyle","click",4,"ngFor","ngForOf"],[3,"value"],[1,"example-card",3,"ngStyle","click"],[4,"ngIf"],[2,"position","absolute","right","5px","bottom","5px"],["mat-mini-fab","","color","warn",3,"click"],["mat-mini-fab","","color","primary",3,"click"],[1,"complete",2,"position","absolute","left","308px","top","1px"],[4,"ngFor","ngForOf"],["routerLink","",3,"click"]],template:function(e,t){if(1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"form",2),s._UZ(3,"app-header"),s.TgZ(4,"div",0)(5,"p"),s._uU(6),s.qZA()(),s.TgZ(7,"mat-form-field",3)(8,"mat-label"),s._uU(9,"Title"),s.qZA(),s.TgZ(10,"input",4),s.NdJ("ngModelChange",function(o){return t.note.data.title=o}),s.qZA()(),s.TgZ(11,"mat-form-field",3)(12,"mat-label"),s._uU(13,"Body"),s.qZA(),s.TgZ(14,"input",5),s.NdJ("ngModelChange",function(o){return t.note.data.body=o}),s.qZA()(),s.TgZ(15,"mat-form-field",3)(16,"mat-label"),s._uU(17,"Chooose Color"),s.qZA(),s.TgZ(18,"mat-select",6),s.NdJ("ngModelChange",function(o){return t.note.data.color=o}),s.TgZ(19,"mat-select-trigger"),s._UZ(20,"span",7),s.qZA(),s.YNc(21,o7,2,4,"mat-option",8),s.qZA()(),s.TgZ(22,"mat-form-field",3)(23,"mat-label"),s._uU(24,"Choose a date"),s.qZA(),s.TgZ(25,"input",9),s.NdJ("ngModelChange",function(o){return t.assignValue(o)}),s.qZA(),s._UZ(26,"mat-datepicker-toggle",10)(27,"mat-datepicker",null,11),s.qZA(),s.TgZ(29,"button",12),s.NdJ("click",function(){return t.onAddNoteClick()})("click",function(){return t.startTimer()}),s._uU(30," Add note "),s.qZA(),s.TgZ(31,"button",13),s.NdJ("click",function(){return t.onEditNoteClick()})("click",function(){return t.startTimer()}),s._uU(32," Edit note "),s.qZA(),s.TgZ(33,"button",12),s.NdJ("click",function(){return t.onClearNoteClick()}),s._uU(34," Clear note "),s.qZA()()(),s.TgZ(35,"div",14),s._UZ(36,"mat-progress-bar",15),s.qZA(),s.TgZ(37,"div",16)(38,"input",17),s.NdJ("change",function(o){return t.onSelectFile(o)}),s.qZA(),s.TgZ(39,"label"),s._uU(40,"Choose file"),s.qZA()(),s._UZ(41,"br"),s.TgZ(42,"div",18),s.YNc(43,l7,18,7,"mat-card",19),s.qZA()()),2&e){var i=s.MAs(28);s.xp6(6),s.Oqu(t.TaskCount),s.xp6(4),s.Q6J("ngModel",t.note.data.title)("ngModelOptions",s.DdM(16,JB)),s.xp6(4),s.Q6J("ngModel",t.note.data.body)("ngModelOptions",s.DdM(17,JB)),s.xp6(4),s.Q6J("ngModel",t.note.data.color),s.xp6(2),s.Q6J("ngStyle",s.VKq(18,sO,t.note.data.color)),s.xp6(1),s.Q6J("ngForOf",t.colors),s.xp6(4),s.Q6J("matDatepicker",i)("ngModel",t.date),s.xp6(1),s.Q6J("for",i),s.xp6(5),s.Q6J("disabled",!t.note.uid),s.xp6(4),s.Q6J("hidden",t.isNotePosted),s.xp6(1),s.Q6J("value",t.progressbarValue),s.xp6(2),s.Q6J("accept",t.allowedFormats),s.xp6(5),s.Q6J("ngForOf",t.notes)}},directives:[zC,OC,Au,Gq,kB,Y1,w8,Fg,RC,d0,OB,V8,Na,la,Um,oO,LK,f8,FK,Pl,KK,a7,r7,n7,Nr,vp,i7,$D],styles:[".example-card[_ngcontent-%COMP%]{margin-top:5px;max-width:320px;color:#000;background-color:#f5f5f5}.post-button[_ngcontent-%COMP%]{margin-bottom:15px!important;width:100%}.form-container[_ngcontent-%COMP%]{max-width:500px;margin:50px auto auto}.color-span[_ngcontent-%COMP%]{width:320px;height:16px;float:left;margin-top:12px}.cards[_ngcontent-%COMP%]{margin-top:20px;width:110%;word-wrap:break-word}.example-full-width[_ngcontent-%COMP%]{width:100%}.progress[_ngcontent-%COMP%]{position:relative;top:0px;left:2px;width:100px;height:2px;margin:0 em}.btn-upload[_ngcontent-%COMP%]{text-align:center;position:relative;margin:0 auto;padding:1px;float:right;width:70%}.upload[_ngcontent-%COMP%]{text-align:center;position:relative;margin-top:12px;padding:1px;float:left}.upload[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;position:absolute;width:100%;height:100%;top:0;left:0}.upload[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff;width:160px;height:40px;border-radius:3px;background-color:#673ab7;padding:8px}"]}),n}(),c7=[{path:"",redirectTo:"/notes",pathMatch:"full"},{path:"notes",component:XB}],d7=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Py.forRoot(c7)],Py]}),n}(),f7=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r),this.title="NODs"});return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(e,t){1&e&&s._UZ(0,"app-notes")},directives:[XB],encapsulation:2}),n}(),mO=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[j1]]}),n}(),N7={provide:new s.OlP("mat-autocomplete-scroll-strategy"),deps:[es],useFactory:function x7(n){return function(){return n.scrollStrategies.reposition()}}},uV=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[N7],imports:[[lh,dv,jt,zn],Rd,dv,jt]}),n}(),dV=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n}(),fV=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[ru,jt,jp,dV],jt,dV]}),n}(),mV=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[ru,jt],jt]}),n}(),yV=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[zn,jt],jt]}),n}(),bV=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n}(),kV=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[bV,ru,jt,jp],bV,jt]}),n}(),TV=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[zn,jt,kd,Rd],Rd,jt]}),n}(),bO=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[jt],jt]}),n}(),J$=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n}(),OV=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[zn,jt,J$,Ts]]}),n}(),ZV=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[xm,jt],xm,jt]}),n}(),GV=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[xm,ru,jt,Lm,zn],xm,jt,Lm,bO]}),n}(),HQ=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Qp]]}),n}(),yM=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r),this.changes=new ft.xQ,this.optionalLabel="Optional"});return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,s.Yz7)({factory:function(){return new n},token:n,providedIn:"root"}),n}(),i9={provide:yM,deps:[[new s.FiY,new s.tp0,yM]],useFactory:function r9(n){return n||new yM}},$V=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[i9,nu],imports:[[jt,zn,Ts,Id,HQ,QD,ru],jt]}),n}(),d3=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[zn,jt,Ts,ru,jp,cm],jt]}),n}(),K9=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n}(),f3=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[K9,jt],jt]}),n}(),m3=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[jt,ru],jt]}),n}(),_3=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[cm,jt],jt]}),n}(),w3=new s.OlP("mat-chips-default-options"),MJ={separatorKeyCodes:[13]},C3=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[nu,{provide:w3,useValue:MJ}],imports:[[jt]]}),n}();function SJ(n,r){if(1&n&&(s.O4$(),s._UZ(0,"circle",3)),2&n){var e=s.oxw();s.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),s.uIk("r",e._getCircleRadius())}}function TJ(n,r){if(1&n&&(s.O4$(),s._UZ(0,"circle",3)),2&n){var e=s.oxw();s.Udp("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),s.uIk("r",e._getCircleRadius())}}var OJ=(0,_.Z)(function n(r){(0,m.Z)(this,n),this._elementRef=r}),PJ=qi(OJ,"primary"),D3=new s.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function FJ(){return{diameter:100}}}),t_=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i,a,o,u){var d;(0,m.Z)(this,e),(d=r.call(this,t))._elementRef=t,d._document=a,d._diameter=100,d._value=0,d._fallbackAnimation=!1,d.mode="determinate";var h=e._diameters;return d._spinnerAnimationLabel=d._getSpinnerAnimationLabel(),h.has(a.head)||h.set(a.head,new Set([100])),d._fallbackAnimation=i.EDGE||i.TRIDENT,d._noopAnimations="NoopAnimations"===o&&!!u&&!u._forceAnimations,u&&(u.diameter&&(d.diameter=u.diameter),u.strokeWidth&&(d.strokeWidth=u.strokeWidth)),d}return(0,_.Z)(e,[{key:"diameter",get:function(){return this._diameter},set:function(i){this._diameter=Yn(i),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),!this._fallbackAnimation&&this._styleRoot&&this._attachStyleNode()}},{key:"strokeWidth",get:function(){return this._strokeWidth||this.diameter/10},set:function(i){this._strokeWidth=Yn(i)}},{key:"value",get:function(){return"determinate"===this.mode?this._value:0},set:function(i){this._value=Math.max(0,Math.min(100,Yn(i)))}},{key:"ngOnInit",value:function(){var i=this._elementRef.nativeElement;this._styleRoot=F0(i)||this._document.head,this._attachStyleNode();var a="mat-progress-spinner-indeterminate".concat(this._fallbackAnimation?"-fallback":"","-animation");i.classList.add(a)}},{key:"_getCircleRadius",value:function(){return(this.diameter-10)/2}},{key:"_getViewBox",value:function(){var i=2*this._getCircleRadius()+this.strokeWidth;return"0 0 ".concat(i," ").concat(i)}},{key:"_getStrokeCircumference",value:function(){return 2*Math.PI*this._getCircleRadius()}},{key:"_getStrokeDashOffset",value:function(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._getStrokeCircumference():null}},{key:"_getCircleStrokeWidth",value:function(){return this.strokeWidth/this.diameter*100}},{key:"_attachStyleNode",value:function(){var i=this._styleRoot,a=this._diameter,o=e._diameters,u=o.get(i);if(!u||!u.has(a)){var d=this._document.createElement("style");d.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),d.textContent=this._getAnimationText(),i.appendChild(d),u||o.set(i,u=new Set),u.add(a)}}},{key:"_getAnimationText",value:function(){var i=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,"".concat(.95*i)).replace(/END_VALUE/g,"".concat(.2*i)).replace(/DIAMETER/g,"".concat(this._spinnerAnimationLabel))}},{key:"_getSpinnerAnimationLabel",value:function(){return this.diameter.toString().replace(".","_")}}]),e}(PJ);t_.\u0275fac=function(r){return new(r||t_)(s.Y36(s.SBq),s.Y36(Pn),s.Y36(K,8),s.Y36(sr,8),s.Y36(D3))},t_.\u0275cmp=s.Xpm({type:t_,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(r,e){2&r&&(s.uIk("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),s.Udp("width",e.diameter,"px")("height",e.diameter,"px"),s.ekj("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",mode:"mode",diameter:"diameter",strokeWidth:"strokeWidth",value:"value"},exportAs:["matProgressSpinner"],features:[s.qOj],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(r,e){1&r&&(s.O4$(),s.TgZ(0,"svg",0),s.YNc(1,SJ,1,9,"circle",1),s.YNc(2,TJ,1,7,"circle",2),s.qZA()),2&r&&(s.Udp("width",e.diameter,"px")("height",e.diameter,"px"),s.Q6J("ngSwitch","indeterminate"===e.mode),s.uIk("viewBox",e._getViewBox()),s.xp6(1),s.Q6J("ngSwitchCase",!0),s.xp6(1),s.Q6J("ngSwitchCase",!1))},directives:[hi,ka],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:currentColor;stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{animation:mat-progress-spinner-stroke-rotate-fallback 10000ms cubic-bezier(0.87, 0.03, 0.33, 1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0deg)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}\n"],encapsulation:2,changeDetection:0}),t_._diameters=new WeakMap;var $t,M3=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[jt,zn],jt]}),n}(),R3=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[lh,jt,Ts],jt]}),n}(),P3=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[lh,Ts,zn,Id,jt],jt]}),n}(),nX={provide:new s.OlP("mat-tooltip-scroll-strategy"),deps:[es],useFactory:function tX(n){return function(){return n.scrollStrategies.reposition({scrollThrottle:20})}}},NO=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[nX],imports:[[cm,zn,lh,jt],jt,Rd]}),n}(),ak=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r),this.changes=new ft.xQ,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=function(e,t,i){if(0==i||0==t)return"0 of ".concat(i);var a=e*t,o=a<(i=Math.max(i,0))?Math.min(a+t,i):a+t;return"".concat(a+1," \u2013 ").concat(o," of ").concat(i)}});return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,s.Yz7)({factory:function(){return new n},token:n,providedIn:"root"}),n}(),pX={provide:ak,deps:[[new s.FiY,new s.tp0,ak]],useFactory:function hX(n){return n||new ak}},N3=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[pX],imports:[[zn,Id,W1,NO,jt]]}),n}(),CM=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r),this.changes=new ft.xQ,this.sortButtonLabel=function(e){return"Change sorting for ".concat(e)}});return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,s.Yz7)({factory:function(){return new n},token:n,providedIn:"root"}),n}(),AX={provide:CM,deps:[[new s.FiY,new s.tp0,CM]],useFactory:function TX(n){return n||new CM}},Z3=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[AX],imports:[[zn,jt]]}),n}(),j3=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[mO,jt],jt]}),n}(),qX=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[zn,mO,uV,fV,qB,Qb,MB,mV,W1,yV,kV,pB,TV,S1,QB,bO,OV,ZV,GV,$V,d3,f3,Id,m3,_3,C3,QD,M3,$B,ru,R3,Q1,P3,NO,N3,Z3,j3,_1],mO,uV,fV,qB,Qb,MB,mV,W1,yV,kV,pB,TV,S1,QB,bO,OV,ZV,GV,$V,d3,f3,Id,m3,_3,C3,QD,M3,$B,ru,R3,Q1,P3,NO,N3,Z3,j3]}),n}(),ZO_firebase={projectId:"nods-fdb6b",appId:"1:108027487592:web:e64e5d20e2a3f8b8cba2dd",databaseURL:"https://nods-fdb6b-default-rtdb.europe-west1.firebasedatabase.app",storageBucket:"nods-fdb6b.appspot.com",locationId:"europe-west",apiKey:"AIzaSyAwY_wFWL5pX8Aa3Qf0qiV5I9KsPPQzEcI",authDomain:"nods-fdb6b.firebaseapp.com",messagingSenderId:"108027487592",measurementId:"G-XJQZVGQS46"},ZO_firebaseConfig={apiKey:"AIzaSyDjOT6a4zi4N0pKYz8Wpkv4wy1Ol62FbdA",authDomain:"notesoriginal.firebaseapp.com",databaseURL:"https://notesoriginal-default-rtdb.europe-west1.firebasedatabase.app",projectId:"notesoriginal",storageBucket:"notesoriginal.appspot.com",messagingSenderId:"640937932701",appId:"1:640937932701:web:5481a41e42b7ad470a2174",measurementId:"G-S34G9QYSYS"},Ia=x(2011),Ae=x(6351),G3=(x(5881),x(5647)),LO=x(3942),st=x(5861),Zi=x(9681),xl=x(4859),Nl=x(1877),re=x(2090),KX="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Nd={},BO=BO||{},Tn=KX||self;function EM(){}function VO(n){var r=typeof n;return"array"==(r="object"!=r?r:n?Array.isArray(n)?"array":r:"null")||"object"==r&&"number"==typeof n.length}function ok(n){var r=typeof n;return"object"==r&&null!=n||"function"==r}var UO="closure_uid_"+(1e9*Math.random()>>>0),QX=0;function JX(n,r,e){return n.call.apply(n.bind,arguments)}function XX(n,r,e){if(!n)throw Error();if(2<arguments.length){var t=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,t),n.apply(r,i)}}return function(){return n.apply(r,arguments)}}function bo(n,r,e){return(bo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?JX:XX).apply(null,arguments)}function DM(n,r){var e=Array.prototype.slice.call(arguments,1);return function(){var t=e.slice();return t.push.apply(t,arguments),n.apply(this,t)}}function ko(n,r){function e(){}e.prototype=r.prototype,n.Z=r.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(t,i,a){for(var o=Array(arguments.length-2),u=2;u<arguments.length;u++)o[u-2]=arguments[u];return r.prototype[i].apply(t,o)}}function fh(){this.s=this.s,this.o=this.o}var tee={};fh.prototype.s=!1,fh.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function $X(n){return Object.prototype.hasOwnProperty.call(n,UO)&&n[UO]||(n[UO]=++QX)}(this);delete tee[n]}},fh.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var z3=Array.prototype.indexOf?function(n,r){return Array.prototype.indexOf.call(n,r,void 0)}:function(n,r){if("string"==typeof n)return"string"!=typeof r||1!=r.length?-1:n.indexOf(r,0);for(var e=0;e<n.length;e++)if(e in n&&n[e]===r)return e;return-1},Y3=Array.prototype.forEach?function(n,r,e){Array.prototype.forEach.call(n,r,e)}:function(n,r,e){for(var t=n.length,i="string"==typeof n?n.split(""):n,a=0;a<t;a++)a in i&&r.call(e,i[a],a,n)};function W3(n){return Array.prototype.concat.apply([],arguments)}function HO(n){var r=n.length;if(0<r){for(var e=Array(r),t=0;t<r;t++)e[t]=n[t];return e}return[]}function MM(n){return/^[\s\xa0]*$/.test(n)}var ns,q3=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function ts(n,r){return-1!=n.indexOf(r)}function jO(n,r){return n<r?-1:n>r?1:0}e:{var K3=Tn.navigator;if(K3){var $3=K3.userAgent;if($3){ns=$3;break e}}ns=""}function GO(n,r,e){for(var t in n)r.call(e,n[t],t,n)}function Q3(n){var r={};for(var e in n)r[e]=n[e];return r}var J3="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function X3(n,r){for(var e,t,i=1;i<arguments.length;i++){for(e in t=arguments[i])n[e]=t[e];for(var a=0;a<J3.length;a++)e=J3[a],Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])}}function zO(n){return zO[" "](n),n}zO[" "]=EM;var SM,n,iee=ts(ns,"Opera"),i_=ts(ns,"Trident")||ts(ns,"MSIE"),eU=ts(ns,"Edge"),YO=eU||i_,tU=ts(ns,"Gecko")&&!(ts(ns.toLowerCase(),"webkit")&&!ts(ns,"Edge"))&&!(ts(ns,"Trident")||ts(ns,"MSIE"))&&!ts(ns,"Edge"),aee=ts(ns.toLowerCase(),"webkit")&&!ts(ns,"Edge");function nU(){var n=Tn.document;return n?n.documentMode:void 0}e:{var WO="",qO=(n=ns,tU?/rv:([^\);]+)(\)|;)/.exec(n):eU?/Edge\/([\d\.]+)/.exec(n):i_?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):aee?/WebKit\/(\S+)/.exec(n):iee?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(qO&&(WO=qO?qO[1]:""),i_){var KO=nU();if(null!=KO&&KO>parseFloat(WO)){SM=String(KO);break e}}SM=WO}var oee={};var uee=Tn.document&&i_&&(nU()||parseInt(SM,10))||void 0,lee=function(){if(!Tn.addEventListener||!Object.defineProperty)return!1;var n=!1,r=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Tn.addEventListener("test",EM,r),Tn.removeEventListener("test",EM,r)}catch(e){}return n}();function xo(n,r){this.type=n,this.g=this.target=r,this.defaultPrevented=!1}function sk(n,r){if(xo.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,t=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=r,r=n.relatedTarget){if(tU){e:{try{zO(r.nodeName);var i=!0;break e}catch(a){}i=!1}i||(r=null)}}else"mouseover"==e?r=n.fromElement:"mouseout"==e&&(r=n.toElement);this.relatedTarget=r,t?(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:cee[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&sk.Z.h.call(this)}}xo.prototype.h=function(){this.defaultPrevented=!0},ko(sk,xo);var cee={2:"touch",3:"pen",4:"mouse"};sk.prototype.h=function(){sk.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var uk="closure_listenable_"+(1e6*Math.random()|0),dee=0;function fee(n,r,e,t,i){this.listener=n,this.proxy=null,this.src=r,this.type=e,this.capture=!!t,this.ia=i,this.key=++dee,this.ca=this.fa=!1}function TM(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function AM(n){this.src=n,this.g={},this.h=0}function QO(n,r){var e=r.type;if(e in n.g){var a,t=n.g[e],i=z3(t,r);(a=0<=i)&&Array.prototype.splice.call(t,i,1),a&&(TM(r),0==n.g[e].length&&(delete n.g[e],n.h--))}}function JO(n,r,e,t){for(var i=0;i<n.length;++i){var a=n[i];if(!a.ca&&a.listener==r&&a.capture==!!e&&a.ia==t)return i}return-1}AM.prototype.add=function(n,r,e,t,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var o=JO(n,r,t,i);return-1<o?(r=n[o],e||(r.fa=!1)):((r=new fee(r,this.src,a,!!t,i)).fa=e,n.push(r)),r};var XO="closure_lm_"+(1e6*Math.random()|0),eP={};function iU(n,r,e,t,i){if(t&&t.once)return oU(n,r,e,t,i);if(Array.isArray(r)){for(var a=0;a<r.length;a++)iU(n,r[a],e,t,i);return null}return e=iP(e),n&&n[uk]?n.N(r,e,ok(t)?!!t.capture:!!t,i):aU(n,r,e,!1,t,i)}function aU(n,r,e,t,i,a){if(!r)throw Error("Invalid event type");var o=ok(i)?!!i.capture:!!i,u=nP(n);if(u||(n[XO]=u=new AM(n)),(e=u.add(r,e,t,o,a)).proxy)return e;if(t=function hee(){var r=pee;return function n(e){return r.call(n.src,n.listener,e)}}(),e.proxy=t,t.src=n,t.listener=e,n.addEventListener)lee||(i=o),void 0===i&&(i=!1),n.addEventListener(r.toString(),t,i);else if(n.attachEvent)n.attachEvent(uU(r.toString()),t);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(t)}return e}function oU(n,r,e,t,i){if(Array.isArray(r)){for(var a=0;a<r.length;a++)oU(n,r[a],e,t,i);return null}return e=iP(e),n&&n[uk]?n.O(r,e,ok(t)?!!t.capture:!!t,i):aU(n,r,e,!0,t,i)}function sU(n,r,e,t,i){if(Array.isArray(r))for(var a=0;a<r.length;a++)sU(n,r[a],e,t,i);else t=ok(t)?!!t.capture:!!t,e=iP(e),n&&n[uk]?(n=n.i,(r=String(r).toString())in n.g&&-1<(e=JO(a=n.g[r],e,t,i))&&(TM(a[e]),Array.prototype.splice.call(a,e,1),0==a.length&&(delete n.g[r],n.h--))):n&&(n=nP(n))&&(r=n.g[r.toString()],n=-1,r&&(n=JO(r,e,t,i)),(e=-1<n?r[n]:null)&&tP(e))}function tP(n){if("number"!=typeof n&&n&&!n.ca){var r=n.src;if(r&&r[uk])QO(r.i,n);else{var e=n.type,t=n.proxy;r.removeEventListener?r.removeEventListener(e,t,n.capture):r.detachEvent?r.detachEvent(uU(e),t):r.addListener&&r.removeListener&&r.removeListener(t),(e=nP(r))?(QO(e,n),0==e.h&&(e.src=null,r[XO]=null)):TM(n)}}}function uU(n){return n in eP?eP[n]:eP[n]="on"+n}function pee(n,r){if(n.ca)n=!0;else{r=new sk(r,this);var e=n.listener,t=n.ia||n.src;n.fa&&tP(n),n=e.call(t,r)}return n}function nP(n){return(n=n[XO])instanceof AM?n:null}var rP="__closure_events_fn_"+(1e9*Math.random()>>>0);function iP(n){return"function"==typeof n?n:(n[rP]||(n[rP]=function(r){return n.handleEvent(r)}),n[rP])}function Ka(){fh.call(this),this.i=new AM(this),this.P=this,this.I=null}function wo(n,r){var e,t=n.I;if(t)for(e=[];t;t=t.I)e.push(t);if(n=n.P,t=r.type||r,"string"==typeof r)r=new xo(r,n);else if(r instanceof xo)r.target=r.target||n;else{var i=r;X3(r=new xo(t,n),i)}if(i=!0,e)for(var a=e.length-1;0<=a;a--){var o=r.g=e[a];i=IM(o,t,!0,r)&&i}if(i=IM(o=r.g=n,t,!0,r)&&i,i=IM(o,t,!1,r)&&i,e)for(a=0;a<e.length;a++)i=IM(o=r.g=e[a],t,!1,r)&&i}function IM(n,r,e,t){if(!(r=n.i.g[String(r)]))return!0;r=r.concat();for(var i=!0,a=0;a<r.length;++a){var o=r[a];if(o&&!o.ca&&o.capture==e){var u=o.listener,d=o.ia||o.src;o.fa&&QO(n.i,o),i=!1!==u.call(d,t)&&i}}return i&&!t.defaultPrevented}ko(Ka,fh),Ka.prototype[uk]=!0,Ka.prototype.removeEventListener=function(n,r,e,t){sU(this,n,r,e,t)},Ka.prototype.M=function(){if(Ka.Z.M.call(this),this.i){var r,n=this.i;for(r in n.g){for(var e=n.g[r],t=0;t<e.length;t++)TM(e[t]);delete n.g[r],n.h--}}this.I=null},Ka.prototype.N=function(n,r,e,t){return this.i.add(String(n),r,!1,e,t)},Ka.prototype.O=function(n,r,e,t){return this.i.add(String(n),r,!0,e,t)};var aP=Tn.JSON.stringify;function vee(){var n=cU,r=null;return n.g&&(r=n.g,n.g=n.g.next,n.g||(n.h=null),r.next=null),r}var sP,gee=function(){function n(){(0,m.Z)(this,n),this.h=this.g=null}return(0,_.Z)(n,[{key:"add",value:function(e,t){var i=lU.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}}]),n}(),lU=new(function(){function n(r,e){(0,m.Z)(this,n),this.i=r,this.j=e,this.h=0,this.g=null}return(0,_.Z)(n,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,this.g=(e=this.g).next,e.next=null):e=this.i(),e}}]),n}())(function(){return new mee},function(n){return n.reset()}),mee=function(){function n(){(0,m.Z)(this,n),this.next=this.g=this.h=null}return(0,_.Z)(n,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),n}();function _ee(n){Tn.setTimeout(function(){throw n},0)}function oP(n,r){sP||function yee(){var n=Tn.Promise.resolve(void 0);sP=function(){n.then(bee)}}(),uP||(sP(),uP=!0),cU.add(n,r)}var uP=!1,cU=new gee;function bee(){for(var n;n=vee();){try{n.h.call(n.g)}catch(e){_ee(e)}var r=lU;r.j(n),100>r.h&&(r.h++,n.next=r.g,r.g=n)}uP=!1}function RM(n,r){Ka.call(this),this.h=n||1,this.g=r||Tn,this.j=bo(this.kb,this),this.l=Date.now()}function lP(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function cP(n,r,e){if("function"==typeof n)e&&(n=bo(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=bo(n.handleEvent,n)}return 2147483647<Number(r)?-1:Tn.setTimeout(n,r||0)}function dU(n){n.g=cP(function(){n.g=null,n.i&&(n.i=!1,dU(n))},n.j);var r=n.h;n.h=null,n.m.apply(null,r)}ko(RM,Ka),($t=RM.prototype).da=!1,$t.S=null,$t.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),wo(this,"tick"),this.da&&(lP(this),this.start()))}},$t.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},$t.M=function(){RM.Z.M.call(this),lP(this),delete this.g};var kee=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i){var a;return(0,m.Z)(this,e),(a=r.call(this)).m=t,a.j=i,a.h=null,a.i=!1,a.g=null,a}return(0,_.Z)(e,[{key:"l",value:function(i){this.h=arguments,this.g?this.i=!0:dU(this)}},{key:"M",value:function(){(0,X.Z)((0,ne.Z)(e.prototype),"M",this).call(this),this.g&&(Tn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),e}(fh);function lk(n){fh.call(this),this.h=n,this.g={}}ko(lk,fh);var fU=[];function hU(n,r,e,t){Array.isArray(e)||(e&&(fU[0]=e.toString()),e=fU);for(var i=0;i<e.length;i++){var a=iU(r,e[i],t||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function pU(n){GO(n.g,function(r,e){this.g.hasOwnProperty(e)&&tP(r)},n),n.g={}}function OM(){this.g=!0}function a_(n,r,e,t){n.info(function(){return"XMLHTTP TEXT ("+r+"): "+function Dee(n,r){if(!n.g)return r;if(!r)return null;try{var e=JSON.parse(r);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var t=e[n];if(!(2>t.length)){var i=t[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return aP(e)}catch(u){return r}}(n,e)+(t?" "+t:"")})}lk.prototype.M=function(){lk.Z.M.call(this),pU(this)},lk.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},OM.prototype.Aa=function(){this.g=!1},OM.prototype.info=function(){};var _v={},vU=null;function PM(){return vU=vU||new Ka}function gU(n){xo.call(this,_v.Ma,n)}function ck(n){var r=PM();wo(r,new gU(r,n))}function mU(n,r){xo.call(this,_v.STAT_EVENT,n),this.stat=r}function rs(n){var r=PM();wo(r,new mU(r,n))}function _U(n,r){xo.call(this,_v.Na,n),this.size=r}function dk(n,r){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Tn.setTimeout(function(){n()},r)}_v.Ma="serverreachability",ko(gU,xo),_v.STAT_EVENT="statevent",ko(mU,xo),_v.Na="timingevent",ko(_U,xo);var FM={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},yU={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function dP(){}function kU(){}dP.prototype.h=null;var pP,fk={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function fP(){xo.call(this,"d")}function hP(){xo.call(this,"c")}function xM(){}function hk(n,r,e,t){this.l=n,this.j=r,this.m=e,this.X=t||1,this.V=new lk(this),this.P=Mee,this.W=new RM(n=YO?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new wU}function wU(){this.i=null,this.g="",this.h=!1}ko(fP,xo),ko(hP,xo),ko(xM,dP),xM.prototype.g=function(){return new XMLHttpRequest},xM.prototype.i=function(){return{}},pP=new xM;var Mee=45e3,vP={},NM={};function gP(n,r,e){n.K=1,n.v=UM(Zd(r)),n.s=e,n.U=!0,CU(n,null)}function CU(n,r){n.F=Date.now(),pk(n),n.A=Zd(n.v);var e=n.A,t=n.X;Array.isArray(t)||(t=[String(t)]),OU(e.h,"t",t),n.C=0,e=n.l.H,n.h=new wU,n.g=tH(n.l,e?r:null,!n.s),0<n.O&&(n.L=new kee(bo(n.Ia,n,n.g),n.O)),hU(n.V,n.g,"readystatechange",n.gb),r=n.H?Q3(n.H):{},n.s?(n.u||(n.u="POST"),r["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,r)):(n.u="GET",n.g.ea(n.A,n.u,null,r)),ck(1),function wee(n,r,e,t,i,a){n.info(function(){if(n.g)if(a)for(var o="",u=a.split("&"),d=0;d<u.length;d++){var h=u[d].split("=");if(1<h.length){var v=h[0];h=h[1];var b=v.split("_");o=2<=b.length&&"type"==b[1]?o+(v+"=")+h+"&":o+(v+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+t+") [attempt "+i+"]: "+r+"\n"+e+"\n"+o})}(n.j,n.u,n.A,n.m,n.X,n.s)}function EU(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function DU(n,r,e){for(var i,t=!0;!n.I&&n.C<e.length;){if((i=See(n,e))==NM){4==r&&(n.o=4,rs(14),t=!1),a_(n.j,n.m,null,"[Incomplete Response]");break}if(i==vP){n.o=4,rs(15),a_(n.j,n.m,e,"[Invalid Chunk]"),t=!1;break}a_(n.j,n.m,i,null),mP(n,i)}EU(n)&&i!=NM&&i!=vP&&(n.h.g="",n.C=0),4!=r||0!=e.length||n.h.h||(n.o=1,rs(16),t=!1),n.i=n.i&&t,t?0<e.length&&!n.aa&&(n.aa=!0,(r=n.l).g==n&&r.$&&!r.L&&(r.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),TP(r),r.L=!0,rs(11))):(a_(n.j,n.m,e,"[Invalid Chunked Response]"),yv(n),vk(n))}function See(n,r){var e=n.C,t=r.indexOf("\n",e);return-1==t?NM:(e=Number(r.substring(e,t)),isNaN(e)?vP:(t+=1)+e>r.length?NM:(r=r.substr(t,e),n.C=t+e,r))}function pk(n){n.Y=Date.now()+n.P,MU(n,n.P)}function MU(n,r){if(null!=n.B)throw Error("WatchDog timer not null");n.B=dk(bo(n.eb,n),r)}function ZM(n){n.B&&(Tn.clearTimeout(n.B),n.B=null)}function vk(n){0==n.l.G||n.I||QU(n.l,n)}function yv(n){ZM(n);var r=n.L;r&&"function"==typeof r.na&&r.na(),n.L=null,lP(n.W),pU(n.V),n.g&&(r=n.g,n.g=null,r.abort(),r.na())}function mP(n,r){try{var e=n.l;if(0!=e.G&&(e.g==n||bP(e.i,n)))if(e.I=n.N,!n.J&&bP(e.i,n)&&3==e.G){try{var t=e.Ca.g.parse(r)}catch(J){t=null}if(Array.isArray(t)&&3==t.length){var i=t;if(0==i[0])e:if(e.u)e.ta=i[1],0<e.ta-e.U&&37500>i[2]&&e.N&&0==e.A&&!e.v&&(e.v=dk(bo(e.ab,e),6e3));else{if(e.g){if(!(e.g.F+3e3<n.F))break e;WM(e),zM(e)}SP(e),rs(18)}if(1>=xU(e.i)&&e.ka){try{e.ka()}catch(J){}e.ka=void 0}}else wv(e,11)}else if((n.J||e.g==n)&&WM(e),!MM(r))for(i=e.Ca.g.parse(r),r=0;r<i.length;r++){var a=i[r];if(e.U=a[0],a=a[1],2==e.G)if("c"==a[0]){e.J=a[1],e.la=a[2];var o=a[3];null!=o&&(e.ma=o,e.h.info("VER="+e.ma));var u=a[4];null!=u&&(e.za=u,e.h.info("SVER="+e.za));var d=a[5];null!=d&&"number"==typeof d&&0<d&&(e.K=t=1.5*d,e.h.info("backChannelRequestTimeoutMs_="+t)),t=e;var h=n.g;if(h){var v=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var b=t.i;!b.g&&(ts(v,"spdy")||ts(v,"quic")||ts(v,"h2"))&&(b.j=b.l,b.g=new Set,b.h&&(kP(b,b.h),b.h=null))}if(t.D){var k=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;k&&(t.sa=k,yi(t.F,t.D,k))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-n.F,e.h.info("Handshake RTT: "+e.O+"ms"));var I=n;if((t=e).oa=eH(t,t.H?t.la:null,t.W),I.J){NU(t.i,I);var O=I,q=t.K;q&&O.setTimeout(q),O.B&&(ZM(O),pk(O)),t.g=I}else KU(t);0<e.l.length&&YM(e)}else"stop"!=a[0]&&"close"!=a[0]||wv(e,7);else 3==e.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?wv(e,7):DP(e):"noop"!=a[0]&&e.j&&e.j.wa(a),e.A=0)}ck(4)}catch(J){}}function _P(n,r){if(n.forEach&&"function"==typeof n.forEach)n.forEach(r,void 0);else if(VO(n)||"string"==typeof n)Y3(n,r,void 0);else{if(n.T&&"function"==typeof n.T)var e=n.T();else if(n.R&&"function"==typeof n.R)e=void 0;else if(VO(n)||"string"==typeof n){e=[];for(var t=n.length,i=0;i<t;i++)e.push(i)}else for(i in e=[],t=0,n)e[t++]=i;t=function Tee(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(VO(n)){for(var r=[],e=n.length,t=0;t<e;t++)r.push(n[t]);return r}for(t in r=[],e=0,n)r[e++]=n[t];return r}(n),i=t.length;for(var a=0;a<i;a++)r.call(void 0,t[a],e&&e[a],n)}}function o_(n,r){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var t=0;t<e;t+=2)this.set(arguments[t],arguments[t+1])}else if(n)if(n instanceof o_)for(e=n.T(),t=0;t<e.length;t++)this.set(e[t],n.get(e[t]));else for(t in n)this.set(t,n[t])}function yP(n){if(n.i!=n.g.length){for(var r=0,e=0;r<n.g.length;){var t=n.g[r];bv(n.h,t)&&(n.g[e++]=t),r++}n.g.length=e}if(n.i!=n.g.length){var i={};for(e=r=0;r<n.g.length;)bv(i,t=n.g[r])||(n.g[e++]=t,i[t]=1),r++;n.g.length=e}}function bv(n,r){return Object.prototype.hasOwnProperty.call(n,r)}($t=hk.prototype).setTimeout=function(n){this.P=n},$t.gb=function(n){n=n.target;var r=this.L;r&&3==Ld(n)?r.l():this.Ia(n)},$t.Ia=function(n){try{if(n==this.g)e:{var r=Ld(this.g),e=this.g.Da(),t=this.g.ba();if(!(3>r)&&(3!=r||YO||this.g&&(this.h.h||this.g.ga()||GU(this.g)))){this.I||4!=r||7==e||ck(8==e||0>=t?3:2),ZM(this);var i=this.g.ba();this.N=i;t:if(EU(this)){var a=GU(this.g);n="";var o=a.length,u=4==Ld(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){yv(this),vk(this);var d="";break t}this.h.i=new Tn.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(a[e],{stream:u&&e==o-1});a.splice(0,o),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.ga();if(this.i=200==i,function Cee(n,r,e,t,i,a,o){n.info(function(){return"XMLHTTP RESP ("+t+") [ attempt "+i+"]: "+r+"\n"+e+"\n"+a+" "+o})}(this.j,this.u,this.A,this.m,this.X,r,i),this.i){if(this.$&&!this.J){t:{if(this.g){var h,v=this.g;if((h=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!MM(h)){var b=h;break t}}b=null}if(!(i=b)){this.i=!1,this.o=3,rs(12),yv(this),vk(this);break e}a_(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,mP(this,i)}this.U?(DU(this,r,d),YO&&this.i&&3==r&&(hU(this.V,this.W,"tick",this.fb),this.W.start())):(a_(this.j,this.m,d,null),mP(this,d)),4==r&&yv(this),this.i&&!this.I&&(4==r?QU(this.l,this):(this.i=!1,pk(this)))}else 400==i&&0<d.indexOf("Unknown SID")?(this.o=3,rs(12)):(this.o=0,rs(13)),yv(this),vk(this)}}}catch(k){}},$t.fb=function(){if(this.g){var n=Ld(this.g),r=this.g.ga();this.C<r.length&&(ZM(this),DU(this,n,r),this.i&&4!=n&&pk(this))}},$t.cancel=function(){this.I=!0,yv(this)},$t.eb=function(){this.B=null;var n=Date.now();0<=n-this.Y?(function Eee(n,r){n.info(function(){return"TIMEOUT: "+r})}(this.j,this.A),2!=this.K&&(ck(3),rs(17)),yv(this),this.o=2,vk(this)):MU(this,this.Y-n)},($t=o_.prototype).R=function(){yP(this);for(var n=[],r=0;r<this.g.length;r++)n.push(this.h[this.g[r]]);return n},$t.T=function(){return yP(this),this.g.concat()},$t.get=function(n,r){return bv(this.h,n)?this.h[n]:r},$t.set=function(n,r){bv(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=r},$t.forEach=function(n,r){for(var e=this.T(),t=0;t<e.length;t++){var i=e[t],a=this.get(i);n.call(r,a,i,this)}};var SU=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function kv(n,r){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof kv){this.g=void 0!==r?r:n.g,LM(this,n.j),this.s=n.s,BM(this,n.i),VM(this,n.m),this.l=n.l,r=n.h;var e=new _k;e.i=r.i,r.g&&(e.g=new o_(r.g),e.h=r.h),TU(this,e),this.o=n.o}else n&&(e=String(n).match(SU))?(this.g=!!r,LM(this,e[1]||"",!0),this.s=gk(e[2]||""),BM(this,e[3]||"",!0),VM(this,e[4]),this.l=gk(e[5]||"",!0),TU(this,e[6]||"",!0),this.o=gk(e[7]||"")):(this.g=!!r,this.h=new _k(null,this.g))}function Zd(n){return new kv(n)}function LM(n,r,e){n.j=e?gk(r,!0):r,n.j&&(n.j=n.j.replace(/:$/,""))}function BM(n,r,e){n.i=e?gk(r,!0):r}function VM(n,r){if(r){if(r=Number(r),isNaN(r)||0>r)throw Error("Bad port number "+r);n.m=r}else n.m=null}function TU(n,r,e){r instanceof _k?(n.h=r,function Zee(n,r){r&&!n.j&&(hh(n),n.i=null,n.g.forEach(function(e,t){var i=t.toLowerCase();t!=i&&(IU(this,t),OU(this,i,e))},n)),n.j=r}(n.h,n.g)):(e||(r=mk(r,xee)),n.h=new _k(r,n.g))}function yi(n,r,e){n.h.set(r,e)}function UM(n){return yi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function gk(n,r){return n?r?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function mk(n,r,e){return"string"==typeof n?(n=encodeURI(n).replace(r,Oee),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Oee(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}kv.prototype.toString=function(){var n=[],r=this.j;r&&n.push(mk(r,AU,!0),":");var e=this.i;return(e||"file"==r)&&(n.push("//"),(r=this.s)&&n.push(mk(r,AU,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&n.push("/"),n.push(mk(e,"/"==e.charAt(0)?Fee:Pee,!0))),(e=this.h.toString())&&n.push("?",e),(e=this.o)&&n.push("#",mk(e,Nee)),n.join("")};var AU=/[#\/\?@]/g,Pee=/[#\?:]/g,Fee=/[#\?]/g,xee=/[#\?@]/g,Nee=/#/g;function _k(n,r){this.h=this.g=null,this.i=n||null,this.j=!!r}function hh(n){n.g||(n.g=new o_,n.h=0,n.i&&function Aee(n,r){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var t=n[e].indexOf("="),i=null;if(0<=t){var a=n[e].substring(0,t);i=n[e].substring(t+1)}else a=n[e];r(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(r,e){n.add(decodeURIComponent(r.replace(/\+/g," ")),e)}))}function IU(n,r){hh(n),r=s_(n,r),bv(n.g.h,r)&&(n.i=null,n.h-=n.g.get(r).length,bv((n=n.g).h,r)&&(delete n.h[r],n.i--,n.g.length>2*n.i&&yP(n)))}function RU(n,r){return hh(n),r=s_(n,r),bv(n.g.h,r)}function OU(n,r,e){IU(n,r),0<e.length&&(n.i=null,n.g.set(s_(n,r),HO(e)),n.h+=e.length)}function s_(n,r){return r=String(r),n.j&&(r=r.toLowerCase()),r}($t=_k.prototype).add=function(n,r){hh(this),this.i=null,n=s_(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(r),this.h+=1,this},$t.forEach=function(n,r){hh(this),this.g.forEach(function(e,t){Y3(e,function(i){n.call(r,i,t,this)},this)},this)},$t.T=function(){hh(this);for(var n=this.g.R(),r=this.g.T(),e=[],t=0;t<r.length;t++)for(var i=n[t],a=0;a<i.length;a++)e.push(r[t]);return e},$t.R=function(n){hh(this);var r=[];if("string"==typeof n)RU(this,n)&&(r=W3(r,this.g.get(s_(this,n))));else{n=this.g.R();for(var e=0;e<n.length;e++)r=W3(r,n[e])}return r},$t.set=function(n,r){return hh(this),this.i=null,RU(this,n=s_(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[r]),this.h+=1,this},$t.get=function(n,r){return n&&0<(n=this.R(n)).length?String(n[0]):r},$t.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],r=this.g.T(),e=0;e<r.length;e++){var t=r[e],i=encodeURIComponent(String(t));t=this.R(t);for(var a=0;a<t.length;a++){var o=i;""!==t[a]&&(o+="="+encodeURIComponent(String(t[a]))),n.push(o)}}return this.i=n.join("&")};var Lee=(0,_.Z)(function n(r,e){(0,m.Z)(this,n),this.h=r,this.g=e});function PU(n){this.l=n||Bee,n=Tn.PerformanceNavigationTiming?0<(n=Tn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Tn.g&&Tn.g.Ea&&Tn.g.Ea()&&Tn.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Bee=10;function FU(n){return!!n.h||!!n.g&&n.g.size>=n.j}function xU(n){return n.h?1:n.g?n.g.size:0}function bP(n,r){return n.h?n.h==r:!!n.g&&n.g.has(r)}function kP(n,r){n.g?n.g.add(r):n.h=r}function NU(n,r){n.h&&n.h==r?n.h=null:n.g&&n.g.has(r)&&n.g.delete(r)}function ZU(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){var t,r=n.i,e=(0,G.Z)(n.g.values());try{for(e.s();!(t=e.n()).done;)r=r.concat(t.value.D)}catch(a){e.e(a)}finally{e.f()}return r}return HO(n.i)}function wP(){}function Vee(){this.g=new wP}function Uee(n,r,e){var t=e||"";try{_P(n,function(i,a){var o=i;ok(i)&&(o=aP(i)),r.push(t+a+"="+encodeURIComponent(o))})}catch(i){throw r.push(t+"type="+encodeURIComponent("_badmap")),i}}function HM(n,r,e,t,i){try{r.onload=null,r.onerror=null,r.onabort=null,r.ontimeout=null,i(t)}catch(a){}}function yk(n){this.l=n.$b||null,this.j=n.ib||!1}function jM(n,r){Ka.call(this),this.D=n,this.u=r,this.m=void 0,this.readyState=CP,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}PU.prototype.cancel=function(){if(this.i=ZU(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var r,n=(0,G.Z)(this.g.values());try{for(n.s();!(r=n.n()).done;)r.value.cancel()}catch(t){n.e(t)}finally{n.f()}this.g.clear()}},wP.prototype.stringify=function(n){return Tn.JSON.stringify(n,void 0)},wP.prototype.parse=function(n){return Tn.JSON.parse(n,void 0)},ko(yk,dP),yk.prototype.g=function(){return new jM(this.l,this.j)},yk.prototype.i=function(n){return function(){return n}}({}),ko(jM,Ka);var CP=0;function LU(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function bk(n){n.readyState=4,n.l=null,n.j=null,n.A=null,kk(n)}function kk(n){n.onreadystatechange&&n.onreadystatechange.call(n)}($t=jM.prototype).open=function(n,r){if(this.readyState!=CP)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=r,this.readyState=1,kk(this)},$t.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var r={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(r.body=n),(this.D||Tn).fetch(new Request(this.B,r)).then(this.Va.bind(this),this.ha.bind(this))},$t.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,bk(this)),this.readyState=CP},$t.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,kk(this)),this.g&&(this.readyState=3,kk(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Tn.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;LU(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},$t.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var r=n.value?n.value:new Uint8Array(0);(r=this.A.decode(r,{stream:!n.done}))&&(this.response=this.responseText+=r)}n.done?bk(this):kk(this),3==this.readyState&&LU(this)}},$t.Ua=function(n){this.g&&(this.response=this.responseText=n,bk(this))},$t.Ta=function(n){this.g&&(this.response=n,bk(this))},$t.ha=function(){this.g&&bk(this)},$t.setRequestHeader=function(n,r){this.v.append(n,r)},$t.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},$t.getAllResponseHeaders=function(){if(!this.h)return"";for(var n=[],r=this.h.entries(),e=r.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=r.next();return n.join("\r\n")},Object.defineProperty(jM.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var jee=Tn.JSON.parse;function ha(n){Ka.call(this),this.headers=new o_,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=BU,this.K=this.L=!1}ko(ha,Ka);var BU="",Gee=/^https?$/i,zee=["POST","PUT"];function Wee(n){return"content-type"==n.toLowerCase()}function VU(n,r){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=r,n.m=5,UU(n),GM(n)}function UU(n){n.D||(n.D=!0,wo(n,"complete"),wo(n,"error"))}function HU(n){if(n.h&&void 0!==BO&&(!n.C[1]||4!=Ld(n)||2!=n.ba()))if(n.v&&4==Ld(n))cP(n.Fa,0,n);else if(wo(n,"readystatechange"),4==Ld(n)){n.h=!1;try{var t,r=n.ba();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}if(!(t=e)){var i;if(i=0===r){var a=String(n.H).match(SU)[1]||null;if(!a&&Tn.self&&Tn.self.location){var o=Tn.self.location.protocol;a=o.substr(0,o.length-1)}i=!Gee.test(a?a.toLowerCase():"")}t=i}if(t)wo(n,"complete"),wo(n,"success");else{n.m=6;try{var u=2<Ld(n)?n.g.statusText:""}catch(d){u=""}n.j=u+" ["+n.ba()+"]",UU(n)}}finally{GM(n)}}}function GM(n,r){if(n.g){jU(n);var e=n.g,t=n.C[0]?EM:null;n.g=null,n.C=null,r||wo(n,"ready");try{e.onreadystatechange=t}catch(i){}}}function jU(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Tn.clearTimeout(n.A),n.A=null)}function Ld(n){return n.g?n.g.readyState:0}function GU(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case BU:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(r){return null}}function EP(n,r,e){e:{for(t in e){var t=!1;break e}t=!0}t||(e=function qee(n){var r="";return GO(n,function(e,t){r+=t,r+=":",r+=e,r+="\r\n"}),r}(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):yi(n,r,e))}function wk(n,r,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||r}function zU(n){this.za=0,this.l=[],this.h=new OM,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=wk("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=wk("baseRetryDelayMs",5e3,n),this.$a=wk("retryDelaySeedMs",1e4,n),this.Ya=wk("forwardChannelMaxRetries",2,n),this.ra=wk("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new PU(n&&n.concurrentRequestLimit),this.Ca=new Vee,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function DP(n){if(YU(n),3==n.G){var r=n.V++,e=Zd(n.F);yi(e,"SID",n.J),yi(e,"RID",r),yi(e,"TYPE","terminate"),Ck(n,e),(r=new hk(n,n.h,r,void 0)).K=2,r.v=UM(Zd(e)),e=!1,Tn.navigator&&Tn.navigator.sendBeacon&&(e=Tn.navigator.sendBeacon(r.v.toString(),"")),!e&&Tn.Image&&((new Image).src=r.v,e=!0),e||(r.g=tH(r.l,null),r.g.ea(r.v)),r.F=Date.now(),pk(r)}XU(n)}function zM(n){n.g&&(TP(n),n.g.cancel(),n.g=null)}function YU(n){zM(n),n.u&&(Tn.clearTimeout(n.u),n.u=null),WM(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Tn.clearTimeout(n.m),n.m=null)}function MP(n,r){n.l.push(new Lee(n.Za++,r)),3==n.G&&YM(n)}function YM(n){FU(n.i)||n.m||(n.m=!0,oP(n.Ha,n),n.C=0)}function WU(n,r){var e;e=r?r.m:n.V++;var t=Zd(n.F);yi(t,"SID",n.J),yi(t,"RID",e),yi(t,"AID",n.U),Ck(n,t),n.o&&n.s&&EP(t,n.o,n.s),e=new hk(n,n.h,e,n.C+1),null===n.o&&(e.H=n.s),r&&(n.l=r.D.concat(n.l)),r=qU(n,e,1e3),e.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),kP(n.i,e),gP(e,t,r)}function Ck(n,r){n.j&&_P({},function(e,t){yi(r,t,e)})}function qU(n,r,e){e=Math.min(n.l.length,e);var t=n.j?bo(n.j.Oa,n.j,n):null;e:for(var i=n.l,a=-1;;){var o=["count="+e];-1==a?0<e?o.push("ofs="+(a=i[0].h)):a=0:o.push("ofs="+a);for(var u=!0,d=0;d<e;d++){var h=i[d].h,v=i[d].g;if(0>(h-=a))a=Math.max(0,i[d].h-100),u=!1;else try{Uee(v,o,"req"+h+"_")}catch(b){t&&t(v)}}if(u){t=o.join("&");break e}}return n=n.l.splice(0,e),r.D=n,t}function KU(n){n.g||n.u||(n.Y=1,oP(n.Ga,n),n.A=0)}function SP(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=dk(bo(n.Ga,n),JU(n,n.A)),n.A++,0))}function TP(n){null!=n.B&&(Tn.clearTimeout(n.B),n.B=null)}function $U(n){n.g=new hk(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var r=Zd(n.oa);yi(r,"RID","rpc"),yi(r,"SID",n.J),yi(r,"CI",n.N?"0":"1"),yi(r,"AID",n.U),Ck(n,r),yi(r,"TYPE","xmlhttp"),n.o&&n.s&&EP(r,n.o,n.s),n.K&&n.g.setTimeout(n.K);var e=n.g;n=n.la,e.K=1,e.v=UM(Zd(r)),e.s=null,e.U=!0,CU(e,n)}function WM(n){null!=n.v&&(Tn.clearTimeout(n.v),n.v=null)}function QU(n,r){var e=null;if(n.g==r){WM(n),TP(n),n.g=null;var t=2}else{if(!bP(n.i,r))return;e=r.D,NU(n.i,r),t=1}if(n.I=r.N,0!=n.G)if(r.i)if(1==t){e=r.s?r.s.length:0,r=Date.now()-r.F;var i=n.C;wo(t=PM(),new _U(t,e,r,i)),YM(n)}else KU(n);else if(3==(i=r.o)||0==i&&0<n.I||!(1==t&&function Kee(n,r){return!(xU(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=r.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=dk(bo(n.Ha,n,r),JU(n,n.C)),n.C++,0)))}(n,r)||2==t&&SP(n)))switch(e&&0<e.length&&(r=n.i,r.i=r.i.concat(e)),i){case 1:wv(n,5);break;case 4:wv(n,10);break;case 3:wv(n,6);break;default:wv(n,2)}}function JU(n,r){var e=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(e*=2),e*r}function wv(n,r){if(n.h.info("Error code "+r),2==r){var e=null;n.j&&(e=null);var t=bo(n.jb,n);e||(e=new kv("//www.google.com/images/cleardot.gif"),Tn.location&&"http"==Tn.location.protocol||LM(e,"https"),UM(e)),function Hee(n,r){var e=new OM;if(Tn.Image){var t=new Image;t.onload=DM(HM,e,t,"TestLoadImage: loaded",!0,r),t.onerror=DM(HM,e,t,"TestLoadImage: error",!1,r),t.onabort=DM(HM,e,t,"TestLoadImage: abort",!1,r),t.ontimeout=DM(HM,e,t,"TestLoadImage: timeout",!1,r),Tn.setTimeout(function(){t.ontimeout&&t.ontimeout()},1e4),t.src=n}else r(!1)}(e.toString(),t)}else rs(2);n.G=0,n.j&&n.j.va(r),XU(n),YU(n)}function XU(n){n.G=0,n.I=-1,n.j&&((0!=ZU(n.i).length||0!=n.l.length)&&(n.i.i.length=0,HO(n.l),n.l.length=0),n.j.ua())}function eH(n,r,e){var t=function Iee(n){return n instanceof kv?Zd(n):new kv(n,void 0)}(e);if(""!=t.i)r&&BM(t,r+"."+t.i),VM(t,t.m);else{var i=Tn.location;t=function Ree(n,r,e,t){var i=new kv(null,void 0);return n&&LM(i,n),r&&BM(i,r),e&&VM(i,e),t&&(i.l=t),i}(i.protocol,r?r+"."+i.hostname:i.hostname,+i.port,e)}return n.aa&&GO(n.aa,function(a,o){yi(t,o,a)}),e=n.sa,(r=n.D)&&e&&yi(t,r,e),yi(t,"VER",n.ma),Ck(n,t),t}function tH(n,r,e){if(r&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(r=new ha(e&&n.Ba&&!n.qa?new yk({ib:!0}):n.qa)).L=n.H,r}function nH(){}function qM(){if(i_&&!(10<=Number(uee)))throw Error("Environmental error: no available transport.")}function au(n,r){Ka.call(this),this.g=new zU(r),this.l=n,this.h=r&&r.messageUrlParams||null,n=r&&r.messageHeaders||null,r&&r.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=r&&r.initMessageHeaders||null,r&&r.messageContentType&&(n?n["X-WebChannel-Content-Type"]=r.messageContentType:n={"X-WebChannel-Content-Type":r.messageContentType}),r&&r.ya&&(n?n["X-WebChannel-Client-Profile"]=r.ya:n={"X-WebChannel-Client-Profile":r.ya}),this.g.P=n,(n=r&&r.httpHeadersOverwriteParam)&&!MM(n)&&(this.g.o=n),this.A=r&&r.supportsCrossDomainXhr||!1,this.v=r&&r.sendRawJson||!1,(r=r&&r.httpSessionIdParam)&&!MM(r)&&(this.g.D=r,null!==(n=this.h)&&r in n&&r in(n=this.h)&&delete n[r]),this.j=new u_(this)}function rH(n){fP.call(this);var r=n.__sm__;if(r){e:{for(var e in r){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,r=null!==r&&n in r?r[n]:void 0),this.data=r}else this.data=n}function iH(){hP.call(this),this.status=1}function u_(n){this.g=n}($t=ha.prototype).ea=function(n,r,e,t){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);r=r?r.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():pP.g(),this.C=function bU(n){return n.h||(n.h=n.i())}(this.u?this.u:pP),this.g.onreadystatechange=bo(this.Fa,this);try{this.F=!0,this.g.open(r,String(n),!0),this.F=!1}catch(a){return void VU(this,a)}n=e||"";var i=new o_(this.headers);t&&_P(t,function(a,o){i.set(o,a)}),t=function nee(n){e:{for(var r=Wee,e=n.length,t="string"==typeof n?n.split(""):n,i=0;i<e;i++)if(i in t&&r.call(void 0,t[i],i,n)){r=i;break e}r=-1}return 0>r?null:"string"==typeof n?n.charAt(r):n[r]}(i.T()),e=Tn.FormData&&n instanceof Tn.FormData,!(0<=z3(zee,r))||t||e||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(a,o){this.g.setRequestHeader(o,a)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{jU(this),0<this.B&&((this.K=function Yee(n){return i_&&function see(){return function ree(n){var r=oee;return Object.prototype.hasOwnProperty.call(r,9)?r[9]:r[9]=n(9)}(function(){for(var n=0,r=q3(String(SM)).split("."),e=q3("9").split("."),t=Math.max(r.length,e.length),i=0;0==n&&i<t;i++){var a=r[i]||"",o=e[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;n=jO(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||jO(0==a[2].length,0==o[2].length)||jO(a[2],o[2]),a=a[3],o=o[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=bo(this.pa,this)):this.A=cP(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){VU(this,a)}},$t.pa=function(){void 0!==BO&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,wo(this,"timeout"),this.abort(8))},$t.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,wo(this,"complete"),wo(this,"abort"),GM(this))},$t.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),GM(this,!0)),ha.Z.M.call(this)},$t.Fa=function(){this.s||(this.F||this.v||this.l?HU(this):this.cb())},$t.cb=function(){HU(this)},$t.ba=function(){try{return 2<Ld(this)?this.g.status:-1}catch(n){return-1}},$t.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},$t.Qa=function(n){if(this.g){var r=this.g.responseText;return n&&0==r.indexOf(n)&&(r=r.substring(n.length)),jee(r)}},$t.Da=function(){return this.m},$t.La=function(){return"string"==typeof this.j?this.j:String(this.j)},($t=zU.prototype).ma=8,$t.G=1,$t.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(r){}},$t.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;var r=new hk(this,this.h,n,void 0),e=this.s;if(this.P&&(e?X3(e=Q3(e),this.P):e=this.P),null===this.o&&(r.H=e),this.ja)e:{for(var t=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"==typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(t+=a)){t=i;break e}if(4096===t||i===this.l.length-1){t=i+1;break e}}t=1e3}else t=1e3;t=qU(this,r,t),yi(i=Zd(this.F),"RID",n),yi(i,"CVER",22),this.D&&yi(i,"X-HTTP-Session-Id",this.D),Ck(this,i),this.o&&e&&EP(i,this.o,e),kP(this.i,r),this.Ra&&yi(i,"TYPE","init"),this.ja?(yi(i,"$req",t),yi(i,"SID","null"),r.$=!0,gP(r,i,null)):gP(r,i,t),this.G=2}}else 3==this.G&&(n?WU(this,n):0==this.l.length||FU(this.i)||WU(this))},$t.Ga=function(){if(this.u=null,$U(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=dk(bo(this.bb,this),n)}},$t.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,rs(10),zM(this),$U(this))},$t.ab=function(){null!=this.v&&(this.v=null,zM(this),SP(this),rs(19))},$t.jb=function(n){n?(this.h.info("Successfully pinged google.com"),rs(2)):(this.h.info("Failed to ping google.com"),rs(1))},($t=nH.prototype).xa=function(){},$t.wa=function(){},$t.va=function(){},$t.ua=function(){},$t.Oa=function(){},qM.prototype.g=function(n,r){return new au(n,r)},ko(au,Ka),au.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,r=this.l,e=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),oP(bo(n.hb,n,r))),rs(0),n.W=r,n.aa=e||{},n.N=n.X,n.F=eH(n,null,n.W),YM(n)},au.prototype.close=function(){DP(this.g)},au.prototype.u=function(n){if("string"==typeof n){var r={};r.__data__=n,MP(this.g,r)}else this.v?((r={}).__data__=aP(n),MP(this.g,r)):MP(this.g,n)},au.prototype.M=function(){this.g.j=null,delete this.j,DP(this.g),delete this.g,au.Z.M.call(this)},ko(rH,fP),ko(iH,hP),ko(u_,nH),u_.prototype.xa=function(){wo(this.g,"a")},u_.prototype.wa=function(n){wo(this.g,new rH(n))},u_.prototype.va=function(n){wo(this.g,new iH(n))},u_.prototype.ua=function(){wo(this.g,"b")},qM.prototype.createWebChannel=qM.prototype.g,au.prototype.send=au.prototype.u,au.prototype.open=au.prototype.m,au.prototype.close=au.prototype.close,FM.NO_ERROR=0,FM.TIMEOUT=8,FM.HTTP_ERROR=6,yU.COMPLETE="complete",kU.EventType=fk,fk.OPEN="a",fk.CLOSE="b",fk.ERROR="c",fk.MESSAGE="d",Ka.prototype.listen=Ka.prototype.N,ha.prototype.listenOnce=ha.prototype.O,ha.prototype.getLastError=ha.prototype.La,ha.prototype.getLastErrorCode=ha.prototype.Da,ha.prototype.getStatus=ha.prototype.ba,ha.prototype.getResponseJson=ha.prototype.Qa,ha.prototype.getResponseText=ha.prototype.ga,ha.prototype.send=ha.prototype.ea;var $ee=Nd.createWebChannelTransport=function(){return new qM},Qee=Nd.getStatEventTarget=function(){return PM()},AP=Nd.ErrorCode=FM,Jee=Nd.EventType=yU,Xee=Nd.Event=_v,aH=Nd.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},ete=Nd.FetchXmlHttpFactory=yk,KM=Nd.WebChannel=kU,tte=Nd.XhrIo=ha,oH="@firebase/firestore",Co=function(){function n(r){(0,m.Z)(this,n),this.uid=r}return(0,_.Z)(n,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),n}();Co.UNAUTHENTICATED=new Co(null),Co.GOOGLE_CREDENTIALS=new Co("google-credentials-uid"),Co.FIRST_PARTY=new Co("first-party-uid"),Co.MOCK_USER=new Co("mock-user");var l_="9.8.0",Zl=new Nl.Yd("@firebase/firestore");function IP(){return Zl.logLevel}function At(n){if(Zl.logLevel<=Nl.in.DEBUG){for(var r=arguments.length,e=new Array(r>1?r-1:0),t=1;t<r;t++)e[t-1]=arguments[t];var i=e.map(RP);Zl.debug.apply(Zl,["Firestore (".concat(l_,"): ").concat(n)].concat((0,Zt.Z)(i)))}}function pa(n){if(Zl.logLevel<=Nl.in.ERROR){for(var r=arguments.length,e=new Array(r>1?r-1:0),t=1;t<r;t++)e[t-1]=arguments[t];var i=e.map(RP);Zl.error.apply(Zl,["Firestore (".concat(l_,"): ").concat(n)].concat((0,Zt.Z)(i)))}}function Ek(n){if(Zl.logLevel<=Nl.in.WARN){for(var r=arguments.length,e=new Array(r>1?r-1:0),t=1;t<r;t++)e[t-1]=arguments[t];var i=e.map(RP);Zl.warn.apply(Zl,["Firestore (".concat(l_,"): ").concat(n)].concat((0,Zt.Z)(i)))}}function RP(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(e){return n}}function Jt(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",r="FIRESTORE (".concat(l_,") INTERNAL ASSERTION FAILED: ")+n;throw pa(r),new Error(r)}function kn(n,r){n||Jt()}function Ut(n,r){return n}var rt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},wt=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i){var a;return(0,m.Z)(this,e),(a=r.call(this,t,i)).code=t,a.message=i,a.toString=function(){return"".concat(a.name,": [code=").concat(a.code,"]: ").concat(a.message)},a}return(0,_.Z)(e)}(re.ZR),$a=(0,_.Z)(function n(){var r=this;(0,m.Z)(this,n),this.promise=new Promise(function(e,t){r.resolve=e,r.reject=t})}),uH=(0,_.Z)(function n(r,e){(0,m.Z)(this,n),this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(r))}),rte=function(){function n(){(0,m.Z)(this,n)}return(0,_.Z)(n,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable(function(){return t(Co.UNAUTHENTICATED)})}},{key:"shutdown",value:function(){}}]),n}(),ite=function(){function n(r){(0,m.Z)(this,n),this.token=r,this.changeListener=null}return(0,_.Z)(n,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var i=this;this.changeListener=t,e.enqueueRetryable(function(){return t(i.token.user)})}},{key:"shutdown",value:function(){this.changeListener=null}}]),n}(),ate=function(){function n(r){(0,m.Z)(this,n),this.t=r,this.currentUser=Co.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return(0,_.Z)(n,[{key:"start",value:function(e,t){var i=this,a=this.i,o=function(b){return i.i!==a?(a=i.i,t(b)):Promise.resolve()},u=new $a;this.o=function(){i.i++,i.currentUser=i.u(),u.resolve(),u=new $a,e.enqueueRetryable(function(){return o(i.currentUser)})};var d=function(){var b=u;e.enqueueRetryable((0,st.Z)(me().mark(function k(){return me().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,b.promise;case 2:return O.next=4,o(i.currentUser);case 4:case"end":return O.stop()}},k)})))},h=function(b){At("FirebaseAuthCredentialsProvider","Auth detected"),i.auth=b,i.auth.addAuthTokenListener(i.o),d()};this.t.onInit(function(v){return h(v)}),setTimeout(function(){if(!i.auth){var v=i.t.getImmediate({optional:!0});v?h(v):(At("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new $a)}},0),d()}},{key:"getToken",value:function(){var e=this,t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(function(a){return e.i!==t?(At("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):a?(kn("string"==typeof a.accessToken),new uH(a.accessToken,e.currentUser)):null}):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return kn(null===e||"string"==typeof e),new Co(e)}}]),n}(),ote=(0,_.Z)(function n(r,e,t){(0,m.Z)(this,n),this.type="FirstParty",this.user=Co.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",e);var i=r.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),t&&this.headers.set("X-Goog-Iam-Authorization-Token",t)}),ste=function(){function n(r,e,t){(0,m.Z)(this,n),this.h=r,this.l=e,this.m=t}return(0,_.Z)(n,[{key:"getToken",value:function(){return Promise.resolve(new ote(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable(function(){return t(Co.FIRST_PARTY)})}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),n}(),ute=(0,_.Z)(function n(r){(0,m.Z)(this,n),this.value=r,this.type="AppCheck",this.headers=new Map,r&&r.length>0&&this.headers.set("x-firebase-appcheck",this.value)}),lte=function(){function n(r){(0,m.Z)(this,n),this.g=r,this.forceRefresh=!1,this.appCheck=null,this.p=null}return(0,_.Z)(n,[{key:"start",value:function(e,t){var i=this;this.o=function(u){e.enqueueRetryable(function(){return function(d){null!=d.error&&At("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(d.error.message));var h=d.token!==i.p;return i.p=d.token,At("FirebaseAppCheckTokenProvider","Received ".concat(h?"new":"existing"," token.")),h?t(d.token):Promise.resolve()}(u)})};var o=function(d){At("FirebaseAppCheckTokenProvider","AppCheck detected"),i.appCheck=d,i.appCheck.addTokenListener(i.o)};this.g.onInit(function(u){return o(u)}),setTimeout(function(){if(!i.appCheck){var u=i.g.getImmediate({optional:!0});u?o(u):At("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(function(i){return i?(kn("string"==typeof i.token),e.p=i.token,new ute(i.token)):null}):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),n}(),ou=function(){function n(r,e){var t=this;(0,m.Z)(this,n),this.previousValue=r,e&&(e.sequenceNumberHandler=function(i){return t.I(i)},this.T=function(i){return e.writeSequenceNumber(i)})}return(0,_.Z)(n,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),n}();function cte(n){var r="undefined"!=typeof self&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(r&&"function"==typeof r.getRandomValues)r.getRandomValues(e);else for(var t=0;t<n;t++)e[t]=Math.floor(256*Math.random());return e}ou.A=-1;var lH=function(){function n(){(0,m.Z)(this,n)}return(0,_.Z)(n,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,i="";i.length<20;)for(var a=cte(40),o=0;o<a.length;++o)i.length<20&&a[o]<t&&(i+=e.charAt(a[o]%e.length));return i}}]),n}();function Ln(n,r){return n<r?-1:n>r?1:0}function c_(n,r,e){return n.length===r.length&&n.every(function(t,i){return e(t,r[i])})}function cH(n){return n+"\0"}var Eo=function(){function n(r,e){if((0,m.Z)(this,n),this.seconds=r,this.nanoseconds=e,e<0)throw new wt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new wt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(r<-62135596800)throw new wt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+r);if(r>=253402300800)throw new wt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+r)}return(0,_.Z)(n,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Ln(this.nanoseconds,e.nanoseconds):Ln(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return n.fromMillis(Date.now())}},{key:"fromDate",value:function(e){return n.fromMillis(e.getTime())}},{key:"fromMillis",value:function(e){var t=Math.floor(e/1e3);return new n(t,Math.floor(1e6*(e-1e3*t)))}}]),n}(),Mn=function(){function n(r){(0,m.Z)(this,n),this.timestamp=r}return(0,_.Z)(n,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(e){return new n(e)}},{key:"min",value:function(){return new n(new Eo(0,0))}},{key:"max",value:function(){return new n(new Eo(253402300799,999999999))}}]),n}();function dH(n){var r=0;for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&r++;return r}function Cv(n,r){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&r(e,n[e])}function fH(n){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r))return!1;return!0}var hH=function(){function n(r,e,t){(0,m.Z)(this,n),void 0===e?e=0:e>r.length&&Jt(),void 0===t?t=r.length-e:t>r.length-e&&Jt(),this.segments=r,this.offset=e,this.len=t}return(0,_.Z)(n,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(e){return 0===n.comparator(this,e)}},{key:"child",value:function(e){var t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(function(i){t.push(i)}):t.push(e),this.construct(t)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var i=Math.min(e.length,t.length),a=0;a<i;a++){var o=e.get(a),u=t.get(a);if(o<u)return-1;if(o>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),n}(),lr=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(){return(0,m.Z)(this,e),r.apply(this,arguments)}return(0,_.Z)(e,[{key:"construct",value:function(i,a,o){return new e(i,a,o)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var i=[],a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];for(var d=0,h=o;d<h.length;d++){var v=h[d];if(v.indexOf("//")>=0)throw new wt(rt.INVALID_ARGUMENT,"Invalid segment (".concat(v,"). Paths must not contain // in them."));i.push.apply(i,(0,Zt.Z)(v.split("/").filter(function(b){return b.length>0})))}return new e(i)}},{key:"emptyPath",value:function(){return new e([])}}]),e}(hH),dte=/^[_a-zA-Z][_a-zA-Z0-9]*$/,su=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(){return(0,m.Z)(this,e),r.apply(this,arguments)}return(0,_.Z)(e,[{key:"construct",value:function(i,a,o){return new e(i,a,o)}},{key:"canonicalString",value:function(){return this.toArray().map(function(i){return i=i.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(i)||(i="`"+i+"`"),i}).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(i){return dte.test(i)}},{key:"keyField",value:function(){return new e(["__name__"])}},{key:"fromServerFormat",value:function(i){for(var a=[],o="",u=0,d=function(){if(0===o.length)throw new wt(rt.INVALID_ARGUMENT,"Invalid field path (".concat(i,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));a.push(o),o=""},h=!1;u<i.length;){var v=i[u];if("\\"===v){if(u+1===i.length)throw new wt(rt.INVALID_ARGUMENT,"Path has trailing escape character: "+i);var b=i[u+1];if("\\"!==b&&"."!==b&&"`"!==b)throw new wt(rt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+i);o+=b,u+=2}else"`"===v?(h=!h,u++):"."!==v||h?(o+=v,u++):(d(),u++)}if(d(),h)throw new wt(rt.INVALID_ARGUMENT,"Unterminated ` in path: "+i);return new e(a)}},{key:"emptyPath",value:function(){return new e([])}}]),e}(hH),d_=function(){function n(r){(0,m.Z)(this,n),this.fields=r,r.sort(su.comparator)}return(0,_.Z)(n,[{key:"covers",value:function(e){var i,t=(0,G.Z)(this.fields);try{for(t.s();!(i=t.n()).done;)if(i.value.isPrefixOf(e))return!0}catch(o){t.e(o)}finally{t.f()}return!1}},{key:"isEqual",value:function(e){return c_(this.fields,e.fields,function(t,i){return t.isEqual(i)})}}]),n}(),No=function(n){function r(e){(0,m.Z)(this,r),this.binaryString=e}return(0,_.Z)(r,[{key:n,value:function(){var t=this,i=0;return{next:function(){return i<t.binaryString.length?{value:t.binaryString.charCodeAt(i++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return btoa(this.binaryString)}},{key:"toUint8Array",value:function(){return function(t){for(var i=new Uint8Array(t.length),a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(t){return Ln(this.binaryString,t.binaryString)}},{key:"isEqual",value:function(t){return this.binaryString===t.binaryString}}],[{key:"fromBase64String",value:function(t){return new r(atob(t))}},{key:"fromUint8Array",value:function(t){return new r(function(a){for(var o="",u=0;u<a.length;++u)o+=String.fromCharCode(a[u]);return o}(t))}}]),r}(Symbol.iterator);No.EMPTY_BYTE_STRING=new No("");var hte=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ph(n){if(kn(!!n),"string"==typeof n){var r=0,e=hte.exec(n);if(kn(!!e),e[1]){var t=e[1];t=(t+"000000000").substr(0,9),r=Number(t)}var i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:r}}return{seconds:Ki(n.seconds),nanos:Ki(n.nanos)}}function Ki(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ev(n){return"string"==typeof n?No.fromBase64String(n):No.fromUint8Array(n)}function OP(n){var r,e;return"server_timestamp"===(null===(e=((null===(r=null==n?void 0:n.mapValue)||void 0===r?void 0:r.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function pH(n){var r=n.mapValue.fields.__previous_value__;return OP(r)?pH(r):r}function Dk(n){var r=ph(n.mapValue.fields.__local_write_time__.timestampValue);return new Eo(r.seconds,r.nanos)}var pte=(0,_.Z)(function n(r,e,t,i,a,o,u,d){(0,m.Z)(this,n),this.databaseId=r,this.appId=e,this.persistenceKey=t,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=d}),f_=function(){function n(r,e){(0,m.Z)(this,n),this.projectId=r,this.database=e||"(default)"}return(0,_.Z)(n,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}}],[{key:"empty",value:function(){return new n("","")}}]),n}();function Mk(n){return null==n}function Sk(n){return 0===n&&1/n==-1/0}function vH(n){return"number"==typeof n&&Number.isInteger(n)&&!Sk(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var Ht=function(){function n(r){(0,m.Z)(this,n),this.path=r}return(0,_.Z)(n,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===lr.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(e){return new n(lr.fromString(e))}},{key:"fromName",value:function(e){return new n(lr.fromString(e).popFirst(5))}},{key:"empty",value:function(){return new n(lr.emptyPath())}},{key:"comparator",value:function(e,t){return lr.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(e){return new n(new lr(e.slice()))}}]),n}(),vh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},$M={nullValue:"NULL_VALUE"};function Dv(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?OP(n)?4:yH(n)?9007199254740991:10:Jt()}function Ic(n,r){if(n===r)return!0;var i,e=Dv(n);if(e!==Dv(r))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===r.booleanValue;case 4:return Dk(n).isEqual(Dk(r));case 3:return function(t,i){if("string"==typeof t.timestampValue&&"string"==typeof i.timestampValue&&t.timestampValue.length===i.timestampValue.length)return t.timestampValue===i.timestampValue;var a=ph(t.timestampValue),o=ph(i.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(n,r);case 5:return n.stringValue===r.stringValue;case 6:return i=r,Ev(n.bytesValue).isEqual(Ev(i.bytesValue));case 7:return n.referenceValue===r.referenceValue;case 8:return function(t,i){return Ki(t.geoPointValue.latitude)===Ki(i.geoPointValue.latitude)&&Ki(t.geoPointValue.longitude)===Ki(i.geoPointValue.longitude)}(n,r);case 2:return function(t,i){if("integerValue"in t&&"integerValue"in i)return Ki(t.integerValue)===Ki(i.integerValue);if("doubleValue"in t&&"doubleValue"in i){var a=Ki(t.doubleValue),o=Ki(i.doubleValue);return a===o?Sk(a)===Sk(o):isNaN(a)&&isNaN(o)}return!1}(n,r);case 9:return c_(n.arrayValue.values||[],r.arrayValue.values||[],Ic);case 10:return function(t,i){var a=t.mapValue.fields||{},o=i.mapValue.fields||{};if(dH(a)!==dH(o))return!1;for(var u in a)if(a.hasOwnProperty(u)&&(void 0===o[u]||!Ic(a[u],o[u])))return!1;return!0}(n,r);default:return Jt()}}function Tk(n,r){return void 0!==(n.values||[]).find(function(e){return Ic(e,r)})}function gh(n,r){if(n===r)return 0;var i,a,o,u,e=Dv(n),t=Dv(r);if(e!==t)return Ln(e,t);switch(e){case 0:case 9007199254740991:return 0;case 1:return Ln(n.booleanValue,r.booleanValue);case 2:return a=r,(o=Ki((i=n).integerValue||i.doubleValue))<(u=Ki(a.integerValue||a.doubleValue))?-1:o>u?1:o===u?0:isNaN(o)?isNaN(u)?0:-1:1;case 3:return gH(n.timestampValue,r.timestampValue);case 4:return gH(Dk(n),Dk(r));case 5:return Ln(n.stringValue,r.stringValue);case 6:return function(i,a){var o=Ev(i),u=Ev(a);return o.compareTo(u)}(n.bytesValue,r.bytesValue);case 7:return function(i,a){for(var o=i.split("/"),u=a.split("/"),d=0;d<o.length&&d<u.length;d++){var h=Ln(o[d],u[d]);if(0!==h)return h}return Ln(o.length,u.length)}(n.referenceValue,r.referenceValue);case 8:return function(i,a){var o=Ln(Ki(i.latitude),Ki(a.latitude));return 0!==o?o:Ln(Ki(i.longitude),Ki(a.longitude))}(n.geoPointValue,r.geoPointValue);case 9:return function(i,a){for(var o=i.values||[],u=a.values||[],d=0;d<o.length&&d<u.length;++d){var h=gh(o[d],u[d]);if(h)return h}return Ln(o.length,u.length)}(n.arrayValue,r.arrayValue);case 10:return function(i,a){if(i===vh.mapValue&&a===vh.mapValue)return 0;if(i===vh.mapValue)return 1;if(a===vh.mapValue)return-1;var o=i.fields||{},u=Object.keys(o),d=a.fields||{},h=Object.keys(d);u.sort(),h.sort();for(var v=0;v<u.length&&v<h.length;++v){var b=Ln(u[v],h[v]);if(0!==b)return b;var k=gh(o[u[v]],d[h[v]]);if(0!==k)return k}return Ln(u.length,h.length)}(n.mapValue,r.mapValue);default:throw Jt()}}function gH(n,r){if("string"==typeof n&&"string"==typeof r&&n.length===r.length)return Ln(n,r);var e=ph(n),t=ph(r),i=Ln(e.seconds,t.seconds);return 0!==i?i:Ln(e.nanos,t.nanos)}function h_(n){return PP(n)}function PP(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(i=ph(n.timestampValue),"time(".concat(i.seconds,",").concat(i.nanos,")")):"stringValue"in n?n.stringValue:"bytesValue"in n?Ev(n.bytesValue).toBase64():"referenceValue"in n?Ht.fromName(n.referenceValue).toString():"geoPointValue"in n?"geo(".concat((r=n.geoPointValue).latitude,",").concat(r.longitude,")"):"arrayValue"in n?function(t){var u,i="[",a=!0,o=(0,G.Z)(t.values||[]);try{for(o.s();!(u=o.n()).done;)a?a=!1:i+=",",i+=PP(u.value)}catch(h){o.e(h)}finally{o.f()}return i+"]"}(n.arrayValue):"mapValue"in n?function(t){var d,i=Object.keys(t.fields||{}).sort(),a="{",o=!0,u=(0,G.Z)(i);try{for(u.s();!(d=u.n()).done;){var h=d.value;o?o=!1:a+=",",a+="".concat(h,":").concat(PP(t.fields[h]))}}catch(v){u.e(v)}finally{u.f()}return a+"}"}(n.mapValue):Jt();var i,r}function Mv(n,r){return{referenceValue:"projects/".concat(n.projectId,"/databases/").concat(n.database,"/documents/").concat(r.path.canonicalString())}}function FP(n){return!!n&&"integerValue"in n}function Ak(n){return!!n&&"arrayValue"in n}function mH(n){return!!n&&"nullValue"in n}function _H(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function QM(n){return!!n&&"mapValue"in n}function Ik(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){var r={mapValue:{fields:{}}};return Cv(n.mapValue.fields,function(i,a){return r.mapValue.fields[i]=Ik(a)}),r}if(n.arrayValue){for(var e={arrayValue:{values:[]}},t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ik(n.arrayValue.values[t]);return e}return Object.assign({},n)}function yH(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function vte(n){return"nullValue"in n?$M:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Mv(f_.empty(),Ht.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Jt()}function gte(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Mv(f_.empty(),Ht.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?vh:Jt()}function bH(n,r){var e=gh(n.value,r.value);return 0!==e?e:n.inclusive&&!r.inclusive?-1:!n.inclusive&&r.inclusive?1:0}function kH(n,r){var e=gh(n.value,r.value);return 0!==e?e:n.inclusive&&!r.inclusive?1:!n.inclusive&&r.inclusive?-1:0}var uu=function(){function n(r){(0,m.Z)(this,n),this.value=r}return(0,_.Z)(n,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,i=0;i<e.length-1;++i)if(!QM(t=(t.mapValue.fields||{})[e.get(i)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ik(t)}},{key:"setAll",value:function(e){var t=this,i=su.emptyPath(),a={},o=[];e.forEach(function(d,h){if(!i.isImmediateParentOf(h)){var v=t.getFieldsMap(i);t.applyChanges(v,a,o),a={},o=[],i=h.popLast()}d?a[h.lastSegment()]=Ik(d):o.push(h.lastSegment())});var u=this.getFieldsMap(i);this.applyChanges(u,a,o)}},{key:"delete",value:function(e){var t=this.field(e.popLast());QM(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Ic(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var i=0;i<e.length;++i){var a=t.mapValue.fields[e.get(i)];QM(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,i){Cv(t,function(d,h){return e[d]=h});var o,a=(0,G.Z)(i);try{for(a.s();!(o=a.n()).done;)delete e[o.value]}catch(d){a.e(d)}finally{a.f()}}},{key:"clone",value:function(){return new n(Ik(this.value))}}],[{key:"empty",value:function(){return new n({mapValue:{}})}}]),n}();function wH(n){var r=[];return Cv(n.fields,function(e,t){var i=new su([e]);if(QM(t)){var a=wH(t.mapValue).fields;if(0===a.length)r.push(i);else{var u,o=(0,G.Z)(a);try{for(o.s();!(u=o.n()).done;)r.push(i.child(u.value))}catch(h){o.e(h)}finally{o.f()}}}else r.push(i)}),new d_(r)}var Qa=function(){function n(r,e,t,i,a,o){(0,m.Z)(this,n),this.key=r,this.documentType=e,this.version=t,this.readTime=i,this.data=a,this.documentState=o}return(0,_.Z)(n,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=uu.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=uu.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}},{key:"mutableCopy",value:function(){return new n(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(e){return new n(e,0,Mn.min(),Mn.min(),uu.empty(),0)}},{key:"newFoundDocument",value:function(e,t,i){return new n(e,1,t,Mn.min(),i,0)}},{key:"newNoDocument",value:function(e,t){return new n(e,2,t,Mn.min(),uu.empty(),0)}},{key:"newUnknownDocument",value:function(e,t){return new n(e,3,t,Mn.min(),uu.empty(),2)}}]),n}(),JM=(0,_.Z)(function n(r,e,t,i){(0,m.Z)(this,n),this.indexId=r,this.collectionGroup=e,this.fields=t,this.indexState=i});function xP(n){return n.fields.find(function(r){return 2===r.kind})}function Sv(n){return n.fields.filter(function(r){return 2!==r.kind})}JM.UNKNOWN_ID=-1;var XM=(0,_.Z)(function n(r,e){(0,m.Z)(this,n),this.fieldPath=r,this.kind=e}),NP=function(){function n(r,e){(0,m.Z)(this,n),this.sequenceNumber=r,this.offset=e}return(0,_.Z)(n,null,[{key:"empty",value:function(){return new n(0,mh.min())}}]),n}();function CH(n,r){var e=n.toTimestamp().seconds,t=n.toTimestamp().nanoseconds+1,i=Mn.fromTimestamp(1e9===t?new Eo(e+1,0):new Eo(e,t));return new mh(i,Ht.empty(),r)}function mte(n){return new mh(n.readTime,n.key,-1)}var mh=function(){function n(r,e,t){(0,m.Z)(this,n),this.readTime=r,this.documentKey=e,this.largestBatchId=t}return(0,_.Z)(n,null,[{key:"min",value:function(){return new n(Mn.min(),Ht.empty(),-1)}},{key:"max",value:function(){return new n(Mn.max(),Ht.empty(),-1)}}]),n}();function EH(n,r){var e=n.readTime.compareTo(r.readTime);return 0!==e||0!==(e=Ht.comparator(n.documentKey,r.documentKey))?e:Ln(n.largestBatchId,r.largestBatchId)}var Ja=function(){function n(r,e){(0,m.Z)(this,n),this.comparator=r,this.root=e||_h.EMPTY}return(0,_.Z)(n,[{key:"insert",value:function(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,_h.BLACK,null,null))}},{key:"remove",value:function(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_h.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,i=this.root;!i.isEmpty();){var a=this.comparator(e,i.key);if(0===a)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal(function(t,i){return e(t,i),!1})}},{key:"toString",value:function(){var e=[];return this.inorderTraversal(function(t,i){return e.push("".concat(t,":").concat(i)),!1}),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new eS(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new eS(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new eS(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new eS(this.root,e,this.comparator,!0)}}]),n}(),eS=function(){function n(r,e,t,i){(0,m.Z)(this,n),this.isReverse=i,this.nodeStack=[];for(var a=1;!r.isEmpty();)if(a=e?t(r.key,e):1,e&&i&&(a*=-1),a<0)r=this.isReverse?r.left:r.right;else{if(0===a){this.nodeStack.push(r);break}this.nodeStack.push(r),r=this.isReverse?r.right:r.left}}return(0,_.Z)(n,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),n}(),_h=function(){function n(r,e,t,i,a){(0,m.Z)(this,n),this.key=r,this.value=e,this.color=null!=t?t:n.RED,this.left=null!=i?i:n.EMPTY,this.right=null!=a?a:n.EMPTY,this.size=this.left.size+1+this.right.size}return(0,_.Z)(n,[{key:"copy",value:function(e,t,i,a,o){return new n(null!=e?e:this.key,null!=t?t:this.value,null!=i?i:this.color,null!=a?a:this.left,null!=o?o:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,i){var a=this,o=i(e,a.key);return(a=o<0?a.copy(null,null,null,a.left.insert(e,t,i),null):0===o?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return n.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(e,t){var i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return n.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}},{key:"rotateRight",value:function(){var e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Jt();var e=this.left.check();if(e!==this.right.check())throw Jt();return e+(this.isRed()?0:1)}}]),n}();_h.EMPTY=null,_h.RED=!0,_h.BLACK=!1,_h.EMPTY=new(function(){function n(){(0,m.Z)(this,n),this.size=0}return(0,_.Z)(n,[{key:"key",get:function(){throw Jt()}},{key:"value",get:function(){throw Jt()}},{key:"color",get:function(){throw Jt()}},{key:"left",get:function(){throw Jt()}},{key:"right",get:function(){throw Jt()}},{key:"copy",value:function(e,t,i,a,o){return this}},{key:"insert",value:function(e,t,i){return new _h(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),n}());var Li=function(){function n(r){(0,m.Z)(this,n),this.comparator=r,this.data=new Ja(this.comparator)}return(0,_.Z)(n,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal(function(t,i){return e(t),!1})}},{key:"forEachInRange",value:function(e,t){for(var i=this.data.getIteratorFrom(e[0]);i.hasNext();){var a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}},{key:"forEachWhile",value:function(e,t){var i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new DH(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new DH(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach(function(i){t=t.add(i)}),t}},{key:"isEqual",value:function(e){if(!(e instanceof n)||this.size!==e.size)return!1;for(var t=this.data.getIterator(),i=e.data.getIterator();t.hasNext();){var a=t.getNext().key,o=i.getNext().key;if(0!==this.comparator(a,o))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach(function(t){e.push(t)}),e}},{key:"toString",value:function(){var e=[];return this.forEach(function(t){return e.push(t)}),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(e){var t=new n(this.comparator);return t.data=e,t}}]),n}(),DH=function(){function n(r){(0,m.Z)(this,n),this.iter=r}return(0,_.Z)(n,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),n}();function p_(n){return n.hasNext()?n.getNext():void 0}var _te=(0,_.Z)(function n(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;(0,m.Z)(this,n),this.path=r,this.collectionGroup=e,this.orderBy=t,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.P=null});function MH(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new _te(n,r,e,t,i,a,o)}function Tv(n){var r=Ut(n);if(null===r.P){var e=r.path.canonicalString();null!==r.collectionGroup&&(e+="|cg:"+r.collectionGroup),e+="|f:",e+=r.filters.map(function(t){return(i=t).field.canonicalString()+i.op.toString()+h_(i.value);var i}).join(","),e+="|ob:",e+=r.orderBy.map(function(t){return(i=t).field.canonicalString()+i.dir;var i}).join(","),Mk(r.limit)||(e+="|l:",e+=r.limit),r.startAt&&(e+="|lb:",e+=r.startAt.inclusive?"b:":"a:",e+=r.startAt.position.map(function(t){return h_(t)}).join(",")),r.endAt&&(e+="|ub:",e+=r.endAt.inclusive?"a:":"b:",e+=r.endAt.position.map(function(t){return h_(t)}).join(",")),r.P=e}return r.P}function Rk(n,r){if(n.limit!==r.limit||n.orderBy.length!==r.orderBy.length)return!1;for(var e=0;e<n.orderBy.length;e++)if(!Ste(n.orderBy[e],r.orderBy[e]))return!1;if(n.filters.length!==r.filters.length)return!1;for(var t=0;t<n.filters.length;t++)if((i=n.filters[t]).op!==(a=r.filters[t]).op||!i.field.isEqual(a.field)||!Ic(i.value,a.value))return!1;var i,a;return n.collectionGroup===r.collectionGroup&&!!n.path.isEqual(r.path)&&!!RH(n.startAt,r.startAt)&&RH(n.endAt,r.endAt)}function tS(n){return Ht.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function nS(n,r){return n.filters.filter(function(e){return e instanceof is&&e.field.isEqual(r)})}function SH(n,r,e){var o,t=$M,i=!0,a=(0,G.Z)(nS(n,r));try{for(a.s();!(o=a.n()).done;){var u=o.value,d=$M,h=!0;switch(u.op){case"<":case"<=":d=vte(u.value);break;case"==":case"in":case">=":d=u.value;break;case">":d=u.value,h=!1;break;case"!=":case"not-in":d=$M}bH({value:t,inclusive:i},{value:d,inclusive:h})<0&&(t=d,i=h)}}catch(k){a.e(k)}finally{a.f()}if(null!==e)for(var v=0;v<n.orderBy.length;++v)if(n.orderBy[v].field.isEqual(r)){var b=e.position[v];bH({value:t,inclusive:i},{value:b,inclusive:e.inclusive})<0&&(t=b,i=e.inclusive);break}return{value:t,inclusive:i}}function TH(n,r,e){var o,t=vh,i=!0,a=(0,G.Z)(nS(n,r));try{for(a.s();!(o=a.n()).done;){var u=o.value,d=vh,h=!0;switch(u.op){case">=":case">":d=gte(u.value),h=!1;break;case"==":case"in":case"<=":d=u.value;break;case"<":d=u.value,h=!1;break;case"!=":case"not-in":d=vh}kH({value:t,inclusive:i},{value:d,inclusive:h})>0&&(t=d,i=h)}}catch(k){a.e(k)}finally{a.f()}if(null!==e)for(var v=0;v<n.orderBy.length;++v)if(n.orderBy[v].field.isEqual(r)){var b=e.position[v];kH({value:t,inclusive:i},{value:b,inclusive:e.inclusive})>0&&(t=b,i=e.inclusive);break}return{value:t,inclusive:i}}var is=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i,a){var o;return(0,m.Z)(this,e),(o=r.call(this)).field=t,o.op=i,o.value=a,o}return(0,_.Z)(e,[{key:"matches",value:function(i){var a=i.data.field(this.field);return"!="===this.op?null!==a&&this.v(gh(a,this.value)):null!==a&&Dv(this.value)===Dv(a)&&this.v(gh(a,this.value))}},{key:"v",value:function(i){switch(this.op){case"<":return i<0;case"<=":return i<=0;case"==":return 0===i;case"!=":return 0!==i;case">":return i>0;case">=":return i>=0;default:return Jt()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(i,a,o){return i.isKeyField()?"in"===a||"not-in"===a?this.V(i,a,o):new bte(i,a,o):"array-contains"===a?new Cte(i,o):"in"===a?new Ete(i,o):"not-in"===a?new Dte(i,o):"array-contains-any"===a?new Mte(i,o):new e(i,a,o)}},{key:"V",value:function(i,a,o){return"in"===a?new kte(i,o):new wte(i,o)}}]),e}(function(){return(0,_.Z)(function n(){(0,m.Z)(this,n)})}()),bte=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i,a){var o;return(0,m.Z)(this,e),(o=r.call(this,t,i,a)).key=Ht.fromName(a.referenceValue),o}return(0,_.Z)(e,[{key:"matches",value:function(i){var a=Ht.comparator(i.key,this.key);return this.v(a)}}]),e}(is),kte=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i){var a;return(0,m.Z)(this,e),(a=r.call(this,t,"in",i)).keys=AH(0,i),a}return(0,_.Z)(e,[{key:"matches",value:function(i){return this.keys.some(function(a){return a.isEqual(i.key)})}}]),e}(is),wte=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i){var a;return(0,m.Z)(this,e),(a=r.call(this,t,"not-in",i)).keys=AH(0,i),a}return(0,_.Z)(e,[{key:"matches",value:function(i){return!this.keys.some(function(a){return a.isEqual(i.key)})}}]),e}(is);function AH(n,r){var e;return((null===(e=r.arrayValue)||void 0===e?void 0:e.values)||[]).map(function(t){return Ht.fromName(t.referenceValue)})}var Cte=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i){return(0,m.Z)(this,e),r.call(this,t,"array-contains",i)}return(0,_.Z)(e,[{key:"matches",value:function(i){var a=i.data.field(this.field);return Ak(a)&&Tk(a.arrayValue,this.value)}}]),e}(is),Ete=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i){return(0,m.Z)(this,e),r.call(this,t,"in",i)}return(0,_.Z)(e,[{key:"matches",value:function(i){var a=i.data.field(this.field);return null!==a&&Tk(this.value.arrayValue,a)}}]),e}(is),Dte=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i){return(0,m.Z)(this,e),r.call(this,t,"not-in",i)}return(0,_.Z)(e,[{key:"matches",value:function(i){if(Tk(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var a=i.data.field(this.field);return null!==a&&!Tk(this.value.arrayValue,a)}}]),e}(is),Mte=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i){return(0,m.Z)(this,e),r.call(this,t,"array-contains-any",i)}return(0,_.Z)(e,[{key:"matches",value:function(i){var a=this,o=i.data.field(this.field);return!(!Ak(o)||!o.arrayValue.values)&&o.arrayValue.values.some(function(u){return Tk(a.value.arrayValue,u)})}}]),e}(is),yh=(0,_.Z)(function n(r,e){(0,m.Z)(this,n),this.position=r,this.inclusive=e}),v_=(0,_.Z)(function n(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";(0,m.Z)(this,n),this.field=r,this.dir=e});function Ste(n,r){return n.dir===r.dir&&n.field.isEqual(r.field)}function IH(n,r,e){for(var t=0,i=0;i<n.position.length;i++){var a=r[i],o=n.position[i];if(t=a.field.isKeyField()?Ht.comparator(Ht.fromName(o.referenceValue),e.key):gh(o,e.data.field(a.field)),"desc"===a.dir&&(t*=-1),0!==t)break}return t}function RH(n,r){if(null===n)return null===r;if(null===r||n.inclusive!==r.inclusive||n.position.length!==r.position.length)return!1;for(var e=0;e<n.position.length;e++)if(!Ic(n.position[e],r.position[e]))return!1;return!0}var Bd=(0,_.Z)(function n(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;(0,m.Z)(this,n),this.path=r,this.collectionGroup=e,this.explicitOrderBy=t,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=d,this.D=null,this.C=null});function OH(n,r,e,t,i,a,o,u){return new Bd(n,r,e,t,i,a,o,u)}function g_(n){return new Bd(n)}function ZP(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function LP(n){var e,r=(0,G.Z)(n.filters);try{for(r.s();!(e=r.n()).done;){var t=e.value;if(t.S())return t.field}}catch(i){r.e(i)}finally{r.f()}return null}function BP(n){return null!==n.collectionGroup}function m_(n){var r=Ut(n);if(null===r.D){r.D=[];var e=LP(r),t=ZP(r);if(null!==e&&null===t)e.isKeyField()||r.D.push(new v_(e)),r.D.push(new v_(su.keyField(),"asc"));else{var o,i=!1,a=(0,G.Z)(r.explicitOrderBy);try{for(a.s();!(o=a.n()).done;){var u=o.value;r.D.push(u),u.field.isKeyField()&&(i=!0)}}catch(h){a.e(h)}finally{a.f()}if(!i){var d=r.explicitOrderBy.length>0?r.explicitOrderBy[r.explicitOrderBy.length-1].dir:"asc";r.D.push(new v_(su.keyField(),d))}}}return r.D}function Lu(n){var r=Ut(n);if(!r.C)if("F"===r.limitType)r.C=MH(r.path,r.collectionGroup,m_(r),r.filters,r.limit,r.startAt,r.endAt);else{var i,e=[],t=(0,G.Z)(m_(r));try{for(t.s();!(i=t.n()).done;){var a=i.value;e.push(new v_(a.field,"desc"===a.dir?"asc":"desc"))}}catch(h){t.e(h)}finally{t.f()}var u=r.endAt?new yh(r.endAt.position,r.endAt.inclusive):null,d=r.startAt?new yh(r.startAt.position,r.startAt.inclusive):null;r.C=MH(r.path,r.collectionGroup,e,r.filters,r.limit,u,d)}return r.C}function PH(n,r,e){return new Bd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),r,e,n.startAt,n.endAt)}function Ok(n,r){return Rk(Lu(n),Lu(r))&&n.limitType===r.limitType}function FH(n){return"".concat(Tv(Lu(n)),"|lt:").concat(n.limitType)}function VP(n){return"Query(target=".concat(function yte(n){var r=n.path.canonicalString();return null!==n.collectionGroup&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=", filters: [".concat(n.filters.map(function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(h_(t.value));var t}).join(", "),"]")),Mk(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=", orderBy: [".concat(n.orderBy.map(function(e){return"".concat((t=e).field.canonicalString()," (").concat(t.dir,")");var t}).join(", "),"]")),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(function(e){return h_(e)}).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(function(e){return h_(e)}).join(",")),"Target(".concat(r,")")}(Lu(n)),"; limitType=").concat(n.limitType,")")}function UP(n,r){return r.isFoundDocument()&&(i=(t=r).key.path,null!==(e=n).collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(i):Ht.isDocumentKey(e.path)?e.path.isEqual(i):e.path.isImmediateParentOf(i))&&function(e,t){var a,i=(0,G.Z)(e.explicitOrderBy);try{for(i.s();!(a=i.n()).done;){var o=a.value;if(!o.field.isKeyField()&&null===t.data.field(o.field))return!1}}catch(u){i.e(u)}finally{i.f()}return!0}(n,r)&&function(e,t){var a,i=(0,G.Z)(e.filters);try{for(i.s();!(a=i.n()).done;)if(!a.value.matches(t))return!1}catch(u){i.e(u)}finally{i.f()}return!0}(n,r)&&function(e,t){return!(e.startAt&&!function(i,a,o){var u=IH(i,a,o);return i.inclusive?u<=0:u<0}(e.startAt,m_(e),t)||e.endAt&&!function(i,a,o){var u=IH(i,a,o);return i.inclusive?u>=0:u>0}(e.endAt,m_(e),t))}(n,r);var e,t,i}function xH(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function NH(n){return function(r,e){var a,t=!1,i=(0,G.Z)(m_(n));try{for(i.s();!(a=i.n()).done;){var o=a.value,u=Ate(o,r,e);if(0!==u)return u;t=t||o.field.isKeyField()}}catch(d){i.e(d)}finally{i.f()}return 0}}function Ate(n,r,e){var i,o,u,d,t=n.field.isKeyField()?Ht.comparator(r.key,e.key):(o=e,u=r.data.field(i=n.field),d=o.data.field(i),null!==u&&null!==d?gh(u,d):Jt());switch(n.dir){case"asc":return t;case"desc":return-1*t;default:return Jt()}}function ZH(n,r){if(n.N){if(isNaN(r))return{doubleValue:"NaN"};if(r===1/0)return{doubleValue:"Infinity"};if(r===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sk(r)?"-0":r}}function LH(n){return{integerValue:""+n}}function BH(n,r){return vH(r)?LH(r):ZH(n,r)}var rS=(0,_.Z)(function n(){(0,m.Z)(this,n),this._=void 0});function Ite(n,r,e){return n instanceof __?(a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(t=e).seconds,nanos:t.nanoseconds}}}},(i=r)&&(a.fields.__previous_value__=i),{mapValue:a}):n instanceof Av?UH(n,r):n instanceof Iv?HH(n,r):function(t,i){var a=VH(t,i),o=jH(a)+jH(t.k);return FP(a)&&FP(t.k)?LH(o):ZH(t.M,o)}(n,r);var t,i,a}function Rte(n,r,e){return n instanceof Av?UH(n,r):n instanceof Iv?HH(n,r):e}function VH(n,r){return n instanceof y_?FP(e=r)||(t=e)&&"doubleValue"in t?r:{integerValue:0}:null;var t,e}var __=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(){return(0,m.Z)(this,e),r.apply(this,arguments)}return(0,_.Z)(e)}(rS),Av=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t){var i;return(0,m.Z)(this,e),(i=r.call(this)).elements=t,i}return(0,_.Z)(e)}(rS);function UH(n,r){var i,e=GH(r),t=(0,G.Z)(n.elements);try{var a=function(){var u=i.value;e.some(function(d){return Ic(d,u)})||e.push(u)};for(t.s();!(i=t.n()).done;)a()}catch(o){t.e(o)}finally{t.f()}return{arrayValue:{values:e}}}var Iv=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t){var i;return(0,m.Z)(this,e),(i=r.call(this)).elements=t,i}return(0,_.Z)(e)}(rS);function HH(n,r){var i,e=GH(r),t=(0,G.Z)(n.elements);try{var a=function(){var u=i.value;e=e.filter(function(d){return!Ic(d,u)})};for(t.s();!(i=t.n()).done;)a()}catch(o){t.e(o)}finally{t.f()}return{arrayValue:{values:e}}}var y_=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i){var a;return(0,m.Z)(this,e),(a=r.call(this)).M=t,a.k=i,a}return(0,_.Z)(e)}(rS);function jH(n){return Ki(n.integerValue||n.doubleValue)}function GH(n){return Ak(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}var Pk=(0,_.Z)(function n(r,e){(0,m.Z)(this,n),this.field=r,this.transform=e}),Pte=(0,_.Z)(function n(r,e){(0,m.Z)(this,n),this.version=r,this.transformResults=e}),Zo=function(){function n(r,e){(0,m.Z)(this,n),this.updateTime=r,this.exists=e}return(0,_.Z)(n,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new n}},{key:"exists",value:function(e){return new n(void 0,e)}},{key:"updateTime",value:function(e){return new n(e)}}]),n}();function iS(n,r){return void 0!==n.updateTime?r.isFoundDocument()&&r.version.isEqual(n.updateTime):void 0===n.exists||n.exists===r.isFoundDocument()}var aS=(0,_.Z)(function n(){(0,m.Z)(this,n)});function Fte(n,r,e){var t,i,a,o,u;n instanceof Fk?(i=r,a=e,o=(t=n).value.clone(),u=qH(t.fieldTransforms,i,a.transformResults),o.setAll(u),i.convertToFoundDocument(a.version,o).setHasCommittedMutations()):n instanceof Rv?function(t,i,a){if(iS(t.precondition,i)){var o=qH(t.fieldTransforms,i,a.transformResults),u=i.data;u.setAll(WH(t)),u.setAll(o),i.convertToFoundDocument(a.version,u).setHasCommittedMutations()}else i.convertToUnknownDocument(a.version)}(n,r,e):function(t,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()}(0,r,e)}function HP(n,r,e){var i;n instanceof Fk?function(t,i,a){if(iS(t.precondition,i)){var o=t.value.clone(),u=KH(t.fieldTransforms,a,i);o.setAll(u),i.convertToFoundDocument(YH(i),o).setHasLocalMutations()}}(n,r,e):n instanceof Rv?function(t,i,a){if(iS(t.precondition,i)){var o=KH(t.fieldTransforms,a,i),u=i.data;u.setAll(WH(t)),u.setAll(o),i.convertToFoundDocument(YH(i),u).setHasLocalMutations()}}(n,r,e):iS(n.precondition,i=r)&&i.convertToNoDocument(Mn.min())}function xte(n,r){var i,e=null,t=(0,G.Z)(n.fieldTransforms);try{for(t.s();!(i=t.n()).done;){var a=i.value,o=r.data.field(a.field),u=VH(a.transform,o||null);null!=u&&(null==e&&(e=uu.empty()),e.set(a.field,u))}}catch(d){t.e(d)}finally{t.f()}return e||null}function zH(n,r){return n.type===r.type&&!!n.key.isEqual(r.key)&&!!n.precondition.isEqual(r.precondition)&&(t=r.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===t||e&&t&&c_(e,t,function(i,a){return function Ote(n,r){return n.field.isEqual(r.field)&&(t=r.transform,(e=n.transform)instanceof Av&&t instanceof Av||e instanceof Iv&&t instanceof Iv?c_(e.elements,t.elements,Ic):e instanceof y_&&t instanceof y_?Ic(e.k,t.k):e instanceof __&&t instanceof __);var e,t}(i,a)})))&&(0===n.type?n.value.isEqual(r.value):1!==n.type||n.data.isEqual(r.data)&&n.fieldMask.isEqual(r.fieldMask));var e,t}function YH(n){return n.isFoundDocument()?n.version:Mn.min()}var Fk=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i,a){var o,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return(0,m.Z)(this,e),(o=r.call(this)).key=t,o.value=i,o.precondition=a,o.fieldTransforms=u,o.type=0,o}return(0,_.Z)(e)}(aS),Rv=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i,a,o){var u,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return(0,m.Z)(this,e),(u=r.call(this)).key=t,u.data=i,u.fieldMask=a,u.precondition=o,u.fieldTransforms=d,u.type=1,u}return(0,_.Z)(e)}(aS);function WH(n){var r=new Map;return n.fieldMask.fields.forEach(function(e){if(!e.isEmpty()){var t=n.data.field(e);r.set(e,t)}}),r}function qH(n,r,e){var t=new Map;kn(n.length===e.length);for(var i=0;i<e.length;i++){var a=n[i],o=a.transform,u=r.data.field(a.field);t.set(a.field,Rte(o,u,e[i]))}return t}function KH(n,r,e){var a,t=new Map,i=(0,G.Z)(n);try{for(i.s();!(a=i.n()).done;){var o=a.value,u=o.transform,d=e.data.field(o.field);t.set(o.field,Ite(u,d,r))}}catch(h){i.e(h)}finally{i.f()}return t}var va,cr,xk=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i){var a;return(0,m.Z)(this,e),(a=r.call(this)).key=t,a.precondition=i,a.type=2,a.fieldTransforms=[],a}return(0,_.Z)(e)}(aS),jP=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i){var a;return(0,m.Z)(this,e),(a=r.call(this)).key=t,a.precondition=i,a.type=3,a.fieldTransforms=[],a}return(0,_.Z)(e)}(aS),Nte=(0,_.Z)(function n(r){(0,m.Z)(this,n),this.count=r});function $H(n){switch(n){default:return Jt();case rt.CANCELLED:case rt.UNKNOWN:case rt.DEADLINE_EXCEEDED:case rt.RESOURCE_EXHAUSTED:case rt.INTERNAL:case rt.UNAVAILABLE:case rt.UNAUTHENTICATED:return!1;case rt.INVALID_ARGUMENT:case rt.NOT_FOUND:case rt.ALREADY_EXISTS:case rt.PERMISSION_DENIED:case rt.FAILED_PRECONDITION:case rt.ABORTED:case rt.OUT_OF_RANGE:case rt.UNIMPLEMENTED:case rt.DATA_LOSS:return!0}}function QH(n){if(void 0===n)return pa("GRPC error has no .code"),rt.UNKNOWN;switch(n){case va.OK:return rt.OK;case va.CANCELLED:return rt.CANCELLED;case va.UNKNOWN:return rt.UNKNOWN;case va.DEADLINE_EXCEEDED:return rt.DEADLINE_EXCEEDED;case va.RESOURCE_EXHAUSTED:return rt.RESOURCE_EXHAUSTED;case va.INTERNAL:return rt.INTERNAL;case va.UNAVAILABLE:return rt.UNAVAILABLE;case va.UNAUTHENTICATED:return rt.UNAUTHENTICATED;case va.INVALID_ARGUMENT:return rt.INVALID_ARGUMENT;case va.NOT_FOUND:return rt.NOT_FOUND;case va.ALREADY_EXISTS:return rt.ALREADY_EXISTS;case va.PERMISSION_DENIED:return rt.PERMISSION_DENIED;case va.FAILED_PRECONDITION:return rt.FAILED_PRECONDITION;case va.ABORTED:return rt.ABORTED;case va.OUT_OF_RANGE:return rt.OUT_OF_RANGE;case va.UNIMPLEMENTED:return rt.UNIMPLEMENTED;case va.DATA_LOSS:return rt.DATA_LOSS;default:return Jt()}}(cr=va||(va={}))[cr.OK=0]="OK",cr[cr.CANCELLED=1]="CANCELLED",cr[cr.UNKNOWN=2]="UNKNOWN",cr[cr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",cr[cr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",cr[cr.NOT_FOUND=5]="NOT_FOUND",cr[cr.ALREADY_EXISTS=6]="ALREADY_EXISTS",cr[cr.PERMISSION_DENIED=7]="PERMISSION_DENIED",cr[cr.UNAUTHENTICATED=16]="UNAUTHENTICATED",cr[cr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",cr[cr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",cr[cr.ABORTED=10]="ABORTED",cr[cr.OUT_OF_RANGE=11]="OUT_OF_RANGE",cr[cr.UNIMPLEMENTED=12]="UNIMPLEMENTED",cr[cr.INTERNAL=13]="INTERNAL",cr[cr.UNAVAILABLE=14]="UNAVAILABLE",cr[cr.DATA_LOSS=15]="DATA_LOSS";var bh=function(){function n(r,e){(0,m.Z)(this,n),this.mapKeyFn=r,this.equalsFn=e,this.inner={},this.innerSize=0}return(0,_.Z)(n,[{key:"get",value:function(e){var t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i){var o,a=(0,G.Z)(i);try{for(a.s();!(o=a.n()).done;){var u=(0,Z.Z)(o.value,2),h=u[1];if(this.equalsFn(u[0],e))return h}}catch(v){a.e(v)}finally{a.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var i=this.mapKeyFn(e),a=this.inner[i];if(void 0===a)return this.inner[i]=[[e,t]],void this.innerSize++;for(var o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,t]);a.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(var a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return 1===i.length?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Cv(this.inner,function(t,i){var o,a=(0,G.Z)(i);try{for(a.s();!(o=a.n()).done;){var u=(0,Z.Z)(o.value,2);e(u[0],u[1])}}catch(v){a.e(v)}finally{a.f()}})}},{key:"isEmpty",value:function(){return fH(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),n}(),Zte=new Ja(Ht.comparator);function Bu(){return Zte}var Lte=new Ja(Ht.comparator);function GP(){for(var n=Lte,r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];for(var i=0,a=e;i<a.length;i++){var o=a[i];n=n.insert(o.key,o)}return n}function Nk(){return new bh(function(n){return n.toString()},function(n,r){return n.isEqual(r)})}var Bte=new Ja(Ht.comparator),Vte=new Li(Ht.comparator);function Tr(){for(var n=Vte,r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];for(var i=0,a=e;i<a.length;i++){var o=a[i];n=n.add(o)}return n}var Ute=new Li(Ln);function oS(){return Ute}var zP=function(){function n(r,e,t,i,a){(0,m.Z)(this,n),this.snapshotVersion=r,this.targetChanges=e,this.targetMismatches=t,this.documentUpdates=i,this.resolvedLimboDocuments=a}return(0,_.Z)(n,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(e,t){var i=new Map;return i.set(e,YP.createSynthesizedTargetChangeForCurrentChange(e,t)),new n(Mn.min(),i,oS(),Bu(),Tr())}}]),n}(),YP=function(){function n(r,e,t,i,a){(0,m.Z)(this,n),this.resumeToken=r,this.current=e,this.addedDocuments=t,this.modifiedDocuments=i,this.removedDocuments=a}return(0,_.Z)(n,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(e,t){return new n(No.EMPTY_BYTE_STRING,t,Tr(),Tr(),Tr())}}]),n}(),sS=(0,_.Z)(function n(r,e,t,i){(0,m.Z)(this,n),this.O=r,this.removedTargetIds=e,this.key=t,this.F=i}),JH=(0,_.Z)(function n(r,e){(0,m.Z)(this,n),this.targetId=r,this.$=e}),XH=(0,_.Z)(function n(r,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:No.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;(0,m.Z)(this,n),this.state=r,this.targetIds=e,this.resumeToken=t,this.cause=i}),ej=function(){function n(){(0,m.Z)(this,n),this.B=0,this.L=nj(),this.U=No.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}return(0,_.Z)(n,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"G",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.K}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}},{key:"H",value:function(){var e=Tr(),t=Tr(),i=Tr();return this.L.forEach(function(a,o){switch(o){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:Jt()}}),new YP(this.U,this.q,e,t,i)}},{key:"J",value:function(){this.K=!1,this.L=nj()}},{key:"Y",value:function(e,t){this.K=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.K=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.K=!0,this.q=!0}}]),n}(),Hte=function(){function n(r){(0,m.Z)(this,n),this.nt=r,this.st=new Map,this.it=Bu(),this.rt=tj(),this.ot=new Li(Ln)}return(0,_.Z)(n,[{key:"ut",value:function(e){var i,t=(0,G.Z)(e.O);try{for(t.s();!(i=t.n()).done;){var a=i.value;e.F&&e.F.isFoundDocument()?this.at(a,e.F):this.ct(a,e.key,e.F)}}catch(h){t.e(h)}finally{t.f()}var u,o=(0,G.Z)(e.removedTargetIds);try{for(o.s();!(u=o.n()).done;)this.ct(u.value,e.key,e.F)}catch(h){o.e(h)}finally{o.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,function(i){var a=t.lt(i);switch(e.state){case 0:t.ft(i)&&a.W(e.resumeToken);break;case 1:a.tt(),a.G||a.J(),a.W(e.resumeToken);break;case 2:a.tt(),a.G||t.removeTarget(i);break;case 3:t.ft(i)&&(a.et(),a.W(e.resumeToken));break;case 4:t.ft(i)&&(t.dt(i),a.W(e.resumeToken));break;default:Jt()}})}},{key:"forEachTarget",value:function(e,t){var i=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach(function(a,o){i.ft(o)&&t(o)})}},{key:"_t",value:function(e){var t=e.targetId,i=e.$.count,a=this.wt(t);if(a){var o=a.target;if(tS(o))if(0===i){var u=new Ht(o.path);this.ct(t,u,Qa.newNoDocument(u,Mn.min()))}else kn(1===i);else this.gt(t)!==i&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,i=new Map;this.st.forEach(function(u,d){var h=t.wt(d);if(h){if(u.current&&tS(h.target)){var v=new Ht(h.target.path);null!==t.it.get(v)||t.It(d,v)||t.ct(d,v,Qa.newNoDocument(v,e))}u.j&&(i.set(d,u.H()),u.J())}});var a=Tr();this.rt.forEach(function(u,d){var h=!0;d.forEachWhile(function(v){var b=t.wt(v);return!b||2===b.purpose||(h=!1,!1)}),h&&(a=a.add(u))}),this.it.forEach(function(u,d){return d.setReadTime(e)});var o=new zP(e,i,this.ot,this.it,a);return this.it=Bu(),this.rt=tj(),this.ot=new Li(Ln),o}},{key:"at",value:function(e,t){if(this.ft(e)){var i=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,i),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,i){if(this.ft(e)){var a=this.lt(e);this.It(e,t)?a.Y(t,1):a.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),i&&(this.it=this.it.insert(t,i))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new ej,this.st.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.rt.get(e);return t||(t=new Li(Ln),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||At("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new ej),this.nt.getRemoteKeysForTarget(e).forEach(function(i){t.ct(e,i,null)})}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),n}();function tj(){return new Ja(Ht.comparator)}function nj(){return new Ja(Ht.comparator)}var jte={asc:"ASCENDING",desc:"DESCENDING"},Gte={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zte=(0,_.Z)(function n(r,e){(0,m.Z)(this,n),this.databaseId=r,this.N=e});function Zk(n,r){return n.N?"".concat(new Date(1e3*r.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+r.nanoseconds).slice(-9),"Z"):{seconds:""+r.seconds,nanos:r.nanoseconds}}function rj(n,r){return n.N?r.toBase64():r.toUint8Array()}function Yte(n,r){return Zk(n,r.toTimestamp())}function Xa(n){return kn(!!n),Mn.fromTimestamp((e=ph(n),new Eo(e.seconds,e.nanos)));var e}function WP(n,r){return(e=n,new lr(["projects",e.projectId,"databases",e.database])).child("documents").child(r).canonicalString();var e}function ij(n){var r=lr.fromString(n);return kn(hj(r)),r}function Lk(n,r){return WP(n.databaseId,r.path)}function Rc(n,r){var e=ij(r);if(e.get(1)!==n.databaseId.projectId)throw new wt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new wt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Ht(oj(e))}function qP(n,r){return WP(n.databaseId,r)}function aj(n){var r=ij(n);return 4===r.length?lr.emptyPath():oj(r)}function Bk(n){return new lr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function oj(n){return kn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function sj(n,r,e){return{name:Lk(n,r),fields:e.value.mapValue.fields}}function uj(n,r,e){var t=Rc(n,r.name),i=Xa(r.updateTime),a=new uu({mapValue:{fields:r.fields}}),o=Qa.newFoundDocument(t,i,a);return e&&o.setHasCommittedMutations(),e?o.setHasCommittedMutations():o}function Wte(n,r){return"found"in r?function(e,t){kn(!!t.found);var i=Rc(e,t.found.name),a=Xa(t.found.updateTime),o=new uu({mapValue:{fields:t.found.fields}});return Qa.newFoundDocument(i,a,o)}(n,r):"missing"in r?function(e,t){kn(!!t.missing),kn(!!t.readTime);var i=Rc(e,t.missing),a=Xa(t.readTime);return Qa.newNoDocument(i,a)}(n,r):Jt()}function Vk(n,r){var e,i;if(r instanceof Fk)e={update:sj(n,r.key,r.value)};else if(r instanceof xk)e={delete:Lk(n,r.key)};else if(r instanceof Rv)e={update:sj(n,r.key,r.data),updateMask:tne(r.fieldMask)};else{if(!(r instanceof jP))return Jt();e={verify:Lk(n,r.key)}}return r.fieldTransforms.length>0&&(e.updateTransforms=r.fieldTransforms.map(function(t){return function(i,a){var o=a.transform;if(o instanceof __)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Av)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Iv)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof y_)return{fieldPath:a.field.canonicalString(),increment:o.k};throw Jt()}(0,t)})),r.precondition.isNone||(e.currentDocument=void 0!==(i=r.precondition).updateTime?{updateTime:Yte(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Jt()),e}function KP(n,r){var h,e=r.currentDocument?void 0!==(h=r.currentDocument).updateTime?Zo.updateTime(Xa(h.updateTime)):void 0!==h.exists?Zo.exists(h.exists):Zo.none():Zo.none(),t=r.updateTransforms?r.updateTransforms.map(function(h){return function(v,b){var k=null;"setToServerValue"in b?(kn("REQUEST_TIME"===b.setToServerValue),k=new __):"appendMissingElements"in b?k=new Av(b.appendMissingElements.values||[]):"removeAllFromArray"in b?k=new Iv(b.removeAllFromArray.values||[]):"increment"in b?k=new y_(v,b.increment):Jt();var q=su.fromServerFormat(b.fieldPath);return new Pk(q,k)}(n,h)}):[];if(r.update){var i=Rc(n,r.update.name),a=new uu({mapValue:{fields:r.update.fields}});if(r.updateMask){var o=function(h){return new d_((h.fieldPaths||[]).map(function(b){return su.fromServerFormat(b)}))}(r.updateMask);return new Rv(i,a,o,e,t)}return new Fk(i,a,e,t)}if(r.delete){var u=Rc(n,r.delete);return new xk(u,e)}if(r.verify){var d=Rc(n,r.verify);return new jP(d,e)}return Jt()}function lj(n,r){return{documents:[qP(n,r.path)]}}function cj(n,r){var e={structuredQuery:{}},t=r.path;null!==r.collectionGroup?(e.parent=qP(n,t),e.structuredQuery.from=[{collectionId:r.collectionGroup,allDescendants:!0}]):(e.parent=qP(n,t.popLast()),e.structuredQuery.from=[{collectionId:t.lastSegment()}]);var i=function(d){if(0!==d.length){var h=d.map(function(v){return function(b){if("=="===b.op){if(_H(b.value))return{unaryFilter:{field:b_(b.field),op:"IS_NAN"}};if(mH(b.value))return{unaryFilter:{field:b_(b.field),op:"IS_NULL"}}}else if("!="===b.op){if(_H(b.value))return{unaryFilter:{field:b_(b.field),op:"IS_NOT_NAN"}};if(mH(b.value))return{unaryFilter:{field:b_(b.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:b_(b.field),op:Jte(b.op),value:b.value}}}(v)});return 1===h.length?h[0]:{compositeFilter:{op:"AND",filters:h}}}}(r.filters);i&&(e.structuredQuery.where=i);var a=function(d){if(0!==d.length)return d.map(function(h){return{field:b_((v=h).field),direction:Qte(v.dir)};var v})}(r.orderBy);a&&(e.structuredQuery.orderBy=a);var u,h,d,o=(h=r.limit,n.N||Mk(h)?h:{value:h});return null!==o&&(e.structuredQuery.limit=o),r.startAt&&(e.structuredQuery.startAt={before:(u=r.startAt).inclusive,values:u.position}),r.endAt&&(e.structuredQuery.endAt={before:!(d=r.endAt).inclusive,values:d.position}),e}function dj(n){var r=aj(n.parent),e=n.structuredQuery,t=e.from?e.from.length:0,i=null;if(t>0){kn(1===t);var a=e.from[0];a.allDescendants?i=a.collectionId:r=r.child(a.collectionId)}var o=[];e.where&&(o=fj(e.where));var u=[];e.orderBy&&(u=e.orderBy.map(function(b){return new v_(k_((k=b).field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction));var k}));var b,k,d=null;e.limit&&(d=Mk(k="object"==typeof(b=e.limit)?b.value:b)?null:k);var h=null;e.startAt&&(h=function(b){return new yh(b.values||[],!!b.before)}(e.startAt));var v=null;return e.endAt&&(v=function(b){return new yh(b.values||[],!b.before)}(e.endAt)),OH(r,i,u,o,d,"F",h,v)}function fj(n){return n?void 0!==n.unaryFilter?[ene(n)]:void 0!==n.fieldFilter?[Xte(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(function(r){return fj(r)}).reduce(function(r,e){return r.concat(e)}):Jt():[]}function Qte(n){return jte[n]}function Jte(n){return Gte[n]}function b_(n){return{fieldPath:n.canonicalString()}}function k_(n){return su.fromServerFormat(n.fieldPath)}function Xte(n){return is.create(k_(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Jt()}}(n.fieldFilter.op),n.fieldFilter.value)}function ene(n){switch(n.unaryFilter.op){case"IS_NAN":var r=k_(n.unaryFilter.field);return is.create(r,"==",{doubleValue:NaN});case"IS_NULL":var e=k_(n.unaryFilter.field);return is.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var t=k_(n.unaryFilter.field);return is.create(t,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=k_(n.unaryFilter.field);return is.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Jt()}}function tne(n){var r=[];return n.fields.forEach(function(e){return r.push(e.canonicalString())}),{fieldPaths:r}}function hj(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function as(n){for(var r="",e=0;e<n.length;e++)r.length>0&&(r=pj(r)),r=nne(n.get(e),r);return pj(r)}function nne(n,r){for(var e=r,t=n.length,i=0;i<t;i++){var a=n.charAt(i);switch(a){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=a}}return e}function pj(n){return n+"\x01\x01"}function Oc(n){var r=n.length;if(kn(r>=2),2===r)return kn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),lr.emptyPath();for(var e=r-2,t=[],i="",a=0;a<r;){var o=n.indexOf("\x01",a);switch((o<0||o>e)&&Jt(),n.charAt(o+1)){case"\x01":var u=n.substring(a,o),d=void 0;0===i.length?d=u:(d=i+=u,i=""),t.push(d);break;case"\x10":i+=n.substring(a,o),i+="\0";break;case"\x11":i+=n.substring(a,o+1);break;default:Jt()}a=o+2}return new lr(t)}var vj=["userId","batchId"];function uS(n,r){return[n,as(r)]}function gj(n,r,e){return[n,as(r),e]}var rne={},ine=["prefixPath","collectionGroup","readTime","documentId"],ane=["prefixPath","collectionGroup","documentId"],one=["collectionGroup","readTime","prefixPath","documentId"],sne=["canonicalId","targetId"],une=["targetId","path"],lne=["path","targetId"],cne=["collectionId","parent"],dne=["indexId","uid"],fne=["uid","sequenceNumber"],hne=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],pne=["indexId","uid","orderedDocumentKey"],vne=["userId","collectionPath","documentId"],gne=["userId","collectionPath","largestBatchId"],mne=["userId","collectionGroup","largestBatchId"],mj=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),_ne=[].concat((0,Zt.Z)(mj),["documentOverlays"]),_j=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],yne=[].concat(_j,["indexConfiguration","indexState","indexEntries"]),yj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",bj=function(){function n(){(0,m.Z)(this,n),this.onCommittedListeners=[]}return(0,_.Z)(n,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach(function(e){return e()})}}]),n}(),ut=function(){function n(r){var e=this;(0,m.Z)(this,n),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,r(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return(0,_.Z)(n,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(e,t){var i=this;return this.callbackAttached&&Jt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n(function(a,o){i.nextCallback=function(u){i.wrapSuccess(e,u).next(a,o)},i.catchCallback=function(u){i.wrapFailure(t,u).next(a,o)}})}},{key:"toPromise",value:function(){var e=this;return new Promise(function(t,i){e.next(t,i)})}},{key:"wrapUserFunction",value:function(e){try{var t=e();return t instanceof n?t:n.resolve(t)}catch(i){return n.reject(i)}}},{key:"wrapSuccess",value:function(e,t){return e?this.wrapUserFunction(function(){return e(t)}):n.resolve(t)}},{key:"wrapFailure",value:function(e,t){return e?this.wrapUserFunction(function(){return e(t)}):n.reject(t)}}],[{key:"resolve",value:function(e){return new n(function(t,i){t(e)})}},{key:"reject",value:function(e){return new n(function(t,i){i(e)})}},{key:"waitFor",value:function(e){return new n(function(t,i){var a=0,o=0,u=!1;e.forEach(function(d){++a,d.next(function(){++o,u&&o===a&&t()},function(h){return i(h)})}),u=!0,o===a&&t()})}},{key:"or",value:function(e){var a,t=n.resolve(!1),i=(0,G.Z)(e);try{var o=function(){var d=a.value;t=t.next(function(h){return h?n.resolve(h):d()})};for(i.s();!(a=i.n()).done;)o()}catch(u){i.e(u)}finally{i.f()}return t}},{key:"forEach",value:function(e,t){var i=this,a=[];return e.forEach(function(o,u){a.push(t.call(i,o,u))}),this.waitFor(a)}}]),n}(),kj=function(){function n(r,e){var t=this;(0,m.Z)(this,n),this.action=r,this.transaction=e,this.aborted=!1,this.At=new $a,this.transaction.oncomplete=function(){t.At.resolve()},this.transaction.onabort=function(){e.error?t.At.reject(new Uk(r,e.error)):t.At.resolve()},this.transaction.onerror=function(i){var a=$P(i.target.error);t.At.reject(new Uk(r,a))}}return(0,_.Z)(n,[{key:"Rt",get:function(){return this.At.promise}},{key:"abort",value:function(e){e&&this.At.reject(e),this.aborted||(At("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"bt",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new kne(t)}}],[{key:"open",value:function(e,t,i,a){try{return new n(t,e.transaction(a,i))}catch(o){throw new Uk(t,o)}}}]),n}(),w_=function(){function n(r,e,t){(0,m.Z)(this,n),this.name=r,this.version=e,this.Pt=t,12.2===n.Vt((0,re.z$)())&&pa("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return(0,_.Z)(n,[{key:"Nt",value:(r=(0,st.Z)(me().mark(function t(i){var a=this;return me().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(u.t0=this.db,u.t0){u.next=6;break}return At("SimpleDb","Opening database:",this.name),u.next=5,new Promise(function(d,h){var v=indexedDB.open(a.name,a.version);v.onsuccess=function(b){d(b.target.result)},v.onblocked=function(){h(new Uk(i,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},v.onerror=function(b){var k=b.target.error;h("VersionError"===k.name?new wt(rt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===k.name?new wt(rt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+k):new Uk(i,k))},v.onupgradeneeded=function(b){At("SimpleDb",'Database "'+a.name+'" requires upgrade from version:',b.oldVersion),a.Pt.kt(b.target.result,v.transaction,b.oldVersion,a.version).next(function(){At("SimpleDb","Database upgrade to version "+a.version+" complete")})}});case 5:this.db=u.sent;case 6:return this.Mt&&(this.db.onversionchange=function(d){return a.Mt(d)}),u.abrupt("return",this.db);case 8:case"end":return u.stop()}},t,this)})),function e(t){return r.apply(this,arguments)})},{key:"Ot",value:function(e){this.Mt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var r=(0,st.Z)(me().mark(function t(i,a,o,u){var h,v,b,k,d=this;return me().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:h="readonly"===a,v=0;case 2:return++v,O.prev=3,O.delegateYield(me().mark(function q(){var J,ue;return me().wrap(function(Oe){for(;;)switch(Oe.prev=Oe.next){case 0:return Oe.next=2,d.Nt(i);case 2:return d.db=Oe.sent,J=kj.open(d.db,i,h?"readonly":"readwrite",o),(ue=u(J).next(function(Ze){return J.bt(),Ze}).catch(function(Ze){return J.abort(Ze),ut.reject(Ze)}).toPromise()).catch(function(){}),Oe.next=7,J.Rt;case 7:return Oe.t0=ue,Oe.abrupt("return",{v:Oe.t0});case 9:case"end":return Oe.stop()}},q)})(),"t0",5);case 5:if("object"!=typeof(b=O.t0)){O.next=8;break}return O.abrupt("return",b.v);case 8:O.next=15;break;case 10:if(O.prev=10,O.t1=O.catch(3),At("SimpleDb","Transaction failed with error:",O.t1.message,"Retrying:",k="FirebaseError"!==O.t1.name&&v<3),this.close(),k){O.next=15;break}return O.abrupt("return",Promise.reject(O.t1));case 15:O.next=2;break;case 17:case"end":return O.stop()}},t,this,[[3,10]])}));return function e(t,i,a,o){return r.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return At("SimpleDb","Removing database:",e),Pv(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"vt",value:function(){if(!(0,re.hl)())return!1;if(n.St())return!0;var e=(0,re.z$)(),t=n.Vt(e),i=0<t&&t<10,a=n.Dt(e),o=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)}},{key:"St",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}},{key:"xt",value:function(e,t){return e.store(t)}},{key:"Vt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}},{key:"Dt",value:function(e){var t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}}]),n;var r}(),bne=function(){function n(r){(0,m.Z)(this,n),this.Ft=r,this.$t=!1,this.Bt=null}return(0,_.Z)(n,[{key:"isDone",get:function(){return this.$t}},{key:"Lt",get:function(){return this.Bt}},{key:"cursor",set:function(e){this.Ft=e}},{key:"done",value:function(){this.$t=!0}},{key:"Ut",value:function(e){this.Bt=e}},{key:"delete",value:function(){return Pv(this.Ft.delete())}}]),n}(),Uk=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i){var a;return(0,m.Z)(this,e),(a=r.call(this,rt.UNAVAILABLE,"IndexedDB transaction '".concat(t,"' failed: ").concat(i))).name="IndexedDbTransactionError",a}return(0,_.Z)(e)}(wt);function Ov(n){return"IndexedDbTransactionError"===n.name}var kne=function(){function n(r){(0,m.Z)(this,n),this.store=r}return(0,_.Z)(n,[{key:"put",value:function(e,t){var i;return void 0!==t?(At("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(At("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Pv(i)}},{key:"add",value:function(e){return At("SimpleDb","ADD",this.store.name,e,e),Pv(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Pv(this.store.get(e)).next(function(i){return void 0===i&&(i=null),At("SimpleDb","GET",t.store.name,e,i),i})}},{key:"delete",value:function(e){return At("SimpleDb","DELETE",this.store.name,e),Pv(this.store.delete(e))}},{key:"count",value:function(){return At("SimpleDb","COUNT",this.store.name),Pv(this.store.count())}},{key:"qt",value:function(e,t){var i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){var a=this.cursor(i),o=[];return this.Kt(a,function(d,h){o.push(h)}).next(function(){return o})}var u=this.store.getAll(i.range);return new ut(function(d,h){u.onerror=function(v){h(v.target.error)},u.onsuccess=function(v){d(v.target.result)}})}},{key:"Gt",value:function(e,t){var i=this.store.getAll(e,null===t?void 0:t);return new ut(function(a,o){i.onerror=function(u){o(u.target.error)},i.onsuccess=function(u){a(u.target.result)}})}},{key:"Qt",value:function(e,t){At("SimpleDb","DELETE ALL",this.store.name);var i=this.options(e,t);i.jt=!1;var a=this.cursor(i);return this.Kt(a,function(o,u,d){return d.delete()})}},{key:"Wt",value:function(e,t){var i;t?i=e:(i={},t=e);var a=this.cursor(i);return this.Kt(a,t)}},{key:"zt",value:function(e){var t=this.cursor({});return new ut(function(i,a){t.onerror=function(o){var u=$P(o.target.error);a(u)},t.onsuccess=function(o){var u=o.target.result;u?e(u.primaryKey,u.value).next(function(d){d?u.continue():i()}):i()}})}},{key:"Kt",value:function(e,t){var i=[];return new ut(function(a,o){e.onerror=function(u){o(u.target.error)},e.onsuccess=function(u){var d=u.target.result;if(d){var h=new bne(d),v=t(d.primaryKey,d.value,h);if(v instanceof ut){var b=v.catch(function(k){return h.done(),ut.reject(k)});i.push(b)}h.isDone?a():null===h.Lt?d.continue():d.continue(h.Lt)}else a()}}).next(function(){return ut.waitFor(i)})}},{key:"options",value:function(e,t){var i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var i=this.store.index(e.index);return e.jt?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),n}();function Pv(n){return new ut(function(r,e){n.onsuccess=function(t){r(t.target.result)},n.onerror=function(t){var i=$P(t.target.error);e(i)}})}var wj=!1;function $P(n){var r=w_.Vt((0,re.z$)());if(r>=12.2&&r<13){var e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){var t=new wt("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(e,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return wj||(wj=!0,setTimeout(function(){throw t},0)),t}}return n}var Cj=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i){var a;return(0,m.Z)(this,e),(a=r.call(this)).Ht=t,a.currentSequenceNumber=i,a}return(0,_.Z)(e)}(bj);function eo(n,r){var e=Ut(n);return w_.xt(e.Ht,r)}var QP=function(){function n(r,e,t,i){(0,m.Z)(this,n),this.batchId=r,this.localWriteTime=e,this.baseMutations=t,this.mutations=i}return(0,_.Z)(n,[{key:"applyToRemoteDocument",value:function(e,t){for(var i=t.mutationResults,a=0;a<this.mutations.length;a++){var o=this.mutations[a];o.key.isEqual(e.key)&&Fte(o,e,i[a])}}},{key:"applyToLocalView",value:function(e){var i,t=(0,G.Z)(this.baseMutations);try{for(t.s();!(i=t.n()).done;){var a=i.value;a.key.isEqual(e.key)&&HP(a,e,this.localWriteTime)}}catch(h){t.e(h)}finally{t.f()}var u,o=(0,G.Z)(this.mutations);try{for(o.s();!(u=o.n()).done;){var d=u.value;d.key.isEqual(e.key)&&HP(d,e,this.localWriteTime)}}catch(h){o.e(h)}finally{o.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach(function(i){var a=e.get(i.key),o=a;t.applyToLocalView(o),a.isValidDocument()||o.convertToNoDocument(Mn.min())})}},{key:"keys",value:function(){return this.mutations.reduce(function(e,t){return e.add(t.key)},Tr())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&c_(this.mutations,e.mutations,function(t,i){return zH(t,i)})&&c_(this.baseMutations,e.baseMutations,function(t,i){return zH(t,i)})}}]),n}(),wne=function(){function n(r,e,t,i){(0,m.Z)(this,n),this.batch=r,this.commitVersion=e,this.mutationResults=t,this.docVersions=i}return(0,_.Z)(n,null,[{key:"from",value:function(e,t,i){kn(e.mutations.length===i.length);for(var a=Bte,o=e.mutations,u=0;u<o.length;u++)a=a.insert(o[u].key,i[u].version);return new n(e,t,i,a)}}]),n}(),JP=function(){function n(r,e){(0,m.Z)(this,n),this.largestBatchId=r,this.mutation=e}return(0,_.Z)(n,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),n}(),lS=function(){function n(r,e,t,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Mn.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Mn.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:No.EMPTY_BYTE_STRING;(0,m.Z)(this,n),this.target=r,this.targetId=e,this.purpose=t,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return(0,_.Z)(n,[{key:"withSequenceNumber",value:function(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}},{key:"withLastLimboFreeSnapshotVersion",value:function(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}]),n}(),Ej=(0,_.Z)(function n(r){(0,m.Z)(this,n),this.Jt=r});function Dj(n,r){var i,a,e=r.key,t={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:cS(r.readTime),hasCommittedMutations:r.hasCommittedMutations};if(r.isFoundDocument())t.document={name:Lk(i=n.Jt,(a=r).key),fields:a.data.value.mapValue.fields,updateTime:Zk(i,a.version.toTimestamp())};else if(r.isNoDocument())t.noDocument={path:e.path.toArray(),readTime:Fv(r.version)};else{if(!r.isUnknownDocument())return Jt();t.unknownDocument={path:e.path.toArray(),version:Fv(r.version)}}return t}function cS(n){var r=n.toTimestamp();return[r.seconds,r.nanoseconds]}function Fv(n){var r=n.toTimestamp();return{seconds:r.seconds,nanoseconds:r.nanoseconds}}function xv(n){var r=new Eo(n.seconds,n.nanoseconds);return Mn.fromTimestamp(r)}function C_(n,r){for(var e=(r.baseMutations||[]).map(function(d){return KP(n.Jt,d)}),t=0;t<r.mutations.length-1;++t)t+1<r.mutations.length&&void 0!==r.mutations[t+1].transform&&(r.mutations[t].updateTransforms=r.mutations[t+1].transform.fieldTransforms,r.mutations.splice(t+1,1),++t);var o=r.mutations.map(function(d){return KP(n.Jt,d)}),u=Eo.fromMillis(r.localWriteTimeMs);return new QP(r.batchId,u,e,o)}function Hk(n){var t,i,r=xv(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?xv(n.lastLimboFreeSnapshotVersion):Mn.min();return void 0!==n.query.documents?(kn(1===(i=n.query).documents.length),t=Lu(g_(aj(i.documents[0])))):t=Lu(dj(n.query)),new lS(t,n.targetId,0,n.lastListenSequenceNumber,r,e,No.fromBase64String(n.resumeToken))}function Mj(n,r){var i,e=Fv(r.snapshotVersion),t=Fv(r.lastLimboFreeSnapshotVersion);i=tS(r.target)?lj(n.Jt,r.target):cj(n.Jt,r.target);var a=r.resumeToken.toBase64();return{targetId:r.targetId,canonicalId:Tv(r.target),readTime:e,resumeToken:a,lastListenSequenceNumber:r.sequenceNumber,lastLimboFreeSnapshotVersion:t,query:i}}function XP(n){var r=dj({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?PH(r,r.limit,"L"):r}function eF(n,r){return new JP(r.largestBatchId,KP(n.Jt,r.overlayMutation))}function Sj(n,r){var e=r.path.lastSegment();return[n,as(r.path.popLast()),e]}var Ene=function(){function n(){(0,m.Z)(this,n)}return(0,_.Z)(n,[{key:"getBundleMetadata",value:function(e,t){return Tj(e).get(t).next(function(i){if(i)return{id:(a=i).bundleId,createTime:xv(a.createTime),version:a.version};var a})}},{key:"saveBundleMetadata",value:function(e,t){return Tj(e).put({bundleId:(i=t).id,createTime:Fv(Xa(i.createTime)),version:i.version});var i}},{key:"getNamedQuery",value:function(e,t){return Aj(e).get(t).next(function(i){if(i)return{name:(a=i).name,query:XP(a.bundledQuery),readTime:xv(a.readTime)};var a})}},{key:"saveNamedQuery",value:function(e,t){return Aj(e).put({name:(i=t).name,readTime:Fv(Xa(i.readTime)),bundledQuery:i.bundledQuery});var i}}]),n}();function Tj(n){return eo(n,"bundles")}function Aj(n){return eo(n,"namedQueries")}var Dne=function(){function n(r,e){(0,m.Z)(this,n),this.M=r,this.userId=e}return(0,_.Z)(n,[{key:"getOverlay",value:function(e,t){var i=this;return jk(e).get(Sj(this.userId,t)).next(function(a){return a?eF(i.M,a):null})}},{key:"saveOverlays",value:function(e,t,i){var a=this,o=[];return i.forEach(function(u,d){var h=new JP(t,d);o.push(a.Xt(e,h))}),ut.waitFor(o)}},{key:"removeOverlaysForBatchId",value:function(e,t,i){var a=this,o=new Set;t.forEach(function(d){return o.add(as(d.getCollectionPath()))});var u=[];return o.forEach(function(d){var h=IDBKeyRange.bound([a.userId,d,i],[a.userId,d,i+1],!1,!0);u.push(jk(e).Qt("collectionPathOverlayIndex",h))}),ut.waitFor(u)}},{key:"getOverlaysForCollection",value:function(e,t,i){var a=this,o=Nk(),u=as(t),d=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,Number.POSITIVE_INFINITY],!0);return jk(e).qt("collectionPathOverlayIndex",d).next(function(h){var b,v=(0,G.Z)(h);try{for(v.s();!(b=v.n()).done;){var I=eF(a.M,b.value);o.set(I.getKey(),I)}}catch(O){v.e(O)}finally{v.f()}return o})}},{key:"getOverlaysForCollectionGroup",value:function(e,t,i,a){var d,o=this,u=Nk(),h=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return jk(e).Wt({index:"collectionGroupOverlayIndex",range:h},function(v,b,k){var I=eF(o.M,b);u.size()<a||I.largestBatchId===d?(u.set(I.getKey(),I),d=I.largestBatchId):k.done()}).next(function(){return u})}},{key:"Xt",value:function(e,t){return jk(e).put((i=this.M,u=Sj(a=this.userId,(o=t).mutation.key),{userId:a,collectionPath:(d=(0,Z.Z)(u,3))[1],documentId:d[2],collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Vk(i.Jt,o.mutation)}));var i,a,o,u,d}}],[{key:"Yt",value:function(e,t){return new n(e,t.uid||"")}}]),n}();function jk(n){return eo(n,"documentOverlays")}var Nv=function(){function n(){(0,m.Z)(this,n)}return(0,_.Z)(n,[{key:"Zt",value:function(e,t){this.te(e,t),t.ee()}},{key:"te",value:function(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Ki(e.integerValue));else if("doubleValue"in e){var i=Ki(e.doubleValue);isNaN(i)?this.ne(t,13):(this.ne(t,15),Sk(i)?t.se(0):t.se(i))}else if("timestampValue"in e){var a=e.timestampValue;this.ne(t,20),"string"==typeof a?t.ie(a):(t.ie("".concat(a.seconds||"")),t.se(a.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Ev(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){var o=e.geoPointValue;this.ne(t,45),t.se(o.latitude||0),t.se(o.longitude||0)}else"mapValue"in e?yH(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):Jt()}},{key:"re",value:function(e,t){this.ne(t,25),this.le(e,t)}},{key:"le",value:function(e,t){t.ie(e)}},{key:"ce",value:function(e,t){var i=e.fields||{};this.ne(t,55);for(var a=0,o=Object.keys(i);a<o.length;a++){var u=o[a];this.re(u,t),this.te(i[u],t)}}},{key:"he",value:function(e,t){var i=e.values||[];this.ne(t,50);var o,a=(0,G.Z)(i);try{for(a.s();!(o=a.n()).done;)this.te(o.value,t)}catch(d){a.e(d)}finally{a.f()}}},{key:"ae",value:function(e,t){var i=this;this.ne(t,37),Ht.fromName(e).path.forEach(function(a){i.ne(t,60),i.le(a,t)})}},{key:"ne",value:function(e,t){e.se(t)}},{key:"oe",value:function(e){e.se(2)}}]),n}();function Mne(n){if(0===n)return 8;var r=0;return n>>4==0&&(r+=4,n<<=4),n>>6==0&&(r+=2,n<<=2),n>>7==0&&(r+=1),r}function Ij(n){var r=64-function(e){for(var t=0,i=0;i<8;++i){var a=Mne(255&e[i]);if(t+=a,8!==a)break}return t}(n);return Math.ceil(r/8)}Nv.fe=new Nv;var Sne=function(){function n(){(0,m.Z)(this,n),this.buffer=new Uint8Array(1024),this.position=0}return(0,_.Z)(n,[{key:"de",value:function(e){for(var t=e[Symbol.iterator](),i=t.next();!i.done;)this._e(i.value),i=t.next();this.we()}},{key:"me",value:function(e){for(var t=e[Symbol.iterator](),i=t.next();!i.done;)this.ge(i.value),i=t.next();this.ye()}},{key:"pe",value:function(e){var i,t=(0,G.Z)(e);try{for(t.s();!(i=t.n()).done;){var a=i.value,o=a.charCodeAt(0);if(o<128)this._e(o);else if(o<2048)this._e(960|o>>>6),this._e(128|63&o);else if(a<"\ud800"||"\udbff"<a)this._e(480|o>>>12),this._e(128|63&o>>>6),this._e(128|63&o);else{var u=a.codePointAt(0);this._e(240|u>>>18),this._e(128|63&u>>>12),this._e(128|63&u>>>6),this._e(128|63&u)}}}catch(d){t.e(d)}finally{t.f()}this.we()}},{key:"Ie",value:function(e){var i,t=(0,G.Z)(e);try{for(t.s();!(i=t.n()).done;){var a=i.value,o=a.charCodeAt(0);if(o<128)this.ge(o);else if(o<2048)this.ge(960|o>>>6),this.ge(128|63&o);else if(a<"\ud800"||"\udbff"<a)this.ge(480|o>>>12),this.ge(128|63&o>>>6),this.ge(128|63&o);else{var u=a.codePointAt(0);this.ge(240|u>>>18),this.ge(128|63&u>>>12),this.ge(128|63&u>>>6),this.ge(128|63&u)}}}catch(d){t.e(d)}finally{t.f()}this.ye()}},{key:"Te",value:function(e){var t=this.Ee(e),i=Ij(t);this.Ae(1+i),this.buffer[this.position++]=255&i;for(var a=t.length-i;a<t.length;++a)this.buffer[this.position++]=255&t[a]}},{key:"Re",value:function(e){var t=this.Ee(e),i=Ij(t);this.Ae(1+i),this.buffer[this.position++]=~(255&i);for(var a=t.length-i;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}},{key:"be",value:function(){this.Pe(255),this.Pe(255)}},{key:"Ve",value:function(){this.ve(255),this.ve(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Se",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ee",value:function(e){var o,u,t=(o=e,(u=new DataView(new ArrayBuffer(8))).setFloat64(0,o,!1),new Uint8Array(u.buffer)),i=0!=(128&t[0]);t[0]^=i?255:128;for(var a=1;a<t.length;++a)t[a]^=i?255:0;return t}},{key:"_e",value:function(e){var t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}},{key:"ge",value:function(e){var t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}},{key:"we",value:function(){this.Pe(0),this.Pe(1)}},{key:"ye",value:function(){this.ve(0),this.ve(1)}},{key:"Pe",value:function(e){this.Ae(1),this.buffer[this.position++]=e}},{key:"ve",value:function(e){this.Ae(1),this.buffer[this.position++]=~e}},{key:"Ae",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var i=2*this.buffer.length;i<t&&(i=t);var a=new Uint8Array(i);a.set(this.buffer),this.buffer=a}}}]),n}(),Tne=function(){function n(r){(0,m.Z)(this,n),this.De=r}return(0,_.Z)(n,[{key:"ue",value:function(e){this.De.de(e)}},{key:"ie",value:function(e){this.De.pe(e)}},{key:"se",value:function(e){this.De.Te(e)}},{key:"ee",value:function(){this.De.be()}}]),n}(),Ane=function(){function n(r){(0,m.Z)(this,n),this.De=r}return(0,_.Z)(n,[{key:"ue",value:function(e){this.De.me(e)}},{key:"ie",value:function(e){this.De.Ie(e)}},{key:"se",value:function(e){this.De.Re(e)}},{key:"ee",value:function(){this.De.Ve()}}]),n}(),Gk=function(){function n(){(0,m.Z)(this,n),this.De=new Sne,this.Ce=new Tne(this.De),this.xe=new Ane(this.De)}return(0,_.Z)(n,[{key:"seed",value:function(e){this.De.seed(e)}},{key:"Ne",value:function(e){return 0===e?this.Ce:this.xe}},{key:"Se",value:function(){return this.De.Se()}},{key:"reset",value:function(){this.De.reset()}}]),n}(),zk=function(){function n(r,e,t,i){(0,m.Z)(this,n),this.indexId=r,this.documentKey=e,this.arrayValue=t,this.directionalValue=i}return(0,_.Z)(n,[{key:"ke",value:function(){var e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new n(this.indexId,this.documentKey,this.arrayValue,i)}}]),n}();function Zv(n,r){var e=n.indexId-r.indexId;return 0!==e||0!==(e=Rj(n.arrayValue,r.arrayValue))||0!==(e=Rj(n.directionalValue,r.directionalValue))?e:Ht.comparator(n.documentKey,r.documentKey)}function Rj(n,r){for(var e=0;e<n.length&&e<r.length;++e){var t=n[e]-r[e];if(0!==t)return t}return n.length-r.length}var Ine=function(){function n(r){(0,m.Z)(this,n),this.collectionId=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment(),this.Me=r.orderBy,this.Oe=[];var t,e=(0,G.Z)(r.filters);try{for(e.s();!(t=e.n()).done;){var a=t.value;a.S()?this.Fe=a:this.Oe.push(a)}}catch(o){e.e(o)}finally{e.f()}}return(0,_.Z)(n,[{key:"$e",value:function(e){var t=xP(e);if(void 0!==t&&!this.Be(t))return!1;for(var i=Sv(e),a=0,o=0;a<i.length&&this.Be(i[a]);++a);if(a===i.length)return!0;if(void 0!==this.Fe){var u=i[a];if(!this.Le(this.Fe,u)||!this.Ue(this.Me[o++],u))return!1;++a}for(;a<i.length;++a)if(o>=this.Me.length||!this.Ue(this.Me[o++],i[a]))return!1;return!0}},{key:"Be",value:function(e){var i,t=(0,G.Z)(this.Oe);try{for(t.s();!(i=t.n()).done;)if(this.Le(i.value,e))return!0}catch(o){t.e(o)}finally{t.f()}return!1}},{key:"Le",value:function(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}},{key:"Ue",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),n}(),Rne=function(){function n(){(0,m.Z)(this,n),this.qe=new tF}return(0,_.Z)(n,[{key:"addToCollectionParentIndex",value:function(e,t){return this.qe.add(t),ut.resolve()}},{key:"getCollectionParents",value:function(e,t){return ut.resolve(this.qe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return ut.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return ut.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return ut.resolve(null)}},{key:"getIndexType",value:function(e,t){return ut.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return ut.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return ut.resolve(null)}},{key:"getMinOffset",value:function(e,t){return ut.resolve(mh.min())}},{key:"updateCollectionGroup",value:function(e,t,i){return ut.resolve()}},{key:"updateIndexEntries",value:function(e,t){return ut.resolve()}}]),n}(),tF=function(){function n(){(0,m.Z)(this,n),this.index={}}return(0,_.Z)(n,[{key:"add",value:function(e){var t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new Li(lr.comparator),o=!a.has(i);return this.index[t]=a.add(i),o}},{key:"has",value:function(e){var t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}},{key:"getEntries",value:function(e){return(this.index[e]||new Li(lr.comparator)).toArray()}}]),n}(),dS=new Uint8Array(0),One=function(){function n(r,e){(0,m.Z)(this,n),this.user=r,this.databaseId=e,this.Ke=new tF,this.Ge=new bh(function(t){return Tv(t)},function(t,i){return Rk(t,i)}),this.uid=r.uid||""}return(0,_.Z)(n,[{key:"addToCollectionParentIndex",value:function(e,t){var i=this;if(!this.Ke.has(t)){var a=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(function(){i.Ke.add(t)});var u={collectionId:a,parent:as(o)};return Oj(e).put(u)}return ut.resolve()}},{key:"getCollectionParents",value:function(e,t){var i=[],a=IDBKeyRange.bound([t,""],[cH(t),""],!1,!0);return Oj(e).qt(a).next(function(o){var d,u=(0,G.Z)(o);try{for(u.s();!(d=u.n()).done;){var h=d.value;if(h.collectionId!==t)break;i.push(Oc(h.parent))}}catch(v){u.e(v)}finally{u.f()}return i})}},{key:"addFieldIndex",value:function(e,t){var o,i=fS(e),a={indexId:(o=t).indexId,collectionGroup:o.collectionGroup,fields:o.fields.map(function(u){return[u.fieldPath.canonicalString(),u.kind]})};return delete a.indexId,i.add(a).next()}},{key:"deleteFieldIndex",value:function(e,t){var i=fS(e),a=hS(e),o=Yk(e);return i.delete(t.indexId).next(function(){return a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}).next(function(){return o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})}},{key:"getDocumentsMatchingTarget",value:function(e,t){var i=this,a=Yk(e),o=!0,u=new Map;return ut.forEach(this.Qe(t),function(d){return i.je(e,d).next(function(h){o&&(o=!!h),u.set(d,h)})}).next(function(){if(o){var d=Tr(),h=[];return ut.forEach(u,function(v,b){var k;At("IndexedDbIndexManager","Using index ".concat((k=v,"id=".concat(k.indexId,"|cg=").concat(k.collectionGroup,"|f=").concat(k.fields.map(function(je){return"".concat(je.fieldPath,":").concat(je.kind)}).join(",")))," to execute ").concat(Tv(t)));var I=function(je,lt){var ct=xP(lt);if(void 0===ct)return null;var dn,vt=(0,G.Z)(nS(je,ct.fieldPath));try{for(vt.s();!(dn=vt.n()).done;){var tn=dn.value;switch(tn.op){case"array-contains-any":return tn.value.arrayValue.values||[];case"array-contains":return[tn.value]}}}catch(An){vt.e(An)}finally{vt.f()}return null}(b,v),O=function(je,lt){var dn,ct=new Map,vt=(0,G.Z)(Sv(lt));try{for(vt.s();!(dn=vt.n()).done;){var Fr,tn=dn.value,An=(0,G.Z)(nS(je,tn.fieldPath));try{for(An.s();!(Fr=An.n()).done;){var Os=Fr.value;switch(Os.op){case"==":case"in":ct.set(tn.fieldPath.canonicalString(),Os.value);break;case"not-in":case"!=":return ct.set(tn.fieldPath.canonicalString(),Os.value),Array.from(ct.values())}}}catch(qu){An.e(qu)}finally{An.f()}}}catch(qu){vt.e(qu)}finally{vt.f()}return null}(b,v),q=function(je,lt){var tn,ct=[],vt=!0,dn=(0,G.Z)(Sv(lt));try{for(dn.s();!(tn=dn.n()).done;){var An=tn.value,Fr=0===An.kind?SH(je,An.fieldPath,je.startAt):TH(je,An.fieldPath,je.startAt);ct.push(Fr.value),vt&&(vt=Fr.inclusive)}}catch(Os){dn.e(Os)}finally{dn.f()}return new yh(ct,vt)}(b,v),J=function(je,lt){var tn,ct=[],vt=!0,dn=(0,G.Z)(Sv(lt));try{for(dn.s();!(tn=dn.n()).done;){var An=tn.value,Fr=0===An.kind?TH(je,An.fieldPath,je.endAt):SH(je,An.fieldPath,je.endAt);ct.push(Fr.value),vt&&(vt=Fr.inclusive)}}catch(Os){dn.e(Os)}finally{dn.f()}return new yh(ct,vt)}(b,v),ue=i.We(v,b,q),fe=i.We(v,b,J),Oe=i.ze(v,b,O),Ze=i.He(v.indexId,I,ue,q.inclusive,fe,J.inclusive,Oe);return ut.forEach(Ze,function(je){return a.Gt(je,t.limit).next(function(lt){lt.forEach(function(ct){var vt=Ht.fromSegments(ct.documentKey);d.has(vt)||(d=d.add(vt),h.push(vt))})})})}).next(function(){return h})}return ut.resolve(null)})}},{key:"Qe",value:function(e){var t=this.Ge.get(e);return t||(this.Ge.set(e,t=[e]),t)}},{key:"He",value:function(e,t,i,a,o,u,d){for(var h=this,v=(null!=t?t.length:1)*Math.max(i.length,o.length),b=v/(null!=t?t.length:1),k=[],I=function(J){var ue=t?h.Je(t[J/b]):dS,fe=h.Ye(e,ue,i[J%b],a),Oe=h.Xe(e,ue,o[J%b],u),Ze=d.map(function(je){return h.Ye(e,ue,je,!0)});k.push.apply(k,(0,Zt.Z)(h.createRange(fe,Oe,Ze)))},O=0;O<v;++O)I(O);return k}},{key:"Ye",value:function(e,t,i,a){var o=new zk(e,Ht.empty(),t,i);return a?o:o.ke()}},{key:"Xe",value:function(e,t,i,a){var o=new zk(e,Ht.empty(),t,i);return a?o.ke():o}},{key:"je",value:function(e,t){var i=new Ine(t),a=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next(function(o){var h,u=null,d=(0,G.Z)(o);try{for(d.s();!(h=d.n()).done;){var v=h.value;i.$e(v)&&(!u||v.fields.length>u.fields.length)&&(u=v)}}catch(b){d.e(b)}finally{d.f()}return u})}},{key:"getIndexType",value:function(e,t){var i=this,a=2;return ut.forEach(this.Qe(t),function(o){return i.je(e,o).next(function(u){u?0!==a&&u.fields.length<function(d){var k,h=new Li(su.comparator),v=!1,b=(0,G.Z)(d.filters);try{for(b.s();!(k=b.n()).done;){var O=k.value;O.field.isKeyField()||("array-contains"===O.op||"array-contains-any"===O.op?v=!0:h=h.add(O.field))}}catch(fe){b.e(fe)}finally{b.f()}var J,q=(0,G.Z)(d.orderBy);try{for(q.s();!(J=q.n()).done;){var ue=J.value;ue.field.isKeyField()||(h=h.add(ue.field))}}catch(fe){q.e(fe)}finally{q.f()}return h.size+(v?1:0)}(o)&&(a=1):a=0})}).next(function(){return a})}},{key:"Ze",value:function(e,t){var o,i=new Gk,a=(0,G.Z)(Sv(e));try{for(a.s();!(o=a.n()).done;){var u=o.value,d=t.data.field(u.fieldPath);if(null==d)return null;var h=i.Ne(u.kind);Nv.fe.Zt(d,h)}}catch(v){a.e(v)}finally{a.f()}return i.Se()}},{key:"Je",value:function(e){var t=new Gk;return Nv.fe.Zt(e,t.Ne(0)),t.Se()}},{key:"tn",value:function(e,t){var o,i=new Gk;return Nv.fe.Zt(Mv(this.databaseId,t),i.Ne(0===(o=Sv(e)).length?0:o[o.length-1].kind)),i.Se()}},{key:"ze",value:function(e,t,i){if(null===i)return[];var a=[];a.push(new Gk);var d,o=0,u=(0,G.Z)(Sv(e));try{for(u.s();!(d=u.n()).done;){var k,h=d.value,v=i[o++],b=(0,G.Z)(a);try{for(b.s();!(k=b.n()).done;){var I=k.value;if(this.en(t,h.fieldPath)&&Ak(v))a=this.nn(a,h,v);else{var O=I.Ne(h.kind);Nv.fe.Zt(v,O)}}}catch(q){b.e(q)}finally{b.f()}}}catch(q){u.e(q)}finally{u.f()}return this.sn(a)}},{key:"We",value:function(e,t,i){return this.ze(e,t,i.position)}},{key:"sn",value:function(e){for(var t=[],i=0;i<e.length;++i)t[i]=e[i].Se();return t}},{key:"nn",value:function(e,t,i){var d,a=(0,Zt.Z)(e),o=[],u=(0,G.Z)(i.arrayValue.values||[]);try{for(u.s();!(d=u.n()).done;){var b,h=d.value,v=(0,G.Z)(a);try{for(v.s();!(b=v.n()).done;){var k=b.value,I=new Gk;I.seed(k.Se()),Nv.fe.Zt(h,I.Ne(t.kind)),o.push(I)}}catch(O){v.e(O)}finally{v.f()}}}catch(O){u.e(O)}finally{u.f()}return o}},{key:"en",value:function(e,t){return!!e.filters.find(function(i){return i instanceof is&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op)})}},{key:"getFieldIndexes",value:function(e,t){var i=this,a=fS(e),o=hS(e);return(t?a.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):a.qt()).next(function(u){var d=[];return ut.forEach(u,function(h){return o.get([h.indexId,i.uid]).next(function(v){var b,k,I,O;d.push((b=h,I=(k=v)?new NP(k.sequenceNumber,new mh(xv(k.readTime),new Ht(Oc(k.documentKey)),k.largestBatchId)):NP.empty(),O=b.fields.map(function(q){var J=(0,Z.Z)(q,2),fe=J[1];return new XM(su.fromServerFormat(J[0]),fe)}),new JM(b.indexId,b.collectionGroup,O,I)))})}).next(function(){return d})})}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next(function(t){return 0===t.length?null:(t.sort(function(i,a){var o=i.indexState.sequenceNumber-a.indexState.sequenceNumber;return 0!==o?o:Ln(i.collectionGroup,a.collectionGroup)}),t[0].collectionGroup)})}},{key:"updateCollectionGroup",value:function(e,t,i){var a=this,o=fS(e),u=hS(e);return this.rn(e).next(function(d){return o.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(function(h){return ut.forEach(h,function(v){return u.put({indexId:v.indexId,uid:a.user.uid||"",sequenceNumber:d,readTime:Fv((O=i).readTime),documentKey:as(O.documentKey.path),largestBatchId:O.largestBatchId});var O})})})}},{key:"updateIndexEntries",value:function(e,t){var i=this,a=new Map;return ut.forEach(t,function(o,u){var d=a.get(o.collectionGroup);return(d?ut.resolve(d):i.getFieldIndexes(e,o.collectionGroup)).next(function(h){return a.set(o.collectionGroup,h),ut.forEach(h,function(v){return i.on(e,o,v).next(function(b){var k=i.un(u,v);return b.isEqual(k)?ut.resolve():i.an(e,u,v,b,k)})})})})}},{key:"cn",value:function(e,t,i,a){return Yk(e).put({indexId:a.indexId,uid:this.uid,arrayValue:a.arrayValue,directionalValue:a.directionalValue,orderedDocumentKey:this.tn(i,t.key),documentKey:t.key.path.toArray()})}},{key:"hn",value:function(e,t,i,a){return Yk(e).delete([a.indexId,this.uid,a.arrayValue,a.directionalValue,this.tn(i,t.key),t.key.path.toArray()])}},{key:"on",value:function(e,t,i){var a=Yk(e),o=new Li(Zv);return a.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.tn(i,t)])},function(u,d){o=o.add(new zk(i.indexId,t,d.arrayValue,d.directionalValue))}).next(function(){return o})}},{key:"un",value:function(e,t){var i=new Li(Zv),a=this.Ze(t,e);if(null==a)return i;var o=xP(t);if(null!=o){var u=e.data.field(o.fieldPath);if(Ak(u)){var h,d=(0,G.Z)(u.arrayValue.values||[]);try{for(d.s();!(h=d.n()).done;)i=i.add(new zk(t.indexId,e.key,this.Je(h.value),a))}catch(b){d.e(b)}finally{d.f()}}}else i=i.add(new zk(t.indexId,e.key,dS,a));return i}},{key:"an",value:function(e,t,i,a,o){var u=this;At("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var d=[];return function(h,v,b,k,I){for(var O=h.getIterator(),q=v.getIterator(),J=p_(O),ue=p_(q);J||ue;){var fe=!1,Oe=!1;if(J&&ue){var Ze=b(J,ue);Ze<0?Oe=!0:Ze>0&&(fe=!0)}else null!=J?Oe=!0:fe=!0;fe?(k(ue),ue=p_(q)):Oe?(I(J),J=p_(O)):(J=p_(O),ue=p_(q))}}(a,o,Zv,function(h){d.push(u.cn(e,t,i,h))},function(h){d.push(u.hn(e,t,i,h))}),ut.waitFor(d)}},{key:"rn",value:function(e){var t=1;return hS(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},function(i,a,o){o.done(),t=a.sequenceNumber+1}).next(function(){return t})}},{key:"createRange",value:function(e,t,i){i=i.sort(function(I,O){return Zv(I,O)}).filter(function(I,O,q){return!O||0!==Zv(I,q[O-1])});var a=[];a.push(e);var u,o=(0,G.Z)(i);try{for(o.s();!(u=o.n()).done;){var d=u.value,h=Zv(d,e),v=Zv(d,t);if(0===h)a[0]=e.ke();else if(h>0&&v<0)a.push(d),a.push(d.ke());else if(v>0)break}}catch(I){o.e(I)}finally{o.f()}a.push(t);for(var b=[],k=0;k<a.length;k+=2)b.push(IDBKeyRange.bound([a[k].indexId,this.uid,a[k].arrayValue,a[k].directionalValue,dS,[]],[a[k+1].indexId,this.uid,a[k+1].arrayValue,a[k+1].directionalValue,dS,[]]));return b}},{key:"getMinOffset",value:function(e,t){var a,i=this;return ut.forEach(this.Qe(t),function(o){return i.je(e,o).next(function(u){u?(!a||EH(u.indexState.offset,a)<0)&&(a=u.indexState.offset):a=mh.min()})}).next(function(){return a})}}]),n}();function Oj(n){return eo(n,"collectionParents")}function Yk(n){return eo(n,"indexEntries")}function fS(n){return eo(n,"indexConfiguration")}function hS(n){return eo(n,"indexState")}var Pj={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Pc=function(){function n(r,e,t){(0,m.Z)(this,n),this.cacheSizeCollectionThreshold=r,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=t}return(0,_.Z)(n,null,[{key:"withCacheSize",value:function(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),n}();function Fj(n,r,e){var t=n.store("mutations"),i=n.store("documentMutations"),a=[],o=IDBKeyRange.only(e.batchId),u=0,d=t.Wt({range:o},function(O,q,J){return u++,J.delete()});a.push(d.next(function(){kn(1===u)}));var b,h=[],v=(0,G.Z)(e.mutations);try{for(v.s();!(b=v.n()).done;){var k=b.value,I=gj(r,k.key.path,e.batchId);a.push(i.delete(I)),h.push(k.key)}}catch(O){v.e(O)}finally{v.f()}return ut.waitFor(a).next(function(){return h})}function pS(n){if(!n)return 0;var r;if(n.document)r=n.document;else if(n.unknownDocument)r=n.unknownDocument;else{if(!n.noDocument)throw Jt();r=n.noDocument}return JSON.stringify(r).length}Pc.DEFAULT_COLLECTION_PERCENTILE=10,Pc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pc.DEFAULT=new Pc(41943040,Pc.DEFAULT_COLLECTION_PERCENTILE,Pc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pc.DISABLED=new Pc(-1,0,0);var Pne=function(){function n(r,e,t,i){(0,m.Z)(this,n),this.userId=r,this.M=e,this.indexManager=t,this.referenceDelegate=i,this.ln={}}return(0,_.Z)(n,[{key:"checkEmpty",value:function(e){var t=!0,i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return kh(e).Wt({index:"userMutationsIndex",range:i},function(a,o,u){t=!1,u.done()}).next(function(){return t})}},{key:"addMutationBatch",value:function(e,t,i,a){var o=this,u=E_(e),d=kh(e);return d.add({}).next(function(h){kn("number"==typeof h);var q,fe,Oe,Ze,je,lt,v=new QP(h,t,i,a),b=(fe=o.M,Oe=o.userId,je=(Ze=v).baseMutations.map(function(ct){return Vk(fe.Jt,ct)}),lt=Ze.mutations.map(function(ct){return Vk(fe.Jt,ct)}),{userId:Oe,batchId:Ze.batchId,localWriteTimeMs:Ze.localWriteTime.toMillis(),baseMutations:je,mutations:lt}),k=[],I=new Li(function(fe,Oe){return Ln(fe.canonicalString(),Oe.canonicalString())}),O=(0,G.Z)(a);try{for(O.s();!(q=O.n()).done;){var J=q.value,ue=gj(o.userId,J.key.path,h);I=I.add(J.key.path.popLast()),k.push(d.put(b)),k.push(u.put(ue,rne))}}catch(fe){O.e(fe)}finally{O.f()}return I.forEach(function(fe){k.push(o.indexManager.addToCollectionParentIndex(e,fe))}),e.addOnCommittedListener(function(){o.ln[h]=v.keys()}),ut.waitFor(k).next(function(){return v})})}},{key:"lookupMutationBatch",value:function(e,t){var i=this;return kh(e).get(t).next(function(a){return a?(kn(a.userId===i.userId),C_(i.M,a)):null})}},{key:"fn",value:function(e,t){var i=this;return this.ln[t]?ut.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(function(a){if(a){var o=a.keys();return i.ln[t]=o,o}return null})}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var i=this,a=t+1,o=IDBKeyRange.lowerBound([this.userId,a]),u=null;return kh(e).Wt({index:"userMutationsIndex",range:o},function(d,h,v){h.userId===i.userId&&(kn(h.batchId>=a),u=C_(i.M,h)),v.done()}).next(function(){return u})}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),i=-1;return kh(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},function(a,o,u){i=o.batchId,u.done()}).next(function(){return i})}},{key:"getAllMutationBatches",value:function(e){var t=this,i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return kh(e).qt("userMutationsIndex",i).next(function(a){return a.map(function(o){return C_(t.M,o)})})}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var i=this,a=uS(this.userId,t.path),o=IDBKeyRange.lowerBound(a),u=[];return E_(e).Wt({range:o},function(d,h,v){var b=(0,Z.Z)(d,3),k=b[0],O=b[2],q=Oc(b[1]);if(k===i.userId&&t.path.isEqual(q))return kh(e).get(O).next(function(J){if(!J)throw Jt();kn(J.userId===i.userId),u.push(C_(i.M,J))});v.done()}).next(function(){return u})}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var i=this,a=new Li(Ln),o=[];return t.forEach(function(u){var d=uS(i.userId,u.path),h=IDBKeyRange.lowerBound(d),v=E_(e).Wt({range:h},function(b,k,I){var O=(0,Z.Z)(b,3),q=O[0],ue=O[2],fe=Oc(O[1]);q===i.userId&&u.path.isEqual(fe)?a=a.add(ue):I.done()});o.push(v)}),ut.waitFor(o).next(function(){return i.dn(e,a)})}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var i=this,a=t.path,o=a.length+1,u=uS(this.userId,a),d=IDBKeyRange.lowerBound(u),h=new Li(Ln);return E_(e).Wt({range:d},function(v,b,k){var I=(0,Z.Z)(v,3),O=I[0],J=I[2],ue=Oc(I[1]);O===i.userId&&a.isPrefixOf(ue)?ue.length===o&&(h=h.add(J)):k.done()}).next(function(){return i.dn(e,h)})}},{key:"dn",value:function(e,t){var i=this,a=[],o=[];return t.forEach(function(u){o.push(kh(e).get(u).next(function(d){if(null===d)throw Jt();kn(d.userId===i.userId),a.push(C_(i.M,d))}))}),ut.waitFor(o).next(function(){return a})}},{key:"removeMutationBatch",value:function(e,t){var i=this;return Fj(e.Ht,this.userId,t).next(function(a){return e.addOnCommittedListener(function(){i._n(t.batchId)}),ut.forEach(a,function(o){return i.referenceDelegate.markPotentiallyOrphaned(e,o)})})}},{key:"_n",value:function(e){delete this.ln[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next(function(i){if(!i)return ut.resolve();var a=IDBKeyRange.lowerBound([t.userId]),o=[];return E_(e).Wt({range:a},function(u,d,h){if(u[0]===t.userId){var v=Oc(u[1]);o.push(v)}else h.done()}).next(function(){kn(0===o.length)})})}},{key:"containsKey",value:function(e,t){return xj(e,this.userId,t)}},{key:"wn",value:function(e){var t=this;return Nj(e).get(this.userId).next(function(i){return i||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}})}}],[{key:"Yt",value:function(e,t,i,a){return kn(""!==e.uid),new n(e.isAuthenticated()?e.uid:"",t,i,a)}}]),n}();function xj(n,r,e){var t=uS(r,e.path),i=t[1],a=IDBKeyRange.lowerBound(t),o=!1;return E_(n).Wt({range:a,jt:!0},function(u,d,h){var v=(0,Z.Z)(u,3);v[0]===r&&v[1]===i&&(o=!0),h.done()}).next(function(){return o})}function kh(n){return eo(n,"mutations")}function E_(n){return eo(n,"documentMutations")}function Nj(n){return eo(n,"mutationQueues")}var vS=function(){function n(r){(0,m.Z)(this,n),this.mn=r}return(0,_.Z)(n,[{key:"next",value:function(){return this.mn+=2,this.mn}}],[{key:"gn",value:function(){return new n(0)}},{key:"yn",value:function(){return new n(-1)}}]),n}(),Fne=function(){function n(r,e){(0,m.Z)(this,n),this.referenceDelegate=r,this.M=e}return(0,_.Z)(n,[{key:"allocateTargetId",value:function(e){var t=this;return this.pn(e).next(function(i){var a=new vS(i.highestTargetId);return i.highestTargetId=a.next(),t.In(e,i).next(function(){return i.highestTargetId})})}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.pn(e).next(function(t){return Mn.fromTimestamp(new Eo(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})}},{key:"getHighestSequenceNumber",value:function(e){return this.pn(e).next(function(t){return t.highestListenSequenceNumber})}},{key:"setTargetsMetadata",value:function(e,t,i){var a=this;return this.pn(e).next(function(o){return o.highestListenSequenceNumber=t,i&&(o.lastRemoteSnapshotVersion=i.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),a.In(e,o)})}},{key:"addTargetData",value:function(e,t){var i=this;return this.Tn(e,t).next(function(){return i.pn(e).next(function(a){return a.targetCount+=1,i.En(t,a),i.In(e,a)})})}},{key:"updateTargetData",value:function(e,t){return this.Tn(e,t)}},{key:"removeTargetData",value:function(e,t){var i=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next(function(){return D_(e).delete(t.targetId)}).next(function(){return i.pn(e)}).next(function(a){return kn(a.targetCount>0),a.targetCount-=1,i.In(e,a)})}},{key:"removeTargets",value:function(e,t,i){var a=this,o=0,u=[];return D_(e).Wt(function(d,h){var v=Hk(h);v.sequenceNumber<=t&&null===i.get(v.targetId)&&(o++,u.push(a.removeTargetData(e,v)))}).next(function(){return ut.waitFor(u)}).next(function(){return o})}},{key:"forEachTarget",value:function(e,t){return D_(e).Wt(function(i,a){var o=Hk(a);t(o)})}},{key:"pn",value:function(e){return Zj(e).get("targetGlobalKey").next(function(t){return kn(null!==t),t})}},{key:"In",value:function(e,t){return Zj(e).put("targetGlobalKey",t)}},{key:"Tn",value:function(e,t){return D_(e).put(Mj(this.M,t))}},{key:"En",value:function(e,t){var i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}},{key:"getTargetCount",value:function(e){return this.pn(e).next(function(t){return t.targetCount})}},{key:"getTargetData",value:function(e,t){var i=Tv(t),a=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]),o=null;return D_(e).Wt({range:a,index:"queryTargetsIndex"},function(u,d,h){var v=Hk(d);Rk(t,v.target)&&(o=v,h.done())}).next(function(){return o})}},{key:"addMatchingKeys",value:function(e,t,i){var a=this,o=[],u=wh(e);return t.forEach(function(d){var h=as(d.path);o.push(u.put({targetId:i,path:h})),o.push(a.referenceDelegate.addReference(e,i,d))}),ut.waitFor(o)}},{key:"removeMatchingKeys",value:function(e,t,i){var a=this,o=wh(e);return ut.forEach(t,function(u){var d=as(u.path);return ut.waitFor([o.delete([i,d]),a.referenceDelegate.removeReference(e,i,u)])})}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var i=wh(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(a)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var i=IDBKeyRange.bound([t],[t+1],!1,!0),a=wh(e),o=Tr();return a.Wt({range:i,jt:!0},function(u,d,h){var v=Oc(u[1]),b=new Ht(v);o=o.add(b)}).next(function(){return o})}},{key:"containsKey",value:function(e,t){var i=as(t.path),a=IDBKeyRange.bound([i],[cH(i)],!1,!0),o=0;return wh(e).Wt({index:"documentTargetsIndex",jt:!0,range:a},function(u,d,h){0!==(0,Z.Z)(u,2)[0]&&(o++,h.done())}).next(function(){return o>0})}},{key:"Et",value:function(e,t){return D_(e).get(t).next(function(i){return i?Hk(i):null})}}]),n}();function D_(n){return eo(n,"targets")}function Zj(n){return eo(n,"targetGlobal")}function wh(n){return eo(n,"targetDocuments")}function Lv(n){return nF.apply(this,arguments)}function nF(){return nF=(0,st.Z)(me().mark(function n(r){return me().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r.code===rt.FAILED_PRECONDITION&&r.message===yj){t.next=2;break}throw r;case 2:At("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return t.stop()}},n)})),nF.apply(this,arguments)}function Lj(n,r){var e=(0,Z.Z)(n,2),t=e[0],i=e[1],a=(0,Z.Z)(r,2),u=a[1],d=Ln(t,a[0]);return 0===d?Ln(i,u):d}var xne=function(){function n(r){(0,m.Z)(this,n),this.An=r,this.buffer=new Li(Lj),this.Rn=0}return(0,_.Z)(n,[{key:"bn",value:function(){return++this.Rn}},{key:"Pn",value:function(e){var t=[e,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{var i=this.buffer.last();Lj(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),n}(),Nne=function(){function n(r,e){(0,m.Z)(this,n),this.garbageCollector=r,this.asyncQueue=e,this.Vn=!1,this.vn=null}return(0,_.Z)(n,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}},{key:"stop",value:function(){this.vn&&(this.vn.cancel(),this.vn=null)}},{key:"started",get:function(){return null!==this.vn}},{key:"Sn",value:function(e){var t=this,i=this.Vn?3e5:6e4;At("LruGarbageCollector","Garbage collection scheduled in ".concat(i,"ms")),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,(0,st.Z)(me().mark(function a(){return me().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return t.vn=null,t.Vn=!0,u.prev=1,u.next=4,e.collectGarbage(t.garbageCollector);case 4:u.next=14;break;case 6:if(u.prev=6,u.t0=u.catch(1),!Ov(u.t0)){u.next=12;break}At("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",u.t0),u.next=14;break;case 12:return u.next=14,Lv(u.t0);case 14:return u.next=16,t.Sn(e);case 16:case"end":return u.stop()}},a,null,[[1,6]])})))}}]),n}(),Zne=function(){function n(r,e){(0,m.Z)(this,n),this.Dn=r,this.params=e}return(0,_.Z)(n,[{key:"calculateTargetCount",value:function(e,t){return this.Dn.Cn(e).next(function(i){return Math.floor(t/100*i)})}},{key:"nthSequenceNumber",value:function(e,t){var i=this;if(0===t)return ut.resolve(ou.A);var a=new xne(t);return this.Dn.forEachTarget(e,function(o){return a.Pn(o.sequenceNumber)}).next(function(){return i.Dn.xn(e,function(o){return a.Pn(o)})}).next(function(){return a.maxValue})}},{key:"removeTargets",value:function(e,t,i){return this.Dn.removeTargets(e,t,i)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Dn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var i=this;return-1===this.params.cacheSizeCollectionThreshold?(At("LruGarbageCollector","Garbage collection skipped; disabled"),ut.resolve(Pj)):this.getCacheSize(e).next(function(a){return a<i.params.cacheSizeCollectionThreshold?(At("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(a," is lower than threshold ").concat(i.params.cacheSizeCollectionThreshold)),Pj):i.Nn(e,t)})}},{key:"getCacheSize",value:function(e){return this.Dn.getCacheSize(e)}},{key:"Nn",value:function(e,t){var a,o,u,d,h,v,b,i=this,k=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(I){return I>i.params.maximumSequenceNumbersToCollect?(At("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(i.params.maximumSequenceNumbersToCollect," from ").concat(I)),o=i.params.maximumSequenceNumbersToCollect):o=I,d=Date.now(),i.nthSequenceNumber(e,o)}).next(function(I){return a=I,h=Date.now(),i.removeTargets(e,a,t)}).next(function(I){return u=I,v=Date.now(),i.removeOrphanedDocuments(e,a)}).next(function(I){return b=Date.now(),IP()<=Nl.in.DEBUG&&At("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(d-k,"ms\n\tDetermined least recently used ").concat(o," in ")+(h-d)+"ms\n"+"\tRemoved ".concat(u," targets in ")+(v-h)+"ms\n"+"\tRemoved ".concat(I," documents in ")+(b-v)+"ms\n"+"Total Duration: ".concat(b-k,"ms")),ut.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:I})})}}]),n}(),Lne=function(){function n(r,e){(0,m.Z)(this,n),this.db=r,this.garbageCollector=new Zne(this,e)}return(0,_.Z)(n,[{key:"Cn",value:function(e){var t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(function(i){return t.next(function(a){return i+a})})}},{key:"kn",value:function(e){var t=0;return this.xn(e,function(i){t++}).next(function(){return t})}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"xn",value:function(e,t){return this.Mn(e,function(i,a){return t(a)})}},{key:"addReference",value:function(e,t,i){return gS(e,i)}},{key:"removeReference",value:function(e,t,i){return gS(e,i)}},{key:"removeTargets",value:function(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}},{key:"markPotentiallyOrphaned",value:function(e,t){return gS(e,t)}},{key:"On",value:function(e,t){return a=t,o=!1,Nj(i=e).zt(function(u){return xj(i,u,a).next(function(d){return d&&(o=!0),ut.resolve(!d)})}).next(function(){return o});var i,a,o}},{key:"removeOrphanedDocuments",value:function(e,t){var i=this,a=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[],u=0;return this.Mn(e,function(d,h){if(h<=t){var v=i.On(e,d).next(function(b){if(!b)return u++,a.getEntry(e,d).next(function(){return a.removeEntry(d,Mn.min()),wh(e).delete([0,as(d.path)])})});o.push(v)}}).next(function(){return ut.waitFor(o)}).next(function(){return a.apply(e)}).next(function(){return u})}},{key:"removeTarget",value:function(e,t){var i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}},{key:"updateLimboDocument",value:function(e,t){return gS(e,t)}},{key:"Mn",value:function(e,t){var a,i=wh(e),o=ou.A;return i.Wt({index:"documentTargetsIndex"},function(u,d){var h=(0,Z.Z)(u,2),k=d.path,I=d.sequenceNumber;0===h[0]?(o!==ou.A&&t(new Ht(Oc(a)),o),o=I,a=k):o=ou.A}).next(function(){o!==ou.A&&t(new Ht(Oc(a)),o)})}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),n}();function gS(n,r){return wh(n).put((t=n.currentSequenceNumber,{targetId:0,path:as(r.path),sequenceNumber:t}));var t}var Bj=function(){function n(){(0,m.Z)(this,n),this.changes=new bh(function(r){return r.toString()},function(r,e){return r.isEqual(e)}),this.changesApplied=!1}return(0,_.Z)(n,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Qa.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var i=this.changes.get(t);return void 0!==i?ut.resolve(i):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),n}(),Bne=function(){function n(r){(0,m.Z)(this,n),this.M=r}return(0,_.Z)(n,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,i){return Bv(e).put(i)}},{key:"removeEntry",value:function(e,t,i){return Bv(e).delete((o=i,[(u=t.path.toArray()).slice(0,u.length-2),u[u.length-2],cS(o),u[u.length-1]]));var o,u}},{key:"updateMetadata",value:function(e,t){var i=this;return this.getMetadata(e).next(function(a){return a.byteSize+=t,i.Fn(e,a)})}},{key:"getEntry",value:function(e,t){var i=this,a=Qa.newInvalidDocument(t);return Bv(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Wk(t))},function(o,u){a=i.$n(t,u)}).next(function(){return a})}},{key:"Bn",value:function(e,t){var i=this,a={size:0,document:Qa.newInvalidDocument(t)};return Bv(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Wk(t))},function(o,u){a={document:i.$n(t,u),size:pS(u)}}).next(function(){return a})}},{key:"getEntries",value:function(e,t){var i=this,a=Bu();return this.Ln(e,t,function(o,u){var d=i.$n(o,u);a=a.insert(o,d)}).next(function(){return a})}},{key:"Un",value:function(e,t){var i=this,a=Bu(),o=new Ja(Ht.comparator);return this.Ln(e,t,function(u,d){var h=i.$n(u,d);a=a.insert(u,h),o=o.insert(u,pS(d))}).next(function(){return{documents:a,qn:o}})}},{key:"Ln",value:function(e,t,i){if(t.isEmpty())return ut.resolve();var a=new Li(Hj);t.forEach(function(h){return a=a.add(h)});var o=IDBKeyRange.bound(Wk(a.first()),Wk(a.last())),u=a.getIterator(),d=u.getNext();return Bv(e).Wt({index:"documentKeyIndex",range:o},function(h,v,b){for(var k=Ht.fromSegments([].concat((0,Zt.Z)(v.prefixPath),[v.collectionGroup,v.documentId]));d&&Hj(d,k)<0;)i(d,null),d=u.getNext();d&&d.isEqual(k)&&(i(d,v),d=u.hasNext()?u.getNext():null),d?b.Ut(Wk(d)):b.done()}).next(function(){for(;d;)i(d,null),d=u.hasNext()?u.getNext():null})}},{key:"getAllFromCollection",value:function(e,t,i){var a=this,o=[t.popLast().toArray(),t.lastSegment(),cS(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],u=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Bv(e).qt(IDBKeyRange.bound(o,u,!0)).next(function(d){var b,h=Bu(),v=(0,G.Z)(d);try{for(v.s();!(b=v.n()).done;){var k=b.value,I=a.$n(Ht.fromSegments(k.prefixPath.concat(k.collectionGroup,k.documentId)),k);h=h.insert(I.key,I)}}catch(O){v.e(O)}finally{v.f()}return h})}},{key:"getAllFromCollectionGroup",value:function(e,t,i,a){var o=this,u=Bu(),d=Uj(t,i),h=Uj(t,mh.max());return Bv(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,h,!0)},function(v,b,k){var I=o.$n(Ht.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);(u=u.insert(I.key,I)).size===a&&k.done()}).next(function(){return u})}},{key:"newChangeBuffer",value:function(e){return new Vne(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next(function(t){return t.byteSize})}},{key:"getMetadata",value:function(e){return Vj(e).get("remoteDocumentGlobalKey").next(function(t){return kn(!!t),t})}},{key:"Fn",value:function(e,t){return Vj(e).put("remoteDocumentGlobalKey",t)}},{key:"$n",value:function(e,t){if(t){var i=function Cne(n,r){var e,u,d;if(r.document)e=uj(n.Jt,r.document,!!r.hasCommittedMutations);else if(r.noDocument){var t=Ht.fromSegments(r.noDocument.path),i=xv(r.noDocument.readTime);e=Qa.newNoDocument(t,i),r.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!r.unknownDocument)return Jt();var a=Ht.fromSegments(r.unknownDocument.path),o=xv(r.unknownDocument.version);e=Qa.newUnknownDocument(a,o)}return r.readTime&&e.setReadTime((d=new Eo((u=r.readTime)[0],u[1]),Mn.fromTimestamp(d))),e}(this.M,t);if(!i.isNoDocument()||!i.version.isEqual(Mn.min()))return i}return Qa.newInvalidDocument(e)}}]),n}(),Vne=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i){var a;return(0,m.Z)(this,e),(a=r.call(this)).Kn=t,a.trackRemovals=i,a.Gn=new bh(function(o){return o.toString()},function(o,u){return o.isEqual(u)}),a}return(0,_.Z)(e,[{key:"applyChanges",value:function(i){var a=this,o=[],u=0,d=new Li(function(h,v){return Ln(h.canonicalString(),v.canonicalString())});return this.changes.forEach(function(h,v){var b=a.Gn.get(h);if(o.push(a.Kn.removeEntry(i,h,b.readTime)),v.isValidDocument()){var k=Dj(a.Kn.M,v);d=d.add(h.path.popLast());var I=pS(k);u+=I-b.size,o.push(a.Kn.addEntry(i,h,k))}else if(u-=b.size,a.trackRemovals){var O=Dj(a.Kn.M,v.convertToNoDocument(Mn.min()));o.push(a.Kn.addEntry(i,h,O))}}),d.forEach(function(h){o.push(a.Kn.indexManager.addToCollectionParentIndex(i,h))}),o.push(this.Kn.updateMetadata(i,u)),ut.waitFor(o)}},{key:"getFromCache",value:function(i,a){var o=this;return this.Kn.Bn(i,a).next(function(u){return o.Gn.set(a,{size:u.size,readTime:u.document.readTime}),u.document})}},{key:"getAllFromCache",value:function(i,a){var o=this;return this.Kn.Un(i,a).next(function(u){var d=u.documents;return u.qn.forEach(function(v,b){o.Gn.set(v,{size:b,readTime:d.get(v).readTime})}),d})}}]),e}(Bj);function Vj(n){return eo(n,"remoteDocumentGlobal")}function Bv(n){return eo(n,"remoteDocumentsV14")}function Wk(n){var r=n.path.toArray();return[r.slice(0,r.length-2),r[r.length-2],r[r.length-1]]}function Uj(n,r){var e=r.documentKey.path.toArray();return[n,cS(r.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function Hj(n,r){for(var e=n.path.toArray(),t=r.path.toArray(),i=0,a=0;a<e.length-2&&a<t.length-2;++a)if(i=Ln(e[a],t[a]))return i;return(i=Ln(e.length,t.length))||(i=Ln(e[e.length-2],t[t.length-2]))||Ln(e[e.length-1],t[t.length-1])}var Une=function(){function n(r){(0,m.Z)(this,n),this.M=r}return(0,_.Z)(n,[{key:"kt",value:function(e,t,i,a){var h,o=this,u=new kj("createOrUpgrade",t);i<1&&a>=1&&(e.createObjectStore("owner"),(h=e).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",vj,{unique:!0}),h.createObjectStore("documentMutations"),jj(e),function(h){h.createObjectStore("remoteDocuments")}(e));var d=ut.resolve();return i<3&&a>=3&&(0!==i&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(e),jj(e)),d=d.next(function(){return function(h){var v=h.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Mn.min().toTimestamp(),targetCount:0};return v.put("targetGlobalKey",b)}(u)})),i<4&&a>=4&&(0!==i&&(d=d.next(function(){return function(h,v){return v.store("mutations").qt().next(function(b){h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",vj,{unique:!0});var k=v.store("mutations"),I=b.map(function(O){return k.put(O)});return ut.waitFor(I)})}(e,u)})),d=d.next(function(){!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&a>=5&&(d=d.next(function(){return o.Qn(u)})),i<6&&a>=6&&(d=d.next(function(){return function(h){h.createObjectStore("remoteDocumentGlobal")}(e),o.jn(u)})),i<7&&a>=7&&(d=d.next(function(){return o.Wn(u)})),i<8&&a>=8&&(d=d.next(function(){return o.zn(e,u)})),i<9&&a>=9&&(d=d.next(function(){!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&a>=10&&(d=d.next(function(){return o.Hn(u)})),i<11&&a>=11&&(d=d.next(function(){(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&a>=12&&(d=d.next(function(){!function(h){var v=h.createObjectStore("documentOverlays",{keyPath:vne});v.createIndex("collectionPathOverlayIndex",gne,{unique:!1}),v.createIndex("collectionGroupOverlayIndex",mne,{unique:!1})}(e)})),i<13&&a>=13&&(d=d.next(function(){return function(h){var v=h.createObjectStore("remoteDocumentsV14",{keyPath:ine});v.createIndex("documentKeyIndex",ane),v.createIndex("collectionGroupIndex",one)}(e)}).next(function(){return o.Jn(e,u)}).next(function(){return e.deleteObjectStore("remoteDocuments")})),i<14&&a>=14&&(d=d.next(function(){!function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:dne}).createIndex("sequenceNumberIndex",fne,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:hne}).createIndex("documentKeyIndex",pne,{unique:!1})}(e)})),d}},{key:"jn",value:function(e){var t=0;return e.store("remoteDocuments").Wt(function(i,a){t+=pS(a)}).next(function(){var i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}},{key:"Qn",value:function(e){var t=this,i=e.store("mutationQueues"),a=e.store("mutations");return i.qt().next(function(o){return ut.forEach(o,function(u){var d=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return a.qt("userMutationsIndex",d).next(function(h){return ut.forEach(h,function(v){kn(v.userId===u.userId);var b=C_(t.M,v);return Fj(e,u.userId,b).next(function(){})})})})})}},{key:"Wn",value:function(e){var t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(function(a){var o=[];return i.Wt(function(u,d){var h=new lr(u),v=[0,as(h)];o.push(t.get(v).next(function(b){return b?ut.resolve():t.put({targetId:0,path:as(h),sequenceNumber:a.highestListenSequenceNumber})}))}).next(function(){return ut.waitFor(o)})})}},{key:"zn",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:cne});var i=t.store("collectionParents"),a=new tF,o=function(d){if(a.add(d)){var h=d.lastSegment(),v=d.popLast();return i.put({collectionId:h,parent:as(v)})}};return t.store("remoteDocuments").Wt({jt:!0},function(u,d){var h=new lr(u);return o(h.popLast())}).next(function(){return t.store("documentMutations").Wt({jt:!0},function(u,d){var I=Oc((0,Z.Z)(u,3)[1]);return o(I.popLast())})})}},{key:"Hn",value:function(e){var t=this,i=e.store("targets");return i.Wt(function(a,o){var u=Hk(o),d=Mj(t.M,u);return i.put(d)})}},{key:"Jn",value:function(e,t){var i=t.store("remoteDocuments"),a=[];return i.Wt(function(o,u){var v,d=t.store("remoteDocumentsV14"),h=(v=u,v.document?new Ht(lr.fromString(v.document.name).popFirst(5)):v.noDocument?Ht.fromSegments(v.noDocument.path):v.unknownDocument?Ht.fromSegments(v.unknownDocument.path):Jt()).path.toArray(),b={prefixPath:h.slice(0,h.length-2),collectionGroup:h[h.length-2],documentId:h[h.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};a.push(d.put(b))}).next(function(){return ut.waitFor(a)})}}]),n}();function jj(n){n.createObjectStore("targetDocuments",{keyPath:une}).createIndex("documentTargetsIndex",lne,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",sne,{unique:!0}),n.createObjectStore("targetGlobal")}var rF="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Hne=function(){function n(r,e,t,i,a,o,u,d,h,v){var b=arguments.length>10&&void 0!==arguments[10]?arguments[10]:13;if((0,m.Z)(this,n),this.allowTabSynchronization=r,this.persistenceKey=e,this.clientId=t,this.Yn=a,this.window=o,this.document=u,this.Xn=h,this.Zn=v,this.ts=b,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=function(k){return Promise.resolve()},!n.vt())throw new wt(rt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Lne(this,i),this.hs=e+"main",this.M=new Ej(d),this.ls=new w_(this.hs,this.ts,new Une(this.M)),this.fs=new Fne(this.referenceDelegate,this.M),this.ds=new Bne(this.M),this._s=new Ene,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===v&&pa("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return(0,_.Z)(n,[{key:"start",value:function(){var e=this;return this.gs().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new wt(rt.FAILED_PRECONDITION,rF);return e.ys(),e.ps(),e.Is(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(t){return e.fs.getHighestSequenceNumber(t)})}).then(function(t){e.es=new ou(t,e.Xn)}).then(function(){e.ns=!0}).catch(function(t){return e.ls&&e.ls.close(),Promise.reject(t)})}},{key:"Ts",value:function(e){var t=this;return this.cs=function(){var i=(0,st.Z)(me().mark(function a(o){return me().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(!t.started){d.next=2;break}return d.abrupt("return",e(o));case 2:case"end":return d.stop()}},a)}));return function(a){return i.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ls.Ot(function(){var t=(0,st.Z)(me().mark(function i(a){return me().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(u.t0=null===a.newVersion,!u.t0){u.next=4;break}return u.next=4,e();case 4:case"end":return u.stop()}},i)}));return function(i){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,st.Z)(me().mark(function i(){return me().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(o.t0=t.started,!o.t0){o.next=4;break}return o.next=4,t.gs();case 4:case"end":return o.stop()}},i)}))))}},{key:"gs",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(t){return mS(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next(function(){if(e.isPrimary)return e.Es(t).next(function(i){i||(e.isPrimary=!1,e.Yn.enqueueRetryable(function(){return e.cs(!1)}))})}).next(function(){return e.As(t)}).next(function(i){return e.isPrimary&&!i?e.Rs(t).next(function(){return!1}):!!i&&e.bs(t).next(function(){return!0})})}).catch(function(t){if(Ov(t))return At("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return At("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(function(t){e.isPrimary!==t&&e.Yn.enqueueRetryable(function(){return e.cs(t)}),e.isPrimary=t})}},{key:"Es",value:function(e){var t=this;return qk(e).get("owner").next(function(i){return ut.resolve(t.Ps(i))})}},{key:"Vs",value:function(e){return mS(e).delete(this.clientId)}},{key:"vs",value:(r=(0,st.Z)(me().mark(function t(){var a,o,u,i=this;return me().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(!this.isPrimary||this.Ss(this.us,18e5)){v.next=6;break}return this.us=Date.now(),v.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(b){var k=eo(b,"clientMetadata");return k.qt().next(function(I){var O=i.Ds(I,18e5),q=I.filter(function(J){return-1===O.indexOf(J)});return ut.forEach(q,function(J){return k.delete(J.clientId)}).next(function(){return q})})}).catch(function(){return[]});case 4:if(a=v.sent,this.ws){o=(0,G.Z)(a);try{for(o.s();!(u=o.n()).done;)this.ws.removeItem(this.Cs(u.value.clientId))}catch(b){o.e(b)}finally{o.f()}}case 6:case"end":return v.stop()}},t,this)})),function e(){return r.apply(this,arguments)})},{key:"Is",value:function(){var e=this;this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return e.gs().then(function(){return e.vs()}).then(function(){return e.Is()})})}},{key:"Ps",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"As",value:function(e){var t=this;return this.Zn?ut.resolve(!0):qk(e).get("owner").next(function(i){if(null!==i&&t.Ss(i.leaseTimestampMs,5e3)&&!t.xs(i.ownerId)){if(t.Ps(i)&&t.networkEnabled)return!0;if(!t.Ps(i)){if(!i.allowTabSynchronization)throw new wt(rt.FAILED_PRECONDITION,rF);return!1}}return!(!t.networkEnabled||!t.inForeground)||mS(e).qt().next(function(a){return void 0===t.Ds(a,5e3).find(function(o){return!(t.clientId===o.clientId||!(!t.networkEnabled&&o.networkEnabled||!t.inForeground&&o.inForeground&&t.networkEnabled===o.networkEnabled))})})}).next(function(i){return t.isPrimary!==i&&At("IndexedDbPersistence","Client ".concat(i?"is":"is not"," eligible for a primary lease.")),i})}},{key:"shutdown",value:function(){var r=(0,st.Z)(me().mark(function t(){var i=this;return me().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return this.ns=!1,this.Ns(),this.os&&(this.os.cancel(),this.os=null),this.ks(),this.Ms(),o.next=7,this.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],function(u){var d=new Cj(u,ou.A);return i.Rs(d).next(function(){return i.Vs(d)})});case 7:this.ls.close(),this.Os();case 9:case"end":return o.stop()}},t,this)}));return function e(){return r.apply(this,arguments)}}()},{key:"Ds",value:function(e,t){var i=this;return e.filter(function(a){return i.Ss(a.updateTimeMs,t)&&!i.xs(a.clientId)})}},{key:"Fs",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(t){return mS(t).qt().next(function(i){return e.Ds(i,18e5).map(function(a){return a.clientId})})})}},{key:"started",get:function(){return this.ns}},{key:"getMutationQueue",value:function(e,t){return Pne.Yt(e,this.M,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getIndexManager",value:function(e){return new One(e,this.M.Jt.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Dne.Yt(this.M,e)}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,i){var a=this;At("IndexedDbPersistence","Starting transaction:",e);var d,h,o="readonly"===t?"readonly":"readwrite",u=14===(d=this.ts)?yne:13===d?_j:12===d?_ne:11===d?mj:void Jt();return this.ls.runTransaction(e,o,u,function(v){return h=new Cj(v,a.es?a.es.next():ou.A),"readwrite-primary"===t?a.Es(h).next(function(b){return!!b||a.As(h)}).next(function(b){if(!b)throw pa("Failed to obtain primary lease for action '".concat(e,"'.")),a.isPrimary=!1,a.Yn.enqueueRetryable(function(){return a.cs(!1)}),new wt(rt.FAILED_PRECONDITION,yj);return i(h)}).next(function(b){return a.bs(h).next(function(){return b})}):a.$s(h).next(function(){return i(h)})}).then(function(v){return h.raiseOnCommittedEvent(),v})}},{key:"$s",value:function(e){var t=this;return qk(e).get("owner").next(function(i){if(null!==i&&t.Ss(i.leaseTimestampMs,5e3)&&!t.xs(i.ownerId)&&!t.Ps(i)&&!(t.Zn||t.allowTabSynchronization&&i.allowTabSynchronization))throw new wt(rt.FAILED_PRECONDITION,rF)})}},{key:"bs",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return qk(e).put("owner",t)}},{key:"Rs",value:function(e){var t=this,i=qk(e);return i.get("owner").next(function(a){return t.Ps(a)?(At("IndexedDbPersistence","Releasing primary lease."),i.delete("owner")):ut.resolve()})}},{key:"Ss",value:function(e,t){var i=Date.now();return!(e<i-t||e>i&&(pa("Detected an update time that is in the future: ".concat(e," > ").concat(i)),1))}},{key:"ys",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=function(){e.Yn.enqueueAndForget(function(){return e.inForeground="visible"===e.document.visibilityState,e.gs()})},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}},{key:"ks",value:function(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}},{key:"ps",value:function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ss=function(){e.Ns(),(0,re.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&e.Yn.enterRestrictedMode(!0),e.Yn.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("pagehide",this.ss))}},{key:"Ms",value:function(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}},{key:"xs",value:function(e){var t;try{var i=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return At("IndexedDbPersistence","Client '".concat(e,"' ").concat(i?"is":"is not"," zombied in LocalStorage")),i}catch(a){return pa("IndexedDbPersistence","Failed to get zombied client id.",a),!1}}},{key:"Ns",value:function(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){pa("Failed to set zombie client id.",e)}}},{key:"Os",value:function(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}},{key:"Cs",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"vt",value:function(){return w_.vt()}}]),n;var r}();function qk(n){return eo(n,"owner")}function mS(n){return eo(n,"clientMetadata")}function iF(n,r){var e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+r+"/"+e+"/"}var jne=function(){function n(r,e,t){(0,m.Z)(this,n),this.ds=r,this.Bs=e,this.indexManager=t}return(0,_.Z)(n,[{key:"Ls",value:function(e,t){var i=this;return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(function(a){return i.Us(e,t,a)})}},{key:"Us",value:function(e,t,i){return this.ds.getEntry(e,t).next(function(a){var u,o=(0,G.Z)(i);try{for(o.s();!(u=o.n()).done;)u.value.applyToLocalView(a)}catch(h){o.e(h)}finally{o.f()}return a})}},{key:"qs",value:function(e,t){e.forEach(function(i,a){var u,o=(0,G.Z)(t);try{for(o.s();!(u=o.n()).done;)u.value.applyToLocalView(a)}catch(h){o.e(h)}finally{o.f()}})}},{key:"Ks",value:function(e,t){var i=this;return this.ds.getEntries(e,t).next(function(a){return i.Gs(e,a).next(function(){return a})})}},{key:"Gs",value:function(e,t){var i=this;return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(function(a){return i.qs(t,a)})}},{key:"Qs",value:function(e,t,i){return Ht.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.js(e,t.path):BP(t)?this.Ws(e,t,i):this.zs(e,t,i);var a}},{key:"js",value:function(e,t){return this.Ls(e,new Ht(t)).next(function(i){var a=GP();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}},{key:"Ws",value:function(e,t,i){var a=this,o=t.collectionGroup,u=GP();return this.indexManager.getCollectionParents(e,o).next(function(d){return ut.forEach(d,function(h){var b,k,v=(b=t,k=h.child(o),new Bd(k,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));return a.zs(e,v,i).next(function(b){b.forEach(function(k,I){u=u.insert(k,I)})})}).next(function(){return u})})}},{key:"zs",value:function(e,t,i){var o,a=this;return this.ds.getAllFromCollection(e,t.path,i).next(function(u){return o=u,a.Bs.getAllMutationBatchesAffectingQuery(e,t)}).next(function(u){var h,d=(0,G.Z)(u);try{for(d.s();!(h=d.n()).done;){var k,v=h.value,b=(0,G.Z)(v.mutations);try{for(b.s();!(k=b.n()).done;){var I=k.value,O=I.key,q=o.get(O);null==q&&(q=Qa.newInvalidDocument(O),o=o.insert(O,q)),HP(I,q,v.localWriteTime),q.isFoundDocument()||(o=o.remove(O))}}catch(J){b.e(J)}finally{b.f()}}}catch(J){d.e(J)}finally{d.f()}}).next(function(){return o.forEach(function(u,d){UP(t,d)||(o=o.remove(u))}),o})}}]),n}(),Gne=function(){function n(r,e,t,i){(0,m.Z)(this,n),this.targetId=r,this.fromCache=e,this.Hs=t,this.Js=i}return(0,_.Z)(n,null,[{key:"Ys",value:function(e,t){var u,i=Tr(),a=Tr(),o=(0,G.Z)(t.docChanges);try{for(o.s();!(u=o.n()).done;){var d=u.value;switch(d.type){case 0:i=i.add(d.doc.key);break;case 1:a=a.add(d.doc.key)}}}catch(h){o.e(h)}finally{o.f()}return new n(e,t.fromCache,i,a)}}]),n}(),Gj=function(){function n(){(0,m.Z)(this,n),this.Xs=!1}return(0,_.Z)(n,[{key:"initialize",value:function(e,t){this.Zs=e,this.indexManager=t,this.Xs=!0}},{key:"Qs",value:function(e,t,i,a){var o=this;return this.ti(e,t).next(function(u){return u||o.ei(e,t,a,i)}).next(function(u){return u||o.ni(e,t)})}},{key:"ti",value:function(e,t){return ut.resolve(null)}},{key:"ei",value:function(e,t,i,a){var o=this;return function Tte(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(t)||a.isEqual(Mn.min())?this.ni(e,t):this.Zs.Ks(e,i).next(function(u){var d=o.si(t,u);return o.ii(t,d,i,a)?o.ni(e,t):(IP()<=Nl.in.DEBUG&&At("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),VP(t)),o.ri(e,d,t,CH(a,-1)))})}},{key:"si",value:function(e,t){var i=new Li(NH(e));return t.forEach(function(a,o){UP(e,o)&&(i=i.add(o))}),i}},{key:"ii",value:function(e,t,i,a){if(null===e.limit)return!1;if(i.size!==t.size)return!0;var o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}},{key:"ni",value:function(e,t){return IP()<=Nl.in.DEBUG&&At("QueryEngine","Using full collection scan to execute query:",VP(t)),this.Zs.Qs(e,t,mh.min())}},{key:"ri",value:function(e,t,i,a){return this.Zs.Qs(e,i,a).next(function(o){return t.forEach(function(u){o=o.insert(u.key,u)}),o})}}]),n}(),zne=function(){function n(r,e,t,i){(0,m.Z)(this,n),this.persistence=r,this.oi=e,this.M=i,this.ui=new Ja(Ln),this.ai=new bh(function(a){return Tv(a)},Rk),this.ci=new Map,this.hi=r.getRemoteDocumentCache(),this.fs=r.getTargetCache(),this._s=r.getBundleCache(),this.li(t)}return(0,_.Z)(n,[{key:"li",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new jne(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(i){return e.collect(i,t.ui)})}}]),n}();function zj(n,r,e,t){return new zne(n,r,e,t)}function Yj(n,r){return aF.apply(this,arguments)}function aF(){return aF=(0,st.Z)(me().mark(function n(r,e){var t;return me().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=Ut(r),a.next=3,t.persistence.runTransaction("Handle user change","readonly",function(o){var u;return t.Bs.getAllMutationBatches(o).next(function(d){return u=d,t.li(e),t.Bs.getAllMutationBatches(o)}).next(function(d){var I,h=[],v=[],b=Tr(),k=(0,G.Z)(u);try{for(k.s();!(I=k.n()).done;){var O=I.value;h.push(O.batchId);var J,q=(0,G.Z)(O.mutations);try{for(q.s();!(J=q.n()).done;)b=b.add(J.value.key)}catch(vt){q.e(vt)}finally{q.f()}}}catch(vt){k.e(vt)}finally{k.f()}var Oe,fe=(0,G.Z)(d);try{for(fe.s();!(Oe=fe.n()).done;){var Ze=Oe.value;v.push(Ze.batchId);var lt,je=(0,G.Z)(Ze.mutations);try{for(je.s();!(lt=je.n()).done;)b=b.add(lt.value.key)}catch(vt){je.e(vt)}finally{je.f()}}}catch(vt){fe.e(vt)}finally{fe.f()}return t.fi.Ks(o,b).next(function(vt){return{di:vt,removedBatchIds:h,addedBatchIds:v}})})});case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}},n)})),aF.apply(this,arguments)}function Yne(n,r){var e=Ut(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var o,u,d,h,v,b,k,i=r.batch.keys(),a=e.hi.newChangeBuffer({trackRemovals:!0});return(o=e,u=t,d=r,h=a,v=d.batch,b=v.keys(),k=ut.resolve(),b.forEach(function(I){k=k.next(function(){return h.getEntry(u,I)}).next(function(O){var q=d.docVersions.get(I);kn(null!==q),O.version.compareTo(q)<0&&(v.applyToRemoteDocument(O,d),O.isValidDocument()&&(O.setReadTime(d.commitVersion),h.addEntry(O)))})}),k.next(function(){return o.Bs.removeMutationBatch(u,v)})).next(function(){return a.apply(t)}).next(function(){return e.Bs.performConsistencyCheck(t)}).next(function(){return e.fi.Ks(t,i)})})}function Wj(n){var r=Ut(n);return r.persistence.runTransaction("Get last remote snapshot version","readonly",function(e){return r.fs.getLastRemoteSnapshotVersion(e)})}function Wne(n,r){var e=Ut(n),t=r.snapshotVersion,i=e.ui;return e.persistence.runTransaction("Apply remote event","readwrite-primary",function(a){var o=e.hi.newChangeBuffer({trackRemovals:!0});i=e.ui;var u=[];r.targetChanges.forEach(function(v,b){var O,q,J,k=i.get(b);if(k){u.push(e.fs.removeMatchingKeys(a,v.removedDocuments,b).next(function(){return e.fs.addMatchingKeys(a,v.addedDocuments,b)}));var I=k.withSequenceNumber(a.currentSequenceNumber);r.targetMismatches.has(b)?I=I.withResumeToken(No.EMPTY_BYTE_STRING,Mn.min()).withLastLimboFreeSnapshotVersion(Mn.min()):v.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(v.resumeToken,t)),i=i.insert(b,I),q=I,J=v,(0===(O=k).resumeToken.approximateByteSize()||q.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=3e8||J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0)&&u.push(e.fs.updateTargetData(a,I))}});var d=Bu();if(r.documentUpdates.forEach(function(v){r.resolvedLimboDocuments.has(v)&&u.push(e.persistence.referenceDelegate.updateLimboDocument(a,v))}),u.push(qj(a,o,r.documentUpdates).next(function(v){d=v})),!t.isEqual(Mn.min())){var h=e.fs.getLastRemoteSnapshotVersion(a).next(function(v){return e.fs.setTargetsMetadata(a,a.currentSequenceNumber,t)});u.push(h)}return ut.waitFor(u).next(function(){return o.apply(a)}).next(function(){return e.fi.Gs(a,d)}).next(function(){return d})}).then(function(a){return e.ui=i,a})}function qj(n,r,e){var t=Tr();return e.forEach(function(i){return t=t.add(i)}),r.getEntries(n,t).next(function(i){var a=Bu();return e.forEach(function(o,u){var d=i.get(o);u.isNoDocument()&&u.version.isEqual(Mn.min())?(r.removeEntry(o,u.readTime),a=a.insert(o,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||0===u.version.compareTo(d.version)&&d.hasPendingWrites?(r.addEntry(u),a=a.insert(o,u)):At("LocalStore","Ignoring outdated watch update for ",o,". Current version:",d.version," Watch version:",u.version)}),a})}function qne(n,r){var e=Ut(n);return e.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===r&&(r=-1),e.Bs.getNextMutationBatchAfterBatchId(t,r)})}function M_(n,r){var e=Ut(n);return e.persistence.runTransaction("Allocate target","readwrite",function(t){var i;return e.fs.getTargetData(t,r).next(function(a){return a?ut.resolve(i=a):e.fs.allocateTargetId(t).next(function(o){return i=new lS(r,o,0,t.currentSequenceNumber),e.fs.addTargetData(t,i).next(function(){return i})})})}).then(function(t){var i=e.ui.get(t.targetId);return(null===i||t.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(e.ui=e.ui.insert(t.targetId,t),e.ai.set(r,t.targetId)),t})}function S_(n,r,e){return oF.apply(this,arguments)}function oF(){return oF=(0,st.Z)(me().mark(function n(r,e,t){var i,a,o;return me().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(i=Ut(r),a=i.ui.get(e),o=t?"readwrite":"readwrite-primary",d.prev=1,d.t0=t,d.t0){d.next=6;break}return d.next=6,i.persistence.runTransaction("Release target",o,function(h){return i.persistence.referenceDelegate.removeTarget(h,a)});case 6:d.next=13;break;case 8:if(d.prev=8,d.t1=d.catch(1),Ov(d.t1)){d.next=12;break}throw d.t1;case 12:At("LocalStore","Failed to update sequence numbers for target ".concat(e,": ").concat(d.t1));case 13:i.ui=i.ui.remove(e),i.ai.delete(a.target);case 14:case"end":return d.stop()}},n,null,[[1,8]])})),oF.apply(this,arguments)}function _S(n,r,e){var t=Ut(n),i=Mn.min(),a=Tr();return t.persistence.runTransaction("Execute query","readonly",function(o){return(u=t,d=o,h=Lu(r),v=Ut(u),b=v.ai.get(h),void 0!==b?ut.resolve(v.ui.get(b)):v.fs.getTargetData(d,h)).next(function(u){if(u)return i=u.lastLimboFreeSnapshotVersion,t.fs.getMatchingKeysForTargetId(o,u.targetId).next(function(d){a=d})}).next(function(){return t.oi.Qs(o,r,e?i:Mn.min(),e?a:Tr())}).next(function(u){return Qj(t,xH(r),u),{documents:u,_i:a}});var u,d,h,v,b})}function Kj(n,r){var e=Ut(n),t=Ut(e.fs),i=e.ui.get(r);return i?Promise.resolve(i.target):e.persistence.runTransaction("Get target data","readonly",function(a){return t.Et(a,r).next(function(o){return o?o.target:null})})}function $j(n,r){var e=Ut(n),t=e.ci.get(r)||Mn.min();return e.persistence.runTransaction("Get new document changes","readonly",function(i){return e.hi.getAllFromCollectionGroup(i,r,CH(t,-1),Number.MAX_SAFE_INTEGER)}).then(function(i){return Qj(e,r,i),i})}function Qj(n,r,e){var t=Mn.min();e.forEach(function(i,a){a.readTime.compareTo(t)>0&&(t=a.readTime)}),n.ci.set(r,t)}function Kne(n,r,e,t){return sF.apply(this,arguments)}function sF(){return sF=(0,st.Z)(me().mark(function n(r,e,t,i){var a,o,u,d,h,v,b,k,I,O;return me().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:a=Ut(r),o=Tr(),u=Bu(),d=(0,G.Z)(t);try{for(d.s();!(h=d.n()).done;)b=e.wi((v=h.value).metadata.name),v.document&&(o=o.add(b)),(k=e.mi(v)).setReadTime(e.gi(v.metadata.readTime)),u=u.insert(b,k)}catch(ue){d.e(ue)}finally{d.f()}return I=a.hi.newChangeBuffer({trackRemovals:!0}),J.next=7,M_(a,Lu(g_(lr.fromString("__bundle__/docs/".concat(ue=i)))));case 7:return O=J.sent,J.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",function(ue){return qj(ue,I,u).next(function(fe){return I.apply(ue),fe}).next(function(fe){return a.fs.removeMatchingKeysForTargetId(ue,O.targetId).next(function(){return a.fs.addMatchingKeys(ue,o,O.targetId)}).next(function(){return a.fi.Gs(ue,fe)}).next(function(){return fe})})}));case 9:case"end":return J.stop()}var ue},n)})),sF.apply(this,arguments)}function $ne(n,r){return uF.apply(this,arguments)}function uF(){return uF=(0,st.Z)(me().mark(function n(r,e){var t,i,a,o=arguments;return me().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return t=o.length>2&&void 0!==o[2]?o[2]:Tr(),d.next=3,M_(r,Lu(XP(e.bundledQuery)));case 3:return i=d.sent,a=Ut(r),d.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",function(h){var v=Xa(e.readTime);if(i.snapshotVersion.compareTo(v)>=0)return a._s.saveNamedQuery(h,e);var b=i.withResumeToken(No.EMPTY_BYTE_STRING,v);return a.ui=a.ui.insert(b.targetId,b),a.fs.updateTargetData(h,b).next(function(){return a.fs.removeMatchingKeysForTargetId(h,i.targetId)}).next(function(){return a.fs.addMatchingKeys(h,t,i.targetId)}).next(function(){return a._s.saveNamedQuery(h,e)})}));case 6:case"end":return d.stop()}},n)})),uF.apply(this,arguments)}var Qne=function(){function n(r){(0,m.Z)(this,n),this.M=r,this.yi=new Map,this.pi=new Map}return(0,_.Z)(n,[{key:"getBundleMetadata",value:function(e,t){return ut.resolve(this.yi.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var i;return this.yi.set(t.id,{id:(i=t).id,version:i.version,createTime:Xa(i.createTime)}),ut.resolve()}},{key:"getNamedQuery",value:function(e,t){return ut.resolve(this.pi.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.pi.set(t.name,{name:(i=t).name,query:XP(i.bundledQuery),readTime:Xa(i.readTime)}),ut.resolve();var i}}]),n}(),Jne=function(){function n(){(0,m.Z)(this,n),this.overlays=new Ja(Ht.comparator),this.Ii=new Map}return(0,_.Z)(n,[{key:"getOverlay",value:function(e,t){return ut.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,i){var a=this;return i.forEach(function(o,u){a.Xt(e,t,u)}),ut.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,i){var a=this,o=this.Ii.get(i);return void 0!==o&&(o.forEach(function(u){return a.overlays=a.overlays.remove(u)}),this.Ii.delete(i)),ut.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,i){for(var a=Nk(),o=t.length+1,u=new Ht(t.child("")),d=this.overlays.getIteratorFrom(u);d.hasNext();){var h=d.getNext().value,v=h.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===o&&h.largestBatchId>i&&a.set(h.getKey(),h)}return ut.resolve(a)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,i,a){for(var o=new Ja(function(k,I){return k-I}),u=this.overlays.getIterator();u.hasNext();){var d=u.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>i){var h=o.get(d.largestBatchId);null===h&&(h=Nk(),o=o.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}for(var v=Nk(),b=o.getIterator();b.hasNext()&&(b.getNext().value.forEach(function(k,I){return v.set(k,I)}),!(v.size()>=a)););return ut.resolve(v)}},{key:"Xt",value:function(e,t,i){if(null!==i){var a=this.overlays.get(i.key);if(null!==a){var o=this.Ii.get(a.largestBatchId).delete(i.key);this.Ii.set(a.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new JP(t,i));var u=this.Ii.get(t);void 0===u&&(u=Tr(),this.Ii.set(t,u)),this.Ii.set(t,u.add(i.key))}}}]),n}(),lF=function(){function n(){(0,m.Z)(this,n),this.Ti=new Li(to.Ei),this.Ai=new Li(to.Ri)}return(0,_.Z)(n,[{key:"isEmpty",value:function(){return this.Ti.isEmpty()}},{key:"addReference",value:function(e,t){var i=new to(e,t);this.Ti=this.Ti.add(i),this.Ai=this.Ai.add(i)}},{key:"bi",value:function(e,t){var i=this;e.forEach(function(a){return i.addReference(a,t)})}},{key:"removeReference",value:function(e,t){this.Pi(new to(e,t))}},{key:"Vi",value:function(e,t){var i=this;e.forEach(function(a){return i.removeReference(a,t)})}},{key:"vi",value:function(e){var t=this,i=new Ht(new lr([])),a=new to(i,e),o=new to(i,e+1),u=[];return this.Ai.forEachInRange([a,o],function(d){t.Pi(d),u.push(d.key)}),u}},{key:"Si",value:function(){var e=this;this.Ti.forEach(function(t){return e.Pi(t)})}},{key:"Pi",value:function(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}},{key:"Di",value:function(e){var t=new Ht(new lr([])),i=new to(t,e),a=new to(t,e+1),o=Tr();return this.Ai.forEachInRange([i,a],function(u){o=o.add(u.key)}),o}},{key:"containsKey",value:function(e){var t=new to(e,0),i=this.Ti.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}]),n}(),to=function(){function n(r,e){(0,m.Z)(this,n),this.key=r,this.Ci=e}return(0,_.Z)(n,null,[{key:"Ei",value:function(e,t){return Ht.comparator(e.key,t.key)||Ln(e.Ci,t.Ci)}},{key:"Ri",value:function(e,t){return Ln(e.Ci,t.Ci)||Ht.comparator(e.key,t.key)}}]),n}(),Xne=function(){function n(r,e){(0,m.Z)(this,n),this.indexManager=r,this.referenceDelegate=e,this.Bs=[],this.xi=1,this.Ni=new Li(to.Ei)}return(0,_.Z)(n,[{key:"checkEmpty",value:function(e){return ut.resolve(0===this.Bs.length)}},{key:"addMutationBatch",value:function(e,t,i,a){var o=this.xi;this.xi++;var u=new QP(o,t,i,a);this.Bs.push(u);var h,d=(0,G.Z)(a);try{for(d.s();!(h=d.n()).done;){var v=h.value;this.Ni=this.Ni.add(new to(v.key,o)),this.indexManager.addToCollectionParentIndex(e,v.key.path.popLast())}}catch(b){d.e(b)}finally{d.f()}return ut.resolve(u)}},{key:"lookupMutationBatch",value:function(e,t){return ut.resolve(this.ki(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var a=this.Mi(t+1),o=a<0?0:a;return ut.resolve(this.Bs.length>o?this.Bs[o]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return ut.resolve(0===this.Bs.length?-1:this.xi-1)}},{key:"getAllMutationBatches",value:function(e){return ut.resolve(this.Bs.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var i=this,a=new to(t,0),o=new to(t,Number.POSITIVE_INFINITY),u=[];return this.Ni.forEachInRange([a,o],function(d){var h=i.ki(d.Ci);u.push(h)}),ut.resolve(u)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var i=this,a=new Li(Ln);return t.forEach(function(o){var u=new to(o,0),d=new to(o,Number.POSITIVE_INFINITY);i.Ni.forEachInRange([u,d],function(h){a=a.add(h.Ci)})}),ut.resolve(this.Oi(a))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var i=t.path,a=i.length+1,o=i;Ht.isDocumentKey(o)||(o=o.child(""));var u=new to(new Ht(o),0),d=new Li(Ln);return this.Ni.forEachWhile(function(h){var v=h.key.path;return!!i.isPrefixOf(v)&&(v.length===a&&(d=d.add(h.Ci)),!0)},u),ut.resolve(this.Oi(d))}},{key:"Oi",value:function(e){var t=this,i=[];return e.forEach(function(a){var o=t.ki(a);null!==o&&i.push(o)}),i}},{key:"removeMutationBatch",value:function(e,t){var i=this;kn(0===this.Fi(t.batchId,"removed")),this.Bs.shift();var a=this.Ni;return ut.forEach(t.mutations,function(o){var u=new to(o.key,t.batchId);return a=a.delete(u),i.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(function(){i.Ni=a})}},{key:"_n",value:function(e){}},{key:"containsKey",value:function(e,t){var i=new to(t,0),a=this.Ni.firstAfterOrEqual(i);return ut.resolve(t.isEqual(a&&a.key))}},{key:"performConsistencyCheck",value:function(e){return ut.resolve()}},{key:"Fi",value:function(e,t){return this.Mi(e)}},{key:"Mi",value:function(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}},{key:"ki",value:function(e){var t=this.Mi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}]),n}(),ere=function(){function n(r){(0,m.Z)(this,n),this.$i=r,this.docs=new Ja(Ht.comparator),this.size=0}return(0,_.Z)(n,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var i=t.key,a=this.docs.get(i),o=a?a.size:0,u=this.$i(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var i=this.docs.get(t);return ut.resolve(i?i.document.mutableCopy():Qa.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var i=this,a=Bu();return t.forEach(function(o){var u=i.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():Qa.newInvalidDocument(o))}),ut.resolve(a)}},{key:"getAllFromCollection",value:function(e,t,i){for(var a=Bu(),o=new Ht(t.child("")),u=this.docs.getIteratorFrom(o);u.hasNext();){var d=u.getNext(),h=d.key,v=d.value.document;if(!t.isPrefixOf(h.path))break;h.path.length>t.length+1||EH(mte(v),i)<=0||(a=a.insert(v.key,v.mutableCopy()))}return ut.resolve(a)}},{key:"getAllFromCollectionGroup",value:function(e,t,i,a){Jt()}},{key:"Bi",value:function(e,t){return ut.forEach(this.docs,function(i){return t(i)})}},{key:"newChangeBuffer",value:function(e){return new tre(this)}},{key:"getSize",value:function(e){return ut.resolve(this.size)}}]),n}(),tre=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t){var i;return(0,m.Z)(this,e),(i=r.call(this)).Kn=t,i}return(0,_.Z)(e,[{key:"applyChanges",value:function(i){var a=this,o=[];return this.changes.forEach(function(u,d){d.isValidDocument()?o.push(a.Kn.addEntry(i,d)):a.Kn.removeEntry(u)}),ut.waitFor(o)}},{key:"getFromCache",value:function(i,a){return this.Kn.getEntry(i,a)}},{key:"getAllFromCache",value:function(i,a){return this.Kn.getEntries(i,a)}}]),e}(Bj),nre=function(){function n(r){(0,m.Z)(this,n),this.persistence=r,this.Li=new bh(function(e){return Tv(e)},Rk),this.lastRemoteSnapshotVersion=Mn.min(),this.highestTargetId=0,this.Ui=0,this.qi=new lF,this.targetCount=0,this.Ki=vS.gn()}return(0,_.Z)(n,[{key:"forEachTarget",value:function(e,t){return this.Li.forEach(function(i,a){return t(a)}),ut.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return ut.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return ut.resolve(this.Ui)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ki.next(),ut.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Ui&&(this.Ui=t),ut.resolve()}},{key:"Tn",value:function(e){this.Li.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ki=new vS(t),this.highestTargetId=t),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Tn(t),this.targetCount+=1,ut.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Tn(t),ut.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Li.delete(t.target),this.qi.vi(t.targetId),this.targetCount-=1,ut.resolve()}},{key:"removeTargets",value:function(e,t,i){var a=this,o=0,u=[];return this.Li.forEach(function(d,h){h.sequenceNumber<=t&&null===i.get(h.targetId)&&(a.Li.delete(d),u.push(a.removeMatchingKeysForTargetId(e,h.targetId)),o++)}),ut.waitFor(u).next(function(){return o})}},{key:"getTargetCount",value:function(e){return ut.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var i=this.Li.get(t)||null;return ut.resolve(i)}},{key:"addMatchingKeys",value:function(e,t,i){return this.qi.bi(t,i),ut.resolve()}},{key:"removeMatchingKeys",value:function(e,t,i){this.qi.Vi(t,i);var a=this.persistence.referenceDelegate,o=[];return a&&t.forEach(function(u){o.push(a.markPotentiallyOrphaned(e,u))}),ut.waitFor(o)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.qi.vi(t),ut.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var i=this.qi.Di(t);return ut.resolve(i)}},{key:"containsKey",value:function(e,t){return ut.resolve(this.qi.containsKey(t))}}]),n}(),rre=function(){function n(r,e){var t=this;(0,m.Z)(this,n),this.Gi={},this.overlays={},this.es=new ou(0),this.ns=!1,this.ns=!0,this.referenceDelegate=r(this),this.fs=new nre(this),this.indexManager=new Rne,this.ds=new ere(function(i){return t.referenceDelegate.Qi(i)}),this.M=new Ej(e),this._s=new Qne(this.M)}return(0,_.Z)(n,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.ns=!1,Promise.resolve()}},{key:"started",get:function(){return this.ns}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Jne,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var i=this.Gi[e.toKey()];return i||(i=new Xne(t,this.referenceDelegate),this.Gi[e.toKey()]=i),i}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,i){var a=this;At("MemoryPersistence","Starting transaction:",e);var o=new ire(this.es.next());return this.referenceDelegate.ji(),i(o).next(function(u){return a.referenceDelegate.Wi(o).next(function(){return u})}).toPromise().then(function(u){return o.raiseOnCommittedEvent(),u})}},{key:"zi",value:function(e,t){return ut.or(Object.values(this.Gi).map(function(i){return function(){return i.containsKey(e,t)}}))}}]),n}(),ire=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t){var i;return(0,m.Z)(this,e),(i=r.call(this)).currentSequenceNumber=t,i}return(0,_.Z)(e)}(bj),are=function(){function n(r){(0,m.Z)(this,n),this.persistence=r,this.Hi=new lF,this.Ji=null}return(0,_.Z)(n,[{key:"Xi",get:function(){if(this.Ji)return this.Ji;throw Jt()}},{key:"addReference",value:function(e,t,i){return this.Hi.addReference(i,t),this.Xi.delete(i.toString()),ut.resolve()}},{key:"removeReference",value:function(e,t,i){return this.Hi.removeReference(i,t),this.Xi.add(i.toString()),ut.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Xi.add(t.toString()),ut.resolve()}},{key:"removeTarget",value:function(e,t){var i=this;this.Hi.vi(t.targetId).forEach(function(o){return i.Xi.add(o.toString())});var a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,t.targetId).next(function(o){o.forEach(function(u){return i.Xi.add(u.toString())})}).next(function(){return a.removeTargetData(e,t)})}},{key:"ji",value:function(){this.Ji=new Set}},{key:"Wi",value:function(e){var t=this,i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ut.forEach(this.Xi,function(a){var o=Ht.fromPath(a);return t.Zi(e,o).next(function(u){u||i.removeEntry(o,Mn.min())})}).next(function(){return t.Ji=null,i.apply(e)})}},{key:"updateLimboDocument",value:function(e,t){var i=this;return this.Zi(e,t).next(function(a){a?i.Xi.delete(t.toString()):i.Xi.add(t.toString())})}},{key:"Qi",value:function(e){return 0}},{key:"Zi",value:function(e,t){var i=this;return ut.or([function(){return ut.resolve(i.Hi.containsKey(t))},function(){return i.persistence.getTargetCache().containsKey(e,t)},function(){return i.persistence.zi(e,t)}])}}],[{key:"Yi",value:function(e){return new n(e)}}]),n}();function Jj(n,r){return"firestore_clients_".concat(n,"_").concat(r)}function Xj(n,r,e){var t="firestore_mutations_".concat(n,"_").concat(e);return r.isAuthenticated()&&(t+="_".concat(r.uid)),t}function cF(n,r){return"firestore_targets_".concat(n,"_").concat(r)}var e6=function(){function n(r,e,t,i){(0,m.Z)(this,n),this.user=r,this.batchId=e,this.state=t,this.error=i}return(0,_.Z)(n,[{key:"er",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"tr",value:function(e,t,i){var o,a=JSON.parse(i),u="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return u&&a.error&&(u="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(o=new wt(a.error.code,a.error.message)),u?new n(e,t,a.state,o):(pa("SharedClientState","Failed to parse mutation state for ID '".concat(t,"': ").concat(i)),null)}}]),n}(),dF=function(){function n(r,e,t){(0,m.Z)(this,n),this.targetId=r,this.state=e,this.error=t}return(0,_.Z)(n,[{key:"er",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"tr",value:function(e,t){var a,i=JSON.parse(t),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(a=new wt(i.error.code,i.error.message)),o?new n(e,i.state,a):(pa("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}}]),n}(),t6=function(){function n(r,e){(0,m.Z)(this,n),this.clientId=r,this.activeTargetIds=e}return(0,_.Z)(n,null,[{key:"tr",value:function(e,t){for(var i=JSON.parse(t),a="object"==typeof i&&i.activeTargetIds instanceof Array,o=oS(),u=0;a&&u<i.activeTargetIds.length;++u)a=vH(i.activeTargetIds[u]),o=o.add(i.activeTargetIds[u]);return a?new n(e,o):(pa("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}]),n}(),ore=function(){function n(r,e){(0,m.Z)(this,n),this.clientId=r,this.onlineState=e}return(0,_.Z)(n,null,[{key:"tr",value:function(e){var t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new n(t.clientId,t.onlineState):(pa("SharedClientState","Failed to parse online state: ".concat(e)),null)}}]),n}(),fF=function(){function n(){(0,m.Z)(this,n),this.activeTargetIds=oS()}return(0,_.Z)(n,[{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"sr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"er",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),n}(),hF=function(){function n(r,e,t,i,a){(0,m.Z)(this,n),this.window=r,this.Yn=e,this.persistenceKey=t,this.ir=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new Ja(Ln),this.started=!1,this.cr=[];var o=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.hr=Jj(this.persistenceKey,this.ir),this.lr="firestore_sequence_number_".concat(this.persistenceKey),this.ar=this.ar.insert(this.ir,new fF),this.dr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this._r=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.wr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.mr="firestore_online_state_".concat(this.persistenceKey),this.gr=function(u){return"firestore_bundle_loaded_v2_".concat(u)}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}return(0,_.Z)(n,[{key:"start",value:(r=(0,st.Z)(me().mark(function t(){var o,u,d,h,v,b,k,I,O,i=this;return me().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return ue.next=2,this.syncEngine.Fs();case 2:o=(0,G.Z)(ue.sent),ue.prev=4,o.s();case 6:if((u=o.n()).done){ue.next=14;break}if((d=u.value)!==this.ir){ue.next=10;break}return ue.abrupt("continue",12);case 10:(h=this.getItem(Jj(this.persistenceKey,d)))&&(v=t6.tr(d,h))&&(this.ar=this.ar.insert(v.clientId,v));case 12:ue.next=6;break;case 14:ue.next=19;break;case 16:ue.prev=16,ue.t0=ue.catch(4),o.e(ue.t0);case 19:return ue.prev=19,o.f(),ue.finish(19);case 22:this.yr(),(b=this.storage.getItem(this.mr))&&(k=this.pr(b))&&this.Ir(k),I=(0,G.Z)(this.cr);try{for(I.s();!(O=I.n()).done;)this.ur(O.value)}catch(fe){I.e(fe)}finally{I.f()}this.cr=[],this.window.addEventListener("pagehide",function(){return i.shutdown()}),this.started=!0;case 28:case"end":return ue.stop()}},t,this,[[4,16,19,22]])})),function e(){return r.apply(this,arguments)})},{key:"writeSequenceNumber",value:function(e){this.setItem(this.lr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Tr(this.ar)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ar.forEach(function(i,a){a.activeTargetIds.has(e)&&(t=!0)}),t}},{key:"addPendingMutation",value:function(e){this.Er(e,"pending")}},{key:"updateMutationState",value:function(e,t,i){this.Er(e,t,i),this.Ar(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var i=this.storage.getItem(cF(this.persistenceKey,e));if(i){var a=dF.tr(e,i);a&&(t=a.state)}}return this.Rr.nr(e),this.yr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Rr.sr(e),this.yr()}},{key:"isLocalQueryTarget",value:function(e){return this.Rr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(cF(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,i){this.br(e,t,i)}},{key:"handleUserChange",value:function(e,t,i){var a=this;t.forEach(function(o){a.Ar(o)}),this.currentUser=e,i.forEach(function(o){a.addPendingMutation(o)})}},{key:"setOnlineState",value:function(e){this.Pr(e)}},{key:"notifyBundleLoaded",value:function(e){this.Vr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return At("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){At("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){At("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"ur",value:function(e){var t=this,i=e;if(i.storageArea===this.storage){if(At("SharedClientState","EVENT",i.key,i.newValue),i.key===this.hr)return void pa("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,st.Z)(me().mark(function a(){var o,u,d,h,v,b,k;return me().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(!t.started){O.next=43;break}if(null===i.key){O.next=41;break}if(!t.dr.test(i.key)){O.next=11;break}if(null!=i.newValue){O.next=6;break}return o=t.vr(i.key),O.abrupt("return",t.Sr(o,null));case 6:if(!(u=t.Dr(i.key,i.newValue))){O.next=9;break}return O.abrupt("return",t.Sr(u.clientId,u));case 9:O.next=41;break;case 11:if(!t._r.test(i.key)){O.next=18;break}if(null===i.newValue){O.next=16;break}if(!(d=t.Cr(i.key,i.newValue))){O.next=16;break}return O.abrupt("return",t.Nr(d));case 16:O.next=41;break;case 18:if(!t.wr.test(i.key)){O.next=25;break}if(null===i.newValue){O.next=23;break}if(!(h=t.kr(i.key,i.newValue))){O.next=23;break}return O.abrupt("return",t.Mr(h));case 23:O.next=41;break;case 25:if(i.key!==t.mr){O.next=32;break}if(null===i.newValue){O.next=30;break}if(!(v=t.pr(i.newValue))){O.next=30;break}return O.abrupt("return",t.Ir(v));case 30:O.next=41;break;case 32:if(i.key!==t.lr){O.next=37;break}(b=function(q){var J=ou.A;if(null!=q)try{var ue=JSON.parse(q);kn("number"==typeof ue),J=ue}catch(fe){pa("SharedClientState","Failed to read sequence number from WebStorage",fe)}return J}(i.newValue))!==ou.A&&t.sequenceNumberHandler(b),O.next=41;break;case 37:if(i.key!==t.gr){O.next=41;break}return k=t.Or(i.newValue),O.next=41,Promise.all(k.map(function(q){return t.syncEngine.Fr(q)}));case 41:O.next=44;break;case 43:t.cr.push(i);case 44:case"end":return O.stop()}},a)})))}}},{key:"Rr",get:function(){return this.ar.get(this.ir)}},{key:"yr",value:function(){this.setItem(this.hr,this.Rr.er())}},{key:"Er",value:function(e,t,i){var a=new e6(this.currentUser,e,t,i),o=Xj(this.persistenceKey,this.currentUser,e);this.setItem(o,a.er())}},{key:"Ar",value:function(e){var t=Xj(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Pr",value:function(e){this.storage.setItem(this.mr,JSON.stringify({clientId:this.ir,onlineState:e}))}},{key:"br",value:function(e,t,i){var a=cF(this.persistenceKey,e),o=new dF(e,t,i);this.setItem(a,o.er())}},{key:"Vr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.gr,t)}},{key:"vr",value:function(e){var t=this.dr.exec(e);return t?t[1]:null}},{key:"Dr",value:function(e,t){var i=this.vr(e);return t6.tr(i,t)}},{key:"Cr",value:function(e,t){var i=this._r.exec(e),a=Number(i[1]);return e6.tr(new Co(void 0!==i[2]?i[2]:null),a,t)}},{key:"kr",value:function(e,t){var i=this.wr.exec(e),a=Number(i[1]);return dF.tr(a,t)}},{key:"pr",value:function(e){return ore.tr(e)}},{key:"Or",value:function(e){return JSON.parse(e)}},{key:"Nr",value:function(){var r=(0,st.Z)(me().mark(function t(i){return me().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(i.user.uid!==this.currentUser.uid){o.next=2;break}return o.abrupt("return",this.syncEngine.$r(i.batchId,i.state,i.error));case 2:At("SharedClientState","Ignoring mutation for non-active user ".concat(i.user.uid));case 3:case"end":return o.stop()}},t,this)}));return function e(t){return r.apply(this,arguments)}}()},{key:"Mr",value:function(e){return this.syncEngine.Br(e.targetId,e.state,e.error)}},{key:"Sr",value:function(e,t){var i=this,a=t?this.ar.insert(e,t):this.ar.remove(e),o=this.Tr(this.ar),u=this.Tr(a),d=[],h=[];return u.forEach(function(v){o.has(v)||d.push(v)}),o.forEach(function(v){u.has(v)||h.push(v)}),this.syncEngine.Lr(d,h).then(function(){i.ar=a})}},{key:"Ir",value:function(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Tr",value:function(e){var t=oS();return e.forEach(function(i,a){t=t.unionWith(a.activeTargetIds)}),t}}],[{key:"vt",value:function(e){return!(!e||!e.localStorage)}}]),n;var r}(),n6=function(){function n(){(0,m.Z)(this,n),this.Ur=new fF,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return(0,_.Z)(n,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,i){}},{key:"addLocalQueryTarget",value:function(e){return this.Ur.nr(e),this.qr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,i){this.qr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Ur.sr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.qr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Ur.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Ur=new fF,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,i){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),n}(),sre=function(){function n(){(0,m.Z)(this,n)}return(0,_.Z)(n,[{key:"Kr",value:function(e){}},{key:"shutdown",value:function(){}}]),n}(),r6=function(){function n(){var r=this;(0,m.Z)(this,n),this.Gr=function(){return r.Qr()},this.jr=function(){return r.Wr()},this.zr=[],this.Hr()}return(0,_.Z)(n,[{key:"Kr",value:function(e){this.zr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}},{key:"Hr",value:function(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}},{key:"Qr",value:function(){At("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var t,e=(0,G.Z)(this.zr);try{for(e.s();!(t=e.n()).done;)(0,t.value)(0)}catch(a){e.e(a)}finally{e.f()}}},{key:"Wr",value:function(){At("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var t,e=(0,G.Z)(this.zr);try{for(e.s();!(t=e.n()).done;)(0,t.value)(1)}catch(a){e.e(a)}finally{e.f()}}}],[{key:"vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),n}(),ure={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},lre=function(){function n(r){(0,m.Z)(this,n),this.Jr=r.Jr,this.Yr=r.Yr}return(0,_.Z)(n,[{key:"Xr",value:function(e){this.Zr=e}},{key:"eo",value:function(e){this.no=e}},{key:"onMessage",value:function(e){this.so=e}},{key:"close",value:function(){this.Yr()}},{key:"send",value:function(e){this.Jr(e)}},{key:"io",value:function(){this.Zr()}},{key:"ro",value:function(e){this.no(e)}},{key:"oo",value:function(e){this.so(e)}}]),n}(),cre=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t){var i;return(0,m.Z)(this,e),(i=r.call(this,t)).forceLongPolling=t.forceLongPolling,i.autoDetectLongPolling=t.autoDetectLongPolling,i.useFetchStreams=t.useFetchStreams,i}return(0,_.Z)(e,[{key:"fo",value:function(i,a,o,u){return new Promise(function(d,h){var v=new tte;v.listenOnce(Jee.COMPLETE,function(){try{switch(v.getLastErrorCode()){case AP.NO_ERROR:var k=v.getResponseJson();At("Connection","XHR received:",JSON.stringify(k)),d(k);break;case AP.TIMEOUT:At("Connection",'RPC "'+i+'" timed out'),h(new wt(rt.DEADLINE_EXCEEDED,"Request time out"));break;case AP.HTTP_ERROR:var I=v.getStatus();if(At("Connection",'RPC "'+i+'" failed with status:',I,"response text:",v.getResponseText()),I>0){var O=v.getResponseJson().error;if(O&&O.status&&O.message){var q=(ue=O.status.toLowerCase().replace(/_/g,"-"),Object.values(rt).indexOf(ue)>=0?ue:rt.UNKNOWN);h(new wt(q,O.message))}else h(new wt(rt.UNKNOWN,"Server responded with status "+v.getStatus()))}else h(new wt(rt.UNAVAILABLE,"Connection failed."));break;default:Jt()}}finally{At("Connection",'RPC "'+i+'" completed.')}var ue});var b=JSON.stringify(u);v.send(a,"POST",b,o,15)})}},{key:"wo",value:function(i,a,o){var u=[this.uo,"/","google.firestore.v1.Firestore","/",i,"/channel"],d=$ee(),h=Qee(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(v.xmlHttpFactory=new ete({})),this.lo(v.initMessageHeaders,a,o),(0,re.uI)()||(0,re.b$)()||(0,re.d)()||(0,re.w1)()||(0,re.Mn)()||(0,re.ru)()||(v.httpHeadersOverwriteParam="$httpHeaders");var b=u.join("");At("Connection","Creating WebChannel: "+b,v);var k=d.createWebChannel(b,v),I=!1,O=!1,q=new lre({Jr:function(fe){O?At("Connection","Not sending because WebChannel is closed:",fe):(I||(At("Connection","Opening WebChannel transport."),k.open(),I=!0),At("Connection","WebChannel sending:",fe),k.send(fe))},Yr:function(){return k.close()}}),J=function(fe,Oe,Ze){fe.listen(Oe,function(je){try{Ze(je)}catch(lt){setTimeout(function(){throw lt},0)}})};return J(k,KM.EventType.OPEN,function(){O||At("Connection","WebChannel transport opened.")}),J(k,KM.EventType.CLOSE,function(){O||(O=!0,At("Connection","WebChannel transport closed"),q.ro())}),J(k,KM.EventType.ERROR,function(ue){O||(O=!0,Ek("Connection","WebChannel transport errored:",ue),q.ro(new wt(rt.UNAVAILABLE,"The operation could not be completed")))}),J(k,KM.EventType.MESSAGE,function(ue){var fe;if(!O){var Oe=ue.data[0];kn(!!Oe);var je=Oe.error||(null===(fe=Oe[0])||void 0===fe?void 0:fe.error);if(je){At("Connection","WebChannel received error:",je);var lt=je.status,ct=function(dn){var tn=va[dn];if(void 0!==tn)return QH(tn)}(lt),vt=je.message;void 0===ct&&(ct=rt.INTERNAL,vt="Unknown error status: "+lt+" with message "+je.message),O=!0,q.ro(new wt(ct,vt)),k.close()}else At("Connection","WebChannel received:",Oe),q.oo(Oe)}}),J(h,Xee.STAT_EVENT,function(ue){ue.stat===aH.PROXY?At("Connection","Detected buffering proxy"):ue.stat===aH.NOPROXY&&At("Connection","Detected no buffering proxy")}),setTimeout(function(){q.io()},0),q}}]),e}(function(){function n(r){(0,m.Z)(this,n),this.databaseInfo=r,this.databaseId=r.databaseId,this.uo=(r.ssl?"https":"http")+"://"+r.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return(0,_.Z)(n,[{key:"co",value:function(e,t,i,a,o){var u=this.ho(e,t);At("RestConnection","Sending: ",u,i);var d={};return this.lo(d,a,o),this.fo(e,u,d,i).then(function(h){return At("RestConnection","Received: ",h),h},function(h){throw Ek("RestConnection","".concat(e," failed with error: "),h,"url: ",u,"request:",i),h})}},{key:"_o",value:function(e,t,i,a,o){return this.co(e,t,i,a,o)}},{key:"lo",value:function(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+l_,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(function(a,o){return e[o]=a}),i&&i.headers.forEach(function(a,o){return e[o]=a})}},{key:"ho",value:function(e,t){var i=ure[e];return"".concat(this.uo,"/v1/").concat(t,":").concat(i)}}]),n}());function i6(){return"undefined"!=typeof window?window:null}function yS(){return"undefined"!=typeof document?document:null}function Kk(n){return new zte(n,!0)}var pF=function(){function n(r,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;(0,m.Z)(this,n),this.Yn=r,this.timerId=e,this.mo=t,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return(0,_.Z)(n,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var i=Math.floor(this.Io+this.bo()),a=Math.max(0,Date.now()-this.Eo),o=Math.max(0,i-a);o>0&&At("ExponentialBackoff","Backing off for ".concat(o," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(i," ms, last attempt: ").concat(a," ms ago)")),this.To=this.Yn.enqueueAfterDelay(this.timerId,o,function(){return t.Eo=Date.now(),e()}),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),n}(),a6=function(){function n(r,e,t,i,a,o,u,d){(0,m.Z)(this,n),this.Yn=r,this.Vo=t,this.vo=i,this.So=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new pF(r,e)}return(0,_.Z)(n,[{key:"ko",value:function(){return 1===this.state||5===this.state||this.Mo()}},{key:"Mo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:(r=(0,st.Z)(me().mark(function t(){return me().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(a.t0=this.ko(),!a.t0){a.next=4;break}return a.next=4,this.close(0);case 4:case"end":return a.stop()}},t,this)})),function e(){return r.apply(this,arguments)})},{key:"Fo",value:function(){this.state=0,this.No.reset()}},{key:"$o",value:function(){var e=this;this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,function(){return e.Bo()}))}},{key:"Lo",value:function(e){this.Uo(),this.stream.send(e)}},{key:"Bo",value:function(){var r=(0,st.Z)(me().mark(function t(){return me().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!this.Mo()){a.next=2;break}return a.abrupt("return",this.close(0));case 2:case"end":return a.stop()}},t,this)}));return function e(){return r.apply(this,arguments)}}()},{key:"Uo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"qo",value:function(){this.xo&&(this.xo.cancel(),this.xo=null)}},{key:"close",value:function(){var r=(0,st.Z)(me().mark(function t(i,a){return me().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return this.Uo(),this.qo(),this.No.cancel(),this.Do++,4!==i?this.No.reset():a&&a.code===rt.RESOURCE_EXHAUSTED?(pa(a.toString()),pa("Using maximum backoff delay to prevent overloading the backend."),this.No.Ao()):a&&a.code===rt.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Ko(),this.stream.close(),this.stream=null),this.state=i,u.next=9,this.listener.eo(a);case 9:case"end":return u.stop()}},t,this)}));return function e(t,i){return r.apply(this,arguments)}}()},{key:"Ko",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Go(this.Do),i=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(function(a){var o=(0,Z.Z)(a,2);e.Do===i&&e.Qo(o[0],o[1])},function(a){t(function(){var o=new wt(rt.UNKNOWN,"Fetching auth token failed: "+a.message);return e.jo(o)})})}},{key:"Qo",value:function(e,t){var i=this,a=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Xr(function(){a(function(){return i.state=2,i.xo=i.Yn.enqueueAfterDelay(i.vo,1e4,function(){return i.Mo()&&(i.state=3),Promise.resolve()}),i.listener.Xr()})}),this.stream.eo(function(o){a(function(){return i.jo(o)})}),this.stream.onMessage(function(o){a(function(){return i.onMessage(o)})})}},{key:"Oo",value:function(){var e=this;this.state=5,this.No.Ro((0,st.Z)(me().mark(function t(){return me().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:e.state=0,e.start();case 1:case"end":return a.stop()}},t)})))}},{key:"jo",value:function(e){return At("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Go",value:function(e){var t=this;return function(i){t.Yn.enqueueAndForget(function(){return t.Do===e?i():(At("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}}}]),n;var r}(),dre=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i,a,o,u,d){var h;return(0,m.Z)(this,e),(h=r.call(this,t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d)).M=u,h}return(0,_.Z)(e,[{key:"Wo",value:function(i,a){return this.So.wo("Listen",i,a)}},{key:"onMessage",value:function(i){this.No.reset();var a=function qte(n,r){var e,An;if("targetChange"in r){var t="NO_CHANGE"===(An=r.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===An?1:"REMOVE"===An?2:"CURRENT"===An?3:"RESET"===An?4:Jt(),i=r.targetChange.targetIds||[],a=function(An,Fr){return An.N?(kn(void 0===Fr||"string"==typeof Fr),No.fromBase64String(Fr||"")):(kn(void 0===Fr||Fr instanceof Uint8Array),No.fromUint8Array(Fr||new Uint8Array))}(n,r.targetChange.resumeToken),o=r.targetChange.cause,u=o&&function(An){var Fr=void 0===An.code?rt.UNKNOWN:QH(An.code);return new wt(Fr,An.message||"")}(o);e=new XH(t,i,a,u||null)}else if("documentChange"in r){var d=r.documentChange,h=Rc(n,d.document.name),v=Xa(d.document.updateTime),b=new uu({mapValue:{fields:d.document.fields}}),k=Qa.newFoundDocument(h,v,b);e=new sS(d.targetIds||[],d.removedTargetIds||[],k.key,k)}else if("documentDelete"in r){var q=r.documentDelete,J=Rc(n,q.document),ue=q.readTime?Xa(q.readTime):Mn.min(),fe=Qa.newNoDocument(J,ue);e=new sS([],q.removedTargetIds||[],fe.key,fe)}else if("documentRemove"in r){var Ze=r.documentRemove,je=Rc(n,Ze.document);e=new sS([],Ze.removedTargetIds||[],je,null)}else{if(!("filter"in r))return Jt();var ct=r.filter,dn=new Nte(ct.count||0);e=new JH(ct.targetId,dn)}return e}(this.M,i),o=function(u){if(!("targetChange"in u))return Mn.min();var d=u.targetChange;return d.targetIds&&d.targetIds.length?Mn.min():d.readTime?Xa(d.readTime):Mn.min()}(i);return this.listener.zo(a,o)}},{key:"Ho",value:function(i){var u,d,h,v,a={};a.database=Bk(this.M),a.addTarget=(u=this.M,(h=tS(v=(d=i).target)?{documents:lj(u,v)}:{query:cj(u,v)}).targetId=d.targetId,d.resumeToken.approximateByteSize()>0?h.resumeToken=rj(u,d.resumeToken):d.snapshotVersion.compareTo(Mn.min())>0&&(h.readTime=Zk(u,d.snapshotVersion.toTimestamp())),h);var o=function $te(n,r){var e=function(t,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Jt()}}(0,r.purpose);return null==e?null:{"goog-listen-tags":e}}(0,i);o&&(a.labels=o),this.Lo(a)}},{key:"Jo",value:function(i){var a={};a.database=Bk(this.M),a.removeTarget=i,this.Lo(a)}}]),e}(a6),fre=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i,a,o,u,d){var h;return(0,m.Z)(this,e),(h=r.call(this,t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d)).M=u,h.Yo=!1,h}return(0,_.Z)(e,[{key:"Xo",get:function(){return this.Yo}},{key:"start",value:function(){this.Yo=!1,this.lastStreamToken=void 0,(0,X.Z)((0,ne.Z)(e.prototype),"start",this).call(this)}},{key:"Ko",value:function(){this.Yo&&this.Zo([])}},{key:"Wo",value:function(i,a){return this.So.wo("Write",i,a)}},{key:"onMessage",value:function(i){if(kn(!!i.streamToken),this.lastStreamToken=i.streamToken,this.Yo){this.No.reset();var a=function Kte(n,r){return n&&n.length>0?(kn(void 0!==r),n.map(function(e){return i=r,(a=Xa((t=e).updateTime?t.updateTime:i)).isEqual(Mn.min())&&(a=Xa(i)),new Pte(a,t.transformResults||[]);var t,i,a})):[]}(i.writeResults,i.commitTime),o=Xa(i.commitTime);return this.listener.tu(o,a)}return kn(!i.writeResults||0===i.writeResults.length),this.Yo=!0,this.listener.eu()}},{key:"nu",value:function(){var i={};i.database=Bk(this.M),this.Lo(i)}},{key:"Zo",value:function(i){var a=this,o={streamToken:this.lastStreamToken,writes:i.map(function(u){return Vk(a.M,u)})};this.Lo(o)}}]),e}(a6),hre=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i,a,o){var u;return(0,m.Z)(this,e),(u=r.call(this)).authCredentials=t,u.appCheckCredentials=i,u.So=a,u.M=o,u.su=!1,u}return(0,_.Z)(e,[{key:"iu",value:function(){if(this.su)throw new wt(rt.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"co",value:function(i,a,o){var u=this;return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(function(d){var h=(0,Z.Z)(d,2);return u.So.co(i,a,o,h[0],h[1])}).catch(function(d){throw"FirebaseError"===d.name?(d.code===rt.UNAUTHENTICATED&&(u.authCredentials.invalidateToken(),u.appCheckCredentials.invalidateToken()),d):new wt(rt.UNKNOWN,d.toString())})}},{key:"_o",value:function(i,a,o){var u=this;return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(function(d){var h=(0,Z.Z)(d,2);return u.So._o(i,a,o,h[0],h[1])}).catch(function(d){throw"FirebaseError"===d.name?(d.code===rt.UNAUTHENTICATED&&(u.authCredentials.invalidateToken(),u.appCheckCredentials.invalidateToken()),d):new wt(rt.UNKNOWN,d.toString())})}},{key:"terminate",value:function(){this.su=!0}}]),e}(function(){return(0,_.Z)(function n(){(0,m.Z)(this,n)})}()),pre=function(){function n(r,e){(0,m.Z)(this,n),this.asyncQueue=r,this.onlineStateHandler=e,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}return(0,_.Z)(n,[{key:"au",value:function(){var e=this;0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return e.ou=null,e.hu("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()}))}},{key:"lu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"hu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.uu?(pa(t),this.uu=!1):At("OnlineStateTracker",t)}},{key:"fu",value:function(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}]),n}(),vre=(0,_.Z)(function n(r,e,t,i,a){var o=this;(0,m.Z)(this,n),this.localStore=r,this.datastore=e,this.asyncQueue=t,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=a,this.gu.Kr(function(u){t.enqueueAndForget((0,st.Z)(me().mark(function d(){return me().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(v.t0=Ch(o),!v.t0){v.next=5;break}return At("RemoteStore","Restarting streams for network reachability change."),v.next=5,function(){var b=(0,st.Z)(me().mark(function k(I){var O;return me().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return(O=Ut(I)).wu.add(4),J.next=4,T_(O);case 4:return O.yu.set("Unknown"),O.wu.delete(4),J.next=8,$k(O);case 8:case"end":return J.stop()}},k)}));return function(k){return b.apply(this,arguments)}}()(o);case 5:case"end":return v.stop()}},d)})))}),this.yu=new pre(t,i)});function $k(n){return vF.apply(this,arguments)}function vF(){return vF=(0,st.Z)(me().mark(function n(r){var e,t,i;return me().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!Ch(r)){o.next=18;break}e=(0,G.Z)(r.mu),o.prev=2,e.s();case 4:if((t=e.n()).done){o.next=10;break}return i=t.value,o.next=8,i(!0);case 8:o.next=4;break;case 10:o.next=15;break;case 12:o.prev=12,o.t0=o.catch(2),e.e(o.t0);case 15:return o.prev=15,e.f(),o.finish(15);case 18:case"end":return o.stop()}},n,null,[[2,12,15,18]])})),vF.apply(this,arguments)}function T_(n){return gF.apply(this,arguments)}function gF(){return gF=(0,st.Z)(me().mark(function n(r){var e,t,i;return me().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:e=(0,G.Z)(r.mu),o.prev=1,e.s();case 3:if((t=e.n()).done){o.next=9;break}return i=t.value,o.next=7,i(!1);case 7:o.next=3;break;case 9:o.next=14;break;case 11:o.prev=11,o.t0=o.catch(1),e.e(o.t0);case 14:return o.prev=14,e.f(),o.finish(14);case 17:case"end":return o.stop()}},n,null,[[1,11,14,17]])})),gF.apply(this,arguments)}function bS(n,r){var e=Ut(n);e._u.has(r.targetId)||(e._u.set(r.targetId,r),yF(e)?_F(e):I_(e).Mo()&&mF(e,r))}function Qk(n,r){var e=Ut(n),t=I_(e);e._u.delete(r),t.Mo()&&o6(e,r),0===e._u.size&&(t.Mo()?t.$o():Ch(e)&&e.yu.set("Unknown"))}function mF(n,r){n.pu.Z(r.targetId),I_(n).Ho(r)}function o6(n,r){n.pu.Z(r),I_(n).Jo(r)}function _F(n){n.pu=new Hte({getRemoteKeysForTarget:function(e){return n.remoteSyncer.getRemoteKeysForTarget(e)},Et:function(e){return n._u.get(e)||null}}),I_(n).start(),n.yu.au()}function yF(n){return Ch(n)&&!I_(n).ko()&&n._u.size>0}function Ch(n){return 0===Ut(n).wu.size}function s6(n){n.pu=void 0}function gre(n){return bF.apply(this,arguments)}function bF(){return bF=(0,st.Z)(me().mark(function n(r){return me().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r._u.forEach(function(i,a){mF(r,i)});case 1:case"end":return t.stop()}},n)})),bF.apply(this,arguments)}function mre(n,r){return kF.apply(this,arguments)}function kF(){return kF=(0,st.Z)(me().mark(function n(r,e){return me().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:s6(r),yF(r)?(r.yu.lu(e),_F(r)):r.yu.set("Unknown");case 1:case"end":return i.stop()}},n)})),kF.apply(this,arguments)}function _re(n,r,e){return wF.apply(this,arguments)}function wF(){return wF=(0,st.Z)(me().mark(function n(r,e,t){return me().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(r.yu.set("Online"),!(e instanceof XH&&2===e.state&&e.cause)){o.next=13;break}return o.prev=1,o.next=4,function(){var u=(0,st.Z)(me().mark(function d(h,v){var b,k,I,O;return me().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:b=v.cause,k=(0,G.Z)(v.targetIds),J.prev=2,k.s();case 4:if((I=k.n()).done){J.next=14;break}if(J.t0=h._u.has(O=I.value),!J.t0){J.next=12;break}return J.next=10,h.remoteSyncer.rejectListen(O,b);case 10:h._u.delete(O),h.pu.removeTarget(O);case 12:J.next=4;break;case 14:J.next=19;break;case 16:J.prev=16,J.t1=J.catch(2),k.e(J.t1);case 19:return J.prev=19,k.f(),J.finish(19);case 22:case"end":return J.stop()}},d,null,[[2,16,19,22]])}));return function(d,h){return u.apply(this,arguments)}}()(r,e);case 4:o.next=11;break;case 6:return o.prev=6,o.t0=o.catch(1),At("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o.t0),o.next=11,kS(r,o.t0);case 11:case 22:o.next=29;break;case 13:if(e instanceof sS?r.pu.ut(e):e instanceof JH?r.pu._t(e):r.pu.ht(e),t.isEqual(Mn.min())){o.next=29;break}return o.prev=14,o.next=17,Wj(r.localStore);case 17:if(o.t1=t.compareTo(o.sent)>=0,!o.t1){o.next=22;break}return o.next=22,function(u,d){var h=u.pu.yt(d);return h.targetChanges.forEach(function(v,b){if(v.resumeToken.approximateByteSize()>0){var k=u._u.get(b);k&&u._u.set(b,k.withResumeToken(v.resumeToken,d))}}),h.targetMismatches.forEach(function(v){var b=u._u.get(v);if(b){u._u.set(v,b.withResumeToken(No.EMPTY_BYTE_STRING,b.snapshotVersion)),o6(u,v);var k=new lS(b.target,v,1,b.sequenceNumber);mF(u,k)}}),u.remoteSyncer.applyRemoteEvent(h)}(r,t);case 24:return o.prev=24,o.t2=o.catch(14),At("RemoteStore","Failed to raise snapshot:",o.t2),o.next=29,kS(r,o.t2);case 29:case"end":return o.stop()}},n,null,[[1,6],[14,24]])})),wF.apply(this,arguments)}function kS(n,r,e){return CF.apply(this,arguments)}function CF(){return CF=(0,st.Z)(me().mark(function n(r,e,t){return me().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(Ov(e)){a.next=2;break}throw e;case 2:return r.wu.add(1),a.next=5,T_(r);case 5:r.yu.set("Offline"),t||(t=function(){return Wj(r.localStore)}),r.asyncQueue.enqueueRetryable((0,st.Z)(me().mark(function o(){return me().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return At("RemoteStore","Retrying IndexedDB access"),d.next=3,t();case 3:return r.wu.delete(1),d.next=6,$k(r);case 6:case"end":return d.stop()}},o)})));case 8:case"end":return a.stop()}},n)})),CF.apply(this,arguments)}function u6(n,r){return r().catch(function(e){return kS(n,e,r)})}function A_(n){return EF.apply(this,arguments)}function EF(){return EF=(0,st.Z)(me().mark(function n(r){var e,t,i,a;return me().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:e=Ut(r),t=Eh(e),i=e.du.length>0?e.du[e.du.length-1].batchId:-1;case 2:if(!yre(e)){u.next=19;break}return u.prev=3,u.next=6,qne(e.localStore,i);case 6:if(null!==(a=u.sent)){u.next=10;break}return 0===e.du.length&&t.$o(),u.abrupt("break",19);case 10:i=a.batchId,bre(e,a),u.next=17;break;case 13:return u.prev=13,u.t0=u.catch(3),u.next=17,kS(e,u.t0);case 17:u.next=2;break;case 19:l6(e)&&c6(e);case 20:case"end":return u.stop()}},n,null,[[3,13]])})),EF.apply(this,arguments)}function yre(n){return Ch(n)&&n.du.length<10}function bre(n,r){n.du.push(r);var e=Eh(n);e.Mo()&&e.Xo&&e.Zo(r.mutations)}function l6(n){return Ch(n)&&!Eh(n).ko()&&n.du.length>0}function c6(n){Eh(n).start()}function kre(n){return DF.apply(this,arguments)}function DF(){return DF=(0,st.Z)(me().mark(function n(r){return me().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Eh(r).nu();case 1:case"end":return t.stop()}},n)})),DF.apply(this,arguments)}function wre(n){return MF.apply(this,arguments)}function MF(){return MF=(0,st.Z)(me().mark(function n(r){var e,t,i;return me().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:e=Eh(r),t=(0,G.Z)(r.du);try{for(t.s();!(i=t.n()).done;)e.Zo(i.value.mutations)}catch(d){t.e(d)}finally{t.f()}case 3:case"end":return u.stop()}},n)})),MF.apply(this,arguments)}function Cre(n,r,e){return SF.apply(this,arguments)}function SF(){return SF=(0,st.Z)(me().mark(function n(r,e,t){var i,a;return me().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return i=r.du.shift(),a=wne.from(i,e,t),u.next=3,u6(r,function(){return r.remoteSyncer.applySuccessfulWrite(a)});case 3:return u.next=5,A_(r);case 5:case"end":return u.stop()}},n)})),SF.apply(this,arguments)}function Ere(n,r){return TF.apply(this,arguments)}function TF(){return TF=(0,st.Z)(me().mark(function n(r,e){return me().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=e&&Eh(r).Xo,!i.t0){i.next=4;break}return i.next=4,function(){var a=(0,st.Z)(me().mark(function o(u,d){var h,v;return me().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if(!$H(v=d.code)||v===rt.ABORTED){k.next=7;break}return h=u.du.shift(),Eh(u).Fo(),k.next=5,u6(u,function(){return u.remoteSyncer.rejectFailedWrite(h.batchId,d)});case 5:return k.next=7,A_(u);case 7:case"end":return k.stop()}},o)}));return function(o,u){return a.apply(this,arguments)}}()(r,e);case 4:l6(r)&&c6(r);case 5:case"end":return i.stop()}},n)})),TF.apply(this,arguments)}function d6(n,r){return AF.apply(this,arguments)}function AF(){return AF=(0,st.Z)(me().mark(function n(r,e){var t,i;return me().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return(t=Ut(r)).asyncQueue.verifyOperationInProgress(),At("RemoteStore","RemoteStore received new credentials"),i=Ch(t),t.wu.add(3),o.next=6,T_(t);case 6:return i&&t.yu.set("Unknown"),o.next=9,t.remoteSyncer.handleCredentialChange(e);case 9:return t.wu.delete(3),o.next=12,$k(t);case 12:case"end":return o.stop()}},n)})),AF.apply(this,arguments)}function IF(n,r){return RF.apply(this,arguments)}function RF(){return RF=(0,st.Z)(me().mark(function n(r,e){var t;return me().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(t=Ut(r),!e){a.next=7;break}return t.wu.delete(2),a.next=5,$k(t);case 5:a.next=13;break;case 7:if(a.t0=e,a.t0){a.next=13;break}return t.wu.add(2),a.next=12,T_(t);case 12:t.yu.set("Unknown");case 13:case"end":return a.stop()}},n)})),RF.apply(this,arguments)}function I_(n){return n.Iu||(n.Iu=(r=n.datastore,e=n.asyncQueue,t={Xr:gre.bind(null,n),eo:mre.bind(null,n),zo:_re.bind(null,n)},(i=Ut(r)).iu(),new dre(e,i.So,i.authCredentials,i.appCheckCredentials,i.M,t)),n.mu.push(function(){var r=(0,st.Z)(me().mark(function e(t){return me().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!t){a.next=4;break}n.Iu.Fo(),yF(n)?_F(n):n.yu.set("Unknown"),a.next=7;break;case 4:return a.next=6,n.Iu.stop();case 6:s6(n);case 7:case"end":return a.stop()}},e)}));return function(e){return r.apply(this,arguments)}}())),n.Iu;var r,e,t,i}function Eh(n){return n.Tu||(n.Tu=(r=n.datastore,e=n.asyncQueue,t={Xr:kre.bind(null,n),eo:Ere.bind(null,n),eu:wre.bind(null,n),tu:Cre.bind(null,n)},(i=Ut(r)).iu(),new fre(e,i.So,i.authCredentials,i.appCheckCredentials,i.M,t)),n.mu.push(function(){var r=(0,st.Z)(me().mark(function e(t){return me().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!t){a.next=6;break}return n.Tu.Fo(),a.next=4,A_(n);case 4:a.next=9;break;case 6:return a.next=8,n.Tu.stop();case 8:n.du.length>0&&(At("RemoteStore","Stopping write stream with ".concat(n.du.length," pending writes")),n.du=[]);case 9:case"end":return a.stop()}},e)}));return function(e){return r.apply(this,arguments)}}())),n.Tu;var r,e,t,i}var Dre=function(){function n(r,e,t,i,a){(0,m.Z)(this,n),this.asyncQueue=r,this.timerId=e,this.targetTimeMs=t,this.op=i,this.removalCallback=a,this.deferred=new $a,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(o){})}return(0,_.Z)(n,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout(function(){return t.handleDelayElapsed()},e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new wt(rt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then(function(t){return e.deferred.resolve(t)})):Promise.resolve()})}},{key:"clearTimeout",value:function(r){function e(){return r.apply(this,arguments)}return e.toString=function(){return r.toString()},e}(function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)})}],[{key:"createAndSchedule",value:function(e,t,i,a,o){var d=new n(e,t,Date.now()+i,a,o);return d.start(i),d}}]),n}();function R_(n,r){if(pa("AsyncQueue","".concat(r,": ").concat(n)),Ov(n))return new wt(rt.UNAVAILABLE,"".concat(r,": ").concat(n));throw n}var f6=function(){function n(r){(0,m.Z)(this,n),this.comparator=r?function(e,t){return r(e,t)||Ht.comparator(e.key,t.key)}:function(e,t){return Ht.comparator(e.key,t.key)},this.keyedMap=GP(),this.sortedSet=new Ja(this.comparator)}return(0,_.Z)(n,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal(function(t,i){return e(t),!1})}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(e){if(!(e instanceof n)||this.size!==e.size)return!1;for(var t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();t.hasNext();){var a=t.getNext().key,o=i.getNext().key;if(!a.isEqual(o))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach(function(t){e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(e,t){var i=new n;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}],[{key:"emptySet",value:function(e){return new n(e.comparator)}}]),n}(),h6=function(){function n(){(0,m.Z)(this,n),this.Eu=new Ja(Ht.comparator)}return(0,_.Z)(n,[{key:"track",value:function(e){var t=e.doc.key,i=this.Eu.get(t);i?0!==e.type&&3===i.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==i.type?this.Eu=this.Eu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Eu=this.Eu.remove(t):1===e.type&&2===i.type?this.Eu=this.Eu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):Jt():this.Eu=this.Eu.insert(t,e)}},{key:"Au",value:function(){var e=[];return this.Eu.inorderTraversal(function(t,i){e.push(i)}),e}}]),n}(),wS=function(){function n(r,e,t,i,a,o,u,d){(0,m.Z)(this,n),this.query=r,this.docs=e,this.oldDocs=t,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=d}return(0,_.Z)(n,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ok(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(var a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(e,t,i,a){var o=[];return t.forEach(function(u){o.push({type:0,doc:u})}),new n(e,t,f6.emptySet(t),o,i,a,!0,!1)}}]),n}(),Mre=(0,_.Z)(function n(){(0,m.Z)(this,n),this.Ru=void 0,this.listeners=[]}),Sre=(0,_.Z)(function n(){(0,m.Z)(this,n),this.queries=new bh(function(r){return FH(r)},Ok),this.onlineState="Unknown",this.bu=new Set});function OF(n,r){return PF.apply(this,arguments)}function PF(){return PF=(0,st.Z)(me().mark(function n(r,e){var t,i,a,o,u;return me().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(t=Ut(r),a=!1,(o=t.queries.get(i=e.query))||(a=!0,o=new Mre),!a){h.next=13;break}return h.prev=3,h.next=6,t.onListen(i);case 6:o.Ru=h.sent,h.next=13;break;case 9:return h.prev=9,h.t0=h.catch(3),u=R_(h.t0,"Initialization of query '".concat(VP(e.query),"' failed")),h.abrupt("return",void e.onError(u));case 13:t.queries.set(i,o),o.listeners.push(e),e.Pu(t.onlineState),o.Ru&&e.Vu(o.Ru)&&NF(t);case 14:case"end":return h.stop()}},n,null,[[3,9]])})),PF.apply(this,arguments)}function FF(n,r){return xF.apply(this,arguments)}function xF(){return xF=(0,st.Z)(me().mark(function n(r,e){var t,i,a,o,u;return me().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(t=Ut(r),a=!1,(o=t.queries.get(i=e.query))&&(u=o.listeners.indexOf(e))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){h.next=6;break}return h.abrupt("return",(t.queries.delete(i),t.onUnlisten(i)));case 6:case"end":return h.stop()}},n)})),xF.apply(this,arguments)}function Tre(n,r){var a,e=Ut(n),t=!1,i=(0,G.Z)(r);try{for(i.s();!(a=i.n()).done;){var o=a.value,d=e.queries.get(o.query);if(d){var v,h=(0,G.Z)(d.listeners);try{for(h.s();!(v=h.n()).done;)v.value.Vu(o)&&(t=!0)}catch(k){h.e(k)}finally{h.f()}d.Ru=o}}}catch(k){i.e(k)}finally{i.f()}t&&NF(e)}function Are(n,r,e){var t=Ut(n),i=t.queries.get(r);if(i){var o,a=(0,G.Z)(i.listeners);try{for(a.s();!(o=a.n()).done;)o.value.onError(e)}catch(d){a.e(d)}finally{a.f()}}t.queries.delete(r)}function NF(n){n.bu.forEach(function(r){r.next()})}var ZF=function(){function n(r,e,t){(0,m.Z)(this,n),this.query=r,this.vu=e,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=t||{}}return(0,_.Z)(n,[{key:"Vu",value:function(e){if(!this.options.includeMetadataChanges){var a,t=[],i=(0,G.Z)(e.docChanges);try{for(i.s();!(a=i.n()).done;){var o=a.value;3!==o.type&&t.push(o)}}catch(d){i.e(d)}finally{i.f()}e=new wS(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var u=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),u=!0):this.xu(e,this.onlineState)&&(this.Nu(e),u=!0),this.Du=e,u}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"Pu",value:function(e){this.onlineState=e;var t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}},{key:"xu",value:function(e,t){return!e.fromCache||!(this.options.ku&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}},{key:"Cu",value:function(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}},{key:"Nu",value:function(e){e=wS.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}]),n}(),Ire=function(){function n(r,e){(0,m.Z)(this,n),this.payload=r,this.byteLength=e}return(0,_.Z)(n,[{key:"Mu",value:function(){return"metadata"in this.payload}}]),n}(),p6=function(){function n(r){(0,m.Z)(this,n),this.M=r}return(0,_.Z)(n,[{key:"wi",value:function(e){return Rc(this.M,e)}},{key:"mi",value:function(e){return e.metadata.exists?uj(this.M,e.document,!1):Qa.newNoDocument(this.wi(e.metadata.name),this.gi(e.metadata.readTime))}},{key:"gi",value:function(e){return Xa(e)}}]),n}(),Rre=function(){function n(r,e,t){(0,m.Z)(this,n),this.Ou=r,this.localStore=e,this.M=t,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=v6(r)}return(0,_.Z)(n,[{key:"Fu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var i=lr.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"$u",value:function(e){var o,t=new Map,i=new p6(this.M),a=(0,G.Z)(e);try{for(a.s();!(o=a.n()).done;){var u=o.value;if(u.metadata.queries){var v,d=i.wi(u.metadata.name),h=(0,G.Z)(u.metadata.queries);try{for(h.s();!(v=h.n()).done;){var b=v.value,k=(t.get(b)||Tr()).add(d);t.set(b,k)}}catch(I){h.e(I)}finally{h.f()}}}}catch(I){a.e(I)}finally{a.f()}return t}},{key:"complete",value:(r=(0,st.Z)(me().mark(function t(){var i,a,o,u,d;return me().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,Kne(this.localStore,new p6(this.M),this.documents,this.Ou.id);case 2:i=v.sent,a=this.$u(this.documents),o=(0,G.Z)(this.queries),v.prev=5,o.s();case 7:if((u=o.n()).done){v.next=13;break}return d=u.value,v.next=11,$ne(this.localStore,d,a.get(d.name));case 11:v.next=7;break;case 13:v.next=18;break;case 15:v.prev=15,v.t0=v.catch(5),o.e(v.t0);case 18:return v.prev=18,o.f(),v.finish(18);case 21:return v.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:i}));case 22:case"end":return v.stop()}},t,this,[[5,15,18,21]])})),function e(){return r.apply(this,arguments)})}]),n;var r}();function v6(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}var g6=(0,_.Z)(function n(r){(0,m.Z)(this,n),this.key=r}),m6=(0,_.Z)(function n(r){(0,m.Z)(this,n),this.key=r}),_6=function(){function n(r,e){(0,m.Z)(this,n),this.query=r,this.Uu=e,this.qu=null,this.current=!1,this.Ku=Tr(),this.mutatedKeys=Tr(),this.Gu=NH(r),this.Qu=new f6(this.Gu)}return(0,_.Z)(n,[{key:"ju",get:function(){return this.Uu}},{key:"Wu",value:function(e,t){var i=this,a=t?t.zu:new h6,o=t?t.Qu:this.Qu,u=t?t.mutatedKeys:this.mutatedKeys,d=o,h=!1,v="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,b="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(function(I,O){var q=o.get(I),J=UP(i.query,O)?O:null,ue=!!q&&i.mutatedKeys.has(q.key),fe=!!J&&(J.hasLocalMutations||i.mutatedKeys.has(J.key)&&J.hasCommittedMutations),Oe=!1;q&&J?q.data.isEqual(J.data)?ue!==fe&&(a.track({type:3,doc:J}),Oe=!0):i.Hu(q,J)||(a.track({type:2,doc:J}),Oe=!0,(v&&i.Gu(J,v)>0||b&&i.Gu(J,b)<0)&&(h=!0)):!q&&J?(a.track({type:0,doc:J}),Oe=!0):q&&!J&&(a.track({type:1,doc:q}),Oe=!0,(v||b)&&(h=!0)),Oe&&(J?(d=d.add(J),u=fe?u.add(I):u.delete(I)):(d=d.delete(I),u=u.delete(I)))}),null!==this.query.limit)for(;d.size>this.query.limit;){var k="F"===this.query.limitType?d.last():d.first();d=d.delete(k.key),u=u.delete(k.key),a.track({type:1,doc:k})}return{Qu:d,zu:a,ii:h,mutatedKeys:u}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,i){var a=this,o=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var u=e.zu.Au();u.sort(function(b,k){return O=k.type,(q=function(ue){switch(ue){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Jt()}})(b.type)-q(O)||a.Gu(b.doc,k.doc);var O,q}),this.Ju(i);var d=t?this.Yu():[],h=0===this.Ku.size&&this.current?1:0,v=h!==this.qu;return this.qu=h,0!==u.length||v?{snapshot:new wS(this.query,e.Qu,o,u,e.mutatedKeys,0===h,v,!1),Xu:d}:{Xu:d}}},{key:"Pu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new h6,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach(function(i){return t.Uu=t.Uu.add(i)}),e.modifiedDocuments.forEach(function(i){}),e.removedDocuments.forEach(function(i){return t.Uu=t.Uu.delete(i)}),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=Tr(),this.Qu.forEach(function(a){e.Zu(a.key)&&(e.Ku=e.Ku.add(a.key))});var i=[];return t.forEach(function(a){e.Ku.has(a)||i.push(new m6(a))}),this.Ku.forEach(function(a){t.has(a)||i.push(new g6(a))}),i}},{key:"ta",value:function(e){this.Uu=e._i,this.Ku=Tr();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ea",value:function(){return wS.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}]),n}(),Ore=(0,_.Z)(function n(r,e,t){(0,m.Z)(this,n),this.query=r,this.targetId=e,this.view=t}),Pre=(0,_.Z)(function n(r){(0,m.Z)(this,n),this.key=r,this.na=!1}),Fre=function(){function n(r,e,t,i,a,o){(0,m.Z)(this,n),this.localStore=r,this.remoteStore=e,this.eventManager=t,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.sa={},this.ia=new bh(function(u){return FH(u)},Ok),this.ra=new Map,this.oa=new Set,this.ua=new Ja(Ht.comparator),this.aa=new Map,this.ca=new lF,this.ha={},this.la=new Map,this.fa=vS.yn(),this.onlineState="Unknown",this.da=void 0}return(0,_.Z)(n,[{key:"isPrimaryClient",get:function(){return!0===this.da}}]),n}();function xre(n,r){return LF.apply(this,arguments)}function LF(){return LF=(0,st.Z)(me().mark(function n(r,e){var t,i,a,o,u,d;return me().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(t=sx(r),!(o=t.ia.get(e))){v.next=6;break}t.sharedClientState.addLocalQueryTarget(i=o.targetId),a=o.view.ea(),v.next=15;break;case 6:return v.next=8,M_(t.localStore,Lu(e));case 8:return u=v.sent,t.isPrimaryClient&&bS(t.remoteStore,u),d=t.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,v.next=14,BF(t,e,i,"current"===d);case 14:a=v.sent;case 15:return v.abrupt("return",a);case 16:case"end":return v.stop()}},n)})),LF.apply(this,arguments)}function BF(n,r,e,t){return VF.apply(this,arguments)}function VF(){return VF=(0,st.Z)(me().mark(function n(r,e,t,i){var a,o,u,d,h,v;return me().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return r._a=function(I,O,q){return(J=(0,st.Z)(me().mark(function ue(fe,Oe,Ze,je){var lt,ct,vt;return me().wrap(function(tn){for(;;)switch(tn.prev=tn.next){case 0:if(lt=Oe.view.Wu(Ze),tn.t0=lt.ii,!tn.t0){tn.next=6;break}return tn.next=5,_S(fe.localStore,Oe.query,!1).then(function(An){return Oe.view.Wu(An.documents,lt)});case 5:lt=tn.sent;case 6:return ct=je&&je.targetChanges.get(Oe.targetId),vt=Oe.view.applyChanges(lt,fe.isPrimaryClient,ct),tn.abrupt("return",($F(fe,Oe.targetId,vt.Xu),vt.snapshot));case 8:case"end":return tn.stop()}},ue)})),function(ue,fe,Oe,Ze){return J.apply(this,arguments)})(r,I,O,q);var J},k.next=3,_S(r.localStore,e,!0);case 3:return o=new _6(e,(a=k.sent)._i),u=o.Wu(a.documents),d=YP.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==r.onlineState),h=o.applyChanges(u,r.isPrimaryClient,d),$F(r,t,h.Xu),v=new Ore(e,t,o),k.abrupt("return",(r.ia.set(e,v),r.ra.has(t)?r.ra.get(t).push(e):r.ra.set(t,[e]),h.snapshot));case 11:case"end":return k.stop()}},n)})),VF.apply(this,arguments)}function Nre(n,r){return UF.apply(this,arguments)}function UF(){return UF=(0,st.Z)(me().mark(function n(r,e){var t,i,a;return me().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(t=Ut(r),i=t.ia.get(e),!((a=t.ra.get(i.targetId)).length>1)){u.next=3;break}return u.abrupt("return",(t.ra.set(i.targetId,a.filter(function(d){return!Ok(d,e)})),void t.ia.delete(e)));case 3:if(!t.isPrimaryClient){u.next=11;break}if(t.sharedClientState.removeLocalQueryTarget(i.targetId),u.t0=t.sharedClientState.isActiveQueryTarget(i.targetId),u.t0){u.next=9;break}return u.next=9,S_(t.localStore,i.targetId,!1).then(function(){t.sharedClientState.clearQueryState(i.targetId),Qk(t.remoteStore,i.targetId),O_(t,i.targetId)}).catch(Lv);case 9:u.next=14;break;case 11:return O_(t,i.targetId),u.next=14,S_(t.localStore,i.targetId,!0);case 14:case"end":return u.stop()}},n)})),UF.apply(this,arguments)}function Zre(n,r,e){return HF.apply(this,arguments)}function HF(){return HF=(0,st.Z)(me().mark(function n(r,e,t){var i,a,o;return me().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return i=ux(r),d.prev=1,d.next=4,function(h,v){var O,b=Ut(h),k=Eo.now(),I=v.reduce(function(q,J){return q.add(J.key)},Tr());return b.persistence.runTransaction("Locally write mutations","readwrite",function(q){return b.fi.Ks(q,I).next(function(J){O=J;var Oe,ue=[],fe=(0,G.Z)(v);try{for(fe.s();!(Oe=fe.n()).done;){var Ze=Oe.value,je=xte(Ze,O.get(Ze.key));null!=je&&ue.push(new Rv(Ze.key,je,wH(je.value.mapValue),Zo.exists(!0)))}}catch(lt){fe.e(lt)}finally{fe.f()}return b.Bs.addMutationBatch(q,k,ue,v)})}).then(function(q){return q.applyToLocalDocumentSet(O),{batchId:q.batchId,changes:O}})}(i.localStore,e);case 4:return i.sharedClientState.addPendingMutation((a=d.sent).batchId),v=a.batchId,b=t,k=void 0,(k=(h=i).ha[h.currentUser.toKey()])||(k=new Ja(Ln)),k=k.insert(v,b),h.ha[h.currentUser.toKey()]=k,d.next=9,Vd(i,a.changes);case 9:return d.next=11,A_(i.remoteStore);case 11:d.next=17;break;case 13:d.prev=13,d.t0=d.catch(1),o=R_(d.t0,"Failed to persist write"),t.reject(o);case 17:case"end":return d.stop()}var h,v,b,k},n,null,[[1,13]])})),HF.apply(this,arguments)}function y6(n,r){return jF.apply(this,arguments)}function jF(){return jF=(0,st.Z)(me().mark(function n(r,e){var t,i;return me().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=Ut(r),o.prev=1,o.next=4,Wne(t.localStore,e);case 4:return i=o.sent,e.targetChanges.forEach(function(u,d){var h=t.aa.get(d);h&&(kn(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?h.na=!0:u.modifiedDocuments.size>0?kn(h.na):u.removedDocuments.size>0&&(kn(h.na),h.na=!1))}),o.next=8,Vd(t,i,e);case 8:o.next=14;break;case 10:return o.prev=10,o.t0=o.catch(1),o.next=14,Lv(o.t0);case 14:case"end":return o.stop()}},n,null,[[1,10]])})),jF.apply(this,arguments)}function b6(n,r,e){var t=Ut(n);if(t.isPrimaryClient&&0===e||!t.isPrimaryClient&&1===e){var i=[];t.ia.forEach(function(a,o){var u=o.view.Pu(r);u.snapshot&&i.push(u.snapshot)}),function(a,o){var u=Ut(a);u.onlineState=o;var d=!1;u.queries.forEach(function(h,v){var k,b=(0,G.Z)(v.listeners);try{for(b.s();!(k=b.n()).done;)k.value.Pu(o)&&(d=!0)}catch(O){b.e(O)}finally{b.f()}}),d&&NF(u)}(t.eventManager,r),i.length&&t.sa.zo(i),t.onlineState=r,t.isPrimaryClient&&t.sharedClientState.setOnlineState(r)}}function Lre(n,r,e){return GF.apply(this,arguments)}function GF(){return GF=(0,st.Z)(me().mark(function n(r,e,t){var i,a,o,u,d,h;return me().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if((i=Ut(r)).sharedClientState.updateQueryState(e,"rejected",t),a=i.aa.get(e),!(o=a&&a.key)){b.next=14;break}return u=(u=new Ja(Ht.comparator)).insert(o,Qa.newNoDocument(o,Mn.min())),d=Tr().add(o),h=new zP(Mn.min(),new Map,new Li(Ln),u,d),b.next=9,y6(i,h);case 9:i.ua=i.ua.remove(o),i.aa.delete(e),QF(i),b.next=16;break;case 14:return b.next=16,S_(i.localStore,e,!1).then(function(){return O_(i,e,t)}).catch(Lv);case 16:case"end":return b.stop()}},n)})),GF.apply(this,arguments)}function Bre(n,r){return zF.apply(this,arguments)}function zF(){return zF=(0,st.Z)(me().mark(function n(r,e){var t,i,a;return me().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return t=Ut(r),i=e.batch.batchId,u.prev=1,u.next=4,Yne(t.localStore,e);case 4:return a=u.sent,KF(t,i,null),qF(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),u.next=10,Vd(t,a);case 10:u.next=16;break;case 12:return u.prev=12,u.t0=u.catch(1),u.next=16,Lv(u.t0);case 16:case"end":return u.stop()}},n,null,[[1,12]])})),zF.apply(this,arguments)}function Vre(n,r,e){return YF.apply(this,arguments)}function YF(){return YF=(0,st.Z)(me().mark(function n(r,e,t){var i,a;return me().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return i=Ut(r),u.prev=1,u.next=4,function(d,h){var v=Ut(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",function(b){var k;return v.Bs.lookupMutationBatch(b,h).next(function(I){return kn(null!==I),k=I.keys(),v.Bs.removeMutationBatch(b,I)}).next(function(){return v.Bs.performConsistencyCheck(b)}).next(function(){return v.fi.Ks(b,k)})})}(i.localStore,e);case 4:return a=u.sent,KF(i,e,t),qF(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),u.next=10,Vd(i,a);case 10:u.next=16;break;case 12:return u.prev=12,u.t0=u.catch(1),u.next=16,Lv(u.t0);case 16:case"end":return u.stop()}},n,null,[[1,12]])})),YF.apply(this,arguments)}function Ure(n,r){return WF.apply(this,arguments)}function WF(){return WF=(0,st.Z)(me().mark(function n(r,e){var t,i,a,o;return me().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return Ch((t=Ut(r)).remoteStore)||At("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),d.prev=2,d.next=5,function(h){var v=Ut(h);return v.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(b){return v.Bs.getHighestUnacknowledgedBatchId(b)})}(t.localStore);case 5:if(-1!==(i=d.sent)){d.next=8;break}return d.abrupt("return",void e.resolve());case 8:(a=t.la.get(i)||[]).push(e),t.la.set(i,a),d.next=16;break;case 12:d.prev=12,d.t0=d.catch(2),o=R_(d.t0,"Initialization of waitForPendingWrites() operation failed"),e.reject(o);case 16:case"end":return d.stop()}},n,null,[[2,12]])})),WF.apply(this,arguments)}function qF(n,r){(n.la.get(r)||[]).forEach(function(e){e.resolve()}),n.la.delete(r)}function KF(n,r,e){var t=Ut(n),i=t.ha[t.currentUser.toKey()];if(i){var a=i.get(r);a&&(e?a.reject(e):a.resolve(),i=i.remove(r)),t.ha[t.currentUser.toKey()]=i}}function O_(n,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;n.sharedClientState.removeLocalQueryTarget(r);var i,t=(0,G.Z)(n.ra.get(r));try{for(t.s();!(i=t.n()).done;){var a=i.value;n.ia.delete(a),e&&n.sa.wa(a,e)}}catch(o){t.e(o)}finally{t.f()}n.ra.delete(r),n.isPrimaryClient&&n.ca.vi(r).forEach(function(o){n.ca.containsKey(o)||k6(n,o)})}function k6(n,r){n.oa.delete(r.path.canonicalString());var e=n.ua.get(r);null!==e&&(Qk(n.remoteStore,e),n.ua=n.ua.remove(r),n.aa.delete(e),QF(n))}function $F(n,r,e){var i,t=(0,G.Z)(e);try{for(t.s();!(i=t.n()).done;){var a=i.value;a instanceof g6?(n.ca.addReference(a.key,r),Hre(n,a)):a instanceof m6?(At("SyncEngine","Document no longer in limbo: "+a.key),n.ca.removeReference(a.key,r),n.ca.containsKey(a.key)||k6(n,a.key)):Jt()}}catch(o){t.e(o)}finally{t.f()}}function Hre(n,r){var e=r.key,t=e.path.canonicalString();n.ua.get(e)||n.oa.has(t)||(At("SyncEngine","New document in limbo: "+e),n.oa.add(t),QF(n))}function QF(n){for(;n.oa.size>0&&n.ua.size<n.maxConcurrentLimboResolutions;){var r=n.oa.values().next().value;n.oa.delete(r);var e=new Ht(lr.fromString(r)),t=n.fa.next();n.aa.set(t,new Pre(e)),n.ua=n.ua.insert(e,t),bS(n.remoteStore,new lS(Lu(g_(e.path)),t,2,ou.A))}}function Vd(n,r,e){return JF.apply(this,arguments)}function JF(){return JF=(0,st.Z)(me().mark(function n(r,e,t){var i,a,o,u;return me().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(i=Ut(r),a=[],o=[],u=[],h.t0=i.ia.isEmpty(),h.t0){h.next=9;break}return i.ia.forEach(function(v,b){u.push(i._a(b,e,t).then(function(k){if(k){i.isPrimaryClient&&i.sharedClientState.updateQueryState(b.targetId,k.fromCache?"not-current":"current"),a.push(k);var I=Gne.Ys(b.targetId,k);o.push(I)}}))}),h.next=6,Promise.all(u);case 6:return i.sa.zo(a),h.next=9,function(){var v=(0,st.Z)(me().mark(function b(k,I){var O,q,J,ue,fe,Oe,je;return me().wrap(function(ct){for(;;)switch(ct.prev=ct.next){case 0:return O=Ut(k),ct.prev=1,ct.next=4,O.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(vt){return ut.forEach(I,function(dn){return ut.forEach(dn.Hs,function(tn){return O.persistence.referenceDelegate.addReference(vt,dn.targetId,tn)}).next(function(){return ut.forEach(dn.Js,function(tn){return O.persistence.referenceDelegate.removeReference(vt,dn.targetId,tn)})})})});case 4:ct.next=11;break;case 6:if(ct.prev=6,ct.t0=ct.catch(1),Ov(ct.t0)){ct.next=10;break}throw ct.t0;case 10:At("LocalStore","Failed to update sequence numbers: "+ct.t0);case 11:q=(0,G.Z)(I);try{for(q.s();!(J=q.n()).done;)fe=(ue=J.value).targetId,ue.fromCache||(Oe=O.ui.get(fe),je=Oe.withLastLimboFreeSnapshotVersion(Oe.snapshotVersion),O.ui=O.ui.insert(fe,je))}catch(vt){q.e(vt)}finally{q.f()}case 13:case"end":return ct.stop()}},b,null,[[1,6]])}));return function(b,k){return v.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return h.stop()}},n)})),JF.apply(this,arguments)}function jre(n,r){return XF.apply(this,arguments)}function XF(){return XF=(0,st.Z)(me().mark(function n(r,e){var t,i;return me().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if((t=Ut(r)).currentUser.isEqual(e)){o.next=11;break}return At("SyncEngine","User change. New user:",e.toKey()),o.next=5,Yj(t.localStore,e);case 5:return i=o.sent,t.currentUser=e,(u=t).la.forEach(function(h){h.forEach(function(v){v.reject(new wt(rt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.la.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),o.next=11,Vd(t,i.di);case 11:case"end":return o.stop()}var u},n)})),XF.apply(this,arguments)}function Gre(n,r){var e=Ut(n),t=e.aa.get(r);if(t&&t.na)return Tr().add(t.key);var i=Tr(),a=e.ra.get(r);if(!a)return i;var u,o=(0,G.Z)(a);try{for(o.s();!(u=o.n()).done;){var h=e.ia.get(u.value);i=i.unionWith(h.view.ju)}}catch(v){o.e(v)}finally{o.f()}return i}function zre(n,r){return ex.apply(this,arguments)}function ex(){return ex=(0,st.Z)(me().mark(function n(r,e){var t,a;return me().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return t=Ut(r),u.next=3,_S(t.localStore,e.query,!0);case 3:return a=e.view.ta(u.sent),u.abrupt("return",(t.isPrimaryClient&&$F(t,e.targetId,a.Xu),a));case 6:case"end":return u.stop()}},n)})),ex.apply(this,arguments)}function Yre(n,r){return tx.apply(this,arguments)}function tx(){return tx=(0,st.Z)(me().mark(function n(r,e){var t;return me().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=Ut(r),a.abrupt("return",$j(t.localStore,e).then(function(o){return Vd(t,o)}));case 2:case"end":return a.stop()}},n)})),tx.apply(this,arguments)}function Wre(n,r,e,t){return nx.apply(this,arguments)}function nx(){return nx=(0,st.Z)(me().mark(function n(r,e,t,i){var a,o;return me().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return a=Ut(r),d.next=3,function(h,v){var b=Ut(h),k=Ut(b.Bs);return b.persistence.runTransaction("Lookup mutation documents","readonly",function(I){return k.fn(I,v).next(function(O){return O?b.fi.Ks(I,O):ut.resolve(null)})})}(a.localStore,e);case 3:if(null===(o=d.sent)){d.next=15;break}if("pending"!==t){d.next=10;break}return d.next=8,A_(a.remoteStore);case 8:d.next=11;break;case 10:"acknowledged"===t||"rejected"===t?(KF(a,e,i||null),qF(a,e),v=e,Ut(Ut(a.localStore).Bs)._n(v)):Jt();case 11:return d.next=13,Vd(a,o);case 13:d.next=16;break;case 15:At("SyncEngine","Cannot apply mutation batch with id: "+e);case 16:case"end":return d.stop()}var v},n)})),nx.apply(this,arguments)}function qre(n,r){return rx.apply(this,arguments)}function rx(){return rx=(0,st.Z)(me().mark(function n(r,e){var t,i,a,o,u,h,v;return me().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if(sx(t=Ut(r)),ux(t),!0!==e||!0===t.da){k.next=13;break}return i=t.sharedClientState.getAllActiveQueryTargets(),k.next=5,w6(t,i.toArray());case 5:return a=k.sent,t.da=!0,k.next=9,IF(t.remoteStore,!0);case 9:o=(0,G.Z)(a);try{for(o.s();!(u=o.n()).done;)bS(t.remoteStore,u.value)}catch(I){o.e(I)}finally{o.f()}k.next=25;break;case 13:if(!1!==e||!1===t.da){k.next=25;break}return h=[],v=Promise.resolve(),t.ra.forEach(function(I,O){t.sharedClientState.isLocalQueryTarget(O)?h.push(O):v=v.then(function(){return O_(t,O),S_(t.localStore,O,!0)}),Qk(t.remoteStore,O)}),k.next=19,v;case 19:return k.next=21,w6(t,h);case 21:return function(I){var O=Ut(I);O.aa.forEach(function(q,J){Qk(O.remoteStore,J)}),O.ca.Si(),O.aa=new Map,O.ua=new Ja(Ht.comparator)}(t),t.da=!1,k.next=25,IF(t.remoteStore,!1);case 25:case"end":return k.stop()}},n)})),rx.apply(this,arguments)}function w6(n,r,e){return ix.apply(this,arguments)}function ix(){return ix=(0,st.Z)(me().mark(function n(r,e,t){var i,a,o,u,d,h,v,b,k,I,q,J,ue;return me().wrap(function(Oe){for(;;)switch(Oe.prev=Oe.next){case 0:i=Ut(r),a=[],o=[],u=(0,G.Z)(e),Oe.prev=2,u.s();case 4:if((d=u.n()).done){Oe.next=45;break}if(v=void 0,!(b=i.ra.get(h=d.value))||0===b.length){Oe.next=34;break}return Oe.next=11,M_(i.localStore,Lu(b[0]));case 11:v=Oe.sent,k=(0,G.Z)(b),Oe.prev=13,k.s();case 15:if((I=k.n()).done){Oe.next=24;break}return q=i.ia.get(I.value),Oe.next=20,zre(i,q);case 20:(J=Oe.sent).snapshot&&o.push(J.snapshot);case 22:Oe.next=15;break;case 24:Oe.next=29;break;case 26:Oe.prev=26,Oe.t0=Oe.catch(13),k.e(Oe.t0);case 29:return Oe.prev=29,k.f(),Oe.finish(29);case 32:Oe.next=42;break;case 34:return Oe.next=36,Kj(i.localStore,h);case 36:return ue=Oe.sent,Oe.next=39,M_(i.localStore,ue);case 39:return v=Oe.sent,Oe.next=42,BF(i,C6(ue),h,!1);case 42:a.push(v);case 43:Oe.next=4;break;case 45:Oe.next=50;break;case 47:Oe.prev=47,Oe.t1=Oe.catch(2),u.e(Oe.t1);case 50:return Oe.prev=50,u.f(),Oe.finish(50);case 53:return Oe.abrupt("return",(i.sa.zo(o),a));case 54:case"end":return Oe.stop()}},n,null,[[2,47,50,53],[13,26,29,32]])})),ix.apply(this,arguments)}function C6(n){return OH(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Kre(n){var r=Ut(n);return Ut(Ut(r.localStore).persistence).Fs()}function $re(n,r,e,t){return ax.apply(this,arguments)}function ax(){return ax=(0,st.Z)(me().mark(function n(r,e,t,i){var a,o,u,d;return me().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(!(a=Ut(r)).da){v.next=3;break}return v.abrupt("return",void At("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ra.get(e))&&o.length>0)){v.next=20;break}v.t0=t,v.next="current"===v.t0||"not-current"===v.t0?8:"rejected"===v.t0?15:19;break;case 8:return v.next=10,$j(a.localStore,xH(o[0]));case 10:return u=v.sent,d=zP.createSynthesizedRemoteEventForCurrentChange(e,"current"===t),v.next=14,Vd(a,u,d);case 14:return v.abrupt("break",20);case 15:return v.next=17,S_(a.localStore,e,!0);case 17:return O_(a,e,i),v.abrupt("break",20);case 19:Jt();case 20:case"end":return v.stop()}},n)})),ax.apply(this,arguments)}function Qre(n,r,e){return ox.apply(this,arguments)}function ox(){return ox=(0,st.Z)(me().mark(function n(r,e,t){var i,a,o,u,d,h,v,b,k;return me().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(!(i=sx(r)).da){O.next=45;break}a=(0,G.Z)(e),O.prev=3,a.s();case 5:if((o=a.n()).done){O.next=21;break}if(!i.ra.has(u=o.value)){O.next=10;break}return At("SyncEngine","Adding an already active target "+u),O.abrupt("continue",19);case 10:return O.next=12,Kj(i.localStore,u);case 12:return d=O.sent,O.next=15,M_(i.localStore,d);case 15:return h=O.sent,O.next=18,BF(i,C6(d),h.targetId,!1);case 18:bS(i.remoteStore,h);case 19:O.next=5;break;case 21:O.next=26;break;case 23:O.prev=23,O.t0=O.catch(3),a.e(O.t0);case 26:return O.prev=26,a.f(),O.finish(26);case 29:v=(0,G.Z)(t),O.prev=30,k=me().mark(function q(){var J;return me().wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:if(fe.t0=i.ra.has(J=b.value),!fe.t0){fe.next=5;break}return fe.next=5,S_(i.localStore,J,!1).then(function(){Qk(i.remoteStore,J),O_(i,J)}).catch(Lv);case 5:case"end":return fe.stop()}},q)}),v.s();case 33:if((b=v.n()).done){O.next=37;break}return O.delegateYield(k(),"t1",35);case 35:O.next=33;break;case 37:O.next=42;break;case 39:O.prev=39,O.t2=O.catch(30),v.e(O.t2);case 42:return O.prev=42,v.f(),O.finish(42);case 45:case"end":return O.stop()}},n,null,[[3,23,26,29],[30,39,42,45]])})),ox.apply(this,arguments)}function sx(n){var r=Ut(n);return r.remoteStore.remoteSyncer.applyRemoteEvent=y6.bind(null,r),r.remoteStore.remoteSyncer.getRemoteKeysForTarget=Gre.bind(null,r),r.remoteStore.remoteSyncer.rejectListen=Lre.bind(null,r),r.sa.zo=Tre.bind(null,r.eventManager),r.sa.wa=Are.bind(null,r.eventManager),r}function ux(n){var r=Ut(n);return r.remoteStore.remoteSyncer.applySuccessfulWrite=Bre.bind(null,r),r.remoteStore.remoteSyncer.rejectFailedWrite=Vre.bind(null,r),r}function Jre(n,r,e){var i,t=Ut(n);(i=(0,st.Z)(me().mark(function a(o,u,d){var h,v,b,k,I;return me().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return q.prev=0,q.next=3,u.getMetadata();case 3:return h=q.sent,q.next=6,function(J,ue){var fe=Ut(J),Oe=Xa(ue.createTime);return fe.persistence.runTransaction("hasNewerBundle","readonly",function(Ze){return fe._s.getBundleMetadata(Ze,ue.id)}).then(function(Ze){return!!Ze&&Ze.createTime.compareTo(Oe)>=0})}(o.localStore,h);case 6:if(!q.sent){q.next=11;break}return q.next=9,u.close();case 9:return d._completeWith({taskState:"Success",documentsLoaded:(J=h).totalDocuments,bytesLoaded:J.totalBytes,totalDocuments:J.totalDocuments,totalBytes:J.totalBytes}),q.abrupt("return",Promise.resolve(new Set));case 11:return d._updateProgress(v6(h)),v=new Rre(h,o.localStore,u.M),q.next=15,u.ma();case 15:b=q.sent;case 16:if(!b){q.next=26;break}return q.next=19,v.Fu(b);case 19:return(k=q.sent)&&d._updateProgress(k),q.next=23,u.ma();case 23:b=q.sent;case 24:q.next=16;break;case 26:return q.next=28,v.complete();case 28:return I=q.sent,q.next=31,Vd(o,I.Lu,void 0);case 31:return q.next=33,function(J,ue){var fe=Ut(J);return fe.persistence.runTransaction("Save bundle","readwrite",function(Oe){return fe._s.saveBundleMetadata(Oe,ue)})}(o.localStore,h);case 33:return d._completeWith(I.progress),q.abrupt("return",Promise.resolve(I.Bu));case 37:return q.prev=37,q.t0=q.catch(0),q.abrupt("return",(Ek("SyncEngine","Loading bundle failed with ".concat(q.t0)),d._failWith(q.t0),Promise.resolve(new Set)));case 40:case"end":return q.stop()}var J},a,null,[[0,37]])})),function(a,o,u){return i.apply(this,arguments)})(t,r,e).then(function(i){t.sharedClientState.notifyBundleLoaded(i)})}var E6=function(){function n(){(0,m.Z)(this,n),this.synchronizeTabs=!1}return(0,_.Z)(n,[{key:"initialize",value:(r=(0,st.Z)(me().mark(function t(i){return me().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return this.M=Kk(i.databaseInfo.databaseId),this.sharedClientState=this.ga(i),this.persistence=this.ya(i),o.next=5,this.persistence.start();case 5:this.gcScheduler=this.pa(i),this.localStore=this.Ia(i);case 7:case"end":return o.stop()}},t,this)})),function e(t){return r.apply(this,arguments)})},{key:"pa",value:function(e){return null}},{key:"Ia",value:function(e){return zj(this.persistence,new Gj,e.initialUser,this.M)}},{key:"ya",value:function(e){return new rre(are.Yi,this.M)}},{key:"ga",value:function(e){return new n6}},{key:"terminate",value:function(){var r=(0,st.Z)(me().mark(function t(){return me().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),a.next=3,this.sharedClientState.shutdown();case 3:return a.next=5,this.persistence.shutdown();case 5:case"end":return a.stop()}},t,this)}));return function e(){return r.apply(this,arguments)}}()}]),n;var r}(),D6=function(n){(0,P.Z)(e,n);var t,r=(0,N.Z)(e);function e(t,i,a){var o;return(0,m.Z)(this,e),(o=r.call(this)).Ta=t,o.cacheSizeBytes=i,o.forceOwnership=a,o.synchronizeTabs=!1,o}return(0,_.Z)(e,[{key:"initialize",value:(t=(0,st.Z)(me().mark(function a(o){var u=this;return me().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,(0,X.Z)((0,ne.Z)(e.prototype),"initialize",this).call(this,o);case 2:return h.next=4,this.Ta.initialize(this,o);case 4:return h.next=6,ux(this.Ta.syncEngine);case 6:return h.next=8,A_(this.Ta.remoteStore);case 8:return h.next=10,this.persistence.Ts(function(){return u.gcScheduler&&!u.gcScheduler.started&&u.gcScheduler.start(u.localStore),Promise.resolve()});case 10:case"end":return h.stop()}},a,this)})),function i(a){return t.apply(this,arguments)})},{key:"Ia",value:function(i){return zj(this.persistence,new Gj,i.initialUser,this.M)}},{key:"pa",value:function(i){return new Nne(this.persistence.referenceDelegate.garbageCollector,i.asyncQueue)}},{key:"ya",value:function(i){var a=iF(i.databaseInfo.databaseId,i.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?Pc.withCacheSize(this.cacheSizeBytes):Pc.DEFAULT;return new Hne(this.synchronizeTabs,a,i.clientId,o,i.asyncQueue,i6(),yS(),this.M,this.sharedClientState,!!this.forceOwnership)}},{key:"ga",value:function(i){return new n6}}]),e}(E6),Xre=function(n){(0,P.Z)(e,n);var t,r=(0,N.Z)(e);function e(t,i){var a;return(0,m.Z)(this,e),(a=r.call(this,t,i,!1)).Ta=t,a.cacheSizeBytes=i,a.synchronizeTabs=!0,a}return(0,_.Z)(e,[{key:"initialize",value:(t=(0,st.Z)(me().mark(function a(o){var d,u=this;return me().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,(0,X.Z)((0,ne.Z)(e.prototype),"initialize",this).call(this,o);case 2:if(d=this.Ta.syncEngine,v.t0=this.sharedClientState instanceof hF,!v.t0){v.next=8;break}return this.sharedClientState.syncEngine={$r:Wre.bind(null,d),Br:$re.bind(null,d),Lr:Qre.bind(null,d),Fs:Kre.bind(null,d),Fr:Yre.bind(null,d)},v.next=8,this.sharedClientState.start();case 8:return v.next=10,this.persistence.Ts(function(){var b=(0,st.Z)(me().mark(function k(I){return me().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return q.next=2,qre(u.Ta.syncEngine,I);case 2:u.gcScheduler&&(I&&!u.gcScheduler.started?u.gcScheduler.start(u.localStore):I||u.gcScheduler.stop());case 3:case"end":return q.stop()}},k)}));return function(k){return b.apply(this,arguments)}}());case 10:case"end":return v.stop()}},a,this)})),function i(a){return t.apply(this,arguments)})},{key:"ga",value:function(i){var a=i6();if(!hF.vt(a))throw new wt(rt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var o=iF(i.databaseInfo.databaseId,i.databaseInfo.persistenceKey);return new hF(a,i.asyncQueue,o,i.clientId,i.initialUser)}}]),e}(D6),lx=function(){function n(){(0,m.Z)(this,n)}return(0,_.Z)(n,[{key:"initialize",value:(r=(0,st.Z)(me().mark(function t(i,a){var o=this;return me().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(d.t0=this.localStore,d.t0){d.next=12;break}return this.localStore=i.localStore,this.sharedClientState=i.sharedClientState,this.datastore=this.createDatastore(a),this.remoteStore=this.createRemoteStore(a),this.eventManager=this.createEventManager(a),this.syncEngine=this.createSyncEngine(a,!i.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(h){return b6(o.syncEngine,h,1)},this.remoteStore.remoteSyncer.handleCredentialChange=jre.bind(null,this.syncEngine),d.next=12,IF(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return d.stop()}},t,this)})),function e(t,i){return r.apply(this,arguments)})},{key:"createEventManager",value:function(e){return new Sre}},{key:"createDatastore",value:function(e){var t=Kk(e.databaseInfo.databaseId),i=new cre(e.databaseInfo);return new hre(e.authCredentials,e.appCheckCredentials,i,t)}},{key:"createRemoteStore",value:function(e){var i,a,o,u,d,t=this;return i=this.localStore,a=this.datastore,o=e.asyncQueue,u=function(v){return b6(t.syncEngine,v,0)},d=r6.vt()?new r6:new sre,new vre(i,a,o,u,d)}},{key:"createSyncEngine",value:function(e,t){return v=t,b=new Fre(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions),v&&(b.da=!0),b;var v,b}},{key:"terminate",value:function(){return(e=(0,st.Z)(me().mark(function t(i){var a;return me().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return a=Ut(i),At("RemoteStore","RemoteStore shutting down."),a.wu.add(5),u.next=5,T_(a);case 5:a.gu.shutdown(),a.yu.set("Unknown");case 7:case"end":return u.stop()}},t)})),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}]),n;var r}();function M6(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,e=0;return{read:function(){return(0,st.Z)(me().mark(function i(){var a;return me().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!(e<n.byteLength)){u.next=3;break}return a={value:n.slice(e,e+r),done:!1},u.abrupt("return",(e+=r,a));case 3:return u.abrupt("return",{done:!0});case 4:case"end":return u.stop()}},i)}))()},cancel:function(){return(0,st.Z)(me().mark(function i(){return me().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:case"end":return o.stop()}},i)}))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var CS=function(){function n(r){(0,m.Z)(this,n),this.observer=r,this.muted=!1}return(0,_.Z)(n,[{key:"next",value:function(e){this.observer.next&&this.Ea(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Aa",value:function(){this.muted=!0}},{key:"Ea",value:function(e,t){var i=this;this.muted||setTimeout(function(){i.muted||e(t)},0)}}]),n}(),eie=function(){function n(r,e){var t=this;(0,m.Z)(this,n),this.Ra=r,this.M=e,this.metadata=new $a,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then(function(i){i&&i.Mu()?t.metadata.resolve(i.payload.metadata):t.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==i?void 0:i.payload))))},function(i){return t.metadata.reject(i)})}return(0,_.Z)(n,[{key:"close",value:function(){return this.Ra.cancel()}},{key:"getMetadata",value:(r=(0,st.Z)(me().mark(function t(){return me().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",this.metadata.promise);case 1:case"end":return a.stop()}},t,this)})),function e(){return r.apply(this,arguments)})},{key:"ma",value:function(){var r=(0,st.Z)(me().mark(function t(){return me().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.getMetadata();case 2:return a.abrupt("return",this.Pa());case 3:case"end":return a.stop()}},t,this)}));return function e(){return r.apply(this,arguments)}}()},{key:"Pa",value:function(){var r=(0,st.Z)(me().mark(function t(){var i,a,o;return me().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,this.Va();case 2:if(null!==(i=h.sent)){h.next=5;break}return h.abrupt("return",null);case 5:return a=this.ba.decode(i),o=Number(a),isNaN(o)&&this.va("length string (".concat(a,") is not valid number")),h.next=9,this.Sa(o);case 9:return h.abrupt("return",new Ire(JSON.parse(h.sent),i.length+o));case 11:case"end":return h.stop()}},t,this)}));return function e(){return r.apply(this,arguments)}}()},{key:"Da",value:function(){return this.buffer.findIndex(function(e){return e==="{".charCodeAt(0)})}},{key:"Va",value:function(){var r=(0,st.Z)(me().mark(function t(){var i,a;return me().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!(this.Da()<0)){u.next=7;break}return u.next=3,this.Ca();case 3:if(!u.sent){u.next=5;break}return u.abrupt("break",7);case 5:u.next=0;break;case 7:if(0!==this.buffer.length){u.next=9;break}return u.abrupt("return",null);case 9:return(i=this.Da())<0&&this.va("Reached the end of bundle when a length string is expected."),a=this.buffer.slice(0,i),u.abrupt("return",(this.buffer=this.buffer.slice(i),a));case 13:case"end":return u.stop()}},t,this)}));return function e(){return r.apply(this,arguments)}}()},{key:"Sa",value:function(){var r=(0,st.Z)(me().mark(function t(i){var a;return me().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!(this.buffer.length<i)){u.next=8;break}return u.next=3,this.Ca();case 3:if(u.t0=u.sent,!u.t0){u.next=6;break}this.va("Reached the end of bundle when more is expected.");case 6:u.next=0;break;case 8:return a=this.ba.decode(this.buffer.slice(0,i)),u.abrupt("return",(this.buffer=this.buffer.slice(i),a));case 10:case"end":return u.stop()}},t,this)}));return function e(t){return r.apply(this,arguments)}}()},{key:"va",value:function(e){throw this.Ra.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Ca",value:function(){var r=(0,st.Z)(me().mark(function t(){var i,a;return me().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,this.Ra.read();case 2:return(i=u.sent).done||((a=new Uint8Array(this.buffer.length+i.value.length)).set(this.buffer),a.set(i.value,this.buffer.length),this.buffer=a),u.abrupt("return",i.done);case 5:case"end":return u.stop()}},t,this)}));return function e(){return r.apply(this,arguments)}}()}]),n;var r}(),tie=function(){function n(r){(0,m.Z)(this,n),this.datastore=r,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return(0,_.Z)(n,[{key:"lookup",value:(r=(0,st.Z)(me().mark(function t(i){var o,a=this;return me().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){d.next=2;break}throw new wt(rt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return d.next=4,function(){var h=(0,st.Z)(me().mark(function v(b,k){var I,O,q,J,ue,fe;return me().wrap(function(Ze){for(;;)switch(Ze.prev=Ze.next){case 0:return I=Ut(b),O=Bk(I.M)+"/documents",q={documents:k.map(function(je){return Lk(I.M,je)})},Ze.next=5,I._o("BatchGetDocuments",O,q);case 5:return J=Ze.sent,ue=new Map,J.forEach(function(je){var lt=Wte(I.M,je);ue.set(lt.key.toString(),lt)}),fe=[],Ze.abrupt("return",(k.forEach(function(je){var lt=ue.get(je.toString());kn(!!lt),fe.push(lt)}),fe));case 10:case"end":return Ze.stop()}},v)}));return function(v,b){return h.apply(this,arguments)}}()(this.datastore,i);case 4:return d.abrupt("return",((o=d.sent).forEach(function(h){return a.recordVersion(h)}),o));case 6:case"end":return d.stop()}},t,this)})),function e(t){return r.apply(this,arguments)})},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new xk(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var r=(0,st.Z)(me().mark(function t(){var a,i=this;return me().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){u.next=2;break}throw this.lastWriteError;case 2:return a=this.readVersions,this.mutations.forEach(function(d){a.delete(d.key.toString())}),a.forEach(function(d,h){var v=Ht.fromPath(h);i.mutations.push(new jP(v,i.precondition(v)))}),u.next=7,function(){var d=(0,st.Z)(me().mark(function h(v,b){var k,I,O;return me().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return k=Ut(v),I=Bk(k.M)+"/documents",O={writes:b.map(function(ue){return Vk(k.M,ue)})},J.next=3,k.co("Commit",I,O);case 3:case"end":return J.stop()}},h)}));return function(h,v){return d.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return u.stop()}},t,this)}));return function e(){return r.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Jt();t=Mn.min()}var i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new wt(rt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Zo.updateTime(t):Zo.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Mn.min()))throw new wt(rt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Zo.updateTime(t)}return Zo.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),n;var r}(),nie=function(){function n(r,e,t,i,a){(0,m.Z)(this,n),this.asyncQueue=r,this.datastore=e,this.options=t,this.updateFunction=i,this.deferred=a,this.xa=t.maxAttempts,this.No=new pF(this.asyncQueue,"transaction_retry")}return(0,_.Z)(n,[{key:"run",value:function(){this.xa-=1,this.Na()}},{key:"Na",value:function(){var e=this;this.No.Ro((0,st.Z)(me().mark(function t(){var i,a;return me().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:i=new tie(e.datastore),(a=e.ka(i))&&a.then(function(d){e.asyncQueue.enqueueAndForget(function(){return i.commit().then(function(){e.deferred.resolve(d)}).catch(function(h){e.Ma(h)})})}).catch(function(d){e.Ma(d)});case 2:case"end":return u.stop()}},t)})))}},{key:"ka",value:function(e){try{var t=this.updateFunction(e);return!Mk(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}},{key:"Ma",value:function(e){var t=this;this.xa>0&&this.Oa(e)?(this.xa-=1,this.asyncQueue.enqueueAndForget(function(){return t.Na(),Promise.resolve()})):this.deferred.reject(e)}},{key:"Oa",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!$H(t)}return!1}}]),n}(),rie=function(){function n(r,e,t,i){var a=this;(0,m.Z)(this,n),this.authCredentials=r,this.appCheckCredentials=e,this.asyncQueue=t,this.databaseInfo=i,this.user=Co.UNAUTHENTICATED,this.clientId=lH.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(t,function(){var o=(0,st.Z)(me().mark(function u(d){return me().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return At("FirestoreClient","Received user=",d.uid),v.next=3,a.authCredentialListener(d);case 3:a.user=d;case 4:case"end":return v.stop()}},u)}));return function(u){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(t,function(o){return At("FirestoreClient","Received new app check token=",o),a.appCheckCredentialListener(o,a.user)})}return(0,_.Z)(n,[{key:"getConfiguration",value:(r=(0,st.Z)(me().mark(function t(){return me().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return a.stop()}},t,this)})),function e(){return r.apply(this,arguments)})},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new wt(rt.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new $a;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,st.Z)(me().mark(function i(){var a;return me().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(u.prev=0,u.t0=e.onlineComponents,!u.t0){u.next=5;break}return u.next=5,e.onlineComponents.terminate();case 5:if(u.t1=e.offlineComponents,!u.t1){u.next=9;break}return u.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),u.next=18;break;case 14:u.prev=14,u.t2=u.catch(0),a=R_(u.t2,"Failed to shutdown persistence"),t.reject(a);case 18:case"end":return u.stop()}},i,null,[[0,14]])}))),t.promise}}]),n;var r}();function S6(n,r){return cx.apply(this,arguments)}function cx(){return cx=(0,st.Z)(me().mark(function n(r,e){var t,i;return me().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return r.asyncQueue.verifyOperationInProgress(),At("FirestoreClient","Initializing OfflineComponentProvider"),o.next=3,r.getConfiguration();case 3:return t=o.sent,o.next=6,e.initialize(t);case 6:i=t.initialUser,r.setCredentialChangeListener(function(){var u=(0,st.Z)(me().mark(function d(h){return me().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(b.t0=i.isEqual(h),b.t0){b.next=5;break}return b.next=4,Yj(e.localStore,h);case 4:i=h;case 5:case"end":return b.stop()}},d)}));return function(d){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(function(){return r.terminate()}),r.offlineComponents=e;case 8:case"end":return o.stop()}},n)})),cx.apply(this,arguments)}function T6(n,r){return dx.apply(this,arguments)}function dx(){return dx=(0,st.Z)(me().mark(function n(r,e){var t,i;return me().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return r.asyncQueue.verifyOperationInProgress(),o.next=3,fx(r);case 3:return t=o.sent,At("FirestoreClient","Initializing OnlineComponentProvider"),o.next=7,r.getConfiguration();case 7:return i=o.sent,o.next=10,e.initialize(t,i);case 10:r.setCredentialChangeListener(function(u){return d6(e.remoteStore,u)}),r.setAppCheckTokenChangeListener(function(u,d){return d6(e.remoteStore,d)}),r.onlineComponents=e;case 13:case"end":return o.stop()}},n)})),dx.apply(this,arguments)}function fx(n){return hx.apply(this,arguments)}function hx(){return hx=(0,st.Z)(me().mark(function n(r){return me().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=r.offlineComponents,t.t0){t.next=5;break}return At("FirestoreClient","Using default OfflineComponentProvider"),t.next=5,S6(r,new E6);case 5:return t.abrupt("return",r.offlineComponents);case 6:case"end":return t.stop()}},n)})),hx.apply(this,arguments)}function ES(n){return px.apply(this,arguments)}function px(){return px=(0,st.Z)(me().mark(function n(r){return me().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=r.onlineComponents,t.t0){t.next=5;break}return At("FirestoreClient","Using default OnlineComponentProvider"),t.next=5,T6(r,new lx);case 5:return t.abrupt("return",r.onlineComponents);case 6:case"end":return t.stop()}},n)})),px.apply(this,arguments)}function A6(n){return fx(n).then(function(r){return r.persistence})}function vx(n){return fx(n).then(function(r){return r.localStore})}function I6(n){return ES(n).then(function(r){return r.remoteStore})}function gx(n){return ES(n).then(function(r){return r.syncEngine})}function P_(n){return mx.apply(this,arguments)}function mx(){return mx=(0,st.Z)(me().mark(function n(r){var e,t;return me().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,ES(r);case 2:return a.abrupt("return",((t=(e=a.sent).eventManager).onListen=xre.bind(null,e.syncEngine),t.onUnlisten=Nre.bind(null,e.syncEngine),t));case 5:case"end":return a.stop()}},n)})),mx.apply(this,arguments)}function R6(n,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},t=new $a;return n.asyncQueue.enqueueAndForget((0,st.Z)(me().mark(function i(){return me().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.t0=function(u,d,h,v,b){var k=new CS({next:function(q){d.enqueueAndForget(function(){return FF(u,I)});var J=q.docs.has(h);!J&&q.fromCache?b.reject(new wt(rt.UNAVAILABLE,"Failed to get document because the client is offline.")):J&&q.fromCache&&v&&"server"===v.source?b.reject(new wt(rt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):b.resolve(q)},error:function(q){return b.reject(q)}}),I=new ZF(g_(h.path),k,{includeMetadataChanges:!0,ku:!0});return OF(u,I)},o.next=3,P_(n);case 3:return o.t1=o.sent,o.t2=n.asyncQueue,o.t3=r,o.t4=e,o.t5=t,o.abrupt("return",(0,o.t0)(o.t1,o.t2,o.t3,o.t4,o.t5));case 9:case"end":return o.stop()}},i)}))),t.promise}function O6(n,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},t=new $a;return n.asyncQueue.enqueueAndForget((0,st.Z)(me().mark(function i(){return me().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.t0=function(u,d,h,v,b){var k=new CS({next:function(q){d.enqueueAndForget(function(){return FF(u,I)}),q.fromCache&&"server"===v.source?b.reject(new wt(rt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):b.resolve(q)},error:function(q){return b.reject(q)}}),I=new ZF(h,k,{includeMetadataChanges:!0,ku:!0});return OF(u,I)},o.next=3,P_(n);case 3:return o.t1=o.sent,o.t2=n.asyncQueue,o.t3=r,o.t4=e,o.t5=t,o.abrupt("return",(0,o.t0)(o.t1,o.t2,o.t3,o.t4,o.t5));case 9:case"end":return o.stop()}},i)}))),t.promise}var P6=new Map;function _x(n,r,e){if(!e)throw new wt(rt.INVALID_ARGUMENT,"Function ".concat(n,"() cannot be called with an empty ").concat(r,"."))}function F6(n,r,e,t){if(!0===r&&!0===t)throw new wt(rt.INVALID_ARGUMENT,"".concat(n," and ").concat(e," cannot be used together."))}function x6(n){if(!Ht.isDocumentKey(n))throw new wt(rt.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(n," has ").concat(n.length,"."))}function N6(n){if(Ht.isDocumentKey(n))throw new wt(rt.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(n," has ").concat(n.length,"."))}function DS(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n="".concat(n.substring(0,20),"...")),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";var r=(e=n).constructor?e.constructor.name:null;return r?"a custom ".concat(r," object"):"an object"}var e;return"function"==typeof n?"a function":Jt()}function rr(n,r){if("_delegate"in n&&(n=n._delegate),!(n instanceof r)){if(r.name===n.constructor.name)throw new wt(rt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var e=DS(n);throw new wt(rt.INVALID_ARGUMENT,"Expected type '".concat(r.name,"', but it was: ").concat(e))}return n}function Z6(n,r){if(r<=0)throw new wt(rt.INVALID_ARGUMENT,"Function ".concat(n,"() requires a positive number, but it was: ").concat(r,"."))}var L6=function(){function n(r){var e;if((0,m.Z)(this,n),void 0===r.host){if(void 0!==r.ssl)throw new wt(rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=r.host,this.ssl=null===(e=r.ssl)||void 0===e||e;if(this.credentials=r.credentials,this.ignoreUndefinedProperties=!!r.ignoreUndefinedProperties,void 0===r.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==r.cacheSizeBytes&&r.cacheSizeBytes<1048576)throw new wt(rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=r.cacheSizeBytes}this.experimentalForceLongPolling=!!r.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!r.experimentalAutoDetectLongPolling,this.useFetchStreams=!!r.useFetchStreams,F6("experimentalForceLongPolling",r.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",r.experimentalAutoDetectLongPolling)}return(0,_.Z)(n,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),n}(),Jk=function(){function n(r,e,t){(0,m.Z)(this,n),this._authCredentials=e,this._appCheckCredentials=t,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new L6({}),this._settingsFrozen=!1,r instanceof f_?this._databaseId=r:(this._app=r,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new wt(rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new f_(i.options.projectId)}(r))}return(0,_.Z)(n,[{key:"app",get:function(){if(!this._app)throw new wt(rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new wt(rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new L6(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new rte;switch(t.type){case"gapi":var i=t.client;return kn(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new ste(i,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new wt(rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return(t=P6.get(this))&&(At("ComponentProvider","Removing Datastore"),P6.delete(this),t.terminate()),Promise.resolve();var t}}]),n}();function B6(n,r,e){var i,t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(n=rr(n,Jk))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==r&&Ek("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:"".concat(r,":").concat(e),ssl:!1})),t.mockUserToken){var o,u;if("string"==typeof t.mockUserToken)o=t.mockUserToken,u=Co.MOCK_USER;else{o=(0,re.Sg)(t.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);var d=t.mockUserToken.sub||t.mockUserToken.user_id;if(!d)throw new wt(rt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Co(d)}n._authCredentials=new ite(new uH(o,u))}}var Bi=function(){function n(r,e,t){(0,m.Z)(this,n),this.converter=e,this._key=t,this.type="document",this.firestore=r}return(0,_.Z)(n,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Dh(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._key)}}]),n}(),Is=function(){function n(r,e,t){(0,m.Z)(this,n),this.converter=e,this._query=t,this.type="query",this.firestore=r}return(0,_.Z)(n,[{key:"withConverter",value:function(e){return new n(this.firestore,e,this._query)}}]),n}(),Dh=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i,a){var o;return(0,m.Z)(this,e),(o=r.call(this,t,i,g_(a)))._path=a,o.type="collection",o}return(0,_.Z)(e,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var i=this._path.popLast();return i.isEmpty()?null:new Bi(this.firestore,null,new Ht(i))}},{key:"withConverter",value:function(i){return new e(this.firestore,i,this._path)}}]),e}(Is);function yx(n,r){for(var e=arguments.length,t=new Array(e>2?e-2:0),i=2;i<e;i++)t[i-2]=arguments[i];if(n=(0,re.m9)(n),_x("collection","path",r),n instanceof Jk){var a=lr.fromString.apply(lr,[r].concat(t));return N6(a),new Dh(n,null,a)}if(!(n instanceof Bi||n instanceof Dh))throw new wt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=n._path.child(lr.fromString.apply(lr,[r].concat(t)));return N6(o),new Dh(n.firestore,null,o)}function Xk(n,r){for(var e=arguments.length,t=new Array(e>2?e-2:0),i=2;i<e;i++)t[i-2]=arguments[i];if(n=(0,re.m9)(n),1===arguments.length&&(r=lH.R()),_x("doc","path",r),n instanceof Jk){var a=lr.fromString.apply(lr,[r].concat(t));return x6(a),new Bi(n,null,new Ht(a))}if(!(n instanceof Bi||n instanceof Dh))throw new wt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=n._path.child(lr.fromString.apply(lr,[r].concat(t)));return x6(o),new Bi(n.firestore,n instanceof Dh?n.converter:null,new Ht(o))}function Mh(n,r){return n=(0,re.m9)(n),r=(0,re.m9)(r),(n instanceof Bi||n instanceof Dh)&&(r instanceof Bi||r instanceof Dh)&&n.firestore===r.firestore&&n.path===r.path&&n.converter===r.converter}function bx(n,r){return n=(0,re.m9)(n),r=(0,re.m9)(r),n instanceof Is&&r instanceof Is&&n.firestore===r.firestore&&Ok(n._query,r._query)&&n.converter===r.converter}var fie=function(){function n(){var r=this;(0,m.Z)(this,n),this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new pF(this,"async_queue_retry"),this.Qa=function(){var t=yS();t&&At("AsyncQueue","Visibility state changed to "+t.visibilityState),r.No.Po()};var e=yS();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Qa)}return(0,_.Z)(n,[{key:"isShuttingDown",get:function(){return this.Ba}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.ja(),this.Wa(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;var t=yS();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}},{key:"enqueue",value:function(e){var t=this;if(this.ja(),this.Ba)return new Promise(function(){});var i=new $a;return this.Wa(function(){return t.Ba&&t.Ka?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)}).then(function(){return i.promise})}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget(function(){return t.$a.push(e),t.za()})}},{key:"za",value:(r=(0,st.Z)(me().mark(function t(){var i=this;return me().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(0===this.$a.length){o.next=14;break}return o.prev=1,o.next=4,this.$a[0]();case 4:this.$a.shift(),this.No.reset(),o.next=13;break;case 8:if(o.prev=8,o.t0=o.catch(1),Ov(o.t0)){o.next=12;break}throw o.t0;case 12:At("AsyncQueue","Operation failed with retryable error: "+o.t0);case 13:this.$a.length>0&&this.No.Ro(function(){return i.za()});case 14:case"end":return o.stop()}},t,this,[[1,8]])})),function e(){return r.apply(this,arguments)})},{key:"Wa",value:function(e){var t=this,i=this.Fa.then(function(){return t.qa=!0,e().catch(function(a){var u,d;throw t.Ua=a,t.qa=!1,pa("INTERNAL UNHANDLED ERROR: ",(d=(u=a).message||"",u.stack&&(d=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),d)),a}).then(function(a){return t.qa=!1,a})});return this.Fa=i,i}},{key:"enqueueAfterDelay",value:function(e,t,i){var a=this;this.ja(),this.Ga.indexOf(e)>-1&&(t=0);var o=Dre.createAndSchedule(this,e,t,i,function(u){return a.Ha(u)});return this.La.push(o),o}},{key:"ja",value:function(){this.Ua&&Jt()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Ja",value:function(){var r=(0,st.Z)(me().mark(function t(){var i;return me().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return i=this.Fa,o.next=3,i;case 3:if(i!==this.Fa){o.next=0;break}case 4:case"end":return o.stop()}},t,this)}));return function e(){return r.apply(this,arguments)}}()},{key:"Ya",value:function(e){var i,t=(0,G.Z)(this.La);try{for(t.s();!(i=t.n()).done;)if(i.value.timerId===e)return!0}catch(o){t.e(o)}finally{t.f()}return!1}},{key:"Xa",value:function(e){var t=this;return this.Ja().then(function(){t.La.sort(function(u,d){return u.targetTimeMs-d.targetTimeMs});var a,i=(0,G.Z)(t.La);try{for(i.s();!(a=i.n()).done;){var o=a.value;if(o.skipDelay(),"all"!==e&&o.timerId===e)break}}catch(u){i.e(u)}finally{i.f()}return t.Ja()})}},{key:"Za",value:function(e){this.Ga.push(e)}},{key:"Ha",value:function(e){var t=this.La.indexOf(e);this.La.splice(t,1)}}]),n;var r}();function kx(n){return function(r,e){if("object"!=typeof r||null===r)return!1;var a,t=r,i=(0,G.Z)(["next","error","complete"]);try{for(i.s();!(a=i.n()).done;){var o=a.value;if(o in t&&"function"==typeof t[o])return!0}}catch(u){i.e(u)}finally{i.f()}return!1}(n)}var hie=function(){function n(){(0,m.Z)(this,n),this._progressObserver={},this._taskCompletionResolver=new $a,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return(0,_.Z)(n,[{key:"onProgress",value:function(e,t,i){this._progressObserver={next:e,error:t,complete:i}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),n}(),bi=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i,a){var o;return(0,m.Z)(this,e),(o=r.call(this,t,i,a)).type="firestore",o._queue=new fie,o._persistenceKey="name"in t?t.name:"[DEFAULT]",o}return(0,_.Z)(e,[{key:"_terminate",value:function(){return this._firestoreClient||U6(this),this._firestoreClient.terminate()}}]),e}(Jk);function gie(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,Zi.getApp)();return(0,Zi._getProvider)(n,"firestore").getImmediate()}function ga(n){return n._firestoreClient||U6(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function U6(n){var r,a,u,e=n._freezeSettings(),t=(a=(null===(r=n._app)||void 0===r?void 0:r.options.appId)||"",new pte(n._databaseId,a,n._persistenceKey,(u=e).host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,u.useFetchStreams));n._firestoreClient=new rie(n._authCredentials,n._appCheckCredentials,n._queue,t)}function G6(n,r,e){var t=new $a;return n.asyncQueue.enqueue((0,st.Z)(me().mark(function i(){return me().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,S6(n,e);case 3:return o.next=5,T6(n,r);case 5:t.resolve(),o.next=13;break;case 8:if(o.prev=8,o.t0=o.catch(0),"FirebaseError"===(u=o.t0).name?u.code===rt.FAILED_PRECONDITION||u.code===rt.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code){o.next=12;break}throw o.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o.t0),t.reject(o.t0);case 13:case"end":return o.stop()}var u},i,null,[[0,8]])}))).then(function(){return t.promise})}function Q6(n){if(n._initialized||n._terminated)throw new wt(rt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Ud=function(){function n(){(0,m.Z)(this,n);for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];for(var i=0;i<e.length;++i)if(0===e[i].length)throw new wt(rt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new su(e)}return(0,_.Z)(n,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),n}(),Vv=function(){function n(r){(0,m.Z)(this,n),this._byteString=r}return(0,_.Z)(n,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(e){try{return new n(No.fromBase64String(e))}catch(t){throw new wt(rt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(e){return new n(No.fromUint8Array(e))}}]),n}(),Uv=(0,_.Z)(function n(r){(0,m.Z)(this,n),this._methodName=r}),MS=function(){function n(r,e){if((0,m.Z)(this,n),!isFinite(r)||r<-90||r>90)throw new wt(rt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+r);if(!isFinite(e)||e<-180||e>180)throw new wt(rt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=r,this._long=e}return(0,_.Z)(n,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Ln(this._lat,e._lat)||Ln(this._long,e._long)}}]),n}(),yie=/^__.*__$/,bie=function(){function n(r,e,t){(0,m.Z)(this,n),this.data=r,this.fieldMask=e,this.fieldTransforms=t}return(0,_.Z)(n,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Rv(e,this.data,this.fieldMask,t,this.fieldTransforms):new Fk(e,this.data,t,this.fieldTransforms)}}]),n}(),J6=function(){function n(r,e,t){(0,m.Z)(this,n),this.data=r,this.fieldMask=e,this.fieldTransforms=t}return(0,_.Z)(n,[{key:"toMutation",value:function(e,t){return new Rv(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),n}();function X6(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Jt()}}var eG=function(){function n(r,e,t,i,a,o){(0,m.Z)(this,n),this.settings=r,this.databaseId=e,this.M=t,this.ignoreUndefinedProperties=i,void 0===a&&this.tc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return(0,_.Z)(n,[{key:"path",get:function(){return this.settings.path}},{key:"ec",get:function(){return this.settings.ec}},{key:"nc",value:function(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"sc",value:function(e){var t,i=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.nc({path:i,ic:!1});return a.rc(e),a}},{key:"oc",value:function(e){var t,i=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.nc({path:i,ic:!1});return a.tc(),a}},{key:"uc",value:function(e){return this.nc({path:void 0,ic:!0})}},{key:"ac",value:function(e){return AS(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find(function(t){return e.isPrefixOf(t)})||void 0!==this.fieldTransforms.find(function(t){return e.isPrefixOf(t.field)})}},{key:"tc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.rc(this.path.get(e))}},{key:"rc",value:function(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(X6(this.ec)&&yie.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}]),n}(),kie=function(){function n(r,e,t){(0,m.Z)(this,n),this.databaseId=r,this.ignoreUndefinedProperties=e,this.M=t||Kk(r)}return(0,_.Z)(n,[{key:"lc",value:function(e,t,i){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new eG({ec:e,methodName:t,hc:i,path:su.emptyPath(),ic:!1,cc:a},this.databaseId,this.M,this.ignoreUndefinedProperties)}}]),n}();function Hv(n){var r=n._freezeSettings(),e=Kk(n._databaseId);return new kie(n._databaseId,!!r.ignoreUndefinedProperties,e)}function SS(n,r,e,t,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=n.lc(a.merge||a.mergeFields?2:0,r,e,i);Dx("Data must be an object, but it was:",o,t);var d,h,u=rG(t,o);if(a.merge)d=new d_(o.fieldMask),h=o.fieldTransforms;else if(a.mergeFields){var k,v=[],b=(0,G.Z)(a.mergeFields);try{for(b.s();!(k=b.n()).done;){var I=k.value,O=Mx(r,I,e);if(!o.contains(O))throw new wt(rt.INVALID_ARGUMENT,"Field '".concat(O,"' is specified in your field mask but missing from your input data."));aG(v,O)||v.push(O)}}catch(q){b.e(q)}finally{b.f()}d=new d_(v),h=o.fieldTransforms.filter(function(q){return d.covers(q.field)})}else d=null,h=o.fieldTransforms;return new bie(new uu(u),d,h)}var wx=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(){return(0,m.Z)(this,e),r.apply(this,arguments)}return(0,_.Z)(e,[{key:"_toFieldTransform",value:function(i){if(2!==i.ec)throw i.ac("".concat(this._methodName,1===i.ec?"() can only appear at the top level of your update data":"() cannot be used with set() unless you pass {merge:true}"));return i.fieldMask.push(i.path),null}},{key:"isEqual",value:function(i){return i instanceof e}}]),e}(Uv);function tG(n,r,e){return new eG({ec:3,hc:r.settings.hc,methodName:n._methodName,ic:e},r.databaseId,r.M,r.ignoreUndefinedProperties)}var wie=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(){return(0,m.Z)(this,e),r.apply(this,arguments)}return(0,_.Z)(e,[{key:"_toFieldTransform",value:function(i){return new Pk(i.path,new __)}},{key:"isEqual",value:function(i){return i instanceof e}}]),e}(Uv),Cie=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i){var a;return(0,m.Z)(this,e),(a=r.call(this,t)).fc=i,a}return(0,_.Z)(e,[{key:"_toFieldTransform",value:function(i){var a=tG(this,i,!0),o=this.fc.map(function(d){return jv(d,a)}),u=new Av(o);return new Pk(i.path,u)}},{key:"isEqual",value:function(i){return this===i}}]),e}(Uv),Eie=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i){var a;return(0,m.Z)(this,e),(a=r.call(this,t)).fc=i,a}return(0,_.Z)(e,[{key:"_toFieldTransform",value:function(i){var a=tG(this,i,!0),o=this.fc.map(function(d){return jv(d,a)}),u=new Iv(o);return new Pk(i.path,u)}},{key:"isEqual",value:function(i){return this===i}}]),e}(Uv),Die=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i){var a;return(0,m.Z)(this,e),(a=r.call(this,t)).dc=i,a}return(0,_.Z)(e,[{key:"_toFieldTransform",value:function(i){var a=new y_(i.M,BH(i.M,this.dc));return new Pk(i.path,a)}},{key:"isEqual",value:function(i){return this===i}}]),e}(Uv);function Cx(n,r,e,t){var i=n.lc(1,r,e);Dx("Data must be an object, but it was:",i,t);var a=[],o=uu.empty();Cv(t,function(d,h){var v=TS(r,d,e);h=(0,re.m9)(h);var b=i.oc(v);if(h instanceof wx)a.push(v);else{var k=jv(h,b);null!=k&&(a.push(v),o.set(v,k))}});var u=new d_(a);return new J6(o,u,i.fieldTransforms)}function Ex(n,r,e,t,i,a){var o=n.lc(1,r,e),u=[Mx(r,t,e)],d=[i];if(a.length%2!=0)throw new wt(rt.INVALID_ARGUMENT,"Function ".concat(r,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var h=0;h<a.length;h+=2)u.push(Mx(r,a[h])),d.push(a[h+1]);for(var v=[],b=uu.empty(),k=u.length-1;k>=0;--k)if(!aG(v,u[k])){var I=u[k],O=d[k];O=(0,re.m9)(O);var q=o.oc(I);if(O instanceof wx)v.push(I);else{var J=jv(O,q);null!=J&&(v.push(I),b.set(I,J))}}var ue=new d_(v);return new J6(b,ue,o.fieldTransforms)}function nG(n,r,e){var t=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return jv(e,n.lc(t?4:3,r))}function jv(n,r){if(iG(n=(0,re.m9)(n)))return Dx("Unsupported field value:",r,n),rG(n,r);if(n instanceof Uv)return function(e,t){if(!X6(t.ec))throw t.ac("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ac("".concat(e._methodName,"() is not currently supported inside arrays"));var i=e._toFieldTransform(t);i&&t.fieldTransforms.push(i)}(n,r),null;if(void 0===n&&r.ignoreUndefinedProperties)return null;if(r.path&&r.fieldMask.push(r.path),n instanceof Array){if(r.settings.ic&&4!==r.ec)throw r.ac("Nested arrays are not supported");return function(e,t){var u,i=[],a=0,o=(0,G.Z)(e);try{for(o.s();!(u=o.n()).done;){var h=jv(u.value,t.uc(a));null==h&&(h={nullValue:"NULL_VALUE"}),i.push(h),a++}}catch(v){o.e(v)}finally{o.f()}return{arrayValue:{values:i}}}(n,r)}return function(e,t){if(null===(e=(0,re.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return BH(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var i=Eo.fromDate(e);return{timestampValue:Zk(t.M,i)}}if(e instanceof Eo){var a=new Eo(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Zk(t.M,a)}}if(e instanceof MS)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Vv)return{bytesValue:rj(t.M,e._byteString)};if(e instanceof Bi){var o=t.databaseId,u=e.firestore._databaseId;if(!u.isEqual(o))throw t.ac("Document reference is for database ".concat(u.projectId,"/").concat(u.database," but should be for database ").concat(o.projectId,"/").concat(o.database));return{referenceValue:WP(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ac("Unsupported field value: ".concat(DS(e)))}(n,r)}function rG(n,r){var e={};return fH(n)?r.path&&r.path.length>0&&r.fieldMask.push(r.path):Cv(n,function(t,i){var a=jv(i,r.sc(t));null!=a&&(e[t]=a)}),{mapValue:{fields:e}}}function iG(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Eo||n instanceof MS||n instanceof Vv||n instanceof Bi||n instanceof Uv)}function Dx(n,r,e){if(!iG(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){var t=DS(e);throw r.ac("an object"===t?n+" a custom object":n+" "+t)}var i}function Mx(n,r,e){if((r=(0,re.m9)(r))instanceof Ud)return r._internalPath;if("string"==typeof r)return TS(n,r);throw AS("Field path arguments must be of type string or ",n,!1,void 0,e)}var Mie=new RegExp("[~\\*/\\[\\]]");function TS(n,r,e){if(r.search(Mie)>=0)throw AS("Invalid field path (".concat(r,"). Paths must not contain '~', '*', '/', '[', or ']'"),n,!1,void 0,e);try{return(0,G3.Z)(Ud,(0,Zt.Z)(r.split(".")))._internalPath}catch(t){throw AS("Invalid field path (".concat(r,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),n,!1,void 0,e)}}function AS(n,r,e,t,i){var a=t&&!t.isEmpty(),o=void 0!==i,u="Function ".concat(r,"() called with invalid data");e&&(u+=" (via `toFirestore()`)"),u+=". ";var d="";return(a||o)&&(d+=" (found",a&&(d+=" in field ".concat(t)),o&&(d+=" in document ".concat(i)),d+=")"),new wt(rt.INVALID_ARGUMENT,u+n+d)}function aG(n,r){return n.some(function(e){return e.isEqual(r)})}var ew=function(){function n(r,e,t,i,a){(0,m.Z)(this,n),this._firestore=r,this._userDataWriter=e,this._key=t,this._document=i,this._converter=a}return(0,_.Z)(n,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Bi(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Sie(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(IS("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),n}(),Sie=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(){return(0,m.Z)(this,e),r.apply(this,arguments)}return(0,_.Z)(e,[{key:"data",value:function(){return(0,X.Z)((0,ne.Z)(e.prototype),"data",this).call(this)}}]),e}(ew);function IS(n,r){return"string"==typeof r?TS(n,r):r instanceof Ud?r._internalPath:r._delegate._internalPath}var Gv=function(){function n(r,e){(0,m.Z)(this,n),this.hasPendingWrites=r,this.fromCache=e}return(0,_.Z)(n,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),n}(),Hd=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i,a,o,u,d){var h;return(0,m.Z)(this,e),(h=r.call(this,t,i,a,o,d))._firestore=t,h._firestoreImpl=t,h.metadata=u,h}return(0,_.Z)(e,[{key:"exists",value:function(){return(0,X.Z)((0,ne.Z)(e.prototype),"exists",this).call(this)}},{key:"data",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var a=new tw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(a,i)}return this._userDataWriter.convertValue(this._document.data.value,i.serverTimestamps)}}},{key:"get",value:function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var o=this._document.data.field(IS("DocumentSnapshot.get",i));if(null!==o)return this._userDataWriter.convertValue(o,a.serverTimestamps)}}}]),e}(ew),tw=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(){return(0,m.Z)(this,e),r.apply(this,arguments)}return(0,_.Z)(e,[{key:"data",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,X.Z)((0,ne.Z)(e.prototype),"data",this).call(this,i)}}]),e}(Hd),Sh=function(){function n(r,e,t,i){(0,m.Z)(this,n),this._firestore=r,this._userDataWriter=e,this._snapshot=i,this.metadata=new Gv(i.hasPendingWrites,i.fromCache),this.query=t}return(0,_.Z)(n,[{key:"docs",get:function(){var e=[];return this.forEach(function(t){return e.push(t)}),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var i=this;this._snapshot.docs.forEach(function(a){e.call(t,new tw(i._firestore,i._userDataWriter,a.key,a,new Gv(i._snapshot.mutatedKeys.has(a.key),i._snapshot.fromCache),i.query.converter))})}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new wt(rt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){var o=0;return i._snapshot.docChanges.map(function(d){return{type:"added",doc:new tw(i._firestore,i._userDataWriter,d.doc.key,d.doc,new Gv(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}})}var u=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(function(d){return a||3!==d.type}).map(function(d){var h=new tw(i._firestore,i._userDataWriter,d.doc.key,d.doc,new Gv(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter),v=-1,b=-1;return 0!==d.type&&(v=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),1!==d.type&&(b=(u=u.add(d.doc)).indexOf(d.doc.key)),{type:Tie(d.type),doc:h,oldIndex:v,newIndex:b}})}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),n}();function Tie(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Jt()}}function Sx(n,r){return n instanceof Hd&&r instanceof Hd?n._firestore===r._firestore&&n._key.isEqual(r._key)&&(null===n._document?null===r._document:n._document.isEqual(r._document))&&n._converter===r._converter:n instanceof Sh&&r instanceof Sh&&n._firestore===r._firestore&&bx(n.query,r.query)&&n.metadata.isEqual(r.metadata)&&n._snapshot.isEqual(r._snapshot)}function oG(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new wt(rt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var nw=(0,_.Z)(function n(){(0,m.Z)(this,n)});function jd(n){for(var r=arguments.length,e=new Array(r>1?r-1:0),t=1;t<r;t++)e[t-1]=arguments[t];for(var i=0,a=e;i<a.length;i++){var o=a[i];n=o._apply(n)}return n}var Aie=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i,a){var o;return(0,m.Z)(this,e),(o=r.call(this))._c=t,o.wc=i,o.mc=a,o.type="where",o}return(0,_.Z)(e,[{key:"_apply",value:function(i){var u,h,a=Hv(i.firestore),o=function(u,d,h,v,b,k,I){var O;if(b.isKeyField()){if("array-contains"===k||"array-contains-any"===k)throw new wt(rt.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(k,"' queries on documentId()."));if("in"===k||"not-in"===k){bG(I,k);var ue,q=[],J=(0,G.Z)(I);try{for(J.s();!(ue=J.n()).done;)q.push(yG(v,u,ue.value))}catch(Ze){J.e(Ze)}finally{J.f()}O={arrayValue:{values:q}}}else O=yG(v,u,I)}else"in"!==k&&"not-in"!==k&&"array-contains-any"!==k||bG(I,k),O=nG(h,"where",I,"in"===k||"not-in"===k);var Oe=is.create(b,k,O);return function(Ze,je){if(je.S()){var lt=LP(Ze);if(null!==lt&&!lt.isEqual(je.field))throw new wt(rt.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(lt.toString(),"' and '").concat(je.field.toString(),"'"));var ct=ZP(Ze);null!==ct&&kG(0,je.field,ct)}var vt=function(dn,tn){var Fr,An=(0,G.Z)(dn.filters);try{for(An.s();!(Fr=An.n()).done;){var Os=Fr.value;if(tn.indexOf(Os.op)>=0)return Os.op}}catch(qu){An.e(qu)}finally{An.f()}return null}(Ze,function(dn){switch(dn){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(je.op));if(null!==vt)throw new wt(rt.INVALID_ARGUMENT,vt===je.op?"Invalid query. You cannot use more than one '".concat(je.op.toString(),"' filter."):"Invalid query. You cannot use '".concat(je.op.toString(),"' filters with '").concat(vt.toString(),"' filters."))}(u,Oe),Oe}(i._query,0,a,i.firestore._databaseId,this._c,this.wc,this.mc);return new Is(i.firestore,i.converter,(h=(u=i._query).filters.concat([o]),new Bd(u.path,u.collectionGroup,u.explicitOrderBy.slice(),h,u.limit,u.limitType,u.startAt,u.endAt)))}}]),e}(nw);var Iie=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i){var a;return(0,m.Z)(this,e),(a=r.call(this))._c=t,a.gc=i,a.type="orderBy",a}return(0,_.Z)(e,[{key:"_apply",value:function(i){var o,d,a=function(o,u,d){if(null!==o.startAt)throw new wt(rt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new wt(rt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var h=new v_(u,d);return function(v,b){if(null===ZP(v)){var k=LP(v);null!==k&&kG(0,k,b.field)}}(o,h),h}(i._query,this._c,this.gc);return new Is(i.firestore,i.converter,(d=(o=i._query).explicitOrderBy.concat([a]),new Bd(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)))}}]),e}(nw);var lG=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i,a){var o;return(0,m.Z)(this,e),(o=r.call(this)).type=t,o.yc=i,o.Ic=a,o}return(0,_.Z)(e,[{key:"_apply",value:function(i){return new Is(i.firestore,i.converter,PH(i._query,this.yc,this.Ic))}}]),e}(nw);var fG=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i,a){var o;return(0,m.Z)(this,e),(o=r.call(this)).type=t,o.Tc=i,o.Ec=a,o}return(0,_.Z)(e,[{key:"_apply",value:function(i){var o,u,a=_G(i,this.type,this.Tc,this.Ec);return new Is(i.firestore,i.converter,(u=a,new Bd((o=i._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)))}}]),e}(nw);function hG(){for(var n=arguments.length,r=new Array(n),e=0;e<n;e++)r[e]=arguments[e];return new fG("startAt",r,!0)}function pG(){for(var n=arguments.length,r=new Array(n),e=0;e<n;e++)r[e]=arguments[e];return new fG("startAfter",r,!1)}var vG=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i,a){var o;return(0,m.Z)(this,e),(o=r.call(this)).type=t,o.Tc=i,o.Ec=a,o}return(0,_.Z)(e,[{key:"_apply",value:function(i){var o,u,a=_G(i,this.type,this.Tc,this.Ec);return new Is(i.firestore,i.converter,(u=a,new Bd((o=i._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,u)))}}]),e}(nw);function gG(){for(var n=arguments.length,r=new Array(n),e=0;e<n;e++)r[e]=arguments[e];return new vG("endBefore",r,!1)}function mG(){for(var n=arguments.length,r=new Array(n),e=0;e<n;e++)r[e]=arguments[e];return new vG("endAt",r,!0)}function _G(n,r,e,t){if(e[0]=(0,re.m9)(e[0]),e[0]instanceof ew)return function(a,o,u,d,h){if(!d)throw new wt(rt.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(u,"()."));var k,v=[],b=(0,G.Z)(m_(a));try{for(b.s();!(k=b.n()).done;){var I=k.value;if(I.field.isKeyField())v.push(Mv(o,d.key));else{var O=d.data.field(I.field);if(OP(O))throw new wt(rt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+I.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===O){var q=I.field.canonicalString();throw new wt(rt.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(q,"' (used as the orderBy) does not exist."))}v.push(O)}}}catch(J){b.e(J)}finally{b.f()}return new yh(v,h)}(n._query,n.firestore._databaseId,r,e[0]._document,t);var i=Hv(n.firestore);return function(a,o,u,d,h,v){var b=a.explicitOrderBy;if(h.length>b.length)throw new wt(rt.INVALID_ARGUMENT,"Too many arguments provided to ".concat(d,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var k=[],I=0;I<h.length;I++){var O=h[I];if(b[I].field.isKeyField()){if("string"!=typeof O)throw new wt(rt.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(d,"(), but got a ").concat(typeof O));if(!BP(a)&&-1!==O.indexOf("/"))throw new wt(rt.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(d,"() must be a plain document ID, but '").concat(O,"' contains a slash."));var q=a.path.child(lr.fromString(O));if(!Ht.isDocumentKey(q))throw new wt(rt.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(d,"() must result in a valid document path, but '").concat(q,"' is not because it contains an odd number of segments."));var J=new Ht(q);k.push(Mv(o,J))}else{var ue=nG(u,d,O);k.push(ue)}}return new yh(k,v)}(n._query,n.firestore._databaseId,i,r,e,t)}function yG(n,r,e){if("string"==typeof(e=(0,re.m9)(e))){if(""===e)throw new wt(rt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!BP(r)&&-1!==e.indexOf("/"))throw new wt(rt.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(e,"' contains a '/' character."));var t=r.path.child(lr.fromString(e));if(!Ht.isDocumentKey(t))throw new wt(rt.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(t,"' is not because it has an odd number of segments (").concat(t.length,")."));return Mv(n,new Ht(t))}if(e instanceof Bi)return Mv(n,e._key);throw new wt(rt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(DS(e),"."))}function bG(n,r){if(!Array.isArray(n)||0===n.length)throw new wt(rt.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(r.toString(),"' filters."));if(n.length>10)throw new wt(rt.INVALID_ARGUMENT,"Invalid Query. '".concat(r.toString(),"' filters support a maximum of 10 elements in the value array."))}function kG(n,r,e){if(!e.isEqual(r))throw new wt(rt.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(r.toString(),"' and so you must also use '").concat(r.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(e.toString(),"' instead."))}var Rie={maxAttempts:5},Tx=function(){function n(){(0,m.Z)(this,n)}return(0,_.Z)(n,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Dv(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ki(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ev(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Jt()}}},{key:"convertObject",value:function(e,t){var i=this,a={};return Cv(e.fields,function(o,u){a[o]=i.convertValue(u,t)}),a}},{key:"convertGeoPoint",value:function(e){return new MS(Ki(e.latitude),Ki(e.longitude))}},{key:"convertArray",value:function(e,t){var i=this;return(e.values||[]).map(function(a){return i.convertValue(a,t)})}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var i=pH(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Dk(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=ph(e);return new Eo(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var i=lr.fromString(e);kn(hj(i));var a=new f_(i.get(1),i.get(3)),o=new Ht(i.popFirst(5));return a.isEqual(t)||pa("Document ".concat(o," contains a document reference within a different database (").concat(a.projectId,"/").concat(a.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),o}}]),n}();function RS(n,r,e){return n?e&&(e.merge||e.mergeFields)?n.toFirestore(r,e):n.toFirestore(r):r}var Oie=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t){var i;return(0,m.Z)(this,e),(i=r.call(this)).firestore=t,i}return(0,_.Z)(e,[{key:"convertBytes",value:function(i){return new Vv(i)}},{key:"convertReference",value:function(i){var a=this.convertDocumentKey(i,this.firestore._databaseId);return new Bi(this.firestore,null,a)}}]),e}(Tx),wG=function(){function n(r,e){(0,m.Z)(this,n),this._firestore=r,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Hv(r)}return(0,_.Z)(n,[{key:"set",value:function(e,t,i){this._verifyNotCommitted();var a=Th(e,this._firestore),o=RS(a.converter,t,i),u=SS(this._dataReader,"WriteBatch.set",a._key,o,null!==a.converter,i);return this._mutations.push(u.toMutation(a._key,Zo.none())),this}},{key:"update",value:function(e,t,i){this._verifyNotCommitted();for(var o,a=Th(e,this._firestore),u=arguments.length,d=new Array(u>3?u-3:0),h=3;h<u;h++)d[h-3]=arguments[h];return o="string"==typeof(t=(0,re.m9)(t))||t instanceof Ud?Ex(this._dataReader,"WriteBatch.update",a._key,t,i,d):Cx(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(o.toMutation(a._key,Zo.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=Th(e,this._firestore);return this._mutations=this._mutations.concat(new xk(t._key,Zo.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new wt(rt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),n}();function Th(n,r){if((n=(0,re.m9)(n)).firestore!==r)throw new wt(rt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}var zv=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t){var i;return(0,m.Z)(this,e),(i=r.call(this)).firestore=t,i}return(0,_.Z)(e,[{key:"convertBytes",value:function(i){return new Vv(i)}},{key:"convertReference",value:function(i){var a=this.convertDocumentKey(i,this.firestore._databaseId);return new Bi(this.firestore,null,a)}}]),e}(Tx);function Ax(n,r,e){n=rr(n,Bi);var t=rr(n.firestore,bi),i=RS(n.converter,r,e);return F_(t,[SS(Hv(t),"setDoc",n._key,i,null!==n.converter,e).toMutation(n._key,Zo.none())])}function Ix(n,r,e){n=rr(n,Bi);for(var t=rr(n.firestore,bi),i=Hv(t),o=arguments.length,u=new Array(o>3?o-3:0),d=3;d<o;d++)u[d-3]=arguments[d];return F_(t,[("string"==typeof(r=(0,re.m9)(r))||r instanceof Ud?Ex(i,"updateDoc",n._key,r,e,u):Cx(i,"updateDoc",n._key,r)).toMutation(n._key,Zo.exists(!0))])}function OS(n){for(var r=arguments.length,e=new Array(r>1?r-1:0),t=1;t<r;t++)e[t-1]=arguments[t];var i,a,o;n=(0,re.m9)(n);var u={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||kx(e[d])||(u=e[d],d++);var b,k,I,J,ue,fe,Ze,je,h={includeMetadataChanges:u.includeMetadataChanges};if(kx(e[d])){var v=e[d];e[d]=null===(i=v.next)||void 0===i?void 0:i.bind(v),e[d+1]=null===(a=v.error)||void 0===a?void 0:a.bind(v),e[d+2]=null===(o=v.complete)||void 0===o?void 0:o.bind(v)}if(n instanceof Bi)k=rr(n.firestore,bi),I=g_(n._key.path),b={next:function(ue){e[d]&&e[d](Rx(k,n,ue))},error:e[d+1],complete:e[d+2]};else{var O=rr(n,Is);k=rr(O.firestore,bi),I=O._query;var q=new zv(k);b={next:function(ue){e[d]&&e[d](new Sh(k,q,O,ue))},error:e[d+1],complete:e[d+2]},oG(n._query)}return J=ga(k),ue=I,fe=h,Ze=new CS(b),je=new ZF(ue,Ze,fe),J.asyncQueue.enqueueAndForget((0,st.Z)(me().mark(function lt(){return me().wrap(function(vt){for(;;)switch(vt.prev=vt.next){case 0:return vt.t0=OF,vt.next=3,P_(J);case 3:return vt.t1=vt.sent,vt.t2=je,vt.abrupt("return",(0,vt.t0)(vt.t1,vt.t2));case 6:case"end":return vt.stop()}},lt)}))),function(){Ze.Aa(),J.asyncQueue.enqueueAndForget((0,st.Z)(me().mark(function lt(){return me().wrap(function(vt){for(;;)switch(vt.prev=vt.next){case 0:return vt.t0=FF,vt.next=3,P_(J);case 3:return vt.t1=vt.sent,vt.t2=je,vt.abrupt("return",(0,vt.t0)(vt.t1,vt.t2));case 6:case"end":return vt.stop()}},lt)})))}}function F_(n,r){return e=ga(n),t=r,i=new $a,e.asyncQueue.enqueueAndForget((0,st.Z)(me().mark(function a(){return me().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.t0=Zre,u.next=3,gx(e);case 3:return u.t1=u.sent,u.t2=t,u.t3=i,u.abrupt("return",(0,u.t0)(u.t1,u.t2,u.t3));case 7:case"end":return u.stop()}},a)}))),i.promise;var e,t,i}function Rx(n,r,e){var t=e.docs.get(r._key),i=new zv(n);return new Hd(n,i,r._key,t,new Gv(e.hasPendingWrites,e.fromCache),r.converter)}var Pie=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i){var a;return(0,m.Z)(this,e),(a=r.call(this,t,i))._firestore=t,a}return(0,_.Z)(e,[{key:"get",value:function(i){var a=this,o=Th(i,this._firestore),u=new zv(this._firestore);return(0,X.Z)((0,ne.Z)(e.prototype),"get",this).call(this,i).then(function(d){return new Hd(a._firestore,u,o._key,d._document,new Gv(!1,!1),o.converter)})}}]),e}(function(){function n(r,e){(0,m.Z)(this,n),this._firestore=r,this._transaction=e,this._dataReader=Hv(r)}return(0,_.Z)(n,[{key:"get",value:function(e){var t=this,i=Th(e,this._firestore),a=new Oie(this._firestore);return this._transaction.lookup([i._key]).then(function(o){if(!o||1!==o.length)return Jt();var u=o[0];if(u.isFoundDocument())return new ew(t._firestore,a,u.key,u,i.converter);if(u.isNoDocument())return new ew(t._firestore,a,i._key,null,i.converter);throw Jt()})}},{key:"set",value:function(e,t,i){var a=Th(e,this._firestore),o=RS(a.converter,t,i),u=SS(this._dataReader,"Transaction.set",a._key,o,null!==a.converter,i);return this._transaction.set(a._key,u),this}},{key:"update",value:function(e,t,i){for(var o,a=Th(e,this._firestore),u=arguments.length,d=new Array(u>3?u-3:0),h=3;h<u;h++)d[h-3]=arguments[h];return o="string"==typeof(t=(0,re.m9)(t))||t instanceof Ud?Ex(this._dataReader,"Transaction.update",a._key,t,i,d):Cx(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,o),this}},{key:"delete",value:function(e){var t=Th(e,this._firestore);return this._transaction.delete(t._key),this}}]),n}());function xG(){for(var n=arguments.length,r=new Array(n),e=0;e<n;e++)r[e]=arguments[e];return new Cie("arrayUnion",r)}function NG(){for(var n=arguments.length,r=new Array(n),e=0;e<n;e++)r[e]=arguments[e];return new Eie("arrayRemove",r)}function Ox(n,r){if(void 0===r)return{merge:!1};if(void 0!==r.mergeFields&&void 0!==r.merge)throw new wt("invalid-argument","Invalid options passed to function ".concat(n,"(): You cannot ")+'specify both "merge" and "mergeFields".');return r}function BG(){if("undefined"==typeof Uint8Array)throw new wt("unimplemented","Uint8Arrays are not available in this environment.")}function VG(){if(!function fte(){return"undefined"!=typeof atob}())throw new wt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];l_=Zi.SDK_VERSION,(0,Zi._registerComponent)(new xl.wA("firestore",function(e,t){var i=t.options,a=e.getProvider("app").getImmediate(),o=new bi(a,new ate(e.getProvider("auth-internal")),new lte(e.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:r},i),o._setSettings(i),o},"PUBLIC")),(0,Zi.registerVersion)(oH,"3.4.9",n),(0,Zi.registerVersion)(oH,"3.4.9","esm2017")}();var UG=function(){function n(r){(0,m.Z)(this,n),this._delegate=r}return(0,_.Z)(n,[{key:"toBase64",value:function(){return VG(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return BG(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(e){return VG(),new n(Vv.fromBase64String(e))}},{key:"fromUint8Array",value:function(e){return BG(),new n(Vv.fromUint8Array(e))}}]),n}();function Px(n){return function Zie(n,r){if("object"!=typeof n||null===n)return!1;var i,e=n,t=(0,G.Z)(r);try{for(t.s();!(i=t.n()).done;){var a=i.value;if(a in e&&"function"==typeof e[a])return!0}}catch(o){t.e(o)}finally{t.f()}return!1}(n,["next","error","complete"])}var Lie=function(){function n(){(0,m.Z)(this,n)}return(0,_.Z)(n,[{key:"enableIndexedDbPersistence",value:function(e,t){return function H6(n,r){Q6(n=rr(n,bi));var e=ga(n),t=n._freezeSettings(),i=new lx;return G6(e,i,new D6(i,t.cacheSizeBytes,null==r?void 0:r.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function j6(n){Q6(n=rr(n,bi));var r=ga(n),e=n._freezeSettings(),t=new lx;return G6(r,t,new Xre(t,e.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function z6(n){if(n._initialized&&!n._terminated)throw new wt(rt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var r=new $a;return n._queue.enqueueAndForgetEvenWhileRestricted((0,st.Z)(me().mark(function e(){return me().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,function(){var a=(0,st.Z)(me().mark(function o(u){var d;return me().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(w_.vt()){v.next=2;break}return v.abrupt("return",Promise.resolve());case 2:return d=u+"main",v.next=5,w_.delete(d);case 5:case"end":return v.stop()}},o)}));return function(o){return a.apply(this,arguments)}}()(iF(n._databaseId,n._persistenceKey));case 3:r.resolve(),i.next=9;break;case 6:i.prev=6,i.t0=i.catch(0),r.reject(i.t0);case 9:case"end":return i.stop()}},e,null,[[0,6]])}))),r.promise}(e._delegate)}}]),n}(),HG=function(){function n(r,e,t){var i=this;(0,m.Z)(this,n),this._delegate=e,this._persistenceProvider=t,this.INTERNAL={delete:function(){return i.terminate()}},r instanceof f_||(this._appCompat=r)}return(0,_.Z)(n,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ek("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};B6(this._delegate,e,t,i)}},{key:"enableNetwork",value:function(){return function W6(n){return function iie(n){return n.asyncQueue.enqueue((0,st.Z)(me().mark(function r(){var e,t;return me().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,A6(n);case 2:return e=a.sent,a.next=5,I6(n);case 5:return t=a.sent,a.abrupt("return",(e.setNetworkEnabled(!0),u=void 0,(u=Ut(t)).wu.delete(0),$k(u)));case 7:case"end":return a.stop()}var u},r)})))}(ga(n=rr(n,bi)))}(this._delegate)}},{key:"disableNetwork",value:function(){return function q6(n){return function aie(n){return n.asyncQueue.enqueue((0,st.Z)(me().mark(function r(){var e,t;return me().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,A6(n);case 2:return e=a.sent,a.next=5,I6(n);case 5:return t=a.sent,a.abrupt("return",(e.setNetworkEnabled(!1),function(){var o=(0,st.Z)(me().mark(function u(d){var h;return me().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return(h=Ut(d)).wu.add(0),b.next=4,T_(h);case 4:h.yu.set("Offline");case 5:case"end":return b.stop()}},u)}));return function(u){return o.apply(this,arguments)}}()(t)));case 7:case"end":return a.stop()}},r)})))}(ga(n=rr(n,bi)))}(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,i=!1;return e&&F6("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",i=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function Y6(n){return r=ga(n=rr(n,bi)),e=new $a,r.asyncQueue.enqueueAndForget((0,st.Z)(me().mark(function t(){return me().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.t0=Ure,a.next=3,gx(r);case 3:return a.t1=a.sent,a.t2=e,a.abrupt("return",(0,a.t0)(a.t1,a.t2));case 6:case"end":return a.stop()}},t)}))),e.promise;var r,e}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return function RG(n,r){return function uie(n,r){var e=new CS(r);return n.asyncQueue.enqueueAndForget((0,st.Z)(me().mark(function t(){return me().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.t0=function(o,u){Ut(o).bu.add(u),u.next()},a.next=3,P_(n);case 3:return a.t1=a.sent,a.t2=e,a.abrupt("return",(0,a.t0)(a.t1,a.t2));case 6:case"end":return a.stop()}},t)}))),function(){e.Aa(),n.asyncQueue.enqueueAndForget((0,st.Z)(me().mark(function t(){return me().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.t0=function(o,u){Ut(o).bu.delete(u)},a.next=3,P_(n);case 3:return a.t1=a.sent,a.t2=e,a.abrupt("return",(0,a.t0)(a.t1,a.t2));case 6:case"end":return a.stop()}},t)})))}}(ga(n=rr(n,bi)),kx(r)?r:{next:r})}(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new wt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new xS(this,yx(this._delegate,e))}catch(t){throw os(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new Ah(this,Xk(this._delegate,e))}catch(t){throw os(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new aw(this,function V6(n,r){if(n=rr(n,Jk),_x("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new wt(rt.INVALID_ARGUMENT,"Invalid collection ID '".concat(r,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Is(n,null,(e=r,new Bd(lr.emptyPath(),e)));var e}(this._delegate,e))}catch(t){throw os(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function OG(n,r,e){n=rr(n,bi);var t=Object.assign(Object.assign({},Rie),e);return function(i){if(i.maxAttempts<1)throw new wt(rt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(t),function lie(n,r,e){var t=new $a;return n.asyncQueue.enqueueAndForget((0,st.Z)(me().mark(function i(){return me().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,ES(n).then(function(h){return h.datastore});case 2:new nie(n.asyncQueue,u.sent,e,r,t).run();case 4:case"end":return u.stop()}},i)}))),t.promise}(ga(n),function(i){return r(new Pie(n,i))},t)}(this._delegate,function(i){return e(new jG(t,i))})}},{key:"batch",value:function(){var e=this;return ga(this._delegate),new GG(new wG(this._delegate,function(t){return F_(e._delegate,t)}))}},{key:"loadBundle",value:function(e){return function K6(n,r){var e=ga(n=rr(n,bi)),t=new hie;return function cie(n,r,e,t){var a,o,d,i=(a=e,o=Kk(r),d=function(d,h){if(d instanceof Uint8Array)return M6(d,h);if(d instanceof ArrayBuffer)return M6(new Uint8Array(d),h);if(d instanceof ReadableStream)return d.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof a?(new TextEncoder).encode(a):a),new eie(d,o));n.asyncQueue.enqueueAndForget((0,st.Z)(me().mark(function a(){return me().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.t0=Jre,u.next=3,gx(n);case 3:u.t1=u.sent,u.t2=i,u.t3=t,(0,u.t0)(u.t1,u.t2,u.t3);case 7:case"end":return u.stop()}},a)})))}(e,n._databaseId,r,t),t}(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return function $6(n,r){return function die(n,r){return n.asyncQueue.enqueue((0,st.Z)(me().mark(function e(){return me().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(a,o){var u=Ut(a);return u.persistence.runTransaction("Get named query","readonly",function(d){return u._s.getNamedQuery(d,o)})},i.next=3,vx(n);case 3:return i.t1=i.sent,i.t2=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2));case 6:case"end":return i.stop()}},e)})))}(ga(n=rr(n,bi)),r).then(function(e){return e?new Is(n,null,e.query):null})}(this._delegate,e).then(function(i){return i?new aw(t,i):null})}}]),n}(),PS=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t){var i;return(0,m.Z)(this,e),(i=r.call(this)).firestore=t,i}return(0,_.Z)(e,[{key:"convertBytes",value:function(i){return new UG(new Vv(i))}},{key:"convertReference",value:function(i){var a=this.convertDocumentKey(i,this.firestore._databaseId);return Ah.forKey(a,this.firestore,null)}}]),e}(Tx),jG=function(){function n(r,e){(0,m.Z)(this,n),this._firestore=r,this._delegate=e,this._userDataWriter=new PS(r)}return(0,_.Z)(n,[{key:"get",value:function(e){var t=this,i=Yv(e);return this._delegate.get(i).then(function(a){return new rw(t._firestore,new Hd(t._firestore._delegate,t._userDataWriter,a._key,a._document,a.metadata,i.converter))})}},{key:"set",value:function(e,t,i){var a=Yv(e);return i?(Ox("Transaction.set",i),this._delegate.set(a,t,i)):this._delegate.set(a,t),this}},{key:"update",value:function(e,t,i){for(var a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];var h,d=Yv(e);return 2===arguments.length?this._delegate.update(d,t):(h=this._delegate).update.apply(h,[d,t,i].concat(o)),this}},{key:"delete",value:function(e){var t=Yv(e);return this._delegate.delete(t),this}}]),n}(),GG=function(){function n(r){(0,m.Z)(this,n),this._delegate=r}return(0,_.Z)(n,[{key:"set",value:function(e,t,i){var a=Yv(e);return i?(Ox("WriteBatch.set",i),this._delegate.set(a,t,i)):this._delegate.set(a,t),this}},{key:"update",value:function(e,t,i){for(var a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];var h,d=Yv(e);return 2===arguments.length?this._delegate.update(d,t):(h=this._delegate).update.apply(h,[d,t,i].concat(o)),this}},{key:"delete",value:function(e){var t=Yv(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),n}(),FS=function(){function n(r,e,t){(0,m.Z)(this,n),this._firestore=r,this._userDataWriter=e,this._delegate=t}return(0,_.Z)(n,[{key:"fromFirestore",value:function(e,t){var i=new tw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new iw(this._firestore,i),null!=t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(e,t){var i=n.INSTANCES,a=i.get(e);a||i.set(e,a=new WeakMap);var o=a.get(t);return o||(o=new n(e,new PS(e),t),a.set(t,o)),o}}]),n}();FS.INSTANCES=new WeakMap;var Ah=function(){function n(r,e){(0,m.Z)(this,n),this.firestore=r,this._delegate=e,this._userDataWriter=new PS(r)}return(0,_.Z)(n,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new xS(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new xS(this.firestore,yx(this._delegate,e))}catch(t){throw os(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=(0,re.m9)(e))instanceof Bi&&Mh(this._delegate,e)}},{key:"set",value:function(e,t){t=Ox("DocumentReference.set",t);try{return t?Ax(this._delegate,e,t):Ax(this._delegate,e)}catch(i){throw os(i,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var i=arguments.length,a=new Array(i>2?i-2:0),o=2;o<i;o++)a[o-2]=arguments[o];try{return 1===arguments.length?Ix(this._delegate,e):Ix.apply(void 0,[this._delegate,e,t].concat(a))}catch(u){throw os(u,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function AG(n){return F_(rr(n.firestore,bi),[new xk(n._key,Zo.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];var o=zG(i),u=YG(i,function(d){return new rw(e.firestore,new Hd(e.firestore._delegate,e._userDataWriter,d._key,d._document,d.metadata,e._delegate.converter))});return OS(this._delegate,o,u)}},{key:"get",value:function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function EG(n){n=rr(n,Bi);var r=rr(n.firestore,bi),e=ga(r),t=new zv(r);return function oie(n,r){var e=new $a;return n.asyncQueue.enqueueAndForget((0,st.Z)(me().mark(function t(){return me().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.t0=function(){var o=(0,st.Z)(me().mark(function u(d,h,v){var b,k;return me().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.prev=0,O.next=3,function(q,J){var ue=Ut(q);return ue.persistence.runTransaction("read document","readonly",function(fe){return ue.fi.Ls(fe,J)})}(d,h);case 3:(b=O.sent).isFoundDocument()?v.resolve(b):b.isNoDocument()?v.resolve(null):v.reject(new wt(rt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),O.next=11;break;case 7:O.prev=7,O.t0=O.catch(0),k=R_(O.t0,"Failed to get document '".concat(h," from cache")),v.reject(k);case 11:case"end":return O.stop()}},u,null,[[0,7]])}));return function(u,d,h){return o.apply(this,arguments)}}(),a.next=3,vx(n);case 3:return a.t1=a.sent,a.t2=r,a.t3=e,a.abrupt("return",(0,a.t0)(a.t1,a.t2,a.t3));case 7:case"end":return a.stop()}},t)}))),e.promise}(e,n._key).then(function(i){return new Hd(r,t,n._key,i,new Gv(null!==i&&i.hasLocalMutations,!0),n.converter)})}(this._delegate):"server"===(null==e?void 0:e.source)?function DG(n){n=rr(n,Bi);var r=rr(n.firestore,bi);return R6(ga(r),n._key,{source:"server"}).then(function(e){return Rx(r,n,e)})}(this._delegate):function CG(n){n=rr(n,Bi);var r=rr(n.firestore,bi);return R6(ga(r),n._key).then(function(e){return Rx(r,n,e)})}(this._delegate)).then(function(a){return new rw(t.firestore,new Hd(t.firestore._delegate,t._userDataWriter,a._key,a._document,a.metadata,t._delegate.converter))})}},{key:"withConverter",value:function(e){return new n(this.firestore,this._delegate.withConverter(e?FS.getInstance(this.firestore,e):null))}}],[{key:"forPath",value:function(e,t,i){if(e.length%2!=0)throw new wt("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(e.canonicalString()," has ").concat(e.length));return new n(t,new Bi(t._delegate,i,new Ht(e)))}},{key:"forKey",value:function(e,t,i){return new n(t,new Bi(t._delegate,i,e))}}]),n}();function os(n,r,e){return n.message=n.message.replace(r,e),n}function zG(n){var e,r=(0,G.Z)(n);try{for(r.s();!(e=r.n()).done;){var t=e.value;if("object"==typeof t&&!Px(t))return t}}catch(i){r.e(i)}finally{r.f()}return{}}function YG(n,r){var e,t,i;return{next:function(o){i.next&&i.next(r(o))},error:null===(e=(i=Px(n[0])?n[0]:Px(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]}).error)||void 0===e?void 0:e.bind(i),complete:null===(t=i.complete)||void 0===t?void 0:t.bind(i)}}var rw=function(){function n(r,e){(0,m.Z)(this,n),this._firestore=r,this._delegate=e}return(0,_.Z)(n,[{key:"ref",get:function(){return new Ah(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return Sx(this._delegate,e._delegate)}}]),n}(),iw=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(){return(0,m.Z)(this,e),r.apply(this,arguments)}return(0,_.Z)(e,[{key:"data",value:function(i){var a=this._delegate.data(i);return function nte(n,r){n||Jt()}(void 0!==a),a}}]),e}(rw),aw=function(){function n(r,e){(0,m.Z)(this,n),this.firestore=r,this._delegate=e,this._userDataWriter=new PS(r)}return(0,_.Z)(n,[{key:"where",value:function(e,t,i){try{return new n(this.firestore,jd(this._delegate,function sG(n,r,e){var t=r,i=IS("where",n);return new Aie(i,t,e)}(e,t,i)))}catch(a){throw os(a,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(e,t){try{return new n(this.firestore,jd(this._delegate,function uG(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",t=IS("orderBy",n);return new Iie(t,e)}(e,t)))}catch(i){throw os(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(e){try{return new n(this.firestore,jd(this._delegate,function cG(n){return Z6("limit",n),new lG("limit",n,"F")}(e)))}catch(t){throw os(t,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(e){try{return new n(this.firestore,jd(this._delegate,function dG(n){return Z6("limitToLast",n),new lG("limitToLast",n,"L")}(e)))}catch(t){throw os(t,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new n(this.firestore,jd(this._delegate,hG.apply(void 0,arguments)))}catch(e){throw os(e,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new n(this.firestore,jd(this._delegate,pG.apply(void 0,arguments)))}catch(e){throw os(e,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new n(this.firestore,jd(this._delegate,gG.apply(void 0,arguments)))}catch(e){throw os(e,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new n(this.firestore,jd(this._delegate,mG.apply(void 0,arguments)))}catch(e){throw os(e,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return bx(this._delegate,e._delegate)}},{key:"get",value:function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function SG(n){n=rr(n,Is);var r=rr(n.firestore,bi),e=ga(r),t=new zv(r);return function sie(n,r){var e=new $a;return n.asyncQueue.enqueueAndForget((0,st.Z)(me().mark(function t(){return me().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.t0=function(){var o=(0,st.Z)(me().mark(function u(d,h,v){var b,k,I,O,q;return me().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return ue.prev=0,ue.next=3,_S(d,h,!0);case 3:k=new _6(h,(b=ue.sent)._i),I=k.Wu(b.documents),O=k.applyChanges(I,!1),v.resolve(O.snapshot),ue.next=14;break;case 10:ue.prev=10,ue.t0=ue.catch(0),q=R_(ue.t0,"Failed to execute query '".concat(h," against cache")),v.reject(q);case 14:case"end":return ue.stop()}},u,null,[[0,10]])}));return function(u,d,h){return o.apply(this,arguments)}}(),a.next=3,vx(n);case 3:return a.t1=a.sent,a.t2=r,a.t3=e,a.abrupt("return",(0,a.t0)(a.t1,a.t2,a.t3));case 7:case"end":return a.stop()}},t)}))),e.promise}(e,n._query).then(function(i){return new Sh(r,t,n,i)})}(this._delegate):"server"===(null==e?void 0:e.source)?function TG(n){n=rr(n,Is);var r=rr(n.firestore,bi),e=ga(r),t=new zv(r);return O6(e,n._query,{source:"server"}).then(function(i){return new Sh(r,t,n,i)})}(this._delegate):function MG(n){n=rr(n,Is);var r=rr(n.firestore,bi),e=ga(r),t=new zv(r);return oG(n._query),O6(e,n._query).then(function(i){return new Sh(r,t,n,i)})}(this._delegate)).then(function(a){return new Fx(t.firestore,new Sh(t.firestore._delegate,t._userDataWriter,t._delegate,a._snapshot))})}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];var o=zG(i),u=YG(i,function(d){return new Fx(e.firestore,new Sh(e.firestore._delegate,e._userDataWriter,e._delegate,d._snapshot))});return OS(this._delegate,o,u)}},{key:"withConverter",value:function(e){return new n(this.firestore,this._delegate.withConverter(e?FS.getInstance(this.firestore,e):null))}}]),n}(),Vie=function(){function n(r,e){(0,m.Z)(this,n),this._firestore=r,this._delegate=e}return(0,_.Z)(n,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new iw(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),n}(),Fx=function(){function n(r,e){(0,m.Z)(this,n),this._firestore=r,this._delegate=e}return(0,_.Z)(n,[{key:"query",get:function(){return new aw(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map(function(t){return new iw(e._firestore,t)})}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map(function(i){return new Vie(t._firestore,i)})}},{key:"forEach",value:function(e,t){var i=this;this._delegate.forEach(function(a){e.call(t,new iw(i._firestore,a))})}},{key:"isEqual",value:function(e){return Sx(this._delegate,e._delegate)}}]),n}(),xS=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i){var a;return(0,m.Z)(this,e),(a=r.call(this,t,i)).firestore=t,a._delegate=i,a}return(0,_.Z)(e,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var i=this._delegate.parent;return i?new Ah(this.firestore,i):null}},{key:"doc",value:function(i){try{return new Ah(this.firestore,void 0===i?Xk(this._delegate):Xk(this._delegate,i))}catch(a){throw os(a,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(i){var a=this;return function IG(n,r){var e=rr(n.firestore,bi),t=Xk(n),i=RS(n.converter,r);return F_(e,[SS(Hv(n.firestore),"addDoc",t._key,i,null!==n.converter,{}).toMutation(t._key,Zo.exists(!1))]).then(function(){return t})}(this._delegate,i).then(function(o){return new Ah(a.firestore,o)})}},{key:"isEqual",value:function(i){return Mh(this._delegate,i._delegate)}},{key:"withConverter",value:function(i){return new e(this.firestore,this._delegate.withConverter(i?FS.getInstance(this.firestore,i):null))}}]),e}(aw);function Yv(n){return rr(n,Bi)}var Uie=function(){function n(){(0,m.Z)(this,n);for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];this._delegate=(0,G3.Z)(Ud,e)}return(0,_.Z)(n,[{key:"isEqual",value:function(e){return(e=(0,re.m9)(e))instanceof Ud&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new n(su.keyField().canonicalString())}}]),n}(),Hie=function(){function n(r){(0,m.Z)(this,n),this._delegate=r}return(0,_.Z)(n,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var e=function FG(){return new wie("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new n(e)}},{key:"delete",value:function(){var e=function PG(){return new wx("deleteField")}();return e._methodName="FieldValue.delete",new n(e)}},{key:"arrayUnion",value:function(){var e=xG.apply(void 0,arguments);return e._methodName="FieldValue.arrayUnion",new n(e)}},{key:"arrayRemove",value:function(){var e=NG.apply(void 0,arguments);return e._methodName="FieldValue.arrayRemove",new n(e)}},{key:"increment",value:function(e){var t=function ZG(n){return new Die("increment",n)}(e);return t._methodName="FieldValue.increment",new n(t)}}]),n}(),jie={Firestore:HG,GeoPoint:MS,Timestamp:Eo,Blob:UG,Transaction:jG,WriteBatch:GG,DocumentReference:Ah,DocumentSnapshot:rw,Query:aw,QueryDocumentSnapshot:iw,QuerySnapshot:Fx,CollectionReference:xS,FieldPath:Uie,FieldValue:Hie,setLogLevel:function Bie(n){!function sH(n){Zl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function WG(n,r){return r?Kn(function(){return n},r):Kn(function(){return n})}!function zie(n){(function Gie(n,r){n.INTERNAL.registerComponent(new xl.wA("firestore-compat",function(e){var t=e.getProvider("app-compat").getImmediate(),i=e.getProvider("firestore").getImmediate();return r(t,i)},"PUBLIC").setServiceProps(Object.assign({},jie)))})(n,function(r,e){return new HG(r,e,new Lie)}),n.registerVersion("@firebase/firestore-compat","0.1.18")}(LO.Z);var xx=x(3334),Rs=x(5867),Wv=(0,_.Z)(function n(r){return(0,m.Z)(this,n),r}),Nx=(0,_.Z)(function n(){return(0,m.Z)(this,n),(0,Rs.C6)()}),Zx=new s.OlP("angularfire2._apps"),Wie={provide:Wv,useFactory:function Yie(n){return n&&1===n.length?n[0]:new Wv((0,Rs.Mq)())},deps:[[new s.FiY,Zx]]},qie={provide:Nx,deps:[[new s.FiY,Zx]]};function Kie(n){return function(r,e){var t=r.runOutsideAngular(function(){return n(e)});return new Wv(t)}}var $ie=function(){var n=(0,_.Z)(function r(e){(0,m.Z)(this,r),(0,Rs.KN)("angularfire",Ae.q4.full,"core"),(0,Rs.KN)("angularfire",Ae.q4.full,"app"),(0,Rs.KN)("angular",s.q4F.full,e.toString())});return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.Lbi))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Wie,qie]}),n}();function Qie(n){for(var r=arguments.length,e=new Array(r>1?r-1:0),t=1;t<r;t++)e[t-1]=arguments[t];return{ngModule:$ie,providers:[{provide:Zx,useFactory:Kie(n),multi:!0,deps:[s.R0b,s.zs3,Ae.HU].concat(e)}]}}var Vu,Jie=(0,Ae.u3)(Rs.ZF,!0),qG=new Map,Xie={activated:!1,tokenObservers:[]},eae={initialized:!1,enabled:!1};function no(n){return qG.get(n)||Xie}function Ll(n,r){qG.set(n,r)}function NS(){return eae}var aae=function(){function n(r,e,t,i,a){if((0,m.Z)(this,n),this.operation=r,this.retryPolicy=e,this.getWaitDuration=t,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}return(0,_.Z)(n,[{key:"start",value:function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(function(){})}},{key:"stop",value:function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}},{key:"isRunning",value:function(){return!!this.pending}},{key:"process",value:(r=(0,st.Z)(Pi.mark(function t(i){return Pi.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return this.stop(),o.prev=1,this.pending=new re.BH,o.next=5,oae(this.getNextRun(i));case 5:return this.pending.resolve(),o.next=8,this.pending.promise;case 8:return this.pending=new re.BH,o.next=11,this.operation();case 11:return this.pending.resolve(),o.next=14,this.pending.promise;case 14:this.process(!0).catch(function(){}),o.next=20;break;case 17:o.prev=17,o.t0=o.catch(1),this.retryPolicy(o.t0)?this.process(!1).catch(function(){}):this.stop();case 20:case"end":return o.stop()}},t,this,[[1,17]])})),function e(t){return r.apply(this,arguments)})},{key:"getNextRun",value:function(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}]),n;var r}();function oae(n){return new Promise(function(r){setTimeout(r,n)})}var sae=((0,zr.Z)(Vu={},"already-initialized","You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance."),(0,zr.Z)(Vu,"use-before-activation","App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services."),(0,zr.Z)(Vu,"fetch-network-error","Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}."),(0,zr.Z)(Vu,"fetch-parse-error","Fetch client could not parse response. Original error: {$originalErrorMessage}."),(0,zr.Z)(Vu,"fetch-status-error","Fetch server returned an HTTP error status. HTTP status: {$httpStatus}."),(0,zr.Z)(Vu,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),(0,zr.Z)(Vu,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),(0,zr.Z)(Vu,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),(0,zr.Z)(Vu,"recaptcha-error","ReCAPTCHA error."),(0,zr.Z)(Vu,"throttled","Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"),Vu),Bl=new re.LL("appCheck","AppCheck",sae);function $G(n){if(!no(n).activated)throw Bl.create("use-before-activation",{appName:n.name})}function cae(n,r){return Bx.apply(this,arguments)}function Bx(){return Bx=(0,st.Z)(Pi.mark(function n(r,e){var t,i,a,o,u,d,h,v,b,k,I;return Pi.wrap(function(q){for(;;)switch(q.prev=q.next){case 0:if(t=r.url,i=r.body,a={"Content-Type":"application/json"},!(o=e.getImmediate({optional:!0}))){q.next=8;break}return q.next=6,o.getHeartbeatsHeader();case 6:(u=q.sent)&&(a["X-Firebase-Client"]=u);case 8:return d={method:"POST",body:JSON.stringify(i),headers:a},q.prev=9,q.next=12,fetch(t,d);case 12:h=q.sent,q.next=18;break;case 15:throw q.prev=15,q.t0=q.catch(9),Bl.create("fetch-network-error",{originalErrorMessage:q.t0.message});case 18:if(200===h.status){q.next=20;break}throw Bl.create("fetch-status-error",{httpStatus:h.status});case 20:return q.prev=20,q.next=23,h.json();case 23:v=q.sent,q.next=29;break;case 26:throw q.prev=26,q.t1=q.catch(20),Bl.create("fetch-parse-error",{originalErrorMessage:q.t1.message});case 29:if((b=v.ttl.match(/^([\d.]+)(s)$/))&&b[2]&&!isNaN(Number(b[1]))){q.next=32;break}throw Bl.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration "+"format: ".concat(v.ttl)});case 32:return k=1e3*Number(b[1]),I=Date.now(),q.abrupt("return",{token:v.token,expireTimeMillis:I+k,issuedAtTimeMillis:I});case 35:case"end":return q.stop()}},n,null,[[9,15],[20,26]])})),Bx.apply(this,arguments)}function dae(n,r){var e=n.options,t=e.projectId,i=e.appId,a=e.apiKey;return{url:"".concat("https://content-firebaseappcheck.googleapis.com/v1","/projects/").concat(t,"/apps/").concat(i,":").concat("exchangeDebugToken","?key=").concat(a),body:{debug_token:r}}}var ow="firebase-app-check-store",BS=null;function JG(){return BS||(BS=new Promise(function(n,r){try{var e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=function(t){n(t.target.result)},e.onerror=function(t){var i;r(Bl.create("storage-open",{originalErrorMessage:null===(i=t.target.error)||void 0===i?void 0:i.message}))},e.onupgradeneeded=function(t){0===t.oldVersion&&t.target.result.createObjectStore(ow,{keyPath:"compositeKey"})}}catch(t){r(Bl.create("storage-open",{originalErrorMessage:t.message}))}}),BS)}function Vx(){return Vx=(0,st.Z)(Pi.mark(function n(r,e){var i,a,o;return Pi.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,JG();case 2:return i=d.sent.transaction(ow,"readwrite"),a=i.objectStore(ow),o=a.put({compositeKey:r,value:e}),d.abrupt("return",new Promise(function(h,v){o.onsuccess=function(b){h()},i.onerror=function(b){var k;v(Bl.create("storage-set",{originalErrorMessage:null===(k=b.target.error)||void 0===k?void 0:k.message}))}}));case 7:case"end":return d.stop()}},n)})),Vx.apply(this,arguments)}var sw=new Nl.Yd("@firebase/app-check");function nz(n,r){return(0,re.hl)()?function vae(n,r){return function XG(n,r){return Vx.apply(this,arguments)}(function tz(n){return"".concat(n.options.appId,"-").concat(n.name)}(n),r)}(n,r).catch(function(e){sw.warn("Failed to write token to IndexedDB. Error: ".concat(e))}):Promise.resolve()}function rz(){return NS().enabled}function iz(){return Gx.apply(this,arguments)}function Gx(){return Gx=(0,st.Z)(Pi.mark(function n(){var r;return Pi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r=NS()).enabled||!r.token){t.next=5;break}return t.abrupt("return",r.token.promise);case 5:throw Error("\n            Can't get debug token in production mode.\n        ");case 6:case"end":return t.stop()}},n)})),Gx.apply(this,arguments)}var kae={error:"UNKNOWN_ERROR"};function wae(n){return re.US.encodeString(JSON.stringify(n),!1)}function VS(n){return zx.apply(this,arguments)}function zx(){return zx=(0,st.Z)(Pi.mark(function n(r){var e,t,i,a,o,u,d,h,v,b=arguments;return Pi.wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(e=b.length>1&&void 0!==b[1]&&b[1],$G(t=r.app),i=no(t),o=void 0,a=i.token){I.next=11;break}return I.next=9,i.cachedTokenPromise;case 9:(u=I.sent)&&US(u)&&(a=u);case 11:if(e||!a||!US(a)){I.next=13;break}return I.abrupt("return",{token:a.token});case 13:if(d=!1,!rz()){I.next=33;break}if(i.exchangeTokenPromise){I.next=26;break}return I.t0=cae,I.t1=dae,I.t2=t,I.next=21,iz();case 21:I.t3=I.sent,I.t4=(0,I.t1)(I.t2,I.t3),I.t5=r.heartbeatServiceProvider,i.exchangeTokenPromise=(0,I.t0)(I.t4,I.t5).then(function(O){return i.exchangeTokenPromise=void 0,O}),d=!0;case 26:return I.next=28,i.exchangeTokenPromise;case 28:return h=I.sent,I.next=31,nz(t,h);case 31:return Ll(t,Object.assign(Object.assign({},i),{token:h})),I.abrupt("return",{token:h.token});case 33:return I.prev=33,i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(function(O){return i.exchangeTokenPromise=void 0,O}),d=!0),I.next=37,i.exchangeTokenPromise;case 37:a=I.sent,I.next=44;break;case 40:I.prev=40,I.t6=I.catch(33),I.t6.code==="appCheck/".concat("throttled")?sw.warn(I.t6.message):sw.error(I.t6),o=I.t6;case 44:if(a){I.next=48;break}v=Eae(o),I.next=52;break;case 48:return v={token:a.token},Ll(t,Object.assign(Object.assign({},i),{token:a})),I.next=52,nz(t,a);case 52:return d&&oz(t,v),I.abrupt("return",v);case 54:case"end":return I.stop()}},n,null,[[33,40]])})),zx.apply(this,arguments)}function Wx(n,r){var e=no(n),t=e.tokenObservers.filter(function(i){return i.next!==r});0===t.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),Ll(n,Object.assign(Object.assign({},e),{tokenObservers:t}))}function az(n){var r=n.app,e=no(r),t=e.tokenRefresher;t||(t=function Cae(n){var r=n.app;return new aae((0,st.Z)(Pi.mark(function e(){var i;return Pi.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(no(r).token){o.next=7;break}return o.next=4,VS(n);case 4:i=o.sent,o.next=10;break;case 7:return o.next=9,VS(n,!0);case 9:i=o.sent;case 10:if(!i.error){o.next=12;break}throw i.error;case 12:case"end":return o.stop()}},e)})),function(){return!0},function(){var e=no(r);if(e.token){var t=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return t=Math.min(t,e.token.expireTimeMillis-3e5),Math.max(0,t-Date.now())}return 0},3e4,96e4)}(n),Ll(r,Object.assign(Object.assign({},e),{tokenRefresher:t}))),!t.isRunning()&&e.isTokenAutoRefreshEnabled&&t.start()}function oz(n,r){var i,e=no(n).tokenObservers,t=(0,G.Z)(e);try{for(t.s();!(i=t.n()).done;){var a=i.value;try{"EXTERNAL"===a.type&&null!=r.error?a.error(r.error):a.next(r)}catch(o){}}}catch(o){t.e(o)}finally{t.f()}}function US(n){return n.expireTimeMillis-Date.now()>0}function Eae(n){return{token:wae(kae),error:n}}var Dae=function(){function n(r,e){(0,m.Z)(this,n),this.app=r,this.heartbeatServiceProvider=e}return(0,_.Z)(n,[{key:"_delete",value:function(){var a,e=no(this.app),i=(0,G.Z)(e.tokenObservers);try{for(i.s();!(a=i.n()).done;)Wx(this.app,a.value.next)}catch(u){i.e(u)}finally{i.f()}return Promise.resolve()}}]),n}(),uz="app-check-internal";!function Uae(){(0,Zi._registerComponent)(new xl.wA("app-check",function(n){return function Mae(n,r){return new Dae(n,r)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat"))},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(n,r,e){n.getProvider(uz).initialize()})),(0,Zi._registerComponent)(new xl.wA(uz,function(n){return function Sae(n){return{getToken:function(e){return VS(n,e)},addTokenListener:function(e){return function Yx(n,r,e,t){var i=n.app,a=no(i),o={next:e,error:t,type:r};if(Ll(i,Object.assign(Object.assign({},a),{tokenObservers:[].concat((0,Zt.Z)(a.tokenObservers),[o])})),a.token&&US(a.token)){var u=a.token;Promise.resolve().then(function(){e({token:u.token}),az(n)}).catch(function(){})}a.cachedTokenPromise.then(function(){return az(n)})}(n,"INTERNAL",e)},removeTokenListener:function(e){return Wx(n.app,e)}}}(n.getProvider("app-check").getImmediate())},"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Zi.registerVersion)("@firebase/app-check","0.5.8")}();var qv=(0,_.Z)(function n(){return(0,m.Z)(this,n),(0,Ae.vb)("app-check")});"undefined"!=typeof window&&window;var Jx=x(127),Xx=new s.OlP("angularfire2.auth.use-emulator"),eN=new s.OlP("angularfire2.auth.settings"),tN=new s.OlP("angularfire2.auth.tenant-id"),nN=new s.OlP("angularfire2.auth.langugage-code"),rN=new s.OlP("angularfire2.auth.use-device-language"),iN=new s.OlP("angularfire.auth.persistence"),aN=function(r,e,t,i,a,o,u,d){return(0,Ia.cc)("".concat(r.name,".auth"),"AngularFireAuth",r.name,function(){var h=e.runOutsideAngular(function(){return r.auth()});if(t&&h.useEmulator.apply(h,(0,Zt.Z)(t)),i&&(h.tenantId=i),h.languageCode=a,o&&h.useDeviceLanguage(),u)for(var v=0,b=Object.entries(u);v<b.length;v++){var k=(0,Z.Z)(b[v],2);h.settings[k[0]]=k[1]}return d&&h.setPersistence(d),h},[t,i,a,o,u,d])},oN=function(){var n=(0,_.Z)(function r(e,t,i,a,o,u,d,h,v,b,k,I){(0,m.Z)(this,r);var O=new ft.xQ,q=(0,Ft.of)(void 0).pipe((0,zb.QV)(o.outsideAngular),Kn(function(){return a.runOutsideAngular(function(){return Promise.resolve().then(x.bind(x,5881))})}),(0,It.U)(function(){return(0,Ia.on)(e,a,t)}),(0,It.U)(function(Ze){return aN(Ze,a,u,h,v,b,d,k)}),H1({bufferSize:1,refCount:!1}));if($u(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Ft.of)(null);else{q.pipe(ja()).subscribe();var ue=q.pipe(Kn(function(Ze){return Ze.getRedirectResult().then(function(je){return je},function(){return null})}),Ae.iC,H1({bufferSize:1,refCount:!1})),fe=q.pipe(Kn(function(Ze){return new Qn.y(function(je){return{unsubscribe:a.runOutsideAngular(function(){return Ze.onAuthStateChanged(function(lt){return je.next(lt)},function(lt){return je.error(lt)},function(){return je.complete()})})}})})),Oe=q.pipe(Kn(function(Ze){return new Qn.y(function(je){return{unsubscribe:a.runOutsideAngular(function(){return Ze.onIdTokenChanged(function(lt){return je.next(lt)},function(lt){return je.error(lt)},function(){return je.complete()})})}})}));this.authState=ue.pipe(WG(fe),(0,xx.R)(o.outsideAngular),(0,zb.QV)(o.insideAngular)),this.user=ue.pipe(WG(Oe),(0,xx.R)(o.outsideAngular),(0,zb.QV)(o.insideAngular)),this.idToken=this.user.pipe(Kn(function(Ze){return Ze?(0,qn.D)(Ze.getIdToken()):(0,Ft.of)(null)})),this.idTokenResult=this.user.pipe(Kn(function(Ze){return Ze?(0,qn.D)(Ze.getIdTokenResult()):(0,Ft.of)(null)})),this.credential=(0,Xn.T)(ue,O,this.authState.pipe(_n(function(Ze){return!Ze}))).pipe((0,It.U)(function(Ze){return(null==Ze?void 0:Ze.user)?Ze:null}),(0,xx.R)(o.outsideAngular),(0,zb.QV)(o.insideAngular))}return(0,Ia.pX)(this,q,a,{spy:{apply:function(je,lt,ct){(je.startsWith("signIn")||je.startsWith("createUser"))&&ct.then(function(vt){return O.next(vt)})}}})});return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ia.Dh),s.LFG(Ia.xv,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(Ae.HU),s.LFG(Xx,8),s.LFG(eN,8),s.LFG(tN,8),s.LFG(nN,8),s.LFG(rN,8),s.LFG(iN,8),s.LFG(qv,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n}();function cz(n,r){return function qae(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tl.z;return new Qn.y(function(e){var t;return null!=r?r.schedule(function(){t=n.onSnapshot({includeMetadataChanges:!0},e)}):t=n.onSnapshot({includeMetadataChanges:!0},e),function(){null!=t&&t()}})}(n,r)}function sN(n,r){return cz(n,r).pipe((0,It.U)(function(e){return{payload:e,type:"query"}}))}function jS(n,r){return sN(n,r).pipe(Hn(void 0),Gb(),(0,It.U)(function(e){var t=(0,Z.Z)(e,2),i=t[0],a=t[1],o=a.payload.docChanges(),u=o.map(function(d){return{type:d.type,payload:d}});return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(a.payload.metadata)&&a.payload.docs.forEach(function(d,h){var v=o.find(function(k){return k.doc.ref.isEqual(d.ref)}),b=null==i?void 0:i.payload.docs.find(function(k){return k.ref.isEqual(d.ref)});v&&JSON.stringify(v.doc.metadata)===JSON.stringify(d.metadata)||!v&&b&&JSON.stringify(b.metadata)===JSON.stringify(d.metadata)||u.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:d}})}),u}))}function dz(n,r,e){return jS(n,e).pipe(gi(function(t,i){return function $ae(n,r,e){return r.forEach(function(t){e.indexOf(t.type)>-1&&(n=function Qae(n,r){switch(r.type){case"added":if(!n[r.newIndex]||!n[r.newIndex].doc.ref.isEqual(r.doc.ref))return uN(n,r.newIndex,0,r);break;case"modified":if(null==n[r.oldIndex]||n[r.oldIndex].doc.ref.isEqual(r.doc.ref)){if(r.oldIndex!==r.newIndex){var e=n.slice();return e.splice(r.oldIndex,1),e.splice(r.newIndex,0,r),e}return uN(n,r.newIndex,1,r)}break;case"removed":if(n[r.oldIndex]&&n[r.oldIndex].doc.ref.isEqual(r.doc.ref))return uN(n,r.oldIndex,1)}return n}(n,t))}),n}(t,i.map(function(a){return a.payload}),r)},[]),Tc(),(0,It.U)(function(t){return t.map(function(i){return{type:i.type,payload:i}})}))}function uN(n,r,e){for(var t=n.slice(),i=arguments.length,a=new Array(i>3?i-3:0),o=3;o<i;o++)a[o-3]=arguments[o];return t.splice.apply(t,[r,e].concat(a)),t}function fz(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}var hz=function(){function n(r,e,t){(0,m.Z)(this,n),this.ref=r,this.query=e,this.afs=t}return(0,_.Z)(n,[{key:"stateChanges",value:function(e){var t=jS(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,It.U)(function(i){return i.filter(function(a){return e.indexOf(a.type)>-1})}))),t.pipe(Hn(void 0),Gb(),_n(function(i){var a=(0,Z.Z)(i,2);return a[1].length>0||!a[0]}),(0,It.U)(function(i){return(0,Z.Z)(i,2)[1]}),Ae.iC)}},{key:"auditTrail",value:function(e){return this.stateChanges(e).pipe(gi(function(t,i){return[].concat((0,Zt.Z)(t),(0,Zt.Z)(i))},[]))}},{key:"snapshotChanges",value:function(e){var t=fz(e);return dz(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ae.iC)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return sN(this.query,this.afs.schedulers.outsideAngular).pipe((0,It.U)(function(t){return t.payload.docs.map(function(i){return e.idField?Object.assign(Object.assign({},i.data()),(0,zr.Z)({},e.idField,i.id)):i.data()})}),Ae.iC)}},{key:"get",value:function(e){return(0,qn.D)(this.query.get(e)).pipe(Ae.iC)}},{key:"add",value:function(e){return this.ref.add(e)}},{key:"doc",value:function(e){return new pz(this.ref.doc(e),this.afs)}}]),n}(),pz=function(){function n(r,e){(0,m.Z)(this,n),this.ref=r,this.afs=e}return(0,_.Z)(n,[{key:"set",value:function(e,t){return this.ref.set(e,t)}},{key:"update",value:function(e){return this.ref.update(e)}},{key:"delete",value:function(){return this.ref.delete()}},{key:"collection",value:function(e,t){var a=mz(this.ref.collection(e),t);return new hz(a.ref,a.query,this.afs)}},{key:"snapshotChanges",value:function(){var e=function Kae(n,r){return cz(n,r).pipe(Hn(void 0),Gb(),(0,It.U)(function(e){var t=(0,Z.Z)(e,2),i=t[0],a=t[1];return a.exists?(null==i?void 0:i.exists)?{payload:a,type:"modified"}:{payload:a,type:"added"}:{payload:a,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular);return e.pipe(Ae.iC)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.snapshotChanges().pipe((0,It.U)(function(t){var i=t.payload;return e.idField?Object.assign(Object.assign({},i.data()),(0,zr.Z)({},e.idField,i.id)):i.data()}))}},{key:"get",value:function(e){return(0,qn.D)(this.ref.get(e)).pipe(Ae.iC)}}]),n}(),Jae=function(){function n(r,e){(0,m.Z)(this,n),this.query=r,this.afs=e}return(0,_.Z)(n,[{key:"stateChanges",value:function(e){return e&&0!==e.length?jS(this.query,this.afs.schedulers.outsideAngular).pipe((0,It.U)(function(t){return t.filter(function(i){return e.indexOf(i.type)>-1})}),_n(function(t){return t.length>0}),Ae.iC):jS(this.query,this.afs.schedulers.outsideAngular).pipe(Ae.iC)}},{key:"auditTrail",value:function(e){return this.stateChanges(e).pipe(gi(function(t,i){return[].concat((0,Zt.Z)(t),(0,Zt.Z)(i))},[]))}},{key:"snapshotChanges",value:function(e){var t=fz(e);return dz(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ae.iC)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=sN(this.query,this.afs.schedulers.outsideAngular);return t.pipe((0,It.U)(function(i){return i.payload.docs.map(function(a){return e.idField?Object.assign((0,zr.Z)({},e.idField,a.id),a.data()):a.data()})}),Ae.iC)}},{key:"get",value:function(e){return(0,qn.D)(this.query.get(e)).pipe(Ae.iC)}}]),n}(),vz=new s.OlP("angularfire2.enableFirestorePersistence"),gz=new s.OlP("angularfire2.firestore.persistenceSettings"),Xae=new s.OlP("angularfire2.firestore.settings"),eoe=new s.OlP("angularfire2.firestore.use-emulator");function mz(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(i){return i},e=r(n);return{query:e,ref:n}}var toe=function(){var n=function(){function r(e,t,i,a,o,u,d,h,v,b,k,I,O,q,J,ue,fe){(0,m.Z)(this,r),this.schedulers=d;var Oe=(0,Ia.on)(e,u,t),Ze=v;b&&aN(Oe,u,k,O,q,J,I,ue);var je=(0,Ia.cc)("".concat(Oe.name,".firestore"),"AngularFirestore",Oe.name,function(){var ct=u.runOutsideAngular(function(){return Oe.firestore()});return a&&ct.settings(a),Ze&&ct.useEmulator.apply(ct,(0,Zt.Z)(Ze)),i&&!$u(o)?[ct,u.runOutsideAngular(function(){try{return(0,qn.D)(ct.enablePersistence(h||void 0).then(function(){return!0},function(){return!1}))}catch(tn){return"undefined"!=typeof console&&console.warn(tn),(0,Ft.of)(!1)}})]:[ct,(0,Ft.of)(!1)]},[a,Ze,i]),lt=(0,Z.Z)(je,2);this.firestore=lt[0],this.persistenceEnabled$=lt[1]}return(0,_.Z)(r,[{key:"collection",value:function(t,i){var o=mz("string"==typeof t?this.firestore.collection(t):t,i),u=o.ref,d=o.query,h=this.schedulers.ngZone.run(function(){return u});return new hz(h,d,this)}},{key:"collectionGroup",value:function(t,i){var a=i||function(u){return u},o=this.firestore.collectionGroup(t);return new Jae(a(o),this)}},{key:"doc",value:function(t){var i;i="string"==typeof t?this.firestore.doc(t):t;var a=this.schedulers.ngZone.run(function(){return i});return new pz(a,this)}},{key:"createId",value:function(){return this.firestore.collection("_").doc().id}}]),r}();return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ia.Dh),s.LFG(Ia.xv,8),s.LFG(vz,8),s.LFG(Xae,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(Ae.HU),s.LFG(gz,8),s.LFG(eoe,8),s.LFG(oN,8),s.LFG(Xx,8),s.LFG(eN,8),s.LFG(tN,8),s.LFG(nN,8),s.LFG(rN,8),s.LFG(iN,8),s.LFG(qv,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n}(),noe=function(){var n=function(){function r(){(0,m.Z)(this,r),Jx.Z.registerVersion("angularfire",Ae.q4.full,"fst-compat")}return(0,_.Z)(r,null,[{key:"enablePersistence",value:function(t){return{ngModule:r,providers:[{provide:vz,useValue:!0},{provide:gz,useValue:t}]}}}]),r}();return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[toe]}),n}();var roe=function(){function n(r,e){(0,m.Z)(this,n),this.observables=r,this.project=e}return(0,_.Z)(n,[{key:"call",value:function(e,t){return t.subscribe(new ioe(e,this.observables,this.project))}}]),n}(),ioe=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i,a){var o;(0,m.Z)(this,e),(o=r.call(this,t)).observables=i,o.project=a,o.toRespond=[];var u=i.length;o.values=new Array(u);for(var d=0;d<u;d++)o.toRespond.push(d);for(var h=0;h<u;h++){var v=i[h];o.add(Vr((0,Lr.Z)(o),v,void 0,h))}return o}return(0,_.Z)(e,[{key:"notifyNext",value:function(i,a,o){this.values[o]=a;var u=this.toRespond;if(u.length>0){var d=u.indexOf(o);-1!==d&&u.splice(d,1)}}},{key:"notifyComplete",value:function(){}},{key:"_next",value:function(i){if(0===this.toRespond.length){var a=[i].concat((0,Zt.Z)(this.values));this.project?this._tryProject(a):this.destination.next(a)}}},{key:"_tryProject",value:function(i){var a;try{a=this.project.apply(this,i)}catch(o){return void this.destination.error(o)}this.destination.next(a)}}]),e}(dl);var aoe=function(){function n(r){(0,m.Z)(this,n),this.predicate=r}return(0,_.Z)(n,[{key:"call",value:function(e,t){return t.subscribe(new ooe(e,this.predicate))}}]),n}(),ooe=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i){var a;return(0,m.Z)(this,e),(a=r.call(this,t)).predicate=i,a.skipping=!0,a.index=0,a}return(0,_.Z)(e,[{key:"_next",value:function(i){var a=this.destination;this.skipping&&this.tryCallPredicate(i),this.skipping||a.next(i)}},{key:"tryCallPredicate",value:function(i){try{var a=this.predicate(i,this.index++);this.skipping=Boolean(a)}catch(o){this.destination.error(o)}}}]),e}(Br.L),bz="@firebase/database",lN="";function wz(n){lN=n}var soe=function(){function n(r){(0,m.Z)(this,n),this.domStorage_=r,this.prefix_="firebase:"}return(0,_.Z)(n,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,re.Pz)(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,re.cI)(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),n}(),uoe=function(){function n(){(0,m.Z)(this,n),this.cache_={},this.isInMemoryStorage=!0}return(0,_.Z)(n,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return(0,re.r3)(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),n}(),Cz=function(r){try{if("undefined"!=typeof window&&void 0!==window[r]){var e=window[r];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new soe(e)}}catch(t){}return new uoe},Kv=Cz("localStorage"),cN=Cz("sessionStorage"),x_=new Nl.Yd("@firebase/database"),Ez=function(){var n=1;return function(){return n++}}(),Dz=function(r){var e=(0,re.dS)(r),t=new re.gQ;t.update(e);var i=t.digest();return re.US.encodeByteArray(i)},GS=function n(){for(var r="",e=0;e<arguments.length;e++){var t=e<0||arguments.length<=e?void 0:arguments[e];Array.isArray(t)||t&&"object"==typeof t&&"number"==typeof t.length?r+=n.apply(null,t):r+="object"==typeof t?(0,re.Pz)(t):t,r+=" "}return r},$v=null,Mz=!0,Sz=function(r,e){(0,re.hu)(!e||!0===r||!1===r,"Can't turn on custom loggers persistently."),!0===r?(x_.logLevel=Nl.in.VERBOSE,$v=x_.log.bind(x_),e&&cN.set("logging_enabled",!0)):"function"==typeof r?$v=r:($v=null,cN.remove("logging_enabled"))},ro=function(){if(!0===Mz&&(Mz=!1,null===$v&&!0===cN.get("logging_enabled")&&Sz(!0)),$v){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];var i=GS.apply(null,e);$v(i)}},uw=function(r){return function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];ro.apply(void 0,[r].concat(t))}},dN=function(){var r="FIREBASE INTERNAL ERROR: "+GS.apply(void 0,arguments);x_.error(r)},Fc=function(){var r="FIREBASE FATAL ERROR: ".concat(GS.apply(void 0,arguments));throw x_.error(r),new Error(r)},Lo=function(){var r="FIREBASE WARNING: "+GS.apply(void 0,arguments);x_.warn(r)},zS=function(r){return"number"==typeof r&&(r!=r||r===Number.POSITIVE_INFINITY||r===Number.NEGATIVE_INFINITY)},Gd="[MIN_NAME]",xc="[MAX_NAME]",Qv=function(r,e){if(r===e)return 0;if(r===Gd||e===xc)return-1;if(e===Gd||r===xc)return 1;var t=YS(r),i=YS(e);return null!==t?null!==i?t-i==0?r.length-e.length:t-i:-1:null!==i?1:r<e?-1:1},doe=function(r,e){return r===e?0:r<e?-1:1},lw=function(r,e){if(e&&r in e)return e[r];throw new Error("Missing required key ("+r+") in object: "+(0,re.Pz)(e))},Tz=function n(r){if("object"!=typeof r||null===r)return(0,re.Pz)(r);var e=[];for(var t in r)e.push(t);e.sort();for(var i="{",a=0;a<e.length;a++)0!==a&&(i+=","),i+=(0,re.Pz)(e[a]),i+=":",i+=n(r[e[a]]);return i+"}"},Az=function(r,e){var t=r.length;if(t<=e)return[r];for(var i=[],a=0;a<t;a+=e)i.push(r.substring(a,a+e>t?t:a+e));return i};function io(n,r){for(var e in n)n.hasOwnProperty(e)&&r(e,n[e])}var Iz=function(r){(0,re.hu)(!zS(r),"Invalid JSON number");var a,o,u,d,h,i=1023;0===r?(o=0,u=0,a=1/r==-1/0?1:0):(a=r<0,(r=Math.abs(r))>=Math.pow(2,1-i)?(o=(d=Math.min(Math.floor(Math.log(r)/Math.LN2),i))+i,u=Math.round(r*Math.pow(2,52-d)-Math.pow(2,52))):(o=0,u=Math.round(r/Math.pow(2,-1074))));var v=[];for(h=52;h;h-=1)v.push(u%2?1:0),u=Math.floor(u/2);for(h=11;h;h-=1)v.push(o%2?1:0),o=Math.floor(o/2);v.push(a?1:0),v.reverse();var b=v.join(""),k="";for(h=0;h<64;h+=8){var I=parseInt(b.substr(h,8),2).toString(16);1===I.length&&(I="0"+I),k+=I}return k.toLowerCase()},voe=new RegExp("^-?(0*)\\d{1,10}$"),Rz=-2147483648,fN=2147483647,YS=function(r){if(voe.test(r)){var e=Number(r);if(e>=Rz&&e<=fN)return e}return null},N_=function(r){try{r()}catch(e){setTimeout(function(){throw Lo("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},cw=function(r,e){var t=setTimeout(r,e);return"object"==typeof t&&t.unref&&t.unref(),t},moe=function(){function n(r,e){var t=this;(0,m.Z)(this,n),this.appName_=r,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(function(i){return t.appCheck=i})}return(0,_.Z)(n,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise(function(i,a){setTimeout(function(){t.appCheck?t.getToken(e).then(i,a):i(null)},0)})}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(function(i){return i.addTokenListener(e)})}},{key:"notifyForInvalidToken",value:function(){Lo('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),n}(),_oe=function(){function n(r,e,t){var i=this;(0,m.Z)(this,n),this.appName_=r,this.firebaseOptions_=e,this.authProvider_=t,this.auth_=null,this.auth_=t.getImmediate({optional:!0}),this.auth_||t.onInit(function(a){return i.auth_=a})}return(0,_.Z)(n,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch(function(i){return i&&"auth/token-not-initialized"===i.code?(ro("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)}):new Promise(function(i,a){setTimeout(function(){t.auth_?t.getToken(e).then(i,a):i(null)},0)})}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(function(t){return t.addAuthTokenListener(e)})}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then(function(t){return t.removeAuthTokenListener(e)})}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';Lo(e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')}}]),n}(),dw=function(){var n=function(){function r(e){(0,m.Z)(this,r),this.accessToken=e}return(0,_.Z)(r,[{key:"getToken",value:function(t){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(t){t(this.accessToken)}},{key:"removeTokenChangeListener",value:function(t){}},{key:"notifyForInvalidToken",value:function(){}}]),r}();return n.OWNER="owner",n}(),Nz=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Bz="websocket",Vz="long_polling",pN=function(){function n(r,e,t,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",u=arguments.length>6&&void 0!==arguments[6]&&arguments[6];(0,m.Z)(this,n),this.secure=e,this.namespace=t,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=u,this._host=r.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Kv.get("host:"+r)||this._host}return(0,_.Z)(n,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Kv.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),n}();function Uz(n,r,e){var t;if((0,re.hu)("string"==typeof r,"typeof type must == string"),(0,re.hu)("object"==typeof e,"typeof params must == object"),r===Bz)t=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(r!==Vz)throw new Error("Unknown connection type: "+r);t=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function yoe(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);var i=[];return io(e,function(a,o){i.push(a+"="+o)}),t+i.join("&")}var boe=function(){function n(){(0,m.Z)(this,n),this.counters_={}}return(0,_.Z)(n,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;(0,re.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return(0,re.p$)(this.counters_)}}]),n}(),vN={},gN={};function mN(n){var r=n.toString();return vN[r]||(vN[r]=new boe),vN[r]}var woe=function(){function n(r){(0,m.Z)(this,n),this.onMessage_=r,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return(0,_.Z)(n,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var i=this;this.pendingResponses[e]=t;for(var a=function(){var d=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var h=function(k){d[k]&&N_(function(){i.onMessage_(d[k])})},v=0;v<d.length;++v)h(v);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++};this.pendingResponses[this.currentResponseNum]&&"break"!==a(););}}]),n}(),_N=function(){function n(r,e,t,i,a,o,u){var d=this;(0,m.Z)(this,n),this.connId=r,this.repoInfo=e,this.applicationId=t,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=uw(r),this.stats_=mN(e),this.urlFn=function(h){return d.appCheckToken&&(h.ac=d.appCheckToken),Uz(e,Vz,h)}}return(0,_.Z)(n,[{key:"open",value:function(e,t){var i=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new woe(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){i.log_("Timed out trying to connect."),i.onClosed_(),i.connectTimeoutTimer_=null},Math.floor(3e4)),function(r){if((0,re.Yr)()||"complete"===document.readyState)r();else{var e=!1,t=function i(){document.body?e||(e=!0,r()):setTimeout(i,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(function(){if(!i.isClosed_){i.scriptTagHolder=new Foe(function(){for(var u=arguments.length,d=new Array(u),h=0;h<u;h++)d[h]=arguments[h];var v=d[0],b=d[1],k=d[2];if(i.incrementIncomingBytes_(d),i.scriptTagHolder)if(i.connectTimeoutTimer_&&(clearTimeout(i.connectTimeoutTimer_),i.connectTimeoutTimer_=null),i.everConnected_=!0,"start"===v)i.id=b,i.password=k;else{if("close"!==v)throw new Error("Unrecognized command received: "+v);b?(i.scriptTagHolder.sendNewPolls=!1,i.myPacketOrderer.closeAfter(b,function(){i.onClosed_()})):i.onClosed_()}},function(){for(var u=arguments.length,d=new Array(u),h=0;h<u;h++)d[h]=arguments[h];var v=d[0],b=d[1];i.incrementIncomingBytes_(d),i.myPacketOrderer.handleResponse(v,b)},function(){i.onClosed_()},i.urlFn);var a={start:"t"};a.ser=Math.floor(1e8*Math.random()),i.scriptTagHolder.uniqueCallbackIdentifier&&(a.cb=i.scriptTagHolder.uniqueCallbackIdentifier),a.v="5",i.transportSessionId&&(a.s=i.transportSessionId),i.lastSessionId&&(a.ls=i.lastSessionId),i.applicationId&&(a.p=i.applicationId),i.appCheckToken&&(a.ac=i.appCheckToken),"undefined"!=typeof location&&location.hostname&&Nz.test(location.hostname)&&(a.r="f");var o=i.urlFn(a);i.log_("Connecting via long-poll to "+o),i.scriptTagHolder.addTag(o,function(){})}})}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=(0,re.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var i=(0,re.h$)(t),a=Az(i,1840),o=0;o<a.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[o]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!(0,re.Yr)()){this.myDisconnFrame=document.createElement("iframe");var i={dframe:"t"};i.id=e,i.pw=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=(0,re.Pz)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){n.forceAllow_=!0}},{key:"forceDisallow",value:function(){n.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!((0,re.Yr)()||!n.forceAllow_&&(n.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}}]),n}(),Foe=function(){function n(r,e,t,i){if((0,m.Z)(this,n),this.onDisconnect=t,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,re.Yr)())this.commandCB=r,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=Ez(),window["pLPCommand"+this.uniqueCallbackIdentifier]=r,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=n.createIFrame_();var a="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(a='<script>document.domain="'+document.domain+'";<\/script>');var u="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(d){ro("frame writing exception"),d.stack&&ro(d.stack),ro(d)}}}return(0,_.Z)(n,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)},Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),i="",a=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){var u=this.pendingSegs.shift();i=i+"&seg"+a+"="+u.seg+"&ts"+a+"="+u.ts+"&d"+a+"="+u.d,a++}return this.addLongPollTag_(t+=i,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var i=this;this.outstandingRequests.add(t);var a=function(){i.outstandingRequests.delete(t),i.newRequest_()},o=setTimeout(a,Math.floor(25e3));this.addTag(e,function(){clearTimeout(o),a()})}},{key:"addTag",value:function(e,t){var i=this;(0,re.Yr)()?this.doNodeLongPoll(e,t):setTimeout(function(){try{if(!i.sendNewPolls)return;var a=i.myIFrame.doc.createElement("script");a.type="text/javascript",a.async=!0,a.src=e,a.onload=a.onreadystatechange=function(){var o=a.readyState;(!o||"loaded"===o||"complete"===o)&&(a.onload=a.onreadystatechange=null,a.parentNode&&a.parentNode.removeChild(a),t())},a.onerror=function(){ro("Long-poll script failed to load: "+e),i.sendNewPolls=!1,i.close()},i.myIFrame.doc.body.appendChild(a)}catch(o){}},Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||ro("No IE domain setting required")}catch(a){var i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),n}(),qS=null;"undefined"!=typeof MozWebSocket?qS=MozWebSocket:"undefined"!=typeof WebSocket&&(qS=WebSocket);var Z_=function(){var n=function(){function r(e,t,i,a,o,u,d){(0,m.Z)(this,r),this.connId=e,this.applicationId=i,this.appCheckToken=a,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=uw(this.connId),this.stats_=mN(t),this.connURL=r.connectionURL_(t,u,d,a,i),this.nodeAdmin=t.nodeAdmin}return(0,_.Z)(r,[{key:"open",value:function(t,i){var a=this;this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Kv.set("previous_websocket_failure",!0);try{if((0,re.Yr)()){var u=this.nodeAdmin?"AdminNode":"Node",d={headers:{"User-Agent":"Firebase/".concat("5","/").concat(lN,"/").concat(process.platform,"/").concat(u),"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(d.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(d.headers["X-Firebase-AppCheck"]=this.appCheckToken);var h=process.env,v=0===this.connURL.indexOf("wss://")?h.HTTPS_PROXY||h.https_proxy:h.HTTP_PROXY||h.http_proxy;v&&(d.proxy={origin:v})}this.mySock=new qS(this.connURL,[],void 0)}catch(k){this.log_("Error instantiating WebSocket.");var b=k.message||k.data;return b&&this.log_(b),void this.onClosed_()}this.mySock.onopen=function(){a.log_("Websocket connected."),a.everConnected_=!0},this.mySock.onclose=function(){a.log_("Websocket connection was disconnected."),a.mySock=null,a.onClosed_()},this.mySock.onmessage=function(k){a.handleIncomingFrame(k)},this.mySock.onerror=function(k){a.log_("WebSocket error.  Closing connection.");var I=k.message||k.data;I&&a.log_(I),a.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){Kv.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var i=this.frames.join("");this.frames=null;var a=(0,re.cI)(i);this.onMessage(a)}}},{key:"handleNewFrameCount_",value:function(t){this.totalFrames=t,this.frames=[]}},{key:"extractFrameCount_",value:function(t){if((0,re.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){var i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}},{key:"handleIncomingFrame",value:function(t){if(null!==this.mySock){var i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{var a=this.extractFrameCount_(i);null!==a&&this.appendFrame_(a)}}}},{key:"send",value:function(t){this.resetKeepAlive();var i=(0,re.Pz)(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);var a=Az(i,16384);a.length>1&&this.sendString_(String(a.length));for(var o=0;o<a.length;o++)this.sendString_(a[o])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(45e3))}},{key:"sendString_",value:function(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(t,i,a,o,u){var d={v:"5"};return!(0,re.Yr)()&&"undefined"!=typeof location&&location.hostname&&Nz.test(location.hostname)&&(d.r="f"),i&&(d.s=i),a&&(d.ls=a),o&&(d.ac=o),u&&(d.p=u),Uz(t,Bz,d)}},{key:"forceDisallow",value:function(){r.forceDisallow_=!0}},{key:"isAvailable",value:function(){var t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var a=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);a&&a.length>1&&parseFloat(a[1])<4.4&&(t=!0)}return!t&&null!==qS&&!r.forceDisallow_}},{key:"previouslyFailed",value:function(){return Kv.isInMemoryStorage||!0===Kv.get("previous_websocket_failure")}}]),r}();return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n}(),qz=function(){var n=function(){function r(e){(0,m.Z)(this,r),this.initTransports_(e)}return(0,_.Z)(r,[{key:"initTransports_",value:function(t){var i=Z_&&Z_.isAvailable(),a=i&&!Z_.previouslyFailed();if(t.webSocketOnly&&(i||Lo("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[Z_];else{var d,o=this.transports_=[],u=(0,G.Z)(r.ALL_TRANSPORTS);try{for(u.s();!(d=u.n()).done;){var h=d.value;h&&h.isAvailable()&&o.push(h)}}catch(v){u.e(v)}finally{u.f()}r.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[_N,Z_]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),r}();return n.globalTransportInitialized_=!1,n}(),tY=function(){function n(r,e,t,i,a,o,u,d,h,v){(0,m.Z)(this,n),this.id=r,this.repoInfo_=e,this.applicationId_=t,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=u,this.onDisconnect_=d,this.onKill_=h,this.lastSessionId=v,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=uw("c:"+this.id+":"),this.transportManager_=new qz(e),this.log_("Connection created"),this.start_()}return(0,_.Z)(n,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var i=this.connReceiver_(this.conn_),a=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){e.conn_&&e.conn_.open(i,a)},Math.floor(0));var o=t.healthyTimeout||0;o>0&&(this.healthyTimeout_=cw(function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))},Math.floor(o)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(i){e===t.conn_?t.onConnectionLost_(i):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(i){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(i):e===t.secondaryConn_?t.onSecondaryMessageReceived_(i):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){this.sendData_({t:"d",d:e})}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=lw("t",e),i=lw("d",e);if("c"===t)this.onSecondaryControl_(i);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(i)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=lw("t",e),i=lw("d",e);"c"===t?this.onControl_(i):"d"===t&&this.onDataMessage_(i)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=lw("t",e);if("d"in e){var i=e.d;if("h"===t)this.onHandshake_(i);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(i):"r"===t?this.onReset_(i):"e"===t?dN("Server Error: "+i):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):dN("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,i=e.v,a=e.h;this.sessionId=e.s,this.repoInfo_.host=a,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==i&&Lo("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var i=this.connReceiver_(this.secondaryConn_),a=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,a),cw(function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())},Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var i=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):cw(function(){i.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Kv.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),n}(),nY=function(){function n(){(0,m.Z)(this,n)}return(0,_.Z)(n,[{key:"put",value:function(e,t,i,a){}},{key:"merge",value:function(e,t,i,a){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,i){}},{key:"onDisconnectMerge",value:function(e,t,i){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),n}(),rY=function(){function n(r){(0,m.Z)(this,n),this.allowedEvents_=r,this.listeners_={},(0,re.hu)(Array.isArray(r)&&r.length>0,"Requires a non-empty array")}return(0,_.Z)(n,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=(0,Zt.Z)(this.listeners_[e]),i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];for(var u=0;u<t.length;u++)t[u].callback.apply(t[u].context,a)}}},{key:"on",value:function(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});var a=this.getInitialEvent(e);a&&t.apply(i,a)}},{key:"off",value:function(e,t,i){this.validateEventType_(e);for(var a=this.listeners_[e]||[],o=0;o<a.length;o++)if(a[o].callback===t&&(!i||i===a[o].context))return void a.splice(o,1)}},{key:"validateEventType_",value:function(e){(0,re.hu)(this.allowedEvents_.find(function(t){return t===e}),"Unknown event: "+e)}}]),n}(),iY=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(){var t;return(0,m.Z)(this,e),(t=r.call(this,["online"])).online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,re.uI)()&&(window.addEventListener("online",function(){t.online_||(t.online_=!0,t.trigger("online",!0))},!1),window.addEventListener("offline",function(){t.online_&&(t.online_=!1,t.trigger("online",!1))},!1)),t}return(0,_.Z)(e,[{key:"getInitialEvent",value:function(i){return(0,re.hu)("online"===i,"Unknown event type: "+i),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new e}}]),e}(rY),Ar=function(){function n(r,e){if((0,m.Z)(this,n),void 0===e){this.pieces_=r.split("/");for(var t=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[t]=this.pieces_[i],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=r,this.pieceNum_=e}return(0,_.Z)(n,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),n}();function br(){return new Ar("")}function jn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Ih(n){return n.pieces_.length-n.pieceNum_}function Ur(n){var r=n.pieceNum_;return r<n.pieces_.length&&r++,new Ar(n.pieces_,r)}function bN(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function fw(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return n.pieces_.slice(n.pieceNum_+r)}function sY(n){if(n.pieceNum_>=n.pieces_.length)return null;for(var r=[],e=n.pieceNum_;e<n.pieces_.length-1;e++)r.push(n.pieces_[e]);return new Ar(r,0)}function ki(n,r){for(var e=[],t=n.pieceNum_;t<n.pieces_.length;t++)e.push(n.pieces_[t]);if(r instanceof Ar)for(var i=r.pieceNum_;i<r.pieces_.length;i++)e.push(r.pieces_[i]);else for(var a=r.split("/"),o=0;o<a.length;o++)a[o].length>0&&e.push(a[o]);return new Ar(e,0)}function Gn(n){return n.pieceNum_>=n.pieces_.length}function ss(n,r){var e=jn(n),t=jn(r);if(null===e)return r;if(e===t)return ss(Ur(n),Ur(r));throw new Error("INTERNAL ERROR: innerPath ("+r+") is not within outerPath ("+n+")")}function zoe(n,r){for(var e=fw(n,0),t=fw(r,0),i=0;i<e.length&&i<t.length;i++){var a=Qv(e[i],t[i]);if(0!==a)return a}return e.length===t.length?0:e.length<t.length?-1:1}function kN(n,r){if(Ih(n)!==Ih(r))return!1;for(var e=n.pieceNum_,t=r.pieceNum_;e<=n.pieces_.length;e++,t++)if(n.pieces_[e]!==r.pieces_[t])return!1;return!0}function Uu(n,r){var e=n.pieceNum_,t=r.pieceNum_;if(Ih(n)>Ih(r))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==r.pieces_[t])return!1;++e,++t}return!0}var Yoe=(0,_.Z)(function n(r,e){(0,m.Z)(this,n),this.errorPrefix_=e,this.parts_=fw(r,0),this.byteLength_=Math.max(1,this.parts_.length);for(var t=0;t<this.parts_.length;t++)this.byteLength_+=(0,re.ug)(this.parts_[t]);uY(this)});function uY(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Jv(n))}function Jv(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}var $S,CN,Koe=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(){var t,i,a;return(0,m.Z)(this,e),t=r.call(this,["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(a="visibilitychange",i="hidden"):void 0!==document.mozHidden?(a="mozvisibilitychange",i="mozHidden"):void 0!==document.msHidden?(a="msvisibilitychange",i="msHidden"):void 0!==document.webkitHidden&&(a="webkitvisibilitychange",i="webkitHidden")),t.visible_=!0,a&&document.addEventListener(a,function(){var o=!document[i];o!==t.visible_&&(t.visible_=o,t.trigger("visible",o))},!1),t}return(0,_.Z)(e,[{key:"getInitialEvent",value:function(i){return(0,re.hu)("visible"===i,"Unknown event type: "+i),[this.visible_]}}],[{key:"getInstance",value:function(){return new e}}]),e}(rY),hw=1e3,Xv=function(){var n=function(r){(0,P.Z)(t,r);var i,e=(0,N.Z)(t);function t(i,a,o,u,d,h,v,b){var k;if((0,m.Z)(this,t),(k=e.call(this)).repoInfo_=i,k.applicationId_=a,k.onDataUpdate_=o,k.onConnectStatus_=u,k.onServerInfoUpdate_=d,k.authTokenProvider_=h,k.appCheckTokenProvider_=v,k.authOverride_=b,k.id=t.nextPersistentConnectionId_++,k.log_=uw("p:"+k.id+":"),k.interruptReasons_={},k.listens=new Map,k.outstandingPuts_=[],k.outstandingGets_=[],k.outstandingPutCount_=0,k.outstandingGetCount_=0,k.onDisconnectRequestQueue_=[],k.connected_=!1,k.reconnectDelay_=hw,k.maxReconnectDelay_=3e5,k.securityDebugCallback_=null,k.lastSessionId=null,k.establishConnectionTimer_=null,k.visible_=!1,k.requestCBHash_={},k.requestNumber_=0,k.realtime_=null,k.authToken_=null,k.appCheckToken_=null,k.forceTokenRefresh_=!1,k.invalidAuthTokenCount_=0,k.invalidAppCheckTokenCount_=0,k.firstConnection_=!0,k.lastConnectionAttemptTime_=null,k.lastConnectionEstablishedTime_=null,b&&!(0,re.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Koe.getInstance().on("visible",k.onVisible_,(0,Lr.Z)(k)),-1===i.host.indexOf("fblocal")&&iY.getInstance().on("online",k.onOnline_,(0,Lr.Z)(k)),k}return(0,_.Z)(t,[{key:"sendRequest",value:function(a,o,u){var d=++this.requestNumber_,h={r:d,a:a,b:o};this.log_((0,re.Pz)(h)),(0,re.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(h),u&&(this.requestCBHash_[d]=u)}},{key:"get",value:function(a){var o=this;this.initConnection_();var u=new re.BH,d={p:a._path.toString(),q:a._queryObject},h={action:"g",request:d,onComplete:function(k){var I=k.d;"ok"===k.s?(o.onDataUpdate_(d.p,I,!1,null),u.resolve(I)):u.reject(I)}};this.outstandingGets_.push(h),this.outstandingGetCount_++;var v=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var b=o.outstandingGets_[v];void 0===b||h!==b||(delete o.outstandingGets_[v],o.outstandingGetCount_--,0===o.outstandingGetCount_&&(o.outstandingGets_=[]),o.log_("get "+v+" timed out on connection"),u.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(v),u.promise}},{key:"listen",value:function(a,o,u,d){this.initConnection_();var h=a._queryIdentifier,v=a._path.toString();this.log_("Listen called for "+v+" "+h),this.listens.has(v)||this.listens.set(v,new Map),(0,re.hu)(a._queryParams.isDefault()||!a._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,re.hu)(!this.listens.get(v).has(h),"listen() called twice for same path/queryId.");var b={onComplete:d,hashFn:o,query:a,tag:u};this.listens.get(v).set(h,b),this.connected_&&this.sendListen_(b)}},{key:"sendGet_",value:function(a){var o=this,u=this.outstandingGets_[a];this.sendRequest("g",u.request,function(d){delete o.outstandingGets_[a],o.outstandingGetCount_--,0===o.outstandingGetCount_&&(o.outstandingGets_=[]),u.onComplete&&u.onComplete(d)})}},{key:"sendListen_",value:function(a){var o=this,u=a.query,d=u._path.toString(),h=u._queryIdentifier;this.log_("Listen on "+d+" for "+h);var v={p:d};a.tag&&(v.q=u._queryObject,v.t=a.tag),v.h=a.hashFn(),this.sendRequest("q",v,function(k){var I=k.d,O=k.s;t.warnOnListenWarnings_(I,u),(o.listens.get(d)&&o.listens.get(d).get(h))===a&&(o.log_("listen response",k),"ok"!==O&&o.removeListen_(d,h),a.onComplete&&a.onComplete(O,I))})}},{key:"refreshAuthToken",value:function(a){this.authToken_=a,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(a)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(a){(a&&40===a.length||(0,re.GJ)(a))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(a){this.appCheckToken_=a,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})}},{key:"tryAuth",value:function(){var a=this;if(this.connected_&&this.authToken_){var o=this.authToken_,u=(0,re.w9)(o)?"auth":"gauth",d={cred:o};null===this.authOverride_?d.noauth=!0:"object"==typeof this.authOverride_&&(d.authvar=this.authOverride_),this.sendRequest(u,d,function(h){var v=h.s,b=h.d||"error";a.authToken_===o&&("ok"===v?a.invalidAuthTokenCount_=0:a.onAuthRevoked_(v,b))})}}},{key:"tryAppCheck",value:function(){var a=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(o){var u=o.s,d=o.d||"error";"ok"===u?a.invalidAppCheckTokenCount_=0:a.onAppCheckRevoked_(u,d)})}},{key:"unlisten",value:function(a,o){var u=a._path.toString(),d=a._queryIdentifier;this.log_("Unlisten called for "+u+" "+d),(0,re.hu)(a._queryParams.isDefault()||!a._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(u,d)&&this.connected_&&this.sendUnlisten_(u,d,a._queryObject,o)}},{key:"sendUnlisten_",value:function(a,o,u,d){this.log_("Unlisten on "+a+" for "+o);var h={p:a};d&&(h.q=u,h.t=d),this.sendRequest("n",h)}},{key:"onDisconnectPut",value:function(a,o,u){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",a,o,u):this.onDisconnectRequestQueue_.push({pathString:a,action:"o",data:o,onComplete:u})}},{key:"onDisconnectMerge",value:function(a,o,u){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",a,o,u):this.onDisconnectRequestQueue_.push({pathString:a,action:"om",data:o,onComplete:u})}},{key:"onDisconnectCancel",value:function(a,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",a,null,o):this.onDisconnectRequestQueue_.push({pathString:a,action:"oc",data:null,onComplete:o})}},{key:"sendOnDisconnect_",value:function(a,o,u,d){var h={p:o,d:u};this.log_("onDisconnect "+a,h),this.sendRequest(a,h,function(v){d&&setTimeout(function(){d(v.s,v.d)},Math.floor(0))})}},{key:"put",value:function(a,o,u,d){this.putInternal("p",a,o,u,d)}},{key:"merge",value:function(a,o,u,d){this.putInternal("m",a,o,u,d)}},{key:"putInternal",value:function(a,o,u,d,h){this.initConnection_();var v={p:o,d:u};void 0!==h&&(v.h=h),this.outstandingPuts_.push({action:a,request:v,onComplete:d}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+o)}},{key:"sendPut_",value:function(a){var o=this,u=this.outstandingPuts_[a].action,d=this.outstandingPuts_[a].request,h=this.outstandingPuts_[a].onComplete;this.outstandingPuts_[a].queued=this.connected_,this.sendRequest(u,d,function(v){o.log_(u+" response",v),delete o.outstandingPuts_[a],o.outstandingPutCount_--,0===o.outstandingPutCount_&&(o.outstandingPuts_=[]),h&&h(v.s,v.d)})}},{key:"reportStats",value:function(a){var o=this;if(this.connected_){var u={c:a};this.log_("reportStats",u),this.sendRequest("s",u,function(d){"ok"!==d.s&&o.log_("reportStats","Error sending stats: "+d.d)})}}},{key:"onDataMessage_",value:function(a){if("r"in a){this.log_("from server: "+(0,re.Pz)(a));var o=a.r,u=this.requestCBHash_[o];u&&(delete this.requestCBHash_[o],u(a.b))}else{if("error"in a)throw"A server-side error has occurred: "+a.error;"a"in a&&this.onDataPush_(a.a,a.b)}}},{key:"onDataPush_",value:function(a,o){this.log_("handleServerMessage",a,o),"d"===a?this.onDataUpdate_(o.p,o.d,!1,o.t):"m"===a?this.onDataUpdate_(o.p,o.d,!0,o.t):"c"===a?this.onListenRevoked_(o.p,o.q):"ac"===a?this.onAuthRevoked_(o.s,o.d):"apc"===a?this.onAppCheckRevoked_(o.s,o.d):"sd"===a?this.onSecurityDebugPacket_(o):dN("Unrecognized action received from server: "+(0,re.Pz)(a)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(a,o){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(a),this.lastSessionId=o,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(a){var o=this;(0,re.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){o.establishConnectionTimer_=null,o.establishConnection_()},Math.floor(a))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(a){a&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=hw,this.realtime_||this.scheduleConnect_(0)),this.visible_=a}},{key:"onOnline_",value:function(a){a?(this.log_("Browser went online."),this.reconnectDelay_=hw,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=hw),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var o=(new Date).getTime()-this.lastConnectionAttemptTime_,u=Math.max(0,this.reconnectDelay_-o);u=Math.random()*u,this.log_("Trying to reconnect in "+u+"ms"),this.scheduleConnect_(u),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:(i=(0,st.Z)(me().mark(function o(){var d,h,v,b,k,I,O,q,ue,Oe,Ze,je,u=this;return me().wrap(function(ct){for(;;)switch(ct.prev=ct.next){case 0:if(!this.shouldReconnect_()){ct.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,d=this.onDataMessage_.bind(this),h=this.onReady_.bind(this),v=this.onRealtimeDisconnect_.bind(this),b=this.id+":"+t.nextConnectionId_++,k=this.lastSessionId,I=!1,O=null,this.realtime_={close:q=function(){O?O.close():(I=!0,v())},sendRequest:function(dn){(0,re.hu)(O,"sendRequest call when we're not connected not allowed."),O.sendRequest(dn)}},ue=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,ct.prev=16,ct.next=19,Promise.all([this.authTokenProvider_.getToken(ue),this.appCheckTokenProvider_.getToken(ue)]);case 19:Oe=(0,Z.Z)(ct.sent,2),Ze=Oe[0],je=Oe[1],I?ro("getToken() completed but was canceled"):(ro("getToken() completed. Creating connection."),this.authToken_=Ze&&Ze.accessToken,this.appCheckToken_=je&&je.token,O=new tY(b,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,d,h,v,function(vt){Lo(vt+" ("+u.repoInfo_.toString()+")"),u.interrupt("server_kill")},k)),ct.next=30;break;case 26:ct.prev=26,ct.t0=ct.catch(16),this.log_("Failed to get token: "+ct.t0),I||(this.repoInfo_.nodeAdmin&&Lo(ct.t0),q());case 30:case"end":return ct.stop()}},o,this,[[16,26]])})),function a(){return i.apply(this,arguments)})},{key:"interrupt",value:function(a){ro("Interrupting connection for reason: "+a),this.interruptReasons_[a]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(a){ro("Resuming connection for reason: "+a),delete this.interruptReasons_[a],(0,re.xb)(this.interruptReasons_)&&(this.reconnectDelay_=hw,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(a){var o=a-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:o})}},{key:"cancelSentTransactions_",value:function(){for(var a=0;a<this.outstandingPuts_.length;a++){var o=this.outstandingPuts_[a];o&&"h"in o.request&&o.queued&&(o.onComplete&&o.onComplete("disconnect"),delete this.outstandingPuts_[a],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(a,o){var u;u=o?o.map(function(h){return Tz(h)}).join("$"):"default";var d=this.removeListen_(a,u);d&&d.onComplete&&d.onComplete("permission_denied")}},{key:"removeListen_",value:function(a,o){var d,u=new Ar(a).toString();if(this.listens.has(u)){var h=this.listens.get(u);d=h.get(o),h.delete(o),0===h.size&&this.listens.delete(u)}else d=void 0;return d}},{key:"onAuthRevoked_",value:function(a,o){ro("Auth token revoked: "+a+"/"+o),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===a||"permission_denied"===a)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(a,o){ro("App check token revoked: "+a+"/"+o),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===a||"permission_denied"===a)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(a){this.securityDebugCallback_?this.securityDebugCallback_(a):"msg"in a&&console.log("FIREBASE: "+a.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var o,a=(0,G.Z)(this.listens.values());try{for(a.s();!(o=a.n()).done;){var h,d=(0,G.Z)(o.value.values());try{for(d.s();!(h=d.n()).done;)this.sendListen_(h.value)}catch(O){d.e(O)}finally{d.f()}}}catch(O){a.e(O)}finally{a.f()}for(var b=0;b<this.outstandingPuts_.length;b++)this.outstandingPuts_[b]&&this.sendPut_(b);for(;this.onDisconnectRequestQueue_.length;){var k=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(k.action,k.pathString,k.data,k.onComplete)}for(var I=0;I<this.outstandingGets_.length;I++)this.outstandingGets_[I]&&this.sendGet_(I)}},{key:"sendConnectStats_",value:function(){var a={},o="js";(0,re.Yr)()&&(o=this.repoInfo_.nodeAdmin?"admin_node":"node"),a["sdk."+o+"."+lN.replace(/\./g,"-")]=1,(0,re.uI)()?a["framework.cordova"]=1:(0,re.b$)()&&(a["framework.reactnative"]=1),this.reportStats(a)}},{key:"shouldReconnect_",value:function(){var a=iY.getInstance().currentlyOnline();return(0,re.xb)(this.interruptReasons_)&&a}}],[{key:"warnOnListenWarnings_",value:function(a,o){if(a&&"object"==typeof a&&(0,re.r3)(a,"w")){var u=(0,re.DV)(a,"w");if(Array.isArray(u)&&~u.indexOf("no_index")){var d='".indexOn": "'+o._queryParams.getIndex().toString()+'"',h=o._path.toString();Lo("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(d," at ")+"".concat(h," to your security rules for better performance."))}}}}]),t}(nY);return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n}(),er=function(){function n(r,e){(0,m.Z)(this,n),this.name=r,this.node=e}return(0,_.Z)(n,null,[{key:"Wrap",value:function(e,t){return new n(e,t)}}]),n}(),KS=function(){function n(){(0,m.Z)(this,n)}return(0,_.Z)(n,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var i=new er(Gd,e),a=new er(Gd,t);return 0!==this.compare(i,a)}},{key:"minPost",value:function(){return er.MIN}}]),n}(),dY=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(){return(0,m.Z)(this,e),r.apply(this,arguments)}return(0,_.Z)(e,[{key:"compare",value:function(i,a){return Qv(i.name,a.name)}},{key:"isDefinedOn",value:function(i){throw(0,re.g5)("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(i,a){return!1}},{key:"minPost",value:function(){return er.MIN}},{key:"maxPost",value:function(){return new er(xc,$S)}},{key:"makePost",value:function(i,a){return(0,re.hu)("string"==typeof i,"KeyIndex indexValue must always be a string."),new er(i,$S)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return $S},set:function(i){$S=i}}]),e}(KS),Nc=new dY,QS=function(){function n(r,e,t,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;(0,m.Z)(this,n),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!r.isEmpty();)if(r=r,o=e?t(r.key,e):1,i&&(o*=-1),o<0)r=this.isReverse_?r.left:r.right;else{if(0===o){this.nodeStack_.push(r);break}this.nodeStack_.push(r),r=this.isReverse_?r.right:r.left}}return(0,_.Z)(n,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),n}(),Vl=function(){var n=function(){function r(e,t,i,a,o){(0,m.Z)(this,r),this.key=e,this.value=t,this.color=null!=i?i:r.RED,this.left=null!=a?a:Zc.EMPTY_NODE,this.right=null!=o?o:Zc.EMPTY_NODE}return(0,_.Z)(r,[{key:"copy",value:function(t,i,a,o,u){return new r(null!=t?t:this.key,null!=i?i:this.value,null!=a?a:this.color,null!=o?o:this.left,null!=u?u:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}},{key:"reverseTraversal",value:function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(t,i,a){var o=this,u=a(t,o.key);return(o=u<0?o.copy(null,null,null,o.left.insert(t,i,a),null):0===u?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,a))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return Zc.EMPTY_NODE;var t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(t,i){var a,o;if(i(t,(a=this).key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(t,i),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),0===i(t,a.key)){if(a.right.isEmpty())return Zc.EMPTY_NODE;o=a.right.min_(),a=a.copy(o.key,o.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(t,i))}return a.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}},{key:"moveRedLeft_",value:function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t}},{key:"moveRedRight_",value:function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,r.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,r.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}},{key:"checkMaxDepth_",value:function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}]),r}();return n.RED=!0,n.BLACK=!1,n}(),tse=function(){function n(){(0,m.Z)(this,n)}return(0,_.Z)(n,[{key:"copy",value:function(e,t,i,a,o){return this}},{key:"insert",value:function(e,t,i){return new Vl(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),n}(),Zc=function(){function n(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.EMPTY_NODE;(0,m.Z)(this,n),this.comparator_=r,this.root_=e}return(0,_.Z)(n,[{key:"insert",value:function(e,t){return new n(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Vl.BLACK,null,null))}},{key:"remove",value:function(e){return new n(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Vl.BLACK,null,null))}},{key:"get",value:function(e){for(var t,i=this.root_;!i.isEmpty();){if(0===(t=this.comparator_(e,i.key)))return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,i=this.root_,a=null;!i.isEmpty();){if(0===(t=this.comparator_(e,i.key))){if(i.left.isEmpty())return a?a.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}t<0?i=i.left:t>0&&(a=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new QS(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new QS(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new QS(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new QS(this.root_,null,this.comparator_,!0,e)}}]),n}();function nse(n,r){return Qv(n.name,r.name)}function wN(n,r){return Qv(n,r)}Zc.EMPTY_NODE=new tse;var pY,vY,gY,EN,pw,fY=function(r){return"number"==typeof r?"number:"+Iz(r):"string:"+r},hY=function(r){if(r.isLeafNode()){var e=r.val();(0,re.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,re.r3)(e,".sv"),"Priority must be a string or number.")}else(0,re.hu)(r===CN||r.isEmpty(),"priority of unexpected type.");(0,re.hu)(r===CN||r.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},L_=function(){var n=function(){function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.__childrenNodeConstructor.EMPTY_NODE;(0,m.Z)(this,r),this.value_=e,this.priorityNode_=t,this.lazyHash_=null,(0,re.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),hY(this.priorityNode_)}return(0,_.Z)(r,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new r(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:r.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return Gn(t)?this:".priority"===jn(t)?this.priorityNode_:r.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(t,i){return null}},{key:"updateImmediateChild",value:function(t,i){return".priority"===t?this.updatePriority(i):i.isEmpty()&&".priority"!==t?this:r.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,i){var a=jn(t);return null===a?i:i.isEmpty()&&".priority"!==a?this:((0,re.hu)(".priority"!==a||1===Ih(t),".priority must be the last token in a path"),this.updateImmediateChild(a,r.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ur(t),i)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(t,i){return!1}},{key:"val",value:function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+fY(this.priorityNode_.val())+":");var i=typeof this.value_;t+=i+":",t+="number"===i?Iz(this.value_):this.value_,this.lazyHash_=Dz(t)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===r.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof r.__childrenNodeConstructor?-1:((0,re.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var i=typeof t.value_,a=typeof this.value_,o=r.VALUE_TYPE_ORDER.indexOf(i),u=r.VALUE_TYPE_ORDER.indexOf(a);return(0,re.hu)(o>=0,"Unknown leaf type: "+i),(0,re.hu)(u>=0,"Unknown leaf type: "+a),o===u?"object"===a?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:u-o}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(t){return t===this||!!t.isLeafNode()&&(this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_))}}],[{key:"__childrenNodeConstructor",get:function(){return pY},set:function(t){pY=t}}]),r}();return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n}(),ose=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(){return(0,m.Z)(this,e),r.apply(this,arguments)}return(0,_.Z)(e,[{key:"compare",value:function(i,a){var o=i.node.getPriority(),u=a.node.getPriority(),d=o.compareTo(u);return 0===d?Qv(i.name,a.name):d}},{key:"isDefinedOn",value:function(i){return!i.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(i,a){return!i.getPriority().equals(a.getPriority())}},{key:"minPost",value:function(){return er.MIN}},{key:"maxPost",value:function(){return new er(xc,new L_("[PRIORITY-POST]",gY))}},{key:"makePost",value:function(i,a){var o=vY(i);return new er(a,new L_("[PRIORITY-POST]",o))}},{key:"toString",value:function(){return".priority"}}]),e}(KS),$r=new ose,sse=Math.log(2),use=function(){function n(r){(0,m.Z)(this,n),this.count=parseInt(Math.log(r+1)/sse,10),this.current_=this.count-1;var i=parseInt(Array(this.count+1).join("1"),2);this.bits_=r+1&i}return(0,_.Z)(n,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),n}(),JS=function(r,e,t,i){r.sort(e);var a=function h(v,b){var I,O,k=b-v;if(0===k)return null;if(1===k)return I=r[v],O=t?t(I):I,new Vl(O,I.node,Vl.BLACK,null,null);var q=parseInt(k/2,10)+v,J=h(v,q),ue=h(q+1,b);return I=r[q],O=t?t(I):I,new Vl(O,I.node,Vl.BLACK,J,ue)},d=function(v){for(var b=null,k=null,I=r.length,O=function(Ze,je){var lt=I-Ze,ct=I;I-=Ze;var vt=a(lt+1,ct),dn=r[lt],tn=t?t(dn):dn;q(new Vl(tn,dn.node,je,null,vt))},q=function(Ze){b?(b.left=Ze,b=Ze):(k=Ze,b=Ze)},J=0;J<v.count;++J){var ue=v.nextBitIsOne(),fe=Math.pow(2,v.count-(J+1));ue?O(fe,Vl.BLACK):(O(fe,Vl.BLACK),O(fe,Vl.RED))}return k}(new use(r.length));return new Zc(i||e,d)},B_={},XS=function(){function n(r,e){(0,m.Z)(this,n),this.indexes_=r,this.indexSet_=e}return(0,_.Z)(n,[{key:"get",value:function(e){var t=(0,re.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Zc?t:null}},{key:"hasIndex",value:function(e){return(0,re.r3)(this.indexSet_,e.toString())}},{key:"addIndex",value:function(e,t){(0,re.hu)(e!==Nc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var i=[],a=!1,o=t.getIterator(er.Wrap),u=o.getNext();u;)a=a||e.isDefinedOn(u.node),i.push(u),u=o.getNext();var d;d=a?JS(i,e.getCompare()):B_;var h=e.toString(),v=Object.assign({},this.indexSet_);v[h]=e;var b=Object.assign({},this.indexes_);return b[h]=d,new n(b,v)}},{key:"addToIndexes",value:function(e,t){var i=this;return new n((0,re.UI)(this.indexes_,function(o,u){var d=(0,re.DV)(i.indexSet_,u);if((0,re.hu)(d,"Missing index implementation for "+u),o===B_){if(d.isDefinedOn(e.node)){for(var h=[],v=t.getIterator(er.Wrap),b=v.getNext();b;)b.name!==e.name&&h.push(b),b=v.getNext();return h.push(e),JS(h,d.getCompare())}return B_}var k=t.get(e.name),I=o;return k&&(I=I.remove(new er(e.name,k))),I.insert(e,e.node)}),this.indexSet_)}},{key:"removeFromIndexes",value:function(e,t){return new n((0,re.UI)(this.indexes_,function(a){if(a===B_)return a;var o=t.get(e.name);return o?a.remove(new er(e.name,o)):a}),this.indexSet_)}}],[{key:"Default",get:function(){return(0,re.hu)(B_&&$r,"ChildrenNode.ts has not been loaded"),EN=EN||new n({".priority":B_},{".priority":$r})}}]),n}(),Fn=function(){var n=function(){function r(e,t,i){(0,m.Z)(this,r),this.children_=e,this.priorityNode_=t,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&hY(this.priorityNode_),this.children_.isEmpty()&&(0,re.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return(0,_.Z)(r,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||pw}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new r(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(t){if(".priority"===t)return this.getPriority();var i=this.children_.get(t);return null===i?pw:i}},{key:"getChild",value:function(t){var i=jn(t);return null===i?this:this.getImmediateChild(i).getChild(Ur(t))}},{key:"hasChild",value:function(t){return null!==this.children_.get(t)}},{key:"updateImmediateChild",value:function(t,i){if((0,re.hu)(i,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(i);var o,u,a=new er(t,i);i.isEmpty()?(o=this.children_.remove(t),u=this.indexMap_.removeFromIndexes(a,this.children_)):(o=this.children_.insert(t,i),u=this.indexMap_.addToIndexes(a,this.children_));var d=o.isEmpty()?pw:this.priorityNode_;return new r(o,d,u)}},{key:"updateChild",value:function(t,i){var a=jn(t);if(null===a)return i;(0,re.hu)(".priority"!==jn(t)||1===Ih(t),".priority must be the last token in a path");var o=this.getImmediateChild(a).updateChild(Ur(t),i);return this.updateImmediateChild(a,o)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var i={},a=0,o=0,u=!0;if(this.forEachChild($r,function(v,b){i[v]=b.val(t),a++,u&&r.INTEGER_REGEXP_.test(v)?o=Math.max(o,Number(v)):u=!1}),!t&&u&&o<2*a){var d=[];for(var h in i)d[h]=i[h];return d}return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}},{key:"hash",value:function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+fY(this.getPriority().val())+":"),this.forEachChild($r,function(i,a){var o=a.hash();""!==o&&(t+=":"+i+":"+o)}),this.lazyHash_=""===t?"":Dz(t)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(t,i,a){var o=this.resolveIndex_(a);if(o){var u=o.getPredecessorKey(new er(t,i));return u?u.name:null}return this.children_.getPredecessorKey(t)}},{key:"getFirstChildName",value:function(t){var i=this.resolveIndex_(t);if(i){var a=i.minKey();return a&&a.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(t){var i=this.getFirstChildName(t);return i?new er(i,this.children_.get(i)):null}},{key:"getLastChildName",value:function(t){var i=this.resolveIndex_(t);if(i){var a=i.maxKey();return a&&a.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(t){var i=this.getLastChildName(t);return i?new er(i,this.children_.get(i)):null}},{key:"forEachChild",value:function(t,i){var a=this.resolveIndex_(t);return a?a.inorderTraversal(function(o){return i(o.name,o.node)}):this.children_.inorderTraversal(i)}},{key:"getIterator",value:function(t){return this.getIteratorFrom(t.minPost(),t)}},{key:"getIteratorFrom",value:function(t,i){var a=this.resolveIndex_(i);if(a)return a.getIteratorFrom(t,function(d){return d});for(var o=this.children_.getIteratorFrom(t.name,er.Wrap),u=o.peek();null!=u&&i.compare(u,t)<0;)o.getNext(),u=o.peek();return o}},{key:"getReverseIterator",value:function(t){return this.getReverseIteratorFrom(t.maxPost(),t)}},{key:"getReverseIteratorFrom",value:function(t,i){var a=this.resolveIndex_(i);if(a)return a.getReverseIteratorFrom(t,function(d){return d});for(var o=this.children_.getReverseIteratorFrom(t.name,er.Wrap),u=o.peek();null!=u&&i.compare(u,t)>0;)o.getNext(),u=o.peek();return o}},{key:"compareTo",value:function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===vw?-1:0}},{key:"withIndex",value:function(t){if(t===Nc||this.indexMap_.hasIndex(t))return this;var i=this.indexMap_.addIndex(t,this.children_);return new r(this.children_,this.priorityNode_,i)}},{key:"isIndexed",value:function(t){return t===Nc||this.indexMap_.hasIndex(t)}},{key:"equals",value:function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var i=t;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){for(var a=this.getIterator($r),o=i.getIterator($r),u=a.getNext(),d=o.getNext();u&&d;){if(u.name!==d.name||!u.node.equals(d.node))return!1;u=a.getNext(),d=o.getNext()}return null===u&&null===d}return!1}return!1}},{key:"resolveIndex_",value:function(t){return t===Nc?null:this.indexMap_.get(t.toString())}}],[{key:"EMPTY_NODE",get:function(){return pw||(pw=new r(new Zc(wN),null,XS.Default))}}]),r}();return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n}(),lse=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(){return(0,m.Z)(this,e),r.call(this,new Zc(wN),Fn.EMPTY_NODE,XS.Default)}return(0,_.Z)(e,[{key:"compareTo",value:function(i){return i===this?0:1}},{key:"equals",value:function(i){return i===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(i){return Fn.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),e}(Fn),vw=new lse;function Vi(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===n)return Fn.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(r=n[".priority"]),(0,re.hu)(null===r||"string"==typeof r||"number"==typeof r||"object"==typeof r&&".sv"in r,"Invalid priority type found: "+typeof r),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n){var e=n;return new L_(e,Vi(r))}if(n instanceof Array){var d=Fn.EMPTY_NODE;return io(n,function(h,v){if((0,re.r3)(n,h)&&"."!==h.substring(0,1)){var b=Vi(v);(b.isLeafNode()||!b.isEmpty())&&(d=d.updateImmediateChild(h,b))}}),d.updatePriority(Vi(r))}var t=[],i=!1,a=n;if(io(a,function(h,v){if("."!==h.substring(0,1)){var b=Vi(v);b.isEmpty()||(i=i||!b.getPriority().isEmpty(),t.push(new er(h,b)))}}),0===t.length)return Fn.EMPTY_NODE;var o=JS(t,nse,function(h){return h.name},wN);if(i){var u=JS(t,$r.getCompare());return new Fn(o,Vi(r),new XS({".priority":u},{".priority":$r}))}return new Fn(o,Vi(r),XS.Default)}Object.defineProperties(er,{MIN:{value:new er(Gd,Fn.EMPTY_NODE)},MAX:{value:new er(xc,vw)}}),dY.__EMPTY_NODE=Fn.EMPTY_NODE,L_.__childrenNodeConstructor=Fn,function rse(n){CN=n}(vw),function ase(n){gY=n}(vw),function ise(n){vY=n}(Vi);var DN=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t){var i;return(0,m.Z)(this,e),(i=r.call(this)).indexPath_=t,(0,re.hu)(!Gn(t)&&".priority"!==jn(t),"Can't create PathIndex with empty path or .priority key"),i}return(0,_.Z)(e,[{key:"extractChild",value:function(i){return i.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(i){return!i.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(i,a){var o=this.extractChild(i.node),u=this.extractChild(a.node),d=o.compareTo(u);return 0===d?Qv(i.name,a.name):d}},{key:"makePost",value:function(i,a){var o=Vi(i),u=Fn.EMPTY_NODE.updateChild(this.indexPath_,o);return new er(a,u)}},{key:"maxPost",value:function(){var i=Fn.EMPTY_NODE.updateChild(this.indexPath_,vw);return new er(xc,i)}},{key:"toString",value:function(){return fw(this.indexPath_,0).join("/")}}]),e}(KS),dse=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(){return(0,m.Z)(this,e),r.apply(this,arguments)}return(0,_.Z)(e,[{key:"compare",value:function(i,a){var o=i.node.compareTo(a.node);return 0===o?Qv(i.name,a.name):o}},{key:"isDefinedOn",value:function(i){return!0}},{key:"indexedValueChanged",value:function(i,a){return!i.equals(a)}},{key:"minPost",value:function(){return er.MIN}},{key:"maxPost",value:function(){return er.MAX}},{key:"makePost",value:function(i,a){var o=Vi(i);return new er(a,o)}},{key:"toString",value:function(){return".value"}}]),e}(KS),MN=new dse,V_="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",fse=function(){var n=0,r=[];return function(e){var t=e===n;n=e;var i,a=new Array(8);for(i=7;i>=0;i--)a[i]=V_.charAt(e%64),e=Math.floor(e/64);(0,re.hu)(0===e,"Cannot push at time == 0");var o=a.join("");if(t){for(i=11;i>=0&&63===r[i];i--)r[i]=0;r[i]++}else for(i=0;i<12;i++)r[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)o+=V_.charAt(r[i]);return(0,re.hu)(20===o.length,"nextPushId: Length should be 20."),o}}(),yY=function(r){if(r===""+fN)return"-";var e=YS(r);if(null!=e)return""+(e+1);for(var t=new Array(r.length),i=0;i<t.length;i++)t[i]=r.charAt(i);if(t.length<786)return t.push("-"),t.join("");for(var a=t.length-1;a>=0&&"z"===t[a];)a--;if(-1===a)return xc;var u=V_.charAt(V_.indexOf(t[a])+1);return t[a]=u,t.slice(0,a+1).join("")},bY=function(r){if(r===""+Rz)return Gd;var e=YS(r);if(null!=e)return""+(e-1);for(var t=new Array(r.length),i=0;i<t.length;i++)t[i]=r.charAt(i);return"-"===t[t.length-1]?1===t.length?""+fN:(delete t[t.length-1],t.join("")):(t[t.length-1]=V_.charAt(V_.indexOf(t[t.length-1])-1),t.join("")+"z".repeat(786-t.length))};function kY(n){return{type:"value",snapshotNode:n}}function U_(n,r){return{type:"child_added",snapshotNode:r,childName:n}}function gw(n,r){return{type:"child_removed",snapshotNode:r,childName:n}}function mw(n,r,e){return{type:"child_changed",snapshotNode:r,childName:n,oldSnap:e}}var TN=function(){function n(r){(0,m.Z)(this,n),this.index_=r}return(0,_.Z)(n,[{key:"updateChild",value:function(e,t,i,a,o,u){(0,re.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var d=e.getImmediateChild(t);return d.getChild(a).equals(i.getChild(a))&&d.isEmpty()===i.isEmpty()||(null!=u&&(i.isEmpty()?e.hasChild(t)?u.trackChildChange(gw(t,d)):(0,re.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?u.trackChildChange(U_(t,i)):u.trackChildChange(mw(t,i,d))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}},{key:"updateFullNode",value:function(e,t,i){return null!=i&&(e.isLeafNode()||e.forEachChild($r,function(a,o){t.hasChild(a)||i.trackChildChange(gw(a,o))}),t.isLeafNode()||t.forEachChild($r,function(a,o){if(e.hasChild(a)){var u=e.getImmediateChild(a);u.equals(o)||i.trackChildChange(mw(a,o,u))}else i.trackChildChange(U_(a,o))})),t.withIndex(this.index_)}},{key:"updatePriority",value:function(e,t){return e.isEmpty()?Fn.EMPTY_NODE:e.updatePriority(t)}},{key:"filtersNodes",value:function(){return!1}},{key:"getIndexedFilter",value:function(){return this}},{key:"getIndex",value:function(){return this.index_}}]),n}(),wY=function(){function n(r){(0,m.Z)(this,n),this.indexedFilter_=new TN(r.getIndex()),this.index_=r.getIndex(),this.startPost_=n.getStartPost_(r),this.endPost_=n.getEndPost_(r)}return(0,_.Z)(n,[{key:"getStartPost",value:function(){return this.startPost_}},{key:"getEndPost",value:function(){return this.endPost_}},{key:"matches",value:function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}},{key:"updateChild",value:function(e,t,i,a,o,u){return this.matches(new er(t,i))||(i=Fn.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,a,o,u)}},{key:"updateFullNode",value:function(e,t,i){t.isLeafNode()&&(t=Fn.EMPTY_NODE);var a=t.withIndex(this.index_);a=a.updatePriority(Fn.EMPTY_NODE);var o=this;return t.forEachChild($r,function(u,d){o.matches(new er(u,d))||(a=a.updateImmediateChild(u,Fn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,a,i)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.indexedFilter_}},{key:"getIndex",value:function(){return this.index_}}],[{key:"getStartPost_",value:function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}},{key:"getEndPost_",value:function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}]),n}(),pse=function(){function n(r){(0,m.Z)(this,n),this.rangedFilter_=new wY(r),this.index_=r.getIndex(),this.limit_=r.getLimit(),this.reverse_=!r.isViewFromLeft()}return(0,_.Z)(n,[{key:"updateChild",value:function(e,t,i,a,o,u){return this.rangedFilter_.matches(new er(t,i))||(i=Fn.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,a,o,u):this.fullLimitUpdateChild_(e,t,i,o,u)}},{key:"updateFullNode",value:function(e,t,i){var a;if(t.isLeafNode()||t.isEmpty())a=Fn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){var o;a=Fn.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var u=0;o.hasNext()&&u<this.limit_;){var d=o.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),d)<=0:this.index_.compare(d,this.rangedFilter_.getEndPost())<=0))break;a=a.updateImmediateChild(d.name,d.node),u++}}else{var v,b,k,I;if(a=(a=t.withIndex(this.index_)).updatePriority(Fn.EMPTY_NODE),this.reverse_){I=a.getReverseIterator(this.index_),v=this.rangedFilter_.getEndPost(),b=this.rangedFilter_.getStartPost();var O=this.index_.getCompare();k=function(Ze,je){return O(je,Ze)}}else I=a.getIterator(this.index_),v=this.rangedFilter_.getStartPost(),b=this.rangedFilter_.getEndPost(),k=this.index_.getCompare();for(var q=0,J=!1;I.hasNext();){var ue=I.getNext();!J&&k(v,ue)<=0&&(J=!0),J&&q<this.limit_&&k(ue,b)<=0?q++:a=a.updateImmediateChild(ue.name,Fn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,a,i)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.rangedFilter_.getIndexedFilter()}},{key:"getIndex",value:function(){return this.index_}},{key:"fullLimitUpdateChild_",value:function(e,t,i,a,o){var u;if(this.reverse_){var d=this.index_.getCompare();u=function(Ze,je){return d(je,Ze)}}else u=this.index_.getCompare();var h=e;(0,re.hu)(h.numChildren()===this.limit_,"");var v=new er(t,i),b=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),k=this.rangedFilter_.matches(v);if(h.hasChild(t)){for(var I=h.getImmediateChild(t),O=a.getChildAfterChild(this.index_,b,this.reverse_);null!=O&&(O.name===t||h.hasChild(O.name));)O=a.getChildAfterChild(this.index_,O,this.reverse_);var q=null==O?1:u(O,v);if(k&&!i.isEmpty()&&q>=0)return null!=o&&o.trackChildChange(mw(t,i,I)),h.updateImmediateChild(t,i);null!=o&&o.trackChildChange(gw(t,I));var ue=h.updateImmediateChild(t,Fn.EMPTY_NODE);return null!=O&&this.rangedFilter_.matches(O)?(null!=o&&o.trackChildChange(U_(O.name,O.node)),ue.updateImmediateChild(O.name,O.node)):ue}return i.isEmpty()?e:k&&u(b,v)>=0?(null!=o&&(o.trackChildChange(gw(b.name,b.node)),o.trackChildChange(U_(t,i))),h.updateImmediateChild(t,i).updateImmediateChild(b.name,Fn.EMPTY_NODE)):e}}]),n}(),CY=function(){function n(){(0,m.Z)(this,n),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=$r}return(0,_.Z)(n,[{key:"hasStart",value:function(){return this.startSet_}},{key:"hasStartAfter",value:function(){return this.startAfterSet_}},{key:"hasEndBefore",value:function(){return this.endBeforeSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return(0,re.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return(0,re.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Gd}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return(0,re.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return(0,re.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:xc}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return(0,re.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===$r}},{key:"copy",value:function(){var e=new n;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}]),n}();function AN(n,r,e){var t=n.copy();return t.startSet_=!0,void 0===r&&(r=null),t.indexStartValue_=r,null!=e?(t.startNameSet_=!0,t.indexStartName_=e):(t.startNameSet_=!1,t.indexStartName_=""),t}function IN(n,r,e){var t=n.copy();return t.endSet_=!0,void 0===r&&(r=null),t.indexEndValue_=r,void 0!==e?(t.endNameSet_=!0,t.indexEndName_=e):(t.endNameSet_=!1,t.indexEndName_=""),t}function eT(n,r){var e=n.copy();return e.index_=r,e}function EY(n){var e,r={};return n.isDefault()||(n.index_===$r?e="$priority":n.index_===MN?e="$value":n.index_===Nc?e="$key":((0,re.hu)(n.index_ instanceof DN,"Unrecognized index type!"),e=n.index_.toString()),r.orderBy=(0,re.Pz)(e),n.startSet_&&(r.startAt=(0,re.Pz)(n.indexStartValue_),n.startNameSet_&&(r.startAt+=","+(0,re.Pz)(n.indexStartName_))),n.endSet_&&(r.endAt=(0,re.Pz)(n.indexEndValue_),n.endNameSet_&&(r.endAt+=","+(0,re.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?r.limitToFirst=n.limit_:r.limitToLast=n.limit_)),r}function DY(n){var r={};if(n.startSet_&&(r.sp=n.indexStartValue_,n.startNameSet_&&(r.sn=n.indexStartName_)),n.endSet_&&(r.ep=n.indexEndValue_,n.endNameSet_&&(r.en=n.indexEndName_)),n.limitSet_){r.l=n.limit_;var e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),r.vf=e}return n.index_!==$r&&(r.i=n.index_.toString()),r}var bse=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i,a,o){var u;return(0,m.Z)(this,e),(u=r.call(this)).repoInfo_=t,u.onDataUpdate_=i,u.authTokenProvider_=a,u.appCheckTokenProvider_=o,u.log_=uw("p:rest:"),u.listens_={},u}return(0,_.Z)(e,[{key:"reportStats",value:function(i){throw new Error("Method not implemented.")}},{key:"listen",value:function(i,a,o,u){var d=this,h=i._path.toString();this.log_("Listen called for "+h+" "+i._queryIdentifier);var v=e.getListenId_(i,o),b={};this.listens_[v]=b;var k=EY(i._queryParams);this.restRequest_(h+".json",k,function(I,O){var q=O;404===I&&(q=null,I=null),null===I&&d.onDataUpdate_(h,q,!1,o),(0,re.DV)(d.listens_,v)===b&&u(I?401===I?"permission_denied":"rest_error:"+I:"ok",null)})}},{key:"unlisten",value:function(i,a){var o=e.getListenId_(i,a);delete this.listens_[o]}},{key:"get",value:function(i){var a=this,o=EY(i._queryParams),u=i._path.toString(),d=new re.BH;return this.restRequest_(u+".json",o,function(h,v){var b=v;404===h&&(b=null,h=null),null===h?(a.onDataUpdate_(u,b,!1,null),d.resolve(b)):d.reject(new Error(b))}),d.promise}},{key:"refreshAuthToken",value:function(i){}},{key:"restRequest_",value:function(i){var a=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=arguments.length>2?arguments[2]:void 0;return o.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(d){var h=(0,Z.Z)(d,2),v=h[0],b=h[1];v&&v.accessToken&&(o.auth=v.accessToken),b&&b.token&&(o.ac=b.token);var k=(a.repoInfo_.secure?"https://":"http://")+a.repoInfo_.host+i+"?ns="+a.repoInfo_.namespace+(0,re.xO)(o);a.log_("Sending REST request for "+k);var I=new XMLHttpRequest;I.onreadystatechange=function(){if(u&&4===I.readyState){a.log_("REST Response for "+k+" received. status:",I.status,"response:",I.responseText);var O=null;if(I.status>=200&&I.status<300){try{O=(0,re.cI)(I.responseText)}catch(q){Lo("Failed to parse JSON response for "+k+": "+I.responseText)}u(null,O)}else 401!==I.status&&404!==I.status&&Lo("Got unsuccessful REST response for "+k+" Status: "+I.status),u(I.status);u=null}},I.open("GET",k,!0),I.send()})}}],[{key:"getListenId_",value:function(i,a){return void 0!==a?"tag$"+a:((0,re.hu)(i._queryParams.isDefault(),"should have a tag if it's not a default query."),i._path.toString())}}]),e}(nY),kse=function(){function n(){(0,m.Z)(this,n),this.rootNode_=Fn.EMPTY_NODE}return(0,_.Z)(n,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),n}();function tT(){return{value:null,children:new Map}}function H_(n,r,e){if(Gn(r))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(r,e);else{var t=jn(r);n.children.has(t)||n.children.set(t,tT()),H_(n.children.get(t),r=Ur(r),e)}}function RN(n,r){if(Gn(r))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;var e=n.value;return n.value=null,e.forEachChild($r,function(a,o){H_(n,new Ar(a),o)}),RN(n,r)}if(n.children.size>0){var t=jn(r);return r=Ur(r),n.children.has(t)&&RN(n.children.get(t),r)&&n.children.delete(t),0===n.children.size}return!0}function ON(n,r,e){null!==n.value?e(r,n.value):function wse(n,r){n.children.forEach(function(e,t){r(t,e)})}(n,function(t,i){ON(i,new Ar(r.toString()+"/"+t),e)})}var Cse=function(){function n(r){(0,m.Z)(this,n),this.collection_=r,this.last_=null}return(0,_.Z)(n,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&io(this.last_,function(i,a){t[i]=t[i]-a}),this.last_=e,t}}]),n}(),Mse=function(){function n(r,e){(0,m.Z)(this,n),this.server_=e,this.statsToReport_={},this.statsListener_=new Cse(r);var t=1e4+2e4*Math.random();cw(this.reportStats_.bind(this),Math.floor(t))}return(0,_.Z)(n,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),i={},a=!1;io(t,function(o,u){u>0&&(0,re.r3)(e.statsToReport_,o)&&(i[o]=u,a=!0)}),a&&this.server_.reportStats(i),cw(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),n}(),Hu=function(){return function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Hu||(Hu={})),Hu}();function xN(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}var Sse=function(){function n(r,e,t){(0,m.Z)(this,n),this.path=r,this.affectedTree=e,this.revert=t,this.type=Hu.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return(0,_.Z)(n,[{key:"operationForChild",value:function(e){if(Gn(this.path)){if(null!=this.affectedTree.value)return(0,re.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var t=this.affectedTree.subtree(new Ar(e));return new n(br(),t,this.revert)}return(0,re.hu)(jn(this.path)===e,"operationForChild called for unrelated child."),new n(Ur(this.path),this.affectedTree,this.revert)}}]),n}(),SY=function(){function n(r,e){(0,m.Z)(this,n),this.source=r,this.path=e,this.type=Hu.LISTEN_COMPLETE}return(0,_.Z)(n,[{key:"operationForChild",value:function(e){return Gn(this.path)?new n(this.source,br()):new n(this.source,Ur(this.path))}}]),n}(),nT=function(){function n(r,e,t){(0,m.Z)(this,n),this.source=r,this.path=e,this.snap=t,this.type=Hu.OVERWRITE}return(0,_.Z)(n,[{key:"operationForChild",value:function(e){return Gn(this.path)?new n(this.source,br(),this.snap.getImmediateChild(e)):new n(this.source,Ur(this.path),this.snap)}}]),n}(),NN=function(){function n(r,e,t){(0,m.Z)(this,n),this.source=r,this.path=e,this.children=t,this.type=Hu.MERGE}return(0,_.Z)(n,[{key:"operationForChild",value:function(e){if(Gn(this.path)){var t=this.children.subtree(new Ar(e));return t.isEmpty()?null:t.value?new nT(this.source,br(),t.value):new n(this.source,br(),t)}return(0,re.hu)(jn(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new n(this.source,Ur(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),n}(),Rh=function(){function n(r,e,t){(0,m.Z)(this,n),this.node_=r,this.fullyInitialized_=e,this.filtered_=t}return(0,_.Z)(n,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(Gn(e))return this.isFullyInitialized()&&!this.filtered_;var t=jn(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),n}(),Tse=(0,_.Z)(function n(r){(0,m.Z)(this,n),this.query_=r,this.index_=this.query_._queryParams.getIndex()});function _w(n,r,e,t,i,a){var o=t.filter(function(u){return u.type===e});o.sort(function(u,d){return function Rse(n,r,e){if(null==r.childName||null==e.childName)throw(0,re.g5)("Should only compare child_ events.");var t=new er(r.childName,r.snapshotNode),i=new er(e.childName,e.snapshotNode);return n.index_.compare(t,i)}(n,u,d)}),o.forEach(function(u){var d=function Ise(n,r,e){return"value"===r.type||"child_removed"===r.type||(r.prevName=e.getPredecessorChildName(r.childName,r.snapshotNode,n.index_)),r}(n,u,a);i.forEach(function(h){h.respondsTo(u.type)&&r.push(h.createEvent(d,n.query_))})})}function rT(n,r){return{eventCache:n,serverCache:r}}function yw(n,r,e,t){return rT(new Rh(r,e,t),n.serverCache)}function TY(n,r,e,t){return rT(n.eventCache,new Rh(r,e,t))}function iT(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function eg(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}var ZN,Ose=function(){return ZN||(ZN=new Zc(doe)),ZN},lu=function(){function n(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ose();(0,m.Z)(this,n),this.value=r,this.children=e}return(0,_.Z)(n,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:br(),value:this.value};if(Gn(e))return null;var i=jn(e),a=this.children.get(i);if(null!==a){var o=a.findRootMostMatchingPathAndValue(Ur(e),t);return null!=o?{path:ki(new Ar(i),o.path),value:o.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,function(){return!0})}},{key:"subtree",value:function(e){if(Gn(e))return this;var t=jn(e),i=this.children.get(t);return null!==i?i.subtree(Ur(e)):new n(null)}},{key:"set",value:function(e,t){if(Gn(e))return new n(t,this.children);var i=jn(e),o=(this.children.get(i)||new n(null)).set(Ur(e),t),u=this.children.insert(i,o);return new n(this.value,u)}},{key:"remove",value:function(e){if(Gn(e))return this.children.isEmpty()?new n(null):new n(null,this.children);var t=jn(e),i=this.children.get(t);if(i){var o,a=i.remove(Ur(e));return o=a.isEmpty()?this.children.remove(t):this.children.insert(t,a),null===this.value&&o.isEmpty()?new n(null):new n(this.value,o)}return this}},{key:"get",value:function(e){if(Gn(e))return this.value;var t=jn(e),i=this.children.get(t);return i?i.get(Ur(e)):null}},{key:"setTree",value:function(e,t){if(Gn(e))return t;var u,i=jn(e),o=(this.children.get(i)||new n(null)).setTree(Ur(e),t);return u=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new n(this.value,u)}},{key:"fold",value:function(e){return this.fold_(br(),e)}},{key:"fold_",value:function(e,t){var i={};return this.children.inorderTraversal(function(a,o){i[a]=o.fold_(ki(e,a),t)}),t(e,this.value,i)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,br(),t)}},{key:"findOnPath_",value:function(e,t,i){var a=!!this.value&&i(t,this.value);if(a)return a;if(Gn(e))return null;var o=jn(e),u=this.children.get(o);return u?u.findOnPath_(Ur(e),ki(t,o),i):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,br(),t)}},{key:"foreachOnPath_",value:function(e,t,i){if(Gn(e))return this;this.value&&i(t,this.value);var a=jn(e),o=this.children.get(a);return o?o.foreachOnPath_(Ur(e),ki(t,a),i):new n(null)}},{key:"foreach",value:function(e){this.foreach_(br(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal(function(i,a){a.foreach_(ki(e,i),t)}),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal(function(t,i){i.value&&e(t,i.value)})}}],[{key:"fromObject",value:function(e){var t=new n(null);return io(e,function(i,a){t=t.set(new Ar(i),a)}),t}}]),n}(),zd=function(){function n(r){(0,m.Z)(this,n),this.writeTree_=r}return(0,_.Z)(n,null,[{key:"empty",value:function(){return new n(new lu(null))}}]),n}();function bw(n,r,e){if(Gn(r))return new zd(new lu(e));var t=n.writeTree_.findRootMostValueAndPath(r);if(null!=t){var i=t.path,a=t.value,o=ss(i,r);return a=a.updateChild(o,e),new zd(n.writeTree_.set(i,a))}var u=new lu(e),d=n.writeTree_.setTree(r,u);return new zd(d)}function LN(n,r,e){var t=n;return io(e,function(i,a){t=bw(t,ki(r,i),a)}),t}function AY(n,r){if(Gn(r))return zd.empty();var e=n.writeTree_.setTree(r,new lu(null));return new zd(e)}function BN(n,r){return null!=tg(n,r)}function tg(n,r){var e=n.writeTree_.findRootMostValueAndPath(r);return null!=e?n.writeTree_.get(e.path).getChild(ss(e.path,r)):null}function IY(n){var r=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild($r,function(t,i){r.push(new er(t,i))}):n.writeTree_.children.inorderTraversal(function(t,i){null!=i.value&&r.push(new er(t,i.value))}),r}function Oh(n,r){if(Gn(r))return n;var e=tg(n,r);return new zd(null!=e?new lu(e):n.writeTree_.subtree(r))}function VN(n){return n.writeTree_.isEmpty()}function j_(n,r){return RY(br(),n.writeTree_,r)}function RY(n,r,e){if(null!=r.value)return e.updateChild(n,r.value);var t=null;return r.children.inorderTraversal(function(i,a){".priority"===i?((0,re.hu)(null!==a.value,"Priority writes must always be leaf nodes"),t=a.value):e=RY(ki(n,i),a,e)}),!e.getChild(n).isEmpty()&&null!==t&&(e=e.updateChild(ki(n,".priority"),t)),e}function aT(n,r){return NY(r,n)}function xse(n,r){for(var e=0;e<n.allWrites.length;e++){var t=n.allWrites[e];if(t.writeId===r)return t}return null}function Nse(n,r){var e=n.allWrites.findIndex(function(h){return h.writeId===r});(0,re.hu)(e>=0,"removeWrite called with nonexistent writeId.");var t=n.allWrites[e];n.allWrites.splice(e,1);for(var i=t.visible,a=!1,o=n.allWrites.length-1;i&&o>=0;){var u=n.allWrites[o];u.visible&&(o>=e&&Zse(u,t.path)?i=!1:Uu(t.path,u.path)&&(a=!0)),o--}return!!i&&(a?(function Lse(n){n.visibleWrites=OY(n.allWrites,Bse,br()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(t.snap?n.visibleWrites=AY(n.visibleWrites,t.path):io(t.children,function(h){n.visibleWrites=AY(n.visibleWrites,ki(t.path,h))}),!0))}function Zse(n,r){if(n.snap)return Uu(n.path,r);for(var e in n.children)if(n.children.hasOwnProperty(e)&&Uu(ki(n.path,e),r))return!0;return!1}function Bse(n){return n.visible}function OY(n,r,e){for(var t=zd.empty(),i=0;i<n.length;++i){var a=n[i];if(r(a)){var o=a.path,u=void 0;if(a.snap)Uu(e,o)?t=bw(t,u=ss(e,o),a.snap):Uu(o,e)&&(u=ss(o,e),t=bw(t,br(),a.snap.getChild(u)));else{if(!a.children)throw(0,re.g5)("WriteRecord should have .snap or .children");if(Uu(e,o))t=LN(t,u=ss(e,o),a.children);else if(Uu(o,e))if(Gn(u=ss(o,e)))t=LN(t,br(),a.children);else{var d=(0,re.DV)(a.children,jn(u));if(d){var h=d.getChild(Ur(u));t=bw(t,br(),h)}}}}}return t}function PY(n,r,e,t,i){if(t||i){var d=Oh(n.visibleWrites,r);return!i&&VN(d)?e:i||null!=e||BN(d,br())?j_(OY(n.allWrites,function(I){return(I.visible||i)&&(!t||!~t.indexOf(I.writeId))&&(Uu(I.path,r)||Uu(r,I.path))},r),e||Fn.EMPTY_NODE):null}var a=tg(n.visibleWrites,r);if(null!=a)return a;var o=Oh(n.visibleWrites,r);return VN(o)?e:null!=e||BN(o,br())?j_(o,e||Fn.EMPTY_NODE):null}function oT(n,r,e,t){return PY(n.writeTree,n.treePath,r,e,t)}function UN(n,r){return function Vse(n,r,e){var t=Fn.EMPTY_NODE,i=tg(n.visibleWrites,r);if(i)return i.isLeafNode()||i.forEachChild($r,function(u,d){t=t.updateImmediateChild(u,d)}),t;if(e){var a=Oh(n.visibleWrites,r);return e.forEachChild($r,function(u,d){var h=j_(Oh(a,new Ar(u)),d);t=t.updateImmediateChild(u,h)}),IY(a).forEach(function(u){t=t.updateImmediateChild(u.name,u.node)}),t}return IY(Oh(n.visibleWrites,r)).forEach(function(u){t=t.updateImmediateChild(u.name,u.node)}),t}(n.writeTree,n.treePath,r)}function FY(n,r,e,t){return function Use(n,r,e,t,i){(0,re.hu)(t||i,"Either existingEventSnap or existingServerSnap must exist");var a=ki(r,e);if(BN(n.visibleWrites,a))return null;var o=Oh(n.visibleWrites,a);return VN(o)?i.getChild(e):j_(o,i.getChild(e))}(n.writeTree,n.treePath,r,e,t)}function sT(n,r){return function jse(n,r){return tg(n.visibleWrites,r)}(n.writeTree,ki(n.treePath,r))}function HN(n,r,e){return function Hse(n,r,e,t){var i=ki(r,e),a=tg(n.visibleWrites,i);return null!=a?a:t.isCompleteForChild(e)?j_(Oh(n.visibleWrites,i),t.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,r,e)}function xY(n,r){return NY(ki(n.treePath,r),n.writeTree)}function NY(n,r){return{treePath:n,writeTree:r}}var Wse=function(){function n(){(0,m.Z)(this,n),this.changeMap=new Map}return(0,_.Z)(n,[{key:"trackChildChange",value:function(e){var t=e.type,i=e.childName;(0,re.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,re.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");var a=this.changeMap.get(i);if(a){var o=a.type;if("child_added"===t&&"child_removed"===o)this.changeMap.set(i,mw(i,e.snapshotNode,a.snapshotNode));else if("child_removed"===t&&"child_added"===o)this.changeMap.delete(i);else if("child_removed"===t&&"child_changed"===o)this.changeMap.set(i,gw(i,a.oldSnap));else if("child_changed"===t&&"child_added"===o)this.changeMap.set(i,U_(i,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==o)throw(0,re.g5)("Illegal combination of changes: "+e+" occurred after "+a);this.changeMap.set(i,mw(i,e.snapshotNode,a.oldSnap))}}else this.changeMap.set(i,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),n}(),qse=function(){function n(){(0,m.Z)(this,n)}return(0,_.Z)(n,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,i){return null}}]),n}(),ZY=new qse,jN=function(){function n(r,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(0,m.Z)(this,n),this.writes_=r,this.viewCache_=e,this.optCompleteServerCache_=t}return(0,_.Z)(n,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var i=null!=this.optCompleteServerCache_?new Rh(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return HN(this.writes_,e,i)}},{key:"getChildAfterChild",value:function(e,t,i){var a=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:eg(this.viewCache_),o=function Yse(n,r,e,t,i,a){return function Gse(n,r,e,t,i,a,o){var u,d=Oh(n.visibleWrites,r),h=tg(d,br());if(null!=h)u=h;else{if(null==e)return[];u=j_(d,e)}if((u=u.withIndex(o)).isEmpty()||u.isLeafNode())return[];for(var v=[],b=o.getCompare(),k=a?u.getReverseIteratorFrom(t,o):u.getIteratorFrom(t,o),I=k.getNext();I&&v.length<i;)0!==b(I,t)&&v.push(I),I=k.getNext();return v}(n.writeTree,n.treePath,r,e,t,i,a)}(this.writes_,a,t,1,i,e);return 0===o.length?null:o[0]}}]),n}();function LY(n,r,e,t,i,a){var u,d,o=r.eventCache;if(null!=sT(t,e))return r;if(Gn(e))if((0,re.hu)(r.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),r.serverCache.isFiltered()){var h=eg(r),b=UN(t,h instanceof Fn?h:Fn.EMPTY_NODE);u=n.filter.updateFullNode(r.eventCache.getNode(),b,a)}else{var k=oT(t,eg(r));u=n.filter.updateFullNode(r.eventCache.getNode(),k,a)}else{var I=jn(e);if(".priority"===I){(0,re.hu)(1===Ih(e),"Can't have a priority with additional path components");var O=o.getNode(),q=FY(t,e,O,d=r.serverCache.getNode());u=null!=q?n.filter.updatePriority(O,q):o.getNode()}else{var ue,J=Ur(e);if(o.isCompleteForChild(I)){d=r.serverCache.getNode();var fe=FY(t,e,o.getNode(),d);ue=null!=fe?o.getNode().getImmediateChild(I).updateChild(J,fe):o.getNode().getImmediateChild(I)}else ue=HN(t,I,r.serverCache);u=null!=ue?n.filter.updateChild(o.getNode(),I,ue,J,i,a):o.getNode()}}return yw(r,u,o.isFullyInitialized()||Gn(e),n.filter.filtersNodes())}function uT(n,r,e,t,i,a,o,u){var h,d=r.serverCache,v=o?n.filter:n.filter.getIndexedFilter();if(Gn(e))h=v.updateFullNode(d.getNode(),t,null);else if(v.filtersNodes()&&!d.isFiltered()){var b=d.getNode().updateChild(e,t);h=v.updateFullNode(d.getNode(),b,null)}else{var k=jn(e);if(!d.isCompleteForPath(e)&&Ih(e)>1)return r;var I=Ur(e),q=d.getNode().getImmediateChild(k).updateChild(I,t);h=".priority"===k?v.updatePriority(d.getNode(),q):v.updateChild(d.getNode(),k,q,I,ZY,null)}var J=TY(r,h,d.isFullyInitialized()||Gn(e),v.filtersNodes());return LY(n,J,e,i,new jN(i,J,a),u)}function GN(n,r,e,t,i,a,o){var d,h,u=r.eventCache,v=new jN(i,r,a);if(Gn(e))h=n.filter.updateFullNode(r.eventCache.getNode(),t,o),d=yw(r,h,!0,n.filter.filtersNodes());else{var b=jn(e);if(".priority"===b)h=n.filter.updatePriority(r.eventCache.getNode(),t),d=yw(r,h,u.isFullyInitialized(),u.isFiltered());else{var O,k=Ur(e),I=u.getNode().getImmediateChild(b);if(Gn(k))O=t;else{var q=v.getCompleteChild(b);O=null!=q?".priority"===bN(k)&&q.getChild(sY(k)).isEmpty()?q:q.updateChild(k,t):Fn.EMPTY_NODE}d=I.equals(O)?r:yw(r,n.filter.updateChild(u.getNode(),b,O,k,v,o),u.isFullyInitialized(),n.filter.filtersNodes())}}return d}function BY(n,r){return n.eventCache.isCompleteForChild(r)}function VY(n,r,e){return e.foreach(function(t,i){r=r.updateChild(t,i)}),r}function zN(n,r,e,t,i,a,o,u){if(r.serverCache.getNode().isEmpty()&&!r.serverCache.isFullyInitialized())return r;var h,d=r;h=Gn(e)?t:new lu(null).setTree(e,t);var v=r.serverCache.getNode();return h.children.inorderTraversal(function(b,k){if(v.hasChild(b)){var O=VY(0,r.serverCache.getNode().getImmediateChild(b),k);d=uT(n,d,new Ar(b),O,i,a,o,u)}}),h.children.inorderTraversal(function(b,k){var I=!r.serverCache.isCompleteForChild(b)&&void 0===k.value;if(!v.hasChild(b)&&!I){var q=VY(0,r.serverCache.getNode().getImmediateChild(b),k);d=uT(n,d,new Ar(b),q,i,a,o,u)}}),d}var rue=function(){function n(r,e){(0,m.Z)(this,n),this.query_=r,this.eventRegistrations_=[];var t=this.query_._queryParams,i=new TN(t.getIndex()),a=function vse(n){return n.loadsAllData()?new TN(n.getIndex()):n.hasLimit()?new pse(n):new wY(n)}(t);this.processor_=function Kse(n){return{filter:n}}(a);var o=e.serverCache,u=e.eventCache,d=i.updateFullNode(Fn.EMPTY_NODE,o.getNode(),null),h=a.updateFullNode(Fn.EMPTY_NODE,u.getNode(),null),v=new Rh(d,o.isFullyInitialized(),i.filtersNodes()),b=new Rh(h,u.isFullyInitialized(),a.filtersNodes());this.viewCache_=rT(b,v),this.eventGenerator_=new Tse(this.query_)}return(0,_.Z)(n,[{key:"query",get:function(){return this.query_}}]),n}();function oue(n,r){var e=eg(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!Gn(r)&&!e.getImmediateChild(jn(r)).isEmpty())?e.getChild(r):null}function UY(n){return 0===n.eventRegistrations_.length}function HY(n,r,e){var t=[];if(e){(0,re.hu)(null==r,"A cancel should cancel all event registrations.");var i=n.query._path;n.eventRegistrations_.forEach(function(d){var h=d.createCancelEvent(e,i);h&&t.push(h)})}if(r){for(var a=[],o=0;o<n.eventRegistrations_.length;++o){var u=n.eventRegistrations_[o];if(u.matches(r)){if(r.hasAnyCallback()){a=a.concat(n.eventRegistrations_.slice(o+1));break}}else a.push(u)}n.eventRegistrations_=a}else n.eventRegistrations_=[];return t}function jY(n,r,e,t){r.type===Hu.MERGE&&null!==r.source.queryId&&((0,re.hu)(eg(n.viewCache_),"We should always have a full cache before handling merges"),(0,re.hu)(iT(n.viewCache_),"Missing event cache, even though we have a server cache"));var i=n.viewCache_,a=function Qse(n,r,e,t,i){var o,u,a=new Wse;if(e.type===Hu.OVERWRITE){var d=e;d.source.fromUser?o=GN(n,r,d.path,d.snap,t,i,a):((0,re.hu)(d.source.fromServer,"Unknown source."),u=d.source.tagged||r.serverCache.isFiltered()&&!Gn(d.path),o=uT(n,r,d.path,d.snap,t,i,u,a))}else if(e.type===Hu.MERGE){var h=e;h.source.fromUser?o=function Xse(n,r,e,t,i,a,o){var u=r;return t.foreach(function(d,h){var v=ki(e,d);BY(r,jn(v))&&(u=GN(n,u,v,h,i,a,o))}),t.foreach(function(d,h){var v=ki(e,d);BY(r,jn(v))||(u=GN(n,u,v,h,i,a,o))}),u}(n,r,h.path,h.children,t,i,a):((0,re.hu)(h.source.fromServer,"Unknown source."),u=h.source.tagged||r.serverCache.isFiltered(),o=zN(n,r,h.path,h.children,t,i,u,a))}else if(e.type===Hu.ACK_USER_WRITE){var v=e;o=v.revert?function nue(n,r,e,t,i,a){var o;if(null!=sT(t,e))return r;var h,u=new jN(t,r,i),d=r.eventCache.getNode();if(Gn(e)||".priority"===jn(e)){var v;if(r.serverCache.isFullyInitialized())v=oT(t,eg(r));else{var b=r.serverCache.getNode();(0,re.hu)(b instanceof Fn,"serverChildren would be complete if leaf node"),v=UN(t,b)}h=n.filter.updateFullNode(d,v=v,a)}else{var k=jn(e),I=HN(t,k,r.serverCache);null==I&&r.serverCache.isCompleteForChild(k)&&(I=d.getImmediateChild(k)),(h=null!=I?n.filter.updateChild(d,k,I,Ur(e),u,a):r.eventCache.getNode().hasChild(k)?n.filter.updateChild(d,k,Fn.EMPTY_NODE,Ur(e),u,a):d).isEmpty()&&r.serverCache.isFullyInitialized()&&(o=oT(t,eg(r))).isLeafNode()&&(h=n.filter.updateFullNode(h,o,a))}return o=r.serverCache.isFullyInitialized()||null!=sT(t,br()),yw(r,h,o,n.filter.filtersNodes())}(n,r,v.path,t,i,a):function eue(n,r,e,t,i,a,o){if(null!=sT(i,e))return r;var u=r.serverCache.isFiltered(),d=r.serverCache;if(null!=t.value){if(Gn(e)&&d.isFullyInitialized()||d.isCompleteForPath(e))return uT(n,r,e,d.getNode().getChild(e),i,a,u,o);if(Gn(e)){var h=new lu(null);return d.getNode().forEachChild(Nc,function(b,k){h=h.set(new Ar(b),k)}),zN(n,r,e,h,i,a,u,o)}return r}var v=new lu(null);return t.foreach(function(b,k){var I=ki(e,b);d.isCompleteForPath(I)&&(v=v.set(b,d.getNode().getChild(I)))}),zN(n,r,e,v,i,a,u,o)}(n,r,v.path,v.affectedTree,t,i,a)}else{if(e.type!==Hu.LISTEN_COMPLETE)throw(0,re.g5)("Unknown operation type: "+e.type);o=function tue(n,r,e,t,i){var a=r.serverCache;return LY(n,TY(r,a.getNode(),a.isFullyInitialized()||Gn(e),a.isFiltered()),e,t,ZY,i)}(n,r,e.path,t,a)}var b=a.getChanges();return function Jse(n,r,e){var t=r.eventCache;if(t.isFullyInitialized()){var i=t.getNode().isLeafNode()||t.getNode().isEmpty(),a=iT(n);(e.length>0||!n.eventCache.isFullyInitialized()||i&&!t.getNode().equals(a)||!t.getNode().getPriority().equals(a.getPriority()))&&e.push(kY(iT(r)))}}(r,o,b),{viewCache:o,changes:b}}(n.processor_,i,r,e,t);return function $se(n,r){(0,re.hu)(r.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,re.hu)(r.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,a.viewCache),(0,re.hu)(a.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=a.viewCache,GY(n,a.changes,a.viewCache.eventCache.getNode(),null)}function GY(n,r,e,t){return function Ase(n,r,e,t){var i=[],a=[];return r.forEach(function(o){"child_changed"===o.type&&n.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&a.push(function hse(n,r){return{type:"child_moved",snapshotNode:r,childName:n}}(o.childName,o.snapshotNode))}),_w(n,i,"child_removed",r,t,e),_w(n,i,"child_added",r,t,e),_w(n,i,"child_moved",a,t,e),_w(n,i,"child_changed",r,t,e),_w(n,i,"value",r,t,e),i}(n.eventGenerator_,r,e,t?[t]:n.eventRegistrations_)}var lT,dT,zY=(0,_.Z)(function n(){(0,m.Z)(this,n),this.views=new Map});function YN(n,r,e,t){var i=r.source.queryId;if(null!==i){var a=n.views.get(i);return(0,re.hu)(null!=a,"SyncTree gave us an op for an invalid query."),jY(a,r,e,t)}var d,o=[],u=(0,G.Z)(n.views.values());try{for(u.s();!(d=u.n()).done;)o=o.concat(jY(d.value,r,e,t))}catch(v){u.e(v)}finally{u.f()}return o}function YY(n,r,e,t,i){var o=n.views.get(r._queryIdentifier);if(!o){var u=oT(e,i?t:null),d=!1;u?d=!0:t instanceof Fn?(u=UN(e,t),d=!1):(u=Fn.EMPTY_NODE,d=!1);var h=rT(new Rh(u,d,!1),new Rh(t,i,!1));return new rue(r,h)}return o}function WY(n){var t,r=[],e=(0,G.Z)(n.views.values());try{for(e.s();!(t=e.n()).done;){var i=t.value;i.query._queryParams.loadsAllData()||r.push(i)}}catch(a){e.e(a)}finally{e.f()}return r}function Ph(n,r){var i,e=null,t=(0,G.Z)(n.views.values());try{for(t.s();!(i=t.n()).done;)e=e||oue(i.value,r)}catch(o){t.e(o)}finally{t.f()}return e}function qY(n,r){return r._queryParams.loadsAllData()?cT(n):n.views.get(r._queryIdentifier)}function KY(n,r){return null!=qY(n,r)}function Fh(n){return null!=cT(n)}function cT(n){var e,r=(0,G.Z)(n.views.values());try{for(r.s();!(e=r.n()).done;){var t=e.value;if(t.query._queryParams.loadsAllData())return t}}catch(i){r.e(i)}finally{r.f()}return null}var gue=1,$Y=(0,_.Z)(function n(r){(0,m.Z)(this,n),this.listenProvider_=r,this.syncPointTree_=new lu(null),this.pendingWriteTree_=function zse(){return{visibleWrites:zd.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map});function WN(n,r,e,t,i){return function Pse(n,r,e,t,i){(0,re.hu)(t>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),n.allWrites.push({path:r,snap:e,writeId:t,visible:i}),i&&(n.visibleWrites=bw(n.visibleWrites,r,e)),n.lastWriteId=t}(n.pendingWriteTree_,r,e,t,i),i?G_(n,new nT({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},r,e)):[]}function xh(n,r){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],t=xse(n.pendingWriteTree_,r),i=Nse(n.pendingWriteTree_,r);if(i){var a=new lu(null);return null!=t.snap?a=a.set(br(),!0):io(t.children,function(o){a=a.set(new Ar(o),!0)}),G_(n,new Sse(t.path,a,e))}return[]}function kw(n,r,e){return G_(n,new nT({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r,e))}function qN(n,r,e,t){var i=r._path,a=n.syncPointTree_.get(i),o=[];if(a&&("default"===r._queryIdentifier||KY(a,r))){var u=function hue(n,r,e,t){var i=r._queryIdentifier,a=[],o=[],u=Fh(n);if("default"===i){var h,d=(0,G.Z)(n.views.entries());try{for(d.s();!(h=d.n()).done;){var v=(0,Z.Z)(h.value,2),b=v[0],k=v[1];o=o.concat(HY(k,e,t)),UY(k)&&(n.views.delete(b),k.query._queryParams.loadsAllData()||a.push(k.query))}}catch(O){d.e(O)}finally{d.f()}}else{var I=n.views.get(i);I&&(o=o.concat(HY(I,e,t)),UY(I)&&(n.views.delete(i),I.query._queryParams.loadsAllData()||a.push(I.query)))}return u&&!Fh(n)&&a.push(new(function cue(){return(0,re.hu)(lT,"Reference.ts has not been loaded"),lT}())(r._repo,r._path)),{removed:a,events:o}}(a,r,e,t);(function due(n){return 0===n.views.size})(a)&&(n.syncPointTree_=n.syncPointTree_.remove(i));var d=u.removed;o=u.events;var h=-1!==d.findIndex(function(fe){return fe._queryParams.loadsAllData()}),v=n.syncPointTree_.findOnPath(i,function(fe,Oe){return Fh(Oe)});if(h&&!v){var b=n.syncPointTree_.subtree(i);if(!b.isEmpty())for(var k=function Eue(n){return n.fold(function(r,e,t){if(e&&Fh(e))return[cT(e)];var a=[];return e&&(a=WY(e)),io(t,function(o,u){a=a.concat(u)}),a})}(b),I=0;I<k.length;++I){var O=k[I],q=O.query,J=e4(n,O);n.listenProvider_.startListening(ww(q),hT(n,q),J.hashFn,J.onComplete)}}!v&&d.length>0&&!t&&(h?n.listenProvider_.stopListening(ww(r),null):d.forEach(function(fe){var Oe=n.queryToTagMap.get(pT(fe));n.listenProvider_.stopListening(ww(fe),Oe)})),function Due(n,r){for(var e=0;e<r.length;++e){var t=r[e];if(!t._queryParams.loadsAllData()){var i=pT(t),a=n.queryToTagMap.get(i);n.queryToTagMap.delete(i),n.tagToQueryMap.delete(a)}}}(n,d)}return o}function QY(n,r,e){var t=r._path,i=null,a=!1;n.syncPointTree_.foreachOnPath(t,function(q,J){var ue=ss(q,t);i=i||Ph(J,ue),a=a||Fh(J)});var u,o=n.syncPointTree_.get(t);o?(a=a||Fh(o),i=i||Ph(o,br())):(o=new zY,n.syncPointTree_=n.syncPointTree_.set(t,o)),null!=i?u=!0:(u=!1,i=Fn.EMPTY_NODE,n.syncPointTree_.subtree(t).foreachChild(function(q,J){var ue=Ph(J,br());ue&&(i=i.updateImmediateChild(q,ue))}));var h=KY(o,r);if(!h&&!r._queryParams.loadsAllData()){var v=pT(r);(0,re.hu)(!n.queryToTagMap.has(v),"View does not exist, but we have a tag");var b=function Mue(){return gue++}();n.queryToTagMap.set(v,b),n.tagToQueryMap.set(b,v)}var I=function fue(n,r,e,t,i,a){var o=YY(n,r,t,i,a);return n.views.has(r._queryIdentifier)||n.views.set(r._queryIdentifier,o),function sue(n,r){n.eventRegistrations_.push(r)}(o,e),function uue(n,r){var e=n.viewCache_.eventCache,t=[];return e.getNode().isLeafNode()||e.getNode().forEachChild($r,function(a,o){t.push(U_(a,o))}),e.isFullyInitialized()&&t.push(kY(e.getNode())),GY(n,t,e.getNode(),r)}(o,e)}(o,r,e,aT(n.pendingWriteTree_,t),i,u);if(!h&&!a){var O=qY(o,r);I=I.concat(function Sue(n,r,e){var t=r._path,i=hT(n,r),a=e4(n,e),o=n.listenProvider_.startListening(ww(r),i,a.hashFn,a.onComplete),u=n.syncPointTree_.subtree(t);if(i)(0,re.hu)(!Fh(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var d=u.fold(function(b,k,I){if(!Gn(b)&&k&&Fh(k))return[cT(k).query];var O=[];return k&&(O=O.concat(WY(k).map(function(q){return q.query}))),io(I,function(q,J){O=O.concat(J)}),O}),h=0;h<d.length;++h){var v=d[h];n.listenProvider_.stopListening(ww(v),hT(n,v))}return o}(n,r,O))}return I}function fT(n,r,e){var i=n.pendingWriteTree_,a=n.syncPointTree_.findOnPath(r,function(o,u){var h=Ph(u,ss(o,r));if(h)return h});return PY(i,r,a,e,!0)}function G_(n,r){return JY(r,n.syncPointTree_,null,aT(n.pendingWriteTree_,br()))}function JY(n,r,e,t){if(Gn(n.path))return XY(n,r,e,t);var i=r.get(br());null==e&&null!=i&&(e=Ph(i,br()));var a=[],o=jn(n.path),u=n.operationForChild(o),d=r.children.get(o);if(d&&u){var h=e?e.getImmediateChild(o):null,v=xY(t,o);a=a.concat(JY(u,d,h,v))}return i&&(a=a.concat(YN(i,n,t,e))),a}function XY(n,r,e,t){var i=r.get(br());null==e&&null!=i&&(e=Ph(i,br()));var a=[];return r.children.inorderTraversal(function(o,u){var d=e?e.getImmediateChild(o):null,h=xY(t,o),v=n.operationForChild(o);v&&(a=a.concat(XY(v,u,d,h)))}),i&&(a=a.concat(YN(i,n,t,e))),a}function e4(n,r){var e=r.query,t=hT(n,e);return{hashFn:function(){var a=function iue(n){return n.viewCache_.serverCache.getNode()}(r)||Fn.EMPTY_NODE;return a.hash()},onComplete:function(a){if("ok"===a)return t?function bue(n,r,e){var t=KN(n,e);if(t){var i=$N(t),a=i.path,o=i.queryId,u=ss(a,r);return QN(n,a,new SY(xN(o),u))}return[]}(n,e._path,t):function yue(n,r){return G_(n,new SY({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r))}(n,e._path);var o=function poe(n,r){var e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");var t=new Error(n+" at "+r._path.toString()+": "+e);return t.code=n.toUpperCase(),t}(a,e);return qN(n,e,null,o)}}}function hT(n,r){var e=pT(r);return n.queryToTagMap.get(e)}function pT(n){return n._path.toString()+"$"+n._queryIdentifier}function KN(n,r){return n.tagToQueryMap.get(r)}function $N(n){var r=n.indexOf("$");return(0,re.hu)(-1!==r&&r<n.length-1,"Bad queryKey."),{queryId:n.substr(r+1),path:new Ar(n.substr(0,r))}}function QN(n,r,e){var t=n.syncPointTree_.get(r);return(0,re.hu)(t,"Missing sync point for query tag that we're tracking"),YN(t,e,aT(n.pendingWriteTree_,r),null)}function ww(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function vue(){return(0,re.hu)(dT,"Reference.ts has not been loaded"),dT}())(n._repo,n._path):n}var Tue=function(){function n(r){(0,m.Z)(this,n),this.node_=r}return(0,_.Z)(n,[{key:"getImmediateChild",value:function(e){return new n(this.node_.getImmediateChild(e))}},{key:"node",value:function(){return this.node_}}]),n}(),Aue=function(){function n(r,e){(0,m.Z)(this,n),this.syncTree_=r,this.path_=e}return(0,_.Z)(n,[{key:"getImmediateChild",value:function(e){var t=ki(this.path_,e);return new n(this.syncTree_,t)}},{key:"node",value:function(){return fT(this.syncTree_,this.path_)}}]),n}(),t4=function(r,e,t){return r&&"object"==typeof r?((0,re.hu)(".sv"in r,"Unexpected leaf node or priority contents"),"string"==typeof r[".sv"]?Rue(r[".sv"],e,t):"object"==typeof r[".sv"]?Oue(r[".sv"],e):void(0,re.hu)(!1,"Unexpected server value: "+JSON.stringify(r,null,2))):r},Rue=function(r,e,t){if("timestamp"===r)return t.timestamp;(0,re.hu)(!1,"Unexpected server value: "+r)},Oue=function(r,e,t){r.hasOwnProperty("increment")||(0,re.hu)(!1,"Unexpected server value: "+JSON.stringify(r,null,2));var i=r.increment;"number"!=typeof i&&(0,re.hu)(!1,"Unexpected increment value: "+i);var a=e.node();if((0,re.hu)(null!=a,"Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return i;var u=a.getValue();return"number"!=typeof u?i:u+i},n4=function(r,e,t,i){return XN(e,new Aue(t,r),i)},JN=function(r,e,t){return XN(r,new Tue(e),t)};function XN(n,r,e){var a,t=n.getPriority().val(),i=t4(t,r.getImmediateChild(".priority"),e);if(n.isLeafNode()){var o=n,u=t4(o.getValue(),r,e);return u!==o.getValue()||i!==o.getPriority().val()?new L_(u,Vi(i)):n}var d=n;return a=d,i!==d.getPriority().val()&&(a=a.updatePriority(new L_(i))),d.forEachChild($r,function(h,v){var b=XN(v,r.getImmediateChild(h),e);b!==v&&(a=a.updateImmediateChild(h,b))}),a}var eZ=(0,_.Z)(function n(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};(0,m.Z)(this,n),this.name=r,this.parent=e,this.node=t});function vT(n,r){for(var e=r instanceof Ar?r:new Ar(r),t=n,i=jn(e);null!==i;){var a=(0,re.DV)(t.node.children,i)||{children:{},childCount:0};t=new eZ(i,t,a),i=jn(e=Ur(e))}return t}function ng(n){return n.node.value}function tZ(n,r){n.node.value=r,nZ(n)}function r4(n){return n.node.childCount>0}function gT(n,r){io(n.node.children,function(e,t){r(new eZ(e,n,t))})}function i4(n,r,e,t){e&&!t&&r(n),gT(n,function(i){i4(i,r,!0,t)}),e&&t&&r(n)}function Cw(n){return new Ar(null===n.parent?n.name:Cw(n.parent)+"/"+n.name)}function nZ(n){null!==n.parent&&function xue(n,r,e){var t=function Pue(n){return void 0===ng(n)&&!r4(n)}(e),i=(0,re.r3)(n.node.children,r);t&&i?(delete n.node.children[r],n.node.childCount--,nZ(n)):!t&&!i&&(n.node.children[r]=e.node,n.node.childCount++,nZ(n))}(n.parent,n.name,n)}var Nue=/[\[\].#$\/\u0000-\u001F\u007F]/,Zue=/[\[\].#$\u0000-\u001F\u007F]/,rZ=10485760,mT=function(r){return"string"==typeof r&&0!==r.length&&!Nue.test(r)},a4=function(r){return"string"==typeof r&&0!==r.length&&!Zue.test(r)},Ew=function(r){return null===r||"string"==typeof r||"number"==typeof r&&!zS(r)||r&&"object"==typeof r&&(0,re.r3)(r,".sv")},Lc=function(r,e,t,i){i&&void 0===e||_T((0,re.gK)(r,"value"),e,t)},_T=function n(r,e,t){var i=t instanceof Ar?new Yoe(t,r):t;if(void 0===e)throw new Error(r+"contains undefined "+Jv(i));if("function"==typeof e)throw new Error(r+"contains a function "+Jv(i)+" with contents = "+e.toString());if(zS(e))throw new Error(r+"contains "+e.toString()+" "+Jv(i));if("string"==typeof e&&e.length>rZ/3&&(0,re.ug)(e)>rZ)throw new Error(r+"contains a string greater than "+rZ+" utf8 bytes "+Jv(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var a=!1,o=!1;if(io(e,function(u,d){if(".value"===u)a=!0;else if(".priority"!==u&&".sv"!==u&&(o=!0,!mT(u)))throw new Error(r+" contains an invalid key ("+u+") "+Jv(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Woe(n,r){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(r),n.byteLength_+=(0,re.ug)(r),uY(n)})(i,u),n(r,d,i),function qoe(n){var r=n.parts_.pop();n.byteLength_-=(0,re.ug)(r),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),a&&o)throw new Error(r+' contains ".value" child '+Jv(i)+" in addition to actual children.")}},o4=function(r,e,t,i){if(!i||void 0!==e){var a=(0,re.gK)(r,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(a+" must be an object containing the children to replace.");var o=[];io(e,function(u,d){var h=new Ar(u);if(_T(a,d,ki(t,h)),".priority"===bN(h)&&!Ew(d))throw new Error(a+"contains an invalid value for '"+h.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(h)}),function(r,e){var t,i;for(t=0;t<e.length;t++)for(var a=fw(i=e[t]),o=0;o<a.length;o++)if((".priority"!==a[o]||o!==a.length-1)&&!mT(a[o]))throw new Error(r+"contains an invalid key ("+a[o]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(zoe);var u=null;for(t=0;t<e.length;t++){if(i=e[t],null!==u&&Uu(u,i))throw new Error(r+"contains a path "+u.toString()+" that is ancestor of another path "+i.toString());u=i}}(a,o)}},iZ=function(r,e,t){if(!t||void 0!==e){if(zS(e))throw new Error((0,re.gK)(r,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Ew(e))throw new Error((0,re.gK)(r,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Dw=function(r,e,t,i){if(!(i&&void 0===t||mT(t)))throw new Error((0,re.gK)(r,e)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Mw=function(r,e,t,i){if(!(i&&void 0===t||a4(t)))throw new Error((0,re.gK)(r,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ju=function(r,e){if(".info"===jn(e))throw new Error(r+" failed = Can't modify data under /.info/")},s4=function(r,e){var t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!mT(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(r){return r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),a4(r)}(t))throw new Error((0,re.gK)(r,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Uue=(0,_.Z)(function n(){(0,m.Z)(this,n),this.eventLists_=[],this.recursionDepth_=0});function yT(n,r){for(var e=null,t=0;t<r.length;t++){var i=r[t],a=i.getPath();null!==e&&!kN(a,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:a}),e.events.push(i)}e&&n.eventLists_.push(e)}function aZ(n,r,e){yT(n,e),u4(n,function(t){return kN(t,r)})}function Gu(n,r,e){yT(n,e),u4(n,function(t){return Uu(t,r)||Uu(r,t)})}function u4(n,r){n.recursionDepth_++;for(var e=!0,t=0;t<n.eventLists_.length;t++){var i=n.eventLists_[t];i&&(r(i.path)?(Hue(n.eventLists_[t]),n.eventLists_[t]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function Hue(n){for(var r=0;r<n.events.length;r++){var e=n.events[r];if(null!==e){n.events[r]=null;var t=e.getEventRunner();$v&&ro("event: "+e.toString()),N_(t)}}}var l4="repo_interrupt",Gue=function(){function n(r,e,t,i){(0,m.Z)(this,n),this.repoInfo_=r,this.forceRestClient_=e,this.authTokenProvider_=t,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Uue,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=tT(),this.transactionQueueTree_=new eZ,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return(0,_.Z)(n,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),n}();function c4(n){var e=n.infoData_.getNode(new Ar(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Sw(n){return(r=(r={timestamp:c4(n)})||{}).timestamp=r.timestamp||(new Date).getTime(),r;var r}function d4(n,r,e,t,i){n.dataUpdateCount++;var a=new Ar(r);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(r,e):e;var o=[];if(i)if(t){var u=(0,re.UI)(e,function(k){return Vi(k)});o=function wue(n,r,e,t){var i=KN(n,t);if(i){var a=$N(i),o=a.path,u=a.queryId,d=ss(o,r),h=lu.fromObject(e);return QN(n,o,new NN(xN(u),d,h))}return[]}(n.serverSyncTree_,a,u,i)}else{var d=Vi(e);o=function kue(n,r,e,t){var i=KN(n,t);if(null!=i){var a=$N(i),o=a.path,u=a.queryId,d=ss(o,r);return QN(n,o,new nT(xN(u),d,e))}return[]}(n.serverSyncTree_,a,d,i)}else if(t){var h=(0,re.UI)(e,function(k){return Vi(k)});o=function _ue(n,r,e){var t=lu.fromObject(e);return G_(n,new NN({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r,t))}(n.serverSyncTree_,a,h)}else{var v=Vi(e);o=kw(n.serverSyncTree_,a,v)}var b=a;o.length>0&&(b=Y_(n,a)),Gu(n.eventQueue_,b,o)}function f4(n,r){oZ(n,"connected",r),!1===r&&function Kue(n){z_(n,"onDisconnectEvents");var r=Sw(n),e=tT();ON(n.onDisconnect_,br(),function(i,a){var o=n4(i,a,n.serverSyncTree_,r);H_(e,i,o)});var t=[];ON(e,br(),function(i,a){t=t.concat(kw(n.serverSyncTree_,i,a));var o=cZ(n,i);Y_(n,o)}),n.onDisconnect_=tT(),Gu(n.eventQueue_,br(),t)}(n)}function oZ(n,r,e){var t=new Ar("/.info/"+r),i=Vi(e);n.infoData_.updateSnapshot(t,i);var a=kw(n.infoSyncTree_,t,i);Gu(n.eventQueue_,t,a)}function bT(n){return n.nextWriteId_++}function sZ(n,r,e,t,i){z_(n,"set",{path:r.toString(),value:e,priority:t});var a=Sw(n),o=Vi(e,t),u=fT(n.serverSyncTree_,r),d=JN(o,u,a),h=bT(n),v=WN(n.serverSyncTree_,r,d,h,!0);yT(n.eventQueue_,v),n.server_.put(r.toString(),o.val(!0),function(k,I){var O="ok"===k;O||Lo("set at "+r+" failed: "+k);var q=xh(n.serverSyncTree_,h,!O);Gu(n.eventQueue_,r,q),Nh(0,i,k,I)});var b=cZ(n,r);Y_(n,b),Gu(n.eventQueue_,b,[])}function $ue(n,r,e){n.server_.onDisconnectCancel(r.toString(),function(t,i){"ok"===t&&RN(n.onDisconnect_,r),Nh(0,e,t,i)})}function h4(n,r,e,t){var i=Vi(e);n.server_.onDisconnectPut(r.toString(),i.val(!0),function(a,o){"ok"===a&&H_(n.onDisconnect_,r,i),Nh(0,t,a,o)})}function uZ(n,r,e){var t;t=".info"===jn(r._path)?qN(n.infoSyncTree_,r,e):qN(n.serverSyncTree_,r,e),aZ(n.eventQueue_,r._path,t)}function p4(n){n.persistentConnection_&&n.persistentConnection_.interrupt(l4)}function z_(n){var r="";n.persistentConnection_&&(r=n.persistentConnection_.id+":");for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];ro.apply(void 0,[r].concat(t))}function Nh(n,r,e,t){r&&N_(function(){if("ok"===e)r(null);else{var i=(e||"error").toUpperCase(),a=i;t&&(a+=": "+t);var o=new Error(a);o.code=i,r(o)}})}function lZ(n,r,e){return fT(n.serverSyncTree_,r,e)||Fn.EMPTY_NODE}function kT(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.transactionQueueTree_;if(r||wT(n,r),ng(r)){var e=g4(n,r);(0,re.hu)(e.length>0,"Sending zero length transaction queue");var t=e.every(function(i){return 0===i.status});t&&nle(n,Cw(r),e)}else r4(r)&&gT(r,function(i){kT(n,i)})}function nle(n,r,e){for(var t=e.map(function(k){return k.currentWriteId}),i=lZ(n,r,t),a=i,o=i.hash(),u=0;u<e.length;u++){var d=e[u];(0,re.hu)(0===d.status,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;var h=ss(r,d.path);a=a.updateChild(h,d.currentOutputSnapshotRaw)}var v=a.val(!0),b=r;n.server_.put(b.toString(),v,function(k){z_(n,"transaction put response",{path:b.toString(),status:k});var I=[];if("ok"===k){for(var O=[],q=function(je){e[je].status=2,I=I.concat(xh(n.serverSyncTree_,e[je].currentWriteId)),e[je].onComplete&&O.push(function(){return e[je].onComplete(null,!0,e[je].currentOutputSnapshotResolved)}),e[je].unwatcher()},J=0;J<e.length;J++)q(J);wT(n,vT(n.transactionQueueTree_,r)),kT(n,n.transactionQueueTree_),Gu(n.eventQueue_,r,I);for(var ue=0;ue<O.length;ue++)N_(O[ue])}else{if("datastale"===k)for(var fe=0;fe<e.length;fe++)e[fe].status=3===e[fe].status?4:0;else{Lo("transaction at "+b.toString()+" failed: "+k);for(var Oe=0;Oe<e.length;Oe++)e[Oe].status=4,e[Oe].abortReason=k}Y_(n,r)}},o)}function Y_(n,r){var e=v4(n,r),t=Cw(e);return function rle(n,r,e){if(0!==r.length){for(var t=[],i=[],o=r.filter(function(v){return 0===v.status}).map(function(v){return v.currentWriteId}),u=function(b){var k=r[b],I=ss(e,k.path),O=!1,q=void 0;if((0,re.hu)(null!==I,"rerunTransactionsUnderNode_: relativePath should not be null."),4===k.status)O=!0,q=k.abortReason,i=i.concat(xh(n.serverSyncTree_,k.currentWriteId,!0));else if(0===k.status)if(k.retryCount>=25)O=!0,q="maxretry",i=i.concat(xh(n.serverSyncTree_,k.currentWriteId,!0));else{var J=lZ(n,k.path,o);k.currentInputSnapshot=J;var ue=r[b].update(J.val());if(void 0!==ue){_T("transaction failed: Data returned ",ue,k.path);var fe=Vi(ue);"object"==typeof ue&&null!=ue&&(0,re.r3)(ue,".priority")||(fe=fe.updatePriority(J.getPriority()));var Ze=k.currentWriteId,je=Sw(n),lt=JN(fe,J,je);k.currentOutputSnapshotRaw=fe,k.currentOutputSnapshotResolved=lt,k.currentWriteId=bT(n),o.splice(o.indexOf(Ze),1),i=(i=i.concat(WN(n.serverSyncTree_,k.path,lt,k.currentWriteId,k.applyLocally))).concat(xh(n.serverSyncTree_,Ze,!0))}else O=!0,q="nodata",i=i.concat(xh(n.serverSyncTree_,k.currentWriteId,!0))}Gu(n.eventQueue_,e,i),i=[],O&&(r[b].status=2,setTimeout(r[b].unwatcher,Math.floor(0)),r[b].onComplete&&t.push("nodata"===q?function(){return r[b].onComplete(null,!1,r[b].currentInputSnapshot)}:function(){return r[b].onComplete(new Error(q),!1,null)}))},d=0;d<r.length;d++)u(d);wT(n,n.transactionQueueTree_);for(var h=0;h<t.length;h++)N_(t[h]);kT(n,n.transactionQueueTree_)}}(n,g4(n,e),t),t}function v4(n,r){var e,t=n.transactionQueueTree_;for(e=jn(r);null!==e&&void 0===ng(t);)t=vT(t,e),e=jn(r=Ur(r));return t}function g4(n,r){var e=[];return m4(n,r,e),e.sort(function(t,i){return t.order-i.order}),e}function m4(n,r,e){var t=ng(r);if(t)for(var i=0;i<t.length;i++)e.push(t[i]);gT(r,function(a){m4(n,a,e)})}function wT(n,r){var e=ng(r);if(e){for(var t=0,i=0;i<e.length;i++)2!==e[i].status&&(e[t]=e[i],t++);e.length=t,tZ(r,e.length>0?e:void 0)}gT(r,function(a){wT(n,a)})}function cZ(n,r){var e=Cw(v4(n,r)),t=vT(n.transactionQueueTree_,r);return function Fue(n,r,e){for(var t=e?n:n.parent;null!==t;){if(r(t))return!0;t=t.parent}}(t,function(i){dZ(n,i)}),dZ(n,t),i4(t,function(i){dZ(n,i)}),e}function dZ(n,r){var e=ng(r);if(e){for(var t=[],i=[],a=-1,o=0;o<e.length;o++)3===e[o].status||(1===e[o].status?((0,re.hu)(a===o-1,"All SENT items should be at beginning of queue."),a=o,e[o].status=3,e[o].abortReason="set"):((0,re.hu)(0===e[o].status,"Unexpected transaction status in abort"),e[o].unwatcher(),i=i.concat(xh(n.serverSyncTree_,e[o].currentWriteId,!0)),e[o].onComplete&&t.push(e[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?tZ(r,void 0):e.length=a+1,Gu(n.eventQueue_,Cw(r),i);for(var u=0;u<t.length;u++)N_(t[u])}}var fZ=function(r,e){var t=ole(r),i=t.namespace;return"firebase.com"===t.domain&&Fc(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==t.domain&&Fc("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Lo("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new pN(t.host,t.secure,i,"ws"===t.scheme||"wss"===t.scheme,e,"",i!==t.subdomain),path:new Ar(t.pathString)}},ole=function(r){var e="",t="",i="",a="",o="",u=!0,d="https",h=443;if("string"==typeof r){var v=r.indexOf("//");v>=0&&(d=r.substring(0,v-1),r=r.substring(v+2));var b=r.indexOf("/");-1===b&&(b=r.length);var k=r.indexOf("?");-1===k&&(k=r.length),e=r.substring(0,Math.min(b,k)),b<k&&(a=function ile(n){for(var r="",e=n.split("/"),t=0;t<e.length;t++)if(e[t].length>0){var i=e[t];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(a){}r+="/"+i}return r}(r.substring(b,k)));var I=function ale(n){var r={};"?"===n.charAt(0)&&(n=n.substring(1));var t,e=(0,G.Z)(n.split("&"));try{for(e.s();!(t=e.n()).done;){var i=t.value;if(0!==i.length){var a=i.split("=");2===a.length?r[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):Lo("Invalid query segment '".concat(i,"' in query '").concat(n,"'"))}}}catch(o){e.e(o)}finally{e.f()}return r}(r.substring(Math.min(r.length,k)));(v=e.indexOf(":"))>=0?(u="https"===d||"wss"===d,h=parseInt(e.substring(v+1),10)):v=e.length;var O=e.slice(0,v);if("localhost"===O.toLowerCase())t="localhost";else if(O.split(".").length<=2)t=O;else{var q=e.indexOf(".");i=e.substring(0,q).toLowerCase(),t=e.substring(q+1),o=i}"ns"in I&&(o=I.ns)}return{host:e,port:h,domain:t,subdomain:i,secure:u,scheme:d,pathString:a,namespace:o}},_4=function(){function n(r,e,t,i){(0,m.Z)(this,n),this.eventType=r,this.eventRegistration=e,this.snapshot=t,this.prevName=i}return(0,_.Z)(n,[{key:"getPath",value:function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}},{key:"getEventType",value:function(){return this.eventType}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.getPath().toString()+":"+this.eventType+":"+(0,re.Pz)(this.snapshot.exportVal())}}]),n}(),y4=function(){function n(r,e,t){(0,m.Z)(this,n),this.eventRegistration=r,this.error=e,this.path=t}return(0,_.Z)(n,[{key:"getPath",value:function(){return this.path}},{key:"getEventType",value:function(){return"cancel"}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.path.toString()+":cancel"}}]),n}(),b4=function(){function n(r,e){(0,m.Z)(this,n),this.snapshotCallback=r,this.cancelCallback=e}return(0,_.Z)(n,[{key:"onValue",value:function(e,t){this.snapshotCallback.call(null,e,t)}},{key:"onCancel",value:function(e){return(0,re.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}},{key:"hasCancelCallback",get:function(){return!!this.cancelCallback}},{key:"matches",value:function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}]),n}(),k4=function(){function n(r,e){(0,m.Z)(this,n),this._repo=r,this._path=e}return(0,_.Z)(n,[{key:"cancel",value:function(){var e=new re.BH;return $ue(this._repo,this._path,e.wrapCallback(function(){})),e.promise}},{key:"remove",value:function(){ju("OnDisconnect.remove",this._path);var e=new re.BH;return h4(this._repo,this._path,null,e.wrapCallback(function(){})),e.promise}},{key:"set",value:function(e){ju("OnDisconnect.set",this._path),Lc("OnDisconnect.set",e,this._path,!1);var t=new re.BH;return h4(this._repo,this._path,e,t.wrapCallback(function(){})),t.promise}},{key:"setWithPriority",value:function(e,t){ju("OnDisconnect.setWithPriority",this._path),Lc("OnDisconnect.setWithPriority",e,this._path,!1),iZ("OnDisconnect.setWithPriority",t,!1);var i=new re.BH;return function Que(n,r,e,t,i){var a=Vi(e,t);n.server_.onDisconnectPut(r.toString(),a.val(!0),function(o,u){"ok"===o&&H_(n.onDisconnect_,r,a),Nh(0,i,o,u)})}(this._repo,this._path,e,t,i.wrapCallback(function(){})),i.promise}},{key:"update",value:function(e){ju("OnDisconnect.update",this._path),o4("OnDisconnect.update",e,this._path,!1);var t=new re.BH;return function Jue(n,r,e,t){if((0,re.xb)(e))return ro("onDisconnect().update() called with empty data.  Don't do anything."),void Nh(0,t,"ok",void 0);n.server_.onDisconnectMerge(r.toString(),e,function(i,a){"ok"===i&&io(e,function(o,u){var d=Vi(u);H_(n.onDisconnect_,ki(r,o),d)}),Nh(0,t,i,a)})}(this._repo,this._path,e,t.wrapCallback(function(){})),t.promise}}]),n}(),zu=function(){function n(r,e,t,i){(0,m.Z)(this,n),this._repo=r,this._path=e,this._queryParams=t,this._orderByCalled=i}return(0,_.Z)(n,[{key:"key",get:function(){return Gn(this._path)?null:bN(this._path)}},{key:"ref",get:function(){return new Bc(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=DY(this._queryParams),t=Tz(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return DY(this._queryParams)}},{key:"isEqual",value:function(e){if(!((e=(0,re.m9)(e))instanceof n))return!1;var t=this._repo===e._repo,i=kN(this._path,e._path);return t&&i&&this._queryIdentifier===e._queryIdentifier}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function Goe(n){for(var r="",e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(r+="/"+encodeURIComponent(String(n.pieces_[e])));return r||"/"}(this._path)}}]),n}();function CT(n,r){if(!0===n._orderByCalled)throw new Error(r+": You can't combine multiple orderBy calls.")}function Zh(n){var r=null,e=null;if(n.hasStart()&&(r=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===Nc){var t="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Gd)throw new Error(t);if("string"!=typeof r)throw new Error(i)}if(n.hasEnd()){if(n.getIndexEndName()!==xc)throw new Error(t);if("string"!=typeof e)throw new Error(i)}}else if(n.getIndex()===$r){if(null!=r&&!Ew(r)||null!=e&&!Ew(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,re.hu)(n.getIndex()instanceof DN||n.getIndex()===MN,"unknown index type."),null!=r&&"object"==typeof r||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function ET(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Bc=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i){return(0,m.Z)(this,e),r.call(this,t,i,new CY,!1)}return(0,_.Z)(e,[{key:"parent",get:function(){var i=sY(this._path);return null===i?null:new e(this._repo,i)}},{key:"root",get:function(){for(var i=this;null!==i.parent;)i=i.parent;return i}}]),e}(zu),DT=function(){function n(r,e,t){(0,m.Z)(this,n),this._node=r,this.ref=e,this._index=t}return(0,_.Z)(n,[{key:"priority",get:function(){return this._node.getPriority().val()}},{key:"key",get:function(){return this.ref.key}},{key:"size",get:function(){return this._node.numChildren()}},{key:"child",value:function(e){var t=new Ar(e),i=Lh(this.ref,e);return new n(this._node.getChild(t),i,$r)}},{key:"exists",value:function(){return!this._node.isEmpty()}},{key:"exportVal",value:function(){return this._node.val(!0)}},{key:"forEach",value:function(e){var t=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,function(a,o){return e(new n(o,Lh(t.ref,a),$r))})}},{key:"hasChild",value:function(e){var t=new Ar(e);return!this._node.getChild(t).isEmpty()}},{key:"hasChildren",value:function(){return!this._node.isLeafNode()&&!this._node.isEmpty()}},{key:"toJSON",value:function(){return this.exportVal()}},{key:"val",value:function(){return this._node.val()}}]),n}();function hZ(n,r){return(n=(0,re.m9)(n))._checkNotDeleted("ref"),void 0!==r?Lh(n._root,r):n._root}function pZ(n,r){(n=(0,re.m9)(n))._checkNotDeleted("refFromURL");var e=fZ(r,n._repo.repoInfo_.nodeAdmin);s4("refFromURL",e);var t=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&t.host!==n._repo.repoInfo_.host&&Fc("refFromURL: Host name does not match the current database: (found "+t.host+" but expected "+n._repo.repoInfo_.host+")"),hZ(n,e.path.toString())}function Lh(n,r){return null===jn((n=(0,re.m9)(n))._path)?(t=r,t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Mw("child","path",t,!1)):Mw("child","path",r,!1),new Bc(n._repo,ki(n._path,r));var t}function w4(n,r){n=(0,re.m9)(n),ju("push",n._path),Lc("push",r,n._path,!0);var o,e=c4(n._repo),t=fse(e),i=Lh(n,t),a=Lh(n,t);return o=null!=r?MT(a,r).then(function(){return a}):Promise.resolve(a),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function C4(n){return ju("remove",n._path),MT(n,null)}function MT(n,r){n=(0,re.m9)(n),ju("set",n._path),Lc("set",r,n._path,!1);var e=new re.BH;return sZ(n._repo,n._path,r,null,e.wrapCallback(function(){})),e.promise}function E4(n,r){n=(0,re.m9)(n),ju("setPriority",n._path),iZ("setPriority",r,!1);var e=new re.BH;return sZ(n._repo,ki(n._path,".priority"),r,null,e.wrapCallback(function(){})),e.promise}function D4(n,r,e){if(ju("setWithPriority",n._path),Lc("setWithPriority",r,n._path,!1),iZ("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";var t=new re.BH;return sZ(n._repo,n._path,r,e,t.wrapCallback(function(){})),t.promise}function M4(n,r){o4("update",r,n._path,!1);var e=new re.BH;return function que(n,r,e,t){z_(n,"update",{path:r.toString(),value:e});var i=!0,a=Sw(n),o={};if(io(e,function(h,v){i=!1,o[h]=n4(ki(r,h),Vi(v),n.serverSyncTree_,a)}),i)ro("update() called with empty data.  Don't do anything."),Nh(0,t,"ok",void 0);else{var u=bT(n),d=function mue(n,r,e,t){!function Fse(n,r,e,t){(0,re.hu)(t>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:r,children:e,writeId:t,visible:!0}),n.visibleWrites=LN(n.visibleWrites,r,e),n.lastWriteId=t}(n.pendingWriteTree_,r,e,t);var i=lu.fromObject(e);return G_(n,new NN({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},r,i))}(n.serverSyncTree_,r,o,u);yT(n.eventQueue_,d),n.server_.merge(r.toString(),e,function(h,v){var b="ok"===h;b||Lo("update at "+r+" failed: "+h);var k=xh(n.serverSyncTree_,u,!b),I=k.length>0?Y_(n,r):r;Gu(n.eventQueue_,I,k),Nh(0,t,h,v)}),io(e,function(h){var v=cZ(n,ki(r,h));Y_(n,v)}),Gu(n.eventQueue_,r,[])}}(n._repo,n._path,r,e.wrapCallback(function(){})),e.promise}function vZ(n){return function Wue(n,r){var e=function Cue(n,r){var e=r._path,t=null;n.syncPointTree_.foreachOnPath(e,function(h,v){var b=ss(h,e);t=t||Ph(v,b)});var i=n.syncPointTree_.get(e);i?t=t||Ph(i,br()):(i=new zY,n.syncPointTree_=n.syncPointTree_.set(e,i));var a=null!=t,o=a?new Rh(t,!0,!1):null;return function aue(n){return iT(n.viewCache_)}(YY(i,r,aT(n.pendingWriteTree_,r._path),a?o.getNode():Fn.EMPTY_NODE,a))}(n.serverSyncTree_,r);return null!=e?Promise.resolve(e):n.server_.get(r).then(function(t){var i=Vi(t).withIndex(r._queryParams.getIndex()),a=kw(n.serverSyncTree_,r._path,i);return aZ(n.eventQueue_,r._path,a),Promise.resolve(i)},function(t){return z_(n,"get for query "+(0,re.Pz)(r)+" failed: "+t),Promise.reject(new Error(t))})}((n=(0,re.m9)(n))._repo,n).then(function(r){return new DT(r,new Bc(n._repo,n._path),n._queryParams.getIndex())})}var S4=function(){function n(r){(0,m.Z)(this,n),this.callbackContext=r}return(0,_.Z)(n,[{key:"respondsTo",value:function(e){return"value"===e}},{key:"createEvent",value:function(e,t){var i=t._queryParams.getIndex();return new _4("value",this,new DT(e.snapshotNode,new Bc(t._repo,t._path),i))}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new y4(this,e,t):null}},{key:"matches",value:function(e){return e instanceof n&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}},{key:"hasAnyCallback",value:function(){return null!==this.callbackContext}}]),n}(),T4=function(){function n(r,e){(0,m.Z)(this,n),this.eventType=r,this.callbackContext=e}return(0,_.Z)(n,[{key:"respondsTo",value:function(e){var t="children_added"===e?"child_added":e;return this.eventType===("children_removed"===t?"child_removed":t)}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new y4(this,e,t):null}},{key:"createEvent",value:function(e,t){(0,re.hu)(null!=e.childName,"Child events should have a childName.");var i=Lh(new Bc(t._repo,t._path),e.childName),a=t._queryParams.getIndex();return new _4(e.type,this,new DT(e.snapshotNode,i,a),e.prevName)}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}}},{key:"matches",value:function(e){return e instanceof n&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}},{key:"hasAnyCallback",value:function(){return!!this.callbackContext}}]),n}();function Tw(n,r,e,t,i){var a;if("object"==typeof t&&(a=void 0,i=t),"function"==typeof t&&(a=t),i&&i.onlyOnce){var o=e,u=function(b,k){uZ(n._repo,n,h),o(b,k)};u.userCallback=e.userCallback,u.context=e.context,e=u}var d=new b4(e,a||void 0),h="value"===r?new S4(d):new T4(r,d);return function Xue(n,r,e){var t;t=".info"===jn(r._path)?QY(n.infoSyncTree_,r,e):QY(n.serverSyncTree_,r,e),aZ(n.eventQueue_,r._path,t)}(n._repo,n,h),function(){return uZ(n._repo,n,h)}}function Aw(n,r,e,t){return Tw(n,"value",r,e,t)}function ST(n,r,e,t){return Tw(n,"child_added",r,e,t)}function TT(n,r,e,t){return Tw(n,"child_changed",r,e,t)}function AT(n,r,e,t){return Tw(n,"child_moved",r,e,t)}function IT(n,r,e,t){return Tw(n,"child_removed",r,e,t)}function RT(n,r,e){var t=null,i=e?new b4(e):null;"value"===r?t=new S4(i):r&&(t=new T4(r,i)),uZ(n._repo,n,t)}var Ul=(0,_.Z)(function n(){(0,m.Z)(this,n)}),A4=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i){var a;return(0,m.Z)(this,e),(a=r.call(this))._value=t,a._key=i,a}return(0,_.Z)(e,[{key:"_apply",value:function(i){Lc("endAt",this._value,i._path,!0);var a=IN(i._queryParams,this._value,this._key);if(ET(a),Zh(a),i._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new zu(i._repo,i._path,a,i._orderByCalled)}}]),e}(Ul);function I4(n,r){return Dw("endAt","key",r,!0),new A4(n,r)}var ule=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i){var a;return(0,m.Z)(this,e),(a=r.call(this))._value=t,a._key=i,a}return(0,_.Z)(e,[{key:"_apply",value:function(i){Lc("endBefore",this._value,i._path,!1);var a=function yse(n,r,e){var i;return n.index_===Nc?("string"==typeof r&&(r=bY(r)),i=IN(n,r,e)):i=IN(n,r,null==e?Gd:bY(e)),i.endBeforeSet_=!0,i}(i._queryParams,this._value,this._key);if(ET(a),Zh(a),i._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new zu(i._repo,i._path,a,i._orderByCalled)}}]),e}(Ul);function R4(n,r){return Dw("endBefore","key",r,!0),new ule(n,r)}var O4=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i){var a;return(0,m.Z)(this,e),(a=r.call(this))._value=t,a._key=i,a}return(0,_.Z)(e,[{key:"_apply",value:function(i){Lc("startAt",this._value,i._path,!0);var a=AN(i._queryParams,this._value,this._key);if(ET(a),Zh(a),i._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new zu(i._repo,i._path,a,i._orderByCalled)}}]),e}(Ul);function P4(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1?arguments[1]:void 0;return Dw("startAt","key",r,!0),new O4(n,r)}var lle=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i){var a;return(0,m.Z)(this,e),(a=r.call(this))._value=t,a._key=i,a}return(0,_.Z)(e,[{key:"_apply",value:function(i){Lc("startAfter",this._value,i._path,!1);var a=function _se(n,r,e){var t;return n.index_===Nc?("string"==typeof r&&(r=yY(r)),t=AN(n,r,e)):t=AN(n,r,null==e?xc:yY(e)),t.startAfterSet_=!0,t}(i._queryParams,this._value,this._key);if(ET(a),Zh(a),i._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new zu(i._repo,i._path,a,i._orderByCalled)}}]),e}(Ul);function F4(n,r){return Dw("startAfter","key",r,!0),new lle(n,r)}var cle=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t){var i;return(0,m.Z)(this,e),(i=r.call(this))._limit=t,i}return(0,_.Z)(e,[{key:"_apply",value:function(i){if(i._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new zu(i._repo,i._path,function gse(n,r){var e=n.copy();return e.limitSet_=!0,e.limit_=r,e.viewFrom_="l",e}(i._queryParams,this._limit),i._orderByCalled)}}]),e}(Ul);function x4(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new cle(n)}var dle=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t){var i;return(0,m.Z)(this,e),(i=r.call(this))._limit=t,i}return(0,_.Z)(e,[{key:"_apply",value:function(i){if(i._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new zu(i._repo,i._path,function mse(n,r){var e=n.copy();return e.limitSet_=!0,e.limit_=r,e.viewFrom_="r",e}(i._queryParams,this._limit),i._orderByCalled)}}]),e}(Ul);function N4(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new dle(n)}var fle=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t){var i;return(0,m.Z)(this,e),(i=r.call(this))._path=t,i}return(0,_.Z)(e,[{key:"_apply",value:function(i){CT(i,"orderByChild");var a=new Ar(this._path);if(Gn(a))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var o=new DN(a),u=eT(i._queryParams,o);return Zh(u),new zu(i._repo,i._path,u,!0)}}]),e}(Ul);function Z4(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Mw("orderByChild","path",n,!1),new fle(n)}var hle=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(){return(0,m.Z)(this,e),r.apply(this,arguments)}return(0,_.Z)(e,[{key:"_apply",value:function(i){CT(i,"orderByKey");var a=eT(i._queryParams,Nc);return Zh(a),new zu(i._repo,i._path,a,!0)}}]),e}(Ul);function L4(){return new hle}var ple=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(){return(0,m.Z)(this,e),r.apply(this,arguments)}return(0,_.Z)(e,[{key:"_apply",value:function(i){CT(i,"orderByPriority");var a=eT(i._queryParams,$r);return Zh(a),new zu(i._repo,i._path,a,!0)}}]),e}(Ul);function B4(){return new ple}var vle=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(){return(0,m.Z)(this,e),r.apply(this,arguments)}return(0,_.Z)(e,[{key:"_apply",value:function(i){CT(i,"orderByValue");var a=eT(i._queryParams,MN);return Zh(a),new zu(i._repo,i._path,a,!0)}}]),e}(Ul);function V4(){return new vle}var gle=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i){var a;return(0,m.Z)(this,e),(a=r.call(this))._value=t,a._key=i,a}return(0,_.Z)(e,[{key:"_apply",value:function(i){if(Lc("equalTo",this._value,i._path,!1),i._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(i._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new A4(this._value,this._key)._apply(new O4(this._value,this._key)._apply(i))}}]),e}(Ul);function U4(n,r){return Dw("equalTo","key",r,!0),new gle(n,r)}function Yu(n){for(var r=(0,re.m9)(n),e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];for(var a=0,o=t;a<o.length;a++){var u=o[a];r=u._apply(r)}return r}(function lue(n){(0,re.hu)(!lT,"__referenceConstructor has already been defined"),lT=n})(Bc),function pue(n){(0,re.hu)(!dT,"__referenceConstructor has already been defined"),dT=n}(Bc);var gZ={};function _le(n,r,e,t){n.repoInfo_=new pN("".concat(r,":").concat(e),!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),t&&(n.authTokenProvider_=t)}function j4(n,r,e,t,i){var a=t||n.options.databaseURL;void 0===a&&(n.options.projectId||Fc("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ro("Using default host for project ",n.options.projectId),a="".concat(n.options.projectId,"-default-rtdb.firebaseio.com"));var d,o=fZ(a,i),u=o.repoInfo,h=void 0;"undefined"!=typeof process&&process.env&&(h=process.env.FIREBASE_DATABASE_EMULATOR_HOST),h?(d=!0,a="http://".concat(h,"?ns=").concat(u.namespace),u=(o=fZ(a,i)).repoInfo):d=!o.repoInfo.secure;var v=i&&d?new dw(dw.OWNER):new _oe(n.name,n.options,r);s4("Invalid Firebase Database URL",o),Gn(o.path)||Fc("Database URL must point to the root of a Firebase Database (not including a child path).");var b=function ble(n,r,e,t){var i=gZ[r.name];i||(gZ[r.name]=i={});var a=i[n.toURLString()];return a&&Fc("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new Gue(n,false,e,t),i[n.toURLString()]=a,a}(u,n,v,new moe(n.name,e));return new wle(b,n)}var wle=function(){function n(r,e){(0,m.Z)(this,n),this._repoInternal=r,this.app=e,this.type="database",this._instanceStarted=!1}return(0,_.Z)(n,[{key:"_repo",get:function(){return this._instanceStarted||(function zue(n,r,e){if(n.stats_=mN(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new bse(n.repoInfo_,function(t,i,a,o){d4(n,t,i,a,o)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(function(){return f4(n,!0)},0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,re.Pz)(e)}catch(t){throw new Error("Invalid authOverride provided: "+t)}}n.persistentConnection_=new Xv(n.repoInfo_,r,function(t,i,a,o){d4(n,t,i,a,o)},function(t){f4(n,t)},function(t){!function Yue(n,r){io(r,function(e,t){oZ(n,e,t)})}(n,t)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(function(t){n.server_.refreshAuthToken(t)}),n.appCheckProvider_.addTokenChangeListener(function(t){n.server_.refreshAppCheckToken(t.token)}),n.statsReporter_=function koe(n,r){var e=n.toString();return gN[e]||(gN[e]=r()),gN[e]}(n.repoInfo_,function(){return new Mse(n.stats_,n.server_)}),n.infoData_=new kse,n.infoSyncTree_=new $Y({startListening:function(i,a,o,u){var d=[],h=n.infoData_.getNode(i._path);return h.isEmpty()||(d=kw(n.infoSyncTree_,i._path,h),setTimeout(function(){u("ok")},0)),d},stopListening:function(){}}),oZ(n,"connected",!1),n.serverSyncTree_=new $Y({startListening:function(i,a,o,u){return n.server_.listen(i,o,a,function(d,h){var v=u(d,h);Gu(n.eventQueue_,i._path,v)}),[]},stopListening:function(i,a){n.server_.unlisten(i,a)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new Bc(this._repo,br())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(function yle(n,r){var e=gZ[r];(!e||e[n.key]!==n)&&Fc("Database ".concat(r,"(").concat(n.repoInfo_,") has already been deleted.")),p4(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&Fc("Cannot call "+e+" on a deleted database.")}}]),n}();function G4(){qz.IS_TRANSPORT_INITIALIZED&&Lo("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Cle(){G4(),_N.forceDisallow()}function Ele(){G4(),Z_.forceDisallow(),_N.forceAllow()}function Dle(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,Zi.getApp)(),r=arguments.length>1?arguments[1]:void 0;return(0,Zi._getProvider)(n,"database").getImmediate({identifier:r})}function z4(n,r,e){var t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(n=(0,re.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Fc("Cannot call useEmulator() after instance has already been initialized.");var i=n._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)t.mockUserToken&&Fc('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new dw(dw.OWNER);else if(t.mockUserToken){var o="string"==typeof t.mockUserToken?t.mockUserToken:(0,re.Sg)(t.mockUserToken,n.app.options.projectId);a=new dw(o)}_le(i,r,e,a)}function Y4(n){(n=(0,re.m9)(n))._checkNotDeleted("goOffline"),p4(n._repo)}function W4(n){(n=(0,re.m9)(n))._checkNotDeleted("goOnline"),function ele(n){n.persistentConnection_&&n.persistentConnection_.resume(l4)}(n._repo)}function q4(n,r){Sz(n,r)}var Sle={".sv":"timestamp"};var Tle=function(){function n(r,e){(0,m.Z)(this,n),this.committed=r,this.snapshot=e}return(0,_.Z)(n,[{key:"toJSON",value:function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}]),n}();function Q4(n,r,e){var t;if(n=(0,re.m9)(n),ju("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";var i=null===(t=null==e?void 0:e.applyLocally)||void 0===t||t,a=new re.BH,u=Aw(n,function(){});return function tle(n,r,e,t,i,a){z_(n,"transaction on "+r);var o={path:r,update:e,onComplete:t,status:null,order:Ez(),applyLocally:a,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=lZ(n,r,void 0);o.currentInputSnapshot=u;var d=o.update(u.val());if(void 0===d)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{_T("transaction failed: Data returned ",d,o.path),o.status=0;var b,h=vT(n.transactionQueueTree_,r),v=ng(h)||[];v.push(o),tZ(h,v),"object"==typeof d&&null!==d&&(0,re.r3)(d,".priority")?(b=(0,re.DV)(d,".priority"),(0,re.hu)(Ew(b),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):b=(fT(n.serverSyncTree_,r)||Fn.EMPTY_NODE).getPriority().val();var I=Sw(n),O=Vi(d,b),q=JN(O,u,I);o.currentOutputSnapshotRaw=O,o.currentOutputSnapshotResolved=q,o.currentWriteId=bT(n);var J=WN(n.serverSyncTree_,r,q,o.currentWriteId,o.applyLocally);Gu(n.eventQueue_,r,J),kT(n,n.transactionQueueTree_)}}(n._repo,n._path,r,function(h,v,b){var k=null;h?a.reject(h):(k=new DT(b,new Bc(n._repo,n._path),$r),a.resolve(new Tle(v,k)))},u,i),a.promise}Xv.prototype.simpleListen=function(n,r){this.sendRequest("q",{p:n},r)},Xv.prototype.echo=function(n,r){this.sendRequest("echo",{d:n},r)},function Mle(n){wz(Zi.SDK_VERSION),(0,Zi._registerComponent)(new xl.wA("database",function(r,e){var t=e.instanceIdentifier;return j4(r.getProvider("app").getImmediate(),r.getProvider("auth-internal"),r.getProvider("app-check-internal"),t)},"PUBLIC").setMultipleInstances(!0)),(0,Zi.registerVersion)(bz,"0.13.0",n),(0,Zi.registerVersion)(bz,"0.13.0","esm2017")}();var Rle=new Nl.Yd("@firebase/database-compat"),J4=function(r){Rle.warn("FIREBASE WARNING: "+r)},Ole=function(r,e,t,i){if((!i||void 0!==t)&&"boolean"!=typeof t)throw new Error((0,re.gK)(r,e)+"must be a boolean.")},Ple=function(r,e,t){if(!t||void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,re.gK)(r,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Fle=function(){function n(r){(0,m.Z)(this,n),this._delegate=r}return(0,_.Z)(n,[{key:"cancel",value:function(e){(0,re.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,re.Wj)("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then(function(){return e(null)},function(i){return e(i)}),t}},{key:"remove",value:function(e){(0,re.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,re.Wj)("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then(function(){return e(null)},function(i){return e(i)}),t}},{key:"set",value:function(e,t){(0,re.Dv)("OnDisconnect.set",1,2,arguments.length),(0,re.Wj)("OnDisconnect.set","onComplete",t,!0);var i=this._delegate.set(e);return t&&i.then(function(){return t(null)},function(a){return t(a)}),i}},{key:"setWithPriority",value:function(e,t,i){(0,re.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,re.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);var a=this._delegate.setWithPriority(e,t);return i&&a.then(function(){return i(null)},function(o){return i(o)}),a}},{key:"update",value:function(e,t){if((0,re.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var i={},a=0;a<e.length;++a)i[""+a]=e[a];e=i,J4("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,re.Wj)("OnDisconnect.update","onComplete",t,!0);var o=this._delegate.update(e);return t&&o.then(function(){return t(null)},function(u){return t(u)}),o}}]),n}(),xle=function(){function n(r,e){(0,m.Z)(this,n),this.committed=r,this.snapshot=e}return(0,_.Z)(n,[{key:"toJSON",value:function(){return(0,re.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}]),n}(),Iw=function(){function n(r,e){(0,m.Z)(this,n),this._database=r,this._delegate=e}return(0,_.Z)(n,[{key:"val",value:function(){return(0,re.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}},{key:"exportVal",value:function(){return(0,re.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}},{key:"toJSON",value:function(){return(0,re.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}},{key:"exists",value:function(){return(0,re.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}},{key:"child",value:function(e){return(0,re.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),Mw("DataSnapshot.child","path",e,!1),new n(this._database,this._delegate.child(e))}},{key:"hasChild",value:function(e){return(0,re.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Mw("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}},{key:"getPriority",value:function(){return(0,re.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}},{key:"forEach",value:function(e){var t=this;return(0,re.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,re.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(function(i){return e(new n(t._database,i))})}},{key:"hasChildren",value:function(){return(0,re.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}},{key:"key",get:function(){return this._delegate.key}},{key:"numChildren",value:function(){return(0,re.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}},{key:"getRef",value:function(){return(0,re.Dv)("DataSnapshot.ref",0,0,arguments.length),new rg(this._database,this._delegate.ref)}},{key:"ref",get:function(){return this.getRef()}}]),n}(),X4=function(){function n(r,e){(0,m.Z)(this,n),this.database=r,this._delegate=e}return(0,_.Z)(n,[{key:"on",value:function(e,t,i,a){var u,o=this;(0,re.Dv)("Query.on",2,4,arguments.length),(0,re.Wj)("Query.on","callback",t,!1);var d=n.getCancelAndContextArgs_("Query.on",i,a),h=function(k,I){t.call(d.context,new Iw(o.database,k),I)};h.userCallback=t,h.context=d.context;var v=null===(u=d.cancel)||void 0===u?void 0:u.bind(d.context);switch(e){case"value":return Aw(this._delegate,h,v),t;case"child_added":return ST(this._delegate,h,v),t;case"child_removed":return IT(this._delegate,h,v),t;case"child_changed":return TT(this._delegate,h,v),t;case"child_moved":return AT(this._delegate,h,v),t;default:throw new Error((0,re.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}},{key:"off",value:function(e,t,i){if((0,re.Dv)("Query.off",0,3,arguments.length),Ple("Query.off",e,!0),(0,re.Wj)("Query.off","callback",t,!0),(0,re.lb)("Query.off","context",i,!0),t){var a=function(){};a.userCallback=t,a.context=i,RT(this._delegate,e,a)}else RT(this._delegate,e)}},{key:"get",value:function(){var e=this;return vZ(this._delegate).then(function(t){return new Iw(e.database,t)})}},{key:"once",value:function(e,t,i,a){var o=this;(0,re.Dv)("Query.once",1,4,arguments.length),(0,re.Wj)("Query.once","callback",t,!0);var u=n.getCancelAndContextArgs_("Query.once",i,a),d=new re.BH,h=function(k,I){var O=new Iw(o.database,k);t&&t.call(u.context,O,I),d.resolve(O)};h.userCallback=t,h.context=u.context;var v=function(k){u.cancel&&u.cancel.call(u.context,k),d.reject(k)};switch(e){case"value":Aw(this._delegate,h,v,{onlyOnce:!0});break;case"child_added":ST(this._delegate,h,v,{onlyOnce:!0});break;case"child_removed":IT(this._delegate,h,v,{onlyOnce:!0});break;case"child_changed":TT(this._delegate,h,v,{onlyOnce:!0});break;case"child_moved":AT(this._delegate,h,v,{onlyOnce:!0});break;default:throw new Error((0,re.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return d.promise}},{key:"limitToFirst",value:function(e){return(0,re.Dv)("Query.limitToFirst",1,1,arguments.length),new n(this.database,Yu(this._delegate,x4(e)))}},{key:"limitToLast",value:function(e){return(0,re.Dv)("Query.limitToLast",1,1,arguments.length),new n(this.database,Yu(this._delegate,N4(e)))}},{key:"orderByChild",value:function(e){return(0,re.Dv)("Query.orderByChild",1,1,arguments.length),new n(this.database,Yu(this._delegate,Z4(e)))}},{key:"orderByKey",value:function(){return(0,re.Dv)("Query.orderByKey",0,0,arguments.length),new n(this.database,Yu(this._delegate,L4()))}},{key:"orderByPriority",value:function(){return(0,re.Dv)("Query.orderByPriority",0,0,arguments.length),new n(this.database,Yu(this._delegate,B4()))}},{key:"orderByValue",value:function(){return(0,re.Dv)("Query.orderByValue",0,0,arguments.length),new n(this.database,Yu(this._delegate,V4()))}},{key:"startAt",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return(0,re.Dv)("Query.startAt",0,2,arguments.length),new n(this.database,Yu(this._delegate,P4(e,t)))}},{key:"startAfter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return(0,re.Dv)("Query.startAfter",0,2,arguments.length),new n(this.database,Yu(this._delegate,F4(e,t)))}},{key:"endAt",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return(0,re.Dv)("Query.endAt",0,2,arguments.length),new n(this.database,Yu(this._delegate,I4(e,t)))}},{key:"endBefore",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return(0,re.Dv)("Query.endBefore",0,2,arguments.length),new n(this.database,Yu(this._delegate,R4(e,t)))}},{key:"equalTo",value:function(e,t){return(0,re.Dv)("Query.equalTo",1,2,arguments.length),new n(this.database,Yu(this._delegate,U4(e,t)))}},{key:"toString",value:function(){return(0,re.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}},{key:"toJSON",value:function(){return(0,re.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}},{key:"isEqual",value:function(e){if((0,re.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof n)){var t="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(t)}return this._delegate.isEqual(e._delegate)}},{key:"ref",get:function(){return new rg(this.database,new Bc(this._delegate._repo,this._delegate._path))}}],[{key:"getCancelAndContextArgs_",value:function(e,t,i){var a={cancel:void 0,context:void 0};if(t&&i)a.cancel=t,(0,re.Wj)(e,"cancel",a.cancel,!0),a.context=i,(0,re.lb)(e,"context",a.context,!0);else if(t)if("object"==typeof t&&null!==t)a.context=t;else{if("function"!=typeof t)throw new Error((0,re.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");a.cancel=t}return a}}]),n}(),rg=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i){var a;return(0,m.Z)(this,e),(a=r.call(this,t,new zu(i._repo,i._path,new CY,!1))).database=t,a._delegate=i,a}return(0,_.Z)(e,[{key:"getKey",value:function(){return(0,re.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}},{key:"child",value:function(i){return(0,re.Dv)("Reference.child",1,1,arguments.length),"number"==typeof i&&(i=String(i)),new e(this.database,Lh(this._delegate,i))}},{key:"getParent",value:function(){(0,re.Dv)("Reference.parent",0,0,arguments.length);var i=this._delegate.parent;return i?new e(this.database,i):null}},{key:"getRoot",value:function(){return(0,re.Dv)("Reference.root",0,0,arguments.length),new e(this.database,this._delegate.root)}},{key:"set",value:function(i,a){(0,re.Dv)("Reference.set",1,2,arguments.length),(0,re.Wj)("Reference.set","onComplete",a,!0);var o=MT(this._delegate,i);return a&&o.then(function(){return a(null)},function(u){return a(u)}),o}},{key:"update",value:function(i,a){if((0,re.Dv)("Reference.update",1,2,arguments.length),Array.isArray(i)){for(var o={},u=0;u<i.length;++u)o[""+u]=i[u];i=o,J4("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ju("Reference.update",this._delegate._path),(0,re.Wj)("Reference.update","onComplete",a,!0);var d=M4(this._delegate,i);return a&&d.then(function(){return a(null)},function(h){return a(h)}),d}},{key:"setWithPriority",value:function(i,a,o){(0,re.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,re.Wj)("Reference.setWithPriority","onComplete",o,!0);var u=D4(this._delegate,i,a);return o&&u.then(function(){return o(null)},function(d){return o(d)}),u}},{key:"remove",value:function(i){(0,re.Dv)("Reference.remove",0,1,arguments.length),(0,re.Wj)("Reference.remove","onComplete",i,!0);var a=C4(this._delegate);return i&&a.then(function(){return i(null)},function(o){return i(o)}),a}},{key:"transaction",value:function(i,a,o){var u=this;(0,re.Dv)("Reference.transaction",1,3,arguments.length),(0,re.Wj)("Reference.transaction","transactionUpdate",i,!1),(0,re.Wj)("Reference.transaction","onComplete",a,!0),Ole("Reference.transaction","applyLocally",o,!0);var d=Q4(this._delegate,i,{applyLocally:o}).then(function(h){return new xle(h.committed,new Iw(u.database,h.snapshot))});return a&&d.then(function(h){return a(null,h.committed,h.snapshot)},function(h){return a(h,!1,null)}),d}},{key:"setPriority",value:function(i,a){(0,re.Dv)("Reference.setPriority",1,2,arguments.length),(0,re.Wj)("Reference.setPriority","onComplete",a,!0);var o=E4(this._delegate,i);return a&&o.then(function(){return a(null)},function(u){return a(u)}),o}},{key:"push",value:function(i,a){var o=this;(0,re.Dv)("Reference.push",0,2,arguments.length),(0,re.Wj)("Reference.push","onComplete",a,!0);var u=w4(this._delegate,i),d=u.then(function(v){return new e(o.database,v)});a&&d.then(function(){return a(null)},function(v){return a(v)});var h=new e(this.database,u);return h.then=d.then.bind(d),h.catch=d.catch.bind(d,void 0),h}},{key:"onDisconnect",value:function(){return ju("Reference.onDisconnect",this._delegate._path),new Fle(new k4(this._delegate._repo,this._delegate._path))}},{key:"key",get:function(){return this.getKey()}},{key:"parent",get:function(){return this.getParent()}},{key:"root",get:function(){return this.getRoot()}}]),e}(X4),Rw=function(){function n(r,e){var t=this;(0,m.Z)(this,n),this._delegate=r,this.app=e,this.INTERNAL={delete:function(){return t._delegate._delete()},forceWebSockets:Cle,forceLongPolling:Ele}}return(0,_.Z)(n,[{key:"useEmulator",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};z4(this._delegate,e,t,i)}},{key:"ref",value:function(e){if((0,re.Dv)("database.ref",0,1,arguments.length),e instanceof rg){var t=pZ(this._delegate,e.toString());return new rg(this,t)}var i=hZ(this._delegate,e);return new rg(this,i)}},{key:"refFromURL",value:function(e){var t="database.refFromURL";(0,re.Dv)(t,1,1,arguments.length);var i=pZ(this._delegate,e);return new rg(this,i)}},{key:"goOffline",value:function(){return(0,re.Dv)("database.goOffline",0,0,arguments.length),Y4(this._delegate)}},{key:"goOnline",value:function(){return(0,re.Dv)("database.goOnline",0,0,arguments.length),W4(this._delegate)}}]),n}();Rw.ServerValue={TIMESTAMP:function K4(){return Sle}(),increment:function(r){return function $4(n){return{".sv":{increment:n}}}(r)}};var Zle=Object.freeze({__proto__:null,initStandalone:function Nle(n){var r=n.app,e=n.url,i=n.customAuthImpl,a=n.namespace,o=n.nodeAdmin,u=void 0!==o&&o;wz(n.version);var d=new xl.zt("auth-internal",new xl.H0("database-standalone"));return d.setComponent(new xl.wA("auth-internal",function(){return i},"PRIVATE")),{instance:new Rw(j4(r,d,void 0,e,u),r),namespace:a}}}),Lle=Rw.ServerValue;function eW(n){return null==n}function tW(n){return"function"==typeof n.set}function nW(n,r){return tW(r)?r:n.ref(r)}function rW(n,r){if(function Vle(n){return"string"==typeof n}(n))return r.stringCase();if(tW(n))return r.firebaseCase();if(function Ule(n){return"function"==typeof n.exportVal}(n))return r.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: ".concat(typeof n))}function Ow(n,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"on",t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Tl.z;return new Qn.y(function(i){var a;return a=n[e](r,function(o,u){t.schedule(function(){i.next({snapshot:o,prevKey:u})}),"once"===e&&t.schedule(function(){return i.complete()})},function(o){t.schedule(function(){return i.error(o)})}),"on"===e?{unsubscribe:function(){null!=a&&n.off(r,a)}}:{unsubscribe:function(){}}}).pipe((0,It.U)(function(i){var a=i.snapshot,o=i.prevKey,u=null;return a.exists()&&(u=a.key),{type:r,payload:a,prevKey:o,key:u}}),(0,qD.B)())}function iW(n,r){for(var e=n.length,t=0;t<e;t++)if(n[t].payload.key===r)return t;return-1}function Gle(n,r){var e=r.payload,t=r.prevKey,i=r.key,a=iW(n,i),o=function jle(n,r){if(eW(r))return 0;var e=iW(n,r);return-1===e?n.length:e+1}(n,t);switch(r.type){case"value":if(r.payload&&r.payload.exists()){var u=null;r.payload.forEach(function(v){var b={payload:v,type:"value",prevKey:u,key:v.key};return u=v.key,n=[].concat((0,Zt.Z)(n),[b]),!1})}return n;case"child_added":if(a>-1){var d=n[a-1];(d&&d.key||null)!==t&&(n=n.filter(function(v){return v.payload.key!==e.key})).splice(o,0,r)}else{if(null==t)return[r].concat((0,Zt.Z)(n));(n=n.slice()).splice(o,0,r)}return n;case"child_removed":return n.filter(function(v){return v.payload.key!==e.key});case"child_changed":return n.map(function(v){return v.payload.key===i?r:v});case"child_moved":if(a>-1){var h=n.splice(a,1)[0];return(n=n.slice()).splice(o,0,h),n}return n;default:return n}}function aW(n){return(eW(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function oW(n,r,e){return function Hle(n,r,e){return Ow(n,"value","once",e).pipe(Kn(function(t){var i=[(0,Ft.of)(t)];return r.forEach(function(a){return i.push(Ow(n,a,"on",e))}),Xn.T.apply(void 0,i).pipe(gi(Gle,[]))}),Tc())}(n,r=aW(r),e)}function sW(n,r,e){var t=(r=aW(r)).map(function(i){return Ow(n,i,"on",e)});return Xn.T.apply(void 0,(0,Zt.Z)(t))}function zle(n,r,e){return function Wle(n,r,e){return function Yle(n,r){return Ow(n,"value","on",r).pipe((0,It.U)(function(e){var t;return e.payload.forEach(function(i){return t=i.key,!1}),{data:e,lastKeyToLoad:t}}))}(n,e).pipe(function _z(){for(var n=arguments.length,r=new Array(n),e=0;e<n;e++)r[e]=arguments[e];return function(t){var i;return"function"==typeof r[r.length-1]&&(i=r.pop()),t.lift(new roe(r,i))}}(r),(0,It.U)(function(i){var a=(0,Z.Z)(i,2),u=a[1],d=a[0].lastKeyToLoad,h=u.map(function(v){return v.key});return{actions:u,lastKeyToLoad:d,loadedKeys:h}}),function yz(n){return function(r){return r.lift(new aoe(n))}}(function(i){return-1===i.loadedKeys.indexOf(i.lastKeyToLoad)}),(0,It.U)(function(i){return i.actions}))}(n,sW(n,r).pipe(gi(function(i,a){return[].concat((0,Zt.Z)(i),[a])},[])),e)}function uW(n,r){return function(t,i){return rW(t,{stringCase:function(){return n.child(t)[r](i)},firebaseCase:function(){return t[r](i)},snapshotCase:function(){return t.ref[r](i)}})}}function qle(n){return function(e){return e?rW(e,{stringCase:function(){return n.child(e).remove()},firebaseCase:function(){return e.remove()},snapshotCase:function(){return e.ref.remove()}}):n.remove()}}function lW(n,r){return function(){return Ow(n,"value","on",r)}}!function Ble(n){n.INTERNAL.registerComponent(new xl.wA("database-compat",function(r,e){var t=e.instanceIdentifier,i=r.getProvider("app-compat").getImmediate(),a=r.getProvider("database").getImmediate({identifier:t});return new Rw(a,i)},"PUBLIC").setServiceProps({Reference:rg,Query:X4,Database:Rw,DataSnapshot:Iw,enableLogging:q4,INTERNAL:Zle,ServerValue:Lle}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.0")}(LO.Z);var Qle=new s.OlP("angularfire2.realtimeDatabaseURL"),Jle=new s.OlP("angularfire2.database.use-emulator"),cW=function(){var n=function(){function r(e,t,i,a,o,u,d,h,v,b,k,I,O,q,J){(0,m.Z)(this,r),this.schedulers=u;var ue=d,fe=(0,Ia.on)(e,o,t);h&&aN(fe,o,v,k,I,O,b,q),this.database=(0,Ia.cc)("".concat(fe.name,".database.").concat(i),"AngularFireDatabase",fe.name,function(){var Oe=o.runOutsideAngular(function(){return fe.database(i||void 0)});return ue&&Oe.useEmulator.apply(Oe,(0,Zt.Z)(ue)),Oe},[ue])}return(0,_.Z)(r,[{key:"list",value:function(t,i){var a=this,o=this.schedulers.ngZone.runOutsideAngular(function(){return nW(a.database,t)}),u=o;return i&&(u=i(o)),function Kle(n,r){var e=r.schedulers.outsideAngular,t=r.schedulers.ngZone.run(function(){return n.ref});return{query:n,update:uW(t,"update"),set:uW(t,"set"),push:function(a){return t.push(a)},remove:qle(t),snapshotChanges:function(a){return oW(n,a,e).pipe(Ae.iC)},stateChanges:function(a){return sW(n,a,e).pipe(Ae.iC)},auditTrail:function(a){return zle(n,a,e).pipe(Ae.iC)},valueChanges:function(a,o){return oW(n,a,e).pipe((0,It.U)(function(d){return d.map(function(h){return o&&o.idField?Object.assign(Object.assign({},h.payload.val()),(0,zr.Z)({},o.idField,h.key)):h.payload.val()})}),Ae.iC)}}}(u,this)}},{key:"object",value:function(t){var i=this;return function $le(n,r){return{query:n,snapshotChanges:function(){return lW(n,r.schedulers.outsideAngular)().pipe(Ae.iC)},update:function(t){return n.ref.update(t)},set:function(t){return n.ref.set(t)},remove:function(){return n.ref.remove()},valueChanges:function(){return lW(n,r.schedulers.outsideAngular)().pipe(Ae.iC,(0,It.U)(function(i){return i.payload.exists()?i.payload.val():null}))}}}(this.schedulers.ngZone.runOutsideAngular(function(){return nW(i.database,t)}),this)}},{key:"createPushId",value:function(){var t=this;return this.schedulers.ngZone.runOutsideAngular(function(){return t.database.ref()}).push().key}}]),r}();return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ia.Dh),s.LFG(Ia.xv,8),s.LFG(Qle,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(Ae.HU),s.LFG(Jle,8),s.LFG(oN,8),s.LFG(Xx,8),s.LFG(eN,8),s.LFG(tN,8),s.LFG(nN,8),s.LFG(rN,8),s.LFG(iN,8),s.LFG(qv,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n}(),Xle=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r),Jx.Z.registerVersion("angularfire",Ae.q4.full,"rtdb-compat")});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[cW]}),n}();x(198);var ig,_Z=(0,_.Z)(function n(){return(0,m.Z)(this,n),(0,Ae.vb)("auth")}),$i=function(){return function(n){n.added="child_added",n.removed="child_removed",n.changed="child_changed",n.moved="child_moved",n.value="value"}($i||($i={})),$i}();Object.freeze(((ig={})[$i.added]=ST,ig[$i.removed]=IT,ig[$i.changed]=TT,ig[$i.moved]=AT,ig[$i.value]=Aw,ig));var wZ=(0,_.Z)(function n(r){return(0,m.Z)(this,n),r}),yW="database",mce=(0,_.Z)(function n(){return(0,m.Z)(this,n),(0,Ae.vb)(yW)}),CZ=new s.OlP("angularfire2.database-instances");function yce(n){return function(r,e){var t=r.runOutsideAngular(function(){return n(e)});return new wZ(t)}}var bce={provide:mce,deps:[[new s.FiY,CZ]]},kce={provide:wZ,useFactory:function _ce(n,r){var e=(0,Ae.JM)(yW,n,r);return e&&new wZ(e)},deps:[[new s.FiY,CZ],Wv]},wce=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r),(0,Rs.KN)("angularfire",Ae.q4.full,"rtdb")});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[kce,bce]}),n}();function Cce(n){for(var r=arguments.length,e=new Array(r>1?r-1:0),t=1;t<r;t++)e[t-1]=arguments[t];return{ngModule:wce,providers:[{provide:CZ,useFactory:yce(n),multi:!0,deps:[s.R0b,s.zs3,Ae.HU,Nx,[new s.FiY,_Z],[new s.FiY,qv]].concat(e)}]}}var Ece=(0,Ae.u3)(Dle,!0);x(4843);var TZ=(0,_.Z)(function n(r){return(0,m.Z)(this,n),r}),DW="firestore",Fce=(0,_.Z)(function n(){return(0,m.Z)(this,n),(0,Ae.vb)(DW)}),AZ=new s.OlP("angularfire2.firestore-instances");function Nce(n){return function(r,e){var t=r.runOutsideAngular(function(){return n(e)});return new TZ(t)}}var Zce={provide:Fce,deps:[[new s.FiY,AZ]]},Lce={provide:TZ,useFactory:function xce(n,r){var e=(0,Ae.JM)(DW,n,r);return e&&new TZ(e)},deps:[[new s.FiY,AZ],Wv]},Bce=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r),(0,Rs.KN)("angularfire",Ae.q4.full,"fst")});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Lce,Zce]}),n}();function Vce(n){for(var r=arguments.length,e=new Array(r>1?r-1:0),t=1;t<r;t++)e[t-1]=arguments[t];return{ngModule:Bce,providers:[{provide:AZ,useFactory:Nce(n),multi:!0,deps:[s.R0b,s.zs3,Ae.HU,Nx,[new s.FiY,_Z],[new s.FiY,qv]].concat(e)}]}}var Uce=(0,Ae.u3)(gie,!0),MW="firebasestorage.googleapis.com",SW="storageBucket",ma=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(t,i){var a;return(0,m.Z)(this,e),(a=r.call(this,IZ(t),"Firebase Storage: ".concat(i," (").concat(IZ(t),")"))).customData={serverResponse:null},a._baseMessage=a.message,Object.setPrototypeOf((0,Lr.Z)(a),e.prototype),a}return(0,_.Z)(e,[{key:"_codeEquals",value:function(i){return IZ(i)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(i){this.customData.serverResponse=i,this.message=this.customData.serverResponse?"".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this._baseMessage}}]),e}(re.ZR);function IZ(n){return"storage/"+n}function RZ(){return new ma("unknown","An unknown error occurred, please check the error payload for server response.")}function TW(){return new ma("canceled","User canceled the upload/download.")}function AW(){return new ma("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function q_(n){return new ma("invalid-argument",n)}function IW(){return new ma("app-deleted","The Firebase app was deleted.")}function RW(n){return new ma("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Pw(n,r){return new ma("invalid-format","String does not match format '"+n+"': "+r)}function Fw(n){throw new ma("internal-error","Internal error: "+n)}var Wu=function(){function n(r,e){(0,m.Z)(this,n),this.bucket=r,this.path_=e}return(0,_.Z)(n,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(e,t){var i;try{i=n.makeFromUrl(e,t)}catch(a){return new n(e,"")}if(""===i.path)return i;throw function Qce(n){return new ma("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}},{key:"makeFromUrl",value:function(e,t){var i=null,a="([A-Za-z0-9.\\-_]+)",d=new RegExp("^gs://"+a+"(/(.*))?$","i");function v(tn){tn.path_=decodeURIComponent(tn.path)}for(var k=t.replace(/[.]/g,"\\."),Ze=[{regex:d,indices:{bucket:1,path:3},postModify:function o(tn){"/"===tn.path.charAt(tn.path.length-1)&&(tn.path_=tn.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(k,"/").concat("v[A-Za-z0-9_]+","/b/").concat(a,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:v},{regex:new RegExp("^https?://".concat(t===MW?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(a,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:v}],je=0;je<Ze.length;je++){var lt=Ze[je],ct=lt.regex.exec(e);if(ct){var dn=ct[lt.indices.path];dn||(dn=""),i=new n(ct[lt.indices.bucket],dn),lt.postModify(i);break}}if(null==i)throw function $ce(n){return new ma("invalid-url","Invalid URL '"+n+"'.")}(e);return i}}]),n}(),tde=function(){function n(r){(0,m.Z)(this,n),this.promise_=Promise.reject(r)}return(0,_.Z)(n,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),n}();function xT(n){return"string"==typeof n||n instanceof String}function OW(n){return OZ()&&n instanceof Blob}function OZ(){return"undefined"!=typeof Blob}function PZ(n,r,e,t){if(t<r)throw q_("Invalid value for '".concat(n,"'. Expected ").concat(r," or greater."));if(t>e)throw q_("Invalid value for '".concat(n,"'. Expected ").concat(e," or less."))}function Yd(n,r,e){var t=r;return null==e&&(t="https://".concat(r)),"".concat(e,"://").concat(t,"/v0").concat(n)}function PW(n){var r=encodeURIComponent,e="?";for(var t in n)n.hasOwnProperty(t)&&(e=e+(r(t)+"=")+r(n[t])+"&");return e.slice(0,-1)}var Vh=function(){return function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Vh||(Vh={})),Vh}(),sde=function(){function n(r,e,t,i,a,o,u,d,h,v,b){var k=this;(0,m.Z)(this,n),this.url_=r,this.method_=e,this.headers_=t,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=d,this.timeout_=h,this.progressCallback_=v,this.connectionFactory_=b,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(function(I,O){k.resolve_=I,k.reject_=O,k.start_()})}return(0,_.Z)(n,[{key:"start_",value:function(){var e=this,i=function(o,u){var d=e.resolve_,h=e.reject_,v=u.connection;if(u.wasSuccessCode)try{var b=e.callback_(v,v.getResponse());!function ide(n){return void 0!==n}(b)?d():d(b)}catch(q){h(q)}else if(null!==v){var k=RZ();k.serverResponse=v.getErrorText(),h(e.errorCallback_?e.errorCallback_(v,k):k)}else h(u.canceled?e.appDelete_?IW():TW():function Kce(){return new ma("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?i(0,new NT(!1,null,!0)):this.backoffId_=function nde(n,r,e){var t=1,i=null,a=null,o=!1,u=0;function d(){return 2===u}var h=!1;function v(){if(!h){h=!0;for(var J=arguments.length,ue=new Array(J),fe=0;fe<J;fe++)ue[fe]=arguments[fe];r.apply(null,ue)}}function b(J){i=setTimeout(function(){i=null,n(I,d())},J)}function k(){a&&clearTimeout(a)}function I(J){if(h)k();else{for(var ue=arguments.length,fe=new Array(ue>1?ue-1:0),Oe=1;Oe<ue;Oe++)fe[Oe-1]=arguments[Oe];if(J)return k(),void v.call.apply(v,[null,J].concat(fe));var je;if(d()||o)return k(),void v.call.apply(v,[null,J].concat(fe));t<64&&(t*=2),1===u?(u=2,je=0):je=1e3*(t+Math.random()),b(je)}}var O=!1;function q(J){O||(O=!0,k(),!h&&(null!==i?(J||(u=2),clearTimeout(i),b(0)):J||(u=1)))}return b(0),a=setTimeout(function(){o=!0,q(!0)},e),q}(function(o,u){if(u)o(!1,new NT(!1,null,!0));else{var d=e.connectionFactory_();e.pendingConnection_=d;var h=function(b){null!==e.progressCallback_&&e.progressCallback_(b.loaded,b.lengthComputable?b.total:-1)};null!==e.progressCallback_&&d.addUploadProgressListener(h),d.send(e.url_,e.method_,e.body_,e.headers_).then(function(){null!==e.progressCallback_&&d.removeUploadProgressListener(h),e.pendingConnection_=null;var v=d.getErrorCode()===Vh.NO_ERROR,b=d.getStatus();if(v&&!e.isRetryStatusCode_(b)){var I=-1!==e.successCodes_.indexOf(b);o(!0,new NT(I,d))}else{var k=d.getErrorCode()===Vh.ABORT;o(!1,new NT(!1,null,k))}})}},i,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function rde(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=e>=500&&e<600,a=-1!==[408,429].indexOf(e),o=-1!==this.additionalRetryCodes_.indexOf(e);return t||a||o}}]),n}(),NT=(0,_.Z)(function n(r,e,t){(0,m.Z)(this,n),this.wasSuccessCode=r,this.connection=e,this.canceled=!!t});function hde(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function pde(){for(var n=hde(),r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];if(void 0!==n){for(var i=new n,a=0;a<e.length;a++)i.append(e[a]);return i.getBlob()}if(OZ())return new Blob(e);throw new ma("unsupported-environment","This browser doesn't seem to support creating Blobs")}var cu={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},FZ=(0,_.Z)(function n(r,e){(0,m.Z)(this,n),this.data=r,this.contentType=e||null});function xZ(n,r){switch(n){case cu.RAW:return new FZ(FW(r));case cu.BASE64:case cu.BASE64URL:return new FZ(xW(n,r));case cu.DATA_URL:return new FZ(function _de(n){var r=new NW(n);return r.base64?xW(cu.BASE64,r.rest):function mde(n){var r;try{r=decodeURIComponent(n)}catch(e){throw Pw(cu.DATA_URL,"Malformed data URL.")}return FW(r)}(r.rest)}(r),function yde(n){return new NW(n).contentType}(r))}throw RZ()}function FW(n){for(var r=[],e=0;e<n.length;e++){var t=n.charCodeAt(e);if(t<=127)r.push(t);else if(t<=2047)r.push(192|t>>6,128|63&t);else if(55296==(64512&t))if(e<n.length-1&&56320==(64512&n.charCodeAt(e+1))){var a=t,o=n.charCodeAt(++e);r.push(240|(t=65536|(1023&a)<<10|1023&o)>>18,128|t>>12&63,128|t>>6&63,128|63&t)}else r.push(239,191,189);else 56320==(64512&t)?r.push(239,191,189):r.push(224|t>>12,128|t>>6&63,128|63&t)}return new Uint8Array(r)}function xW(n,r){switch(n){case cu.BASE64:var e=-1!==r.indexOf("-"),t=-1!==r.indexOf("_");if(e||t)throw Pw(n,"Invalid character '"+(e?"-":"_")+"' found: is it base64url encoded?");break;case cu.BASE64URL:var a=-1!==r.indexOf("+"),o=-1!==r.indexOf("/");if(a||o)throw Pw(n,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");r=r.replace(/-/g,"+").replace(/_/g,"/")}var d;try{d=function gde(n){return atob(n)}(r)}catch(b){throw Pw(n,"Invalid character found")}for(var h=new Uint8Array(d.length),v=0;v<d.length;v++)h[v]=d.charCodeAt(v);return h}var NW=(0,_.Z)(function n(r){(0,m.Z)(this,n),this.base64=!1,this.contentType=null;var e=r.match(/^data:([^,]+)?,/);if(null===e)throw Pw(cu.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var t=e[1]||null;null!=t&&(this.base64=function bde(n,r){return n.length>=r.length&&n.substring(n.length-r.length)===r}(t,";base64"),this.contentType=this.base64?t.substring(0,t.length-7):t),this.rest=r.substring(r.indexOf(",")+1)}),ZT=function(){function n(r,e){(0,m.Z)(this,n);var t=0,i="";OW(r)?(this.data_=r,t=r.size,i=r.type):r instanceof ArrayBuffer?(e?this.data_=new Uint8Array(r):(this.data_=new Uint8Array(r.byteLength),this.data_.set(new Uint8Array(r))),t=this.data_.length):r instanceof Uint8Array&&(e?this.data_=r:(this.data_=new Uint8Array(r.length),this.data_.set(r)),t=r.length),this.size_=t,this.type_=i}return(0,_.Z)(n,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(e,t){if(OW(this.data_)){var a=function vde(n,r,e){return n.webkitSlice?n.webkitSlice(r,e):n.mozSlice?n.mozSlice(r,e):n.slice?n.slice(r,e):null}(this.data_,e,t);return null===a?null:new n(a)}return new n(new Uint8Array(this.data_.buffer,e,t-e),!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if(OZ()){var a=t.map(function(v){return v instanceof n?v.data_:v});return new n(pde.apply(null,a))}var o=t.map(function(v){return xT(v)?xZ(cu.RAW,v).data:v.data_}),u=0;o.forEach(function(v){u+=v.byteLength});var d=new Uint8Array(u),h=0;return o.forEach(function(v){for(var b=0;b<v.length;b++)d[h++]=v[b]}),new n(d,!0)}}]),n}();function NZ(n){var r;try{r=JSON.parse(n)}catch(e){return null}return function ode(n){return"object"==typeof n&&!Array.isArray(n)}(r)?r:null}function ZW(n){var r=n.lastIndexOf("/",n.length-2);return-1===r?n:n.slice(r+1)}function Cde(n,r){return r}var us=(0,_.Z)(function n(r,e,t,i){(0,m.Z)(this,n),this.server=r,this.local=e||r,this.writable=!!t,this.xform=i||Cde}),LT=null;function xw(){if(LT)return LT;var n=[];n.push(new us("bucket")),n.push(new us("generation")),n.push(new us("metageneration")),n.push(new us("name","fullPath",!0));var e=new us("name");e.xform=function r(a,o){return function Ede(n){return!xT(n)||n.length<2?n:ZW(n)}(o)},n.push(e);var i=new us("size");return i.xform=function t(a,o){return void 0!==o?Number(o):o},n.push(i),n.push(new us("timeCreated")),n.push(new us("updated")),n.push(new us("md5Hash",null,!0)),n.push(new us("cacheControl",null,!0)),n.push(new us("contentDisposition",null,!0)),n.push(new us("contentEncoding",null,!0)),n.push(new us("contentLanguage",null,!0)),n.push(new us("contentType",null,!0)),n.push(new us("metadata","customMetadata",!0)),LT=n}function LW(n,r,e){var t=NZ(r);return null===t?null:function Mde(n,r,e){for(var t={type:"file"},i=e.length,a=0;a<i;a++){var o=e[a];t[o.local]=o.xform(t,r[o.server])}return function Dde(n,r){Object.defineProperty(n,"ref",{get:function e(){var a=new Wu(n.bucket,n.fullPath);return r._makeStorageReference(a)}})}(t,n),t}(n,t,e)}function ZZ(n,r){for(var e={},t=r.length,i=0;i<t;i++){var a=r[i];a.writable&&(e[a.server]=n[a.local])}return JSON.stringify(e)}var BW="prefixes";var Vc=(0,_.Z)(function n(r,e,t,i){(0,m.Z)(this,n),this.url=r,this.method=e,this.handler=t,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]});function Uc(n){if(!n)throw RZ()}function BT(n,r){return function e(t,i){var a=LW(n,i,r);return Uc(null!==a),a}}function K_(n){return function r(e,t){var i;return i=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function Wce(){return new ma("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function Yce(){return new ma("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function zce(n){return new ma("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function qce(n){return new ma("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):t,i.serverResponse=t.serverResponse,i}}function Nw(n){var r=K_(n);return function e(t,i){var a=r(t,i);return 404===t.getStatus()&&(a=function Gce(n){return new ma("object-not-found","Object '"+n+"' does not exist.")}(n.path)),a.serverResponse=i.serverResponse,a}}function UW(n,r,e){var i=Yd(r.fullServerUrl(),n.host,n._protocol),o=n.maxOperationRetryTime,u=new Vc(i,"GET",BT(n,e),o);return u.errorHandler=Nw(r),u}function Ode(n,r,e,t,i){var a={};a.prefix=r.isRoot?"":r.path+"/",e&&e.length>0&&(a.delimiter=e),t&&(a.pageToken=t),i&&(a.maxResults=i);var u=Yd(r.bucketOnlyServerUrl(),n.host,n._protocol),h=n.maxOperationRetryTime,v=new Vc(u,"GET",function Ide(n,r){return function e(t,i){var a=function Ade(n,r,e){var t=NZ(e);return null===t?null:function Tde(n,r,e){var t={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[BW]){var a,i=(0,G.Z)(e[BW]);try{for(i.s();!(a=i.n()).done;){var u=a.value.replace(/\/$/,""),d=n._makeStorageReference(new Wu(r,u));t.prefixes.push(d)}}catch(I){i.e(I)}finally{i.f()}}if(e.items){var v,h=(0,G.Z)(e.items);try{for(h.s();!(v=h.n()).done;){var k=n._makeStorageReference(new Wu(r,v.value.name));t.items.push(k)}}catch(I){h.e(I)}finally{h.f()}}return t}(n,r,t)}(n,r,i);return Uc(null!==a),a}}(n,r.bucket),h);return v.urlParams=a,v.errorHandler=K_(r),v}function jW(n,r,e){var t=Object.assign({},e);return t.fullPath=n.path,t.size=r.size(),t.contentType||(t.contentType=function Nde(n,r){return n&&n.contentType||r&&r.type()||"application/octet-stream"}(null,r)),t}var VT=(0,_.Z)(function n(r,e,t,i){(0,m.Z)(this,n),this.current=r,this.total=e,this.finalized=!!t,this.metadata=i||null});function LZ(n,r){var e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch(i){Uc(!1)}return Uc(!!e&&-1!==(r||["active"]).indexOf(e)),e}var Vde={STATE_CHANGED:"state_changed"},ls={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function BZ(n){switch(n){case"running":case"pausing":case"canceling":return ls.RUNNING;case"paused":return ls.PAUSED;case"success":return ls.SUCCESS;case"canceled":return ls.CANCELED;default:return ls.ERROR}}var Ude=(0,_.Z)(function n(r,e,t){(0,m.Z)(this,n);var i=function ade(n){return"function"==typeof n}(r)||null!=e||null!=t;if(i)this.next=r,this.error=null!=e?e:void 0,this.complete=null!=t?t:void 0;else{var a=r;this.next=a.next,this.error=a.error,this.complete=a.complete}});function $_(n){return function(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];Promise.resolve().then(function(){return n.apply(void 0,e)})}}var Hde=function(){function n(){var r=this;(0,m.Z)(this,n),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Vh.NO_ERROR,this.sendPromise_=new Promise(function(e){r.xhr_.addEventListener("abort",function(){r.errorCode_=Vh.ABORT,e()}),r.xhr_.addEventListener("error",function(){r.errorCode_=Vh.NETWORK_ERROR,e()}),r.xhr_.addEventListener("load",function(){e()})})}return(0,_.Z)(n,[{key:"send",value:function(e,t,i,a){if(this.sent_)throw Fw("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==a)for(var o in a)a.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,a[o].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw Fw("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw Fw("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw Fw("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw Fw("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),n}(),jde=function(n){(0,P.Z)(e,n);var r=(0,N.Z)(e);function e(){return(0,m.Z)(this,e),r.apply(this,arguments)}return(0,_.Z)(e,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),e}(Hde);function Hl(){return new jde}var WW=function(){function n(r,e){var t=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(0,m.Z)(this,n),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=r,this._blob=e,this._metadata=i,this._mappings=xw(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(a){t._request=void 0,t._chunkMultiplier=1,a._codeEquals("canceled")?(t._needToFetchStatus=!0,t.completeTransitions_()):(t._error=a,t._transition("error"))},this._metadataErrorHandler=function(a){t._request=void 0,a._codeEquals("canceled")?t.completeTransitions_():(t._error=a,t._transition("error"))},this._promise=new Promise(function(a,o){t._resolve=a,t._reject=o,t._start()}),this._promise.then(null,function(){})}return(0,_.Z)(n,[{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(i){return e._updateProgress(t+i)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(i){var a=(0,Z.Z)(i,2),o=a[0],u=a[1];switch(t._state){case"running":e(o,u);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}})}},{key:"_createResumable",value:function(){var e=this;this._resolveToken(function(t,i){var a=function Zde(n,r,e,t,i){var a=r.bucketOnlyServerUrl(),o=jW(r,t,i),u={name:o.fullPath},d=Yd(a,n.host,n._protocol),v={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(t.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},b=ZZ(o,e),O=new Vc(d,"POST",function I(q){var J;LZ(q);try{J=q.getResponseHeader("X-Goog-Upload-URL")}catch(ue){Uc(!1)}return Uc(xT(J)),J},n.maxUploadRetryTime);return O.urlParams=u,O.headers=v,O.body=b,O.errorHandler=K_(r),O}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),o=e._ref.storage._makeRequest(a,Hl,t,i);e._request=o,o.getPromise().then(function(u){e._request=void 0,e._uploadUrl=u,e._needToFetchStatus=!1,e.completeTransitions_()},e._errorHandler)})}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken(function(i,a){var o=function Lde(n,r,e,t){var d=new Vc(e,"POST",function a(h){var v=LZ(h,["active","final"]),b=null;try{b=h.getResponseHeader("X-Goog-Upload-Size-Received")}catch(I){Uc(!1)}b||Uc(!1);var k=Number(b);return Uc(!isNaN(k)),new VT(k,t.size(),"final"===v)},n.maxUploadRetryTime);return d.headers={"X-Goog-Upload-Command":"query"},d.errorHandler=K_(r),d}(e._ref.storage,e._ref._location,t,e._blob),u=e._ref.storage._makeRequest(o,Hl,i,a);e._request=u,u.getPromise().then(function(d){d=d,e._request=void 0,e._updateProgress(d.current),e._needToFetchStatus=!1,d.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()},e._errorHandler)})}},{key:"_continueUpload",value:function(){var e=this,t=262144*this._chunkMultiplier,i=new VT(this._transferred,this._blob.size()),a=this._uploadUrl;this._resolveToken(function(o,u){var d;try{d=function Bde(n,r,e,t,i,a,o,u){var d=new VT(0,0);if(o?(d.current=o.current,d.total=o.total):(d.current=0,d.total=t.size()),t.size()!==d.total)throw function Xce(){return new ma("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();var h=d.total-d.current,v=h;i>0&&(v=Math.min(v,i));var b=d.current,k=b+v,O={"X-Goog-Upload-Command":v===h?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(d.current)},q=t.slice(b,k);if(null===q)throw AW();var Oe=new Vc(e,"POST",function J(Ze,je){var dn,lt=LZ(Ze,["active","final"]),ct=d.current+v,vt=t.size();return dn="final"===lt?BT(r,a)(Ze,je):null,new VT(ct,vt,"final"===lt,dn)},r.maxUploadRetryTime);return Oe.headers=O,Oe.body=q.uploadData(),Oe.progressCallback=u||null,Oe.errorHandler=K_(n),Oe}(e._ref._location,e._ref.storage,a,e._blob,t,e._mappings,i,e._makeProgressCallback())}catch(v){return e._error=v,void e._transition("error")}var h=e._ref.storage._makeRequest(d,Hl,o,u);e._request=h,h.getPromise().then(function(v){e._increaseMultiplier(),e._request=void 0,e._updateProgress(v.current),v.finalized?(e._metadata=v.metadata,e._transition("success")):e.completeTransitions_()},e._errorHandler)})}},{key:"_increaseMultiplier",value:function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken(function(t,i){var a=UW(e._ref.storage,e._ref._location,e._mappings),o=e._ref.storage._makeRequest(a,Hl,t,i);e._request=o,o.getPromise().then(function(u){e._request=void 0,e._metadata=u,e._transition("success")},e._metadataErrorHandler)})}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken(function(t,i){var a=function GW(n,r,e,t,i){var a=r.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"},d=function u(){for(var Oe="",Ze=0;Ze<2;Ze++)Oe+=Math.random().toString().slice(2);return Oe}();o["Content-Type"]="multipart/related; boundary="+d;var h=jW(r,t,i),v=ZZ(h,e),I=ZT.getBlob("--"+d+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+v+"\r\n--"+d+"\r\nContent-Type: "+h.contentType+"\r\n\r\n",t,"\r\n--"+d+"--");if(null===I)throw AW();var O={name:h.fullPath},q=Yd(a,n.host,n._protocol),ue=n.maxUploadRetryTime,fe=new Vc(q,"POST",BT(n,e),ue);return fe.urlParams=O,fe.headers=o,fe.body=I.uploadData(),fe.errorHandler=K_(r),fe}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),o=e._ref.storage._makeRequest(a,Hl,t,i);e._request=o,o.getPromise().then(function(u){e._request=void 0,e._metadata=u,e._updateProgress(e._blob.size()),e._transition("success")},e._errorHandler)})}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=TW(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=BZ(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,i,a){var o=this,u=new Ude(t||void 0,i||void 0,a||void 0);return this._addObserver(u),function(){o._removeObserver(u)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach(function(i){e._notifyObserver(i)})}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(BZ(this._state)){case ls.SUCCESS:$_(this._resolve.bind(null,this.snapshot))();break;case ls.CANCELED:case ls.ERROR:$_(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(BZ(this._state)){case ls.RUNNING:case ls.PAUSED:e.next&&$_(e.next.bind(e,this.snapshot))();break;case ls.SUCCESS:e.complete&&$_(e.complete.bind(e))();break;default:e.error&&$_(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),n}(),UT=function(){function n(r,e){(0,m.Z)(this,n),this._service=r,this._location=e instanceof Wu?e:Wu.makeFromUrl(e,r.host)}return(0,_.Z)(n,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(e,t){return new n(e,t)}},{key:"root",get:function(){var e=new Wu(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return ZW(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var e=function kde(n){if(0===n.length)return null;var r=n.lastIndexOf("/");return-1===r?"":n.slice(0,r)}(this._location.path);if(null===e)return null;var t=new Wu(this._location.bucket,e);return new n(this._service,t)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw RW(e)}}]),n}();function KW(n,r,e){return VZ.apply(this,arguments)}function VZ(){return VZ=(0,st.Z)(me().mark(function n(r,e,t){var i,a,o,u;return me().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return o={pageToken:t},h.next=3,$W(r,o);case 3:if((i=e.prefixes).push.apply(i,(0,Zt.Z)((u=h.sent).prefixes)),(a=e.items).push.apply(a,(0,Zt.Z)(u.items)),null==u.nextPageToken){h.next=9;break}return h.next=9,KW(r,e,u.nextPageToken);case 9:case"end":return h.stop()}},n)})),VZ.apply(this,arguments)}function $W(n,r){null!=r&&"number"==typeof r.maxResults&&PZ("options.maxResults",1,1e3,r.maxResults);var e=r||{},t=Ode(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(t,Hl)}function tfe(n){n._throwIfRoot("getDownloadURL");var r=function Pde(n,r,e){var i=Yd(r.fullServerUrl(),n.host,n._protocol),o=n.maxOperationRetryTime,u=new Vc(i,"GET",function Rde(n,r){return function e(t,i){var a=LW(n,i,r);return Uc(null!==a),function Sde(n,r,e,t){var i=NZ(r);if(null===i||!xT(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map(function(h){var b=n.fullPath;return Yd("/b/"+o(n.bucket)+"/o/"+o(b),e,t)+PW({alt:"media",token:h})})[0]}(a,i,n.host,n._protocol)}}(n,e),o);return u.errorHandler=Nw(r),u}(n.storage,n._location,xw());return n.storage.makeRequestWithTokens(r,Hl).then(function(e){if(null===e)throw function ede(){return new ma("no-download-url","The given file does not have any download URLs.")}();return e})}function QW(n,r){var e=function wde(n,r){var e=r.split("/").filter(function(t){return t.length>0}).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,r),t=new Wu(n._location.bucket,e);return new UT(n.storage,t)}function JW(n,r){if(n instanceof UZ){var e=n;if(null==e._bucket)throw function Jce(){return new ma("no-default-bucket","No default bucket found. Did you set the '"+SW+"' property when initializing the app?")}();var t=new UT(e,e._bucket);return null!=r?JW(t,r):t}return void 0!==r?QW(n,r):n}function afe(n,r){if(r&&function rfe(n){return/^[A-Za-z]+:\/\//.test(n)}(r)){if(n instanceof UZ)return function ife(n,r){return new UT(n,r)}(n,r);throw q_("To use ref(service, url), the first argument must be a Storage instance.")}return JW(n,r)}function XW(n,r){var e=null==r?void 0:r[SW];return null==e?null:Wu.makeFromBucketSpec(e,n)}function ofe(n,r,e){var t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};n.host="".concat(r,":").concat(e),n._protocol="http";var i=t.mockUserToken;i&&(n._overrideAuthToken="string"==typeof i?i:(0,re.Sg)(i,n.app.options.projectId))}var UZ=function(){function n(r,e,t,i,a){(0,m.Z)(this,n),this.app=r,this._authProvider=e,this._appCheckProvider=t,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=MW,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Wu.makeFromBucketSpec(i,this._host):XW(this._host,this.app.options)}return(0,_.Z)(n,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,this._bucket=null!=this._url?Wu.makeFromBucketSpec(this._url,e):XW(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){PZ("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){PZ("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:(r=(0,st.Z)(me().mark(function t(){var i,a;return me().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!this._overrideAuthToken){u.next=2;break}return u.abrupt("return",this._overrideAuthToken);case 2:if(!(i=this._authProvider.getImmediate({optional:!0}))){u.next=9;break}return u.next=6,i.getToken();case 6:if(null===(a=u.sent)){u.next=9;break}return u.abrupt("return",a.accessToken);case 9:return u.abrupt("return",null);case 10:case"end":return u.stop()}},t,this)})),function e(){return r.apply(this,arguments)})},{key:"_getAppCheckToken",value:function(){var r=(0,st.Z)(me().mark(function t(){var i;return me().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!(i=this._appCheckProvider.getImmediate({optional:!0}))){u.next=6;break}return u.next=4,i.getToken();case 4:return u.abrupt("return",u.sent.token);case 6:return u.abrupt("return",null);case 7:case"end":return u.stop()}},t,this)}));return function e(){return r.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(e){return e.cancel()}),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new UT(this,e)}},{key:"_makeRequest",value:function(e,t,i,a){var o=this;if(this._deleted)return new tde(IW());var u=function fde(n,r,e,t,i,a){var o=PW(n.urlParams),u=n.url+o,d=Object.assign({},n.headers);return function cde(n,r){r&&(n["X-Firebase-GMPID"]=r)}(d,r),function ude(n,r){null!==r&&r.length>0&&(n.Authorization="Firebase "+r)}(d,e),function lde(n,r){n["X-Firebase-Storage-Version"]="webjs/"+(null!=r?r:"AppManager")}(d,a),function dde(n,r){null!==r&&(n["X-Firebase-AppCheck"]=r)}(d,t),new sde(u,n.method,d,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i)}(e,this._appId,i,a,t,this._firebaseVersion);return this._requests.add(u),u.getPromise().then(function(){return o._requests.delete(u)},function(){return o._requests.delete(u)}),u}},{key:"makeRequestWithTokens",value:function(){var r=(0,st.Z)(me().mark(function t(i,a){var u;return me().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return u=(0,Z.Z)(b.sent,2),b.abrupt("return",this._makeRequest(i,a,u[0],u[1]).getPromise());case 7:case"end":return b.stop()}},t,this)}));return function e(t,i){return r.apply(this,arguments)}}()}]),n;var r}(),e5="@firebase/storage";function r5(n,r){return afe(n=(0,re.m9)(n),r)}function vfe(n,r,e){var t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};ofe(n,r,e,t)}function gfe(n,r){var e=r.instanceIdentifier,t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new UZ(t,i,a,e,Zi.SDK_VERSION)}!function mfe(){(0,Zi._registerComponent)(new xl.wA("storage",gfe,"PUBLIC").setMultipleInstances(!0)),(0,Zi.registerVersion)(e5,"0.9.6",""),(0,Zi.registerVersion)(e5,"0.9.6","esm2017")}();var HT=function(){function n(r,e,t){(0,m.Z)(this,n),this._delegate=r,this.task=e,this.ref=t}return(0,_.Z)(n,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),n}(),i5=function(){function n(r,e){(0,m.Z)(this,n),this._delegate=r,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return(0,_.Z)(n,[{key:"snapshot",get:function(){return new HT(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var i=this;return this._delegate.then(function(a){if(e)return e(new HT(a,i,i._ref))},t)}},{key:"on",value:function(e,t,i,a){var o=this,u=void 0;return t&&(u="function"==typeof t?function(h){return t(new HT(h,o,o._ref))}:{next:t.next?function(d){return t.next(new HT(d,o,o._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,u,i||void 0,a||void 0)}}]),n}(),a5=function(){function n(r,e){(0,m.Z)(this,n),this._delegate=r,this._service=e}return(0,_.Z)(n,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map(function(t){return new Zw(t,e._service)})}},{key:"items",get:function(){var e=this;return this._delegate.items.map(function(t){return new Zw(t,e._service)})}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),n}(),Zw=function(){function n(r,e){(0,m.Z)(this,n),this._delegate=r,this.storage=e}return(0,_.Z)(n,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(e){var t=function pfe(n,r){return QW(n,r)}(this._delegate,e);return new n(t,this.storage)}},{key:"root",get:function(){return new n(this._delegate.root,this.storage)}},{key:"parent",get:function(){var e=this._delegate.parent;return null==e?null:new n(e,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new i5(function sfe(n,r,e){return function $de(n,r,e){return n._throwIfRoot("uploadBytesResumable"),new WW(n,new ZT(r),e)}(n=(0,re.m9)(n),r,e)}(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cu.RAW,i=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var a=xZ(t,e),o=Object.assign({},i);return null==o.contentType&&null!=a.contentType&&(o.contentType=a.contentType),new i5(new WW(this._delegate,new ZT(a.data,!0),o),this)}},{key:"listAll",value:function(){var e=this;return function dfe(n){return function Jde(n){var r={prefixes:[],items:[]};return KW(n,r).then(function(){return r})}(n=(0,re.m9)(n))}(this._delegate).then(function(t){return new a5(t,e.storage)})}},{key:"list",value:function(e){var t=this;return function cfe(n,r){return $W(n=(0,re.m9)(n),r)}(this._delegate,e||void 0).then(function(i){return new a5(i,t.storage)})}},{key:"getMetadata",value:function(){return function ufe(n){return function Xde(n){n._throwIfRoot("getMetadata");var r=UW(n.storage,n._location,xw());return n.storage.makeRequestWithTokens(r,Hl)}(n=(0,re.m9)(n))}(this._delegate)}},{key:"updateMetadata",value:function(e){return function lfe(n,r){return function efe(n,r){n._throwIfRoot("updateMetadata");var e=function Fde(n,r,e,t){var a=Yd(r.fullServerUrl(),n.host,n._protocol),u=ZZ(e,t),h=n.maxOperationRetryTime,v=new Vc(a,"PATCH",BT(n,t),h);return v.headers={"Content-Type":"application/json; charset=utf-8"},v.body=u,v.errorHandler=Nw(r),v}(n.storage,n._location,r,xw());return n.storage.makeRequestWithTokens(e,Hl)}(n=(0,re.m9)(n),r)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return function ffe(n){return tfe(n=(0,re.m9)(n))}(this._delegate)}},{key:"delete",value:function(){return this._throwIfRoot("delete"),function hfe(n){return function nfe(n){n._throwIfRoot("deleteObject");var r=function xde(n,r){var t=Yd(r.fullServerUrl(),n.host,n._protocol),u=new Vc(t,"DELETE",function o(d,h){},n.maxOperationRetryTime);return u.successCodes=[200,204],u.errorHandler=Nw(r),u}(n.storage,n._location);return n.storage.makeRequestWithTokens(r,Hl)}(n=(0,re.m9)(n))}(this._delegate)}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw RW(e)}}]),n}(),o5=function(){function n(r,e){(0,m.Z)(this,n),this.app=r,this._delegate=e}return(0,_.Z)(n,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(s5(e))throw q_("ref() expected a child path but got a URL, use refFromURL instead.");return new Zw(r5(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!s5(e))throw q_("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Wu.makeFromUrl(e,this._delegate.host)}catch(t){throw q_("refFromUrl() expected a valid full URL but got an invalid one.")}return new Zw(r5(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};vfe(this._delegate,e,t,i)}}]),n}();function s5(n){return/^[A-Za-z]+:\/\//.test(n)}function kfe(n,r){var e=r.instanceIdentifier,t=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:e});return new o5(t,i)}function u5(n){var r=function Cfe(n){return new Qn.y(function(r){var e=function(u){return r.next(u)};e(n.snapshot);var a=n.on("state_changed",e);return n.then(function(o){e(o),r.complete()},function(o){e(n.snapshot),r.error(o)}),function(){a()}}).pipe(Lp(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:function(){return r},percentageChanges:function(){return r.pipe((0,It.U)(function(t){return t.bytesTransferred/t.totalBytes*100}))}}}function jT(n){return{getDownloadURL:function(){return(0,Ft.of)(void 0).pipe(Ae.fc,Kn(function(){return n.getDownloadURL()}),Ae.iC)},getMetadata:function(){return(0,Ft.of)(void 0).pipe(Ae.fc,Kn(function(){return n.getMetadata()}),Ae.iC)},delete:function(){return(0,qn.D)(n.delete())},child:function(e){return jT(n.child(e))},updateMetadata:function(e){return(0,qn.D)(n.updateMetadata(e))},put:function(e,t){return u5(n.put(e,t))},putString:function(e,t,i){return u5(n.putString(e,t,i))},list:function(e){return(0,qn.D)(n.list(e))},listAll:function(){return(0,qn.D)(n.listAll())}}}!function wfe(n){var r={TaskState:ls,TaskEvent:Vde,StringFormat:cu,Storage:o5,Reference:Zw};n.INTERNAL.registerComponent(new xl.wA("storage-compat",kfe,"PUBLIC").setServiceProps(r).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.14")}(LO.Z);var Efe=new s.OlP("angularfire2.storageBucket"),Dfe=new s.OlP("angularfire2.storage.maxUploadRetryTime"),Mfe=new s.OlP("angularfire2.storage.maxOperationRetryTime"),Sfe=new s.OlP("angularfire2.storage.use-emulator"),Tfe=function(){var n=function(){function r(e,t,i,a,o,u,d,h,v,b){(0,m.Z)(this,r);var k=(0,Ia.on)(e,o,t);this.storage=(0,Ia.cc)("".concat(k.name,".storage.").concat(i),"AngularFireStorage",k.name,function(){var I=o.runOutsideAngular(function(){return k.storage(i||void 0)});return v&&I.useEmulator.apply(I,(0,Zt.Z)(v)),d&&I.setMaxUploadRetryTime(d),h&&I.setMaxOperationRetryTime(h),I},[d,h])}return(0,_.Z)(r,[{key:"ref",value:function(t){return jT(this.storage.ref(t))}},{key:"refFromURL",value:function(t){return jT(this.storage.refFromURL(t))}},{key:"upload",value:function(t,i,a){return jT(this.storage.ref(t)).put(i,a)}}]),r}();return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ia.Dh),s.LFG(Ia.xv,8),s.LFG(Efe,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(Ae.HU),s.LFG(Dfe,8),s.LFG(Mfe,8),s.LFG(Sfe,8),s.LFG(qv,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n}(),Afe=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n}(),Ife=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r),Jx.Z.registerVersion("angularfire",Ae.q4.full,"gcs-compat")});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Tfe],imports:[Afe]}),n}(),Rfe=function(){var n=(0,_.Z)(function r(){(0,m.Z)(this,r)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n,bootstrap:[f7]}),n.\u0275inj=s.cJS({providers:[cW,Zy],imports:[[zn,Ife,so,d7,I2,tE,qX,Ia.hO.initializeApp(ZO_firebaseConfig),noe,Xle,Qie(function(){return Jie(ZO_firebase)}),Cce(function(){return Ece()}),Vce(function(){return Uce()}),lL]]}),n}();(0,s.G48)(),ff().bootstrapModule(Rfe).catch(function(n){return console.error(n)})},5867:function(ht,ke,x){"use strict";x.d(ke,{P2:function(){return X.deleteApp},Mq:function(){return X.getApp},C6:function(){return X.getApps},ZF:function(){return X.initializeApp},TP:function(){return X.onLog},KN:function(){return X.registerVersion},Ub:function(){return X.setLogLevel}});var X=x(9681);(0,X.registerVersion)("firebase","9.8.1","app")},127:function(ht,ke,x){"use strict";x.d(ke,{Z:function(){return X.Z}});var X=x(3942);X.Z.registerVersion("firebase","9.8.1","app-compat")},5881:function(ht,ke,x){"use strict";x.r(ke);var X=x(5671),ne=x(3144),_=x(5861),m=x(7757),P=x.n(m),N=x(3942),G=x(4506),Z=x(3237),s=x(1120),W=x(136),ie=x(7777),B=x(198),ee=x(2090),oe=(x(9681),x(1877),x(4859));function le(){return window}function Me(Pe,xe,_e){return pe.apply(this,arguments)}function pe(){return(pe=(0,_.Z)(P().mark(function Pe(xe,_e,Se){var Ge,mt,it,Nt,Qt;return P().wrap(function(Sn){for(;;)switch(Sn.prev=Sn.next){case 0:return mt=le(),it=mt.BuildInfo,(0,B.aq)(_e.sessionId,"AuthEvent did not contain a session ID"),Sn.next=4,on(_e.sessionId);case 4:return Nt=Sn.sent,Qt={},(0,B.ar)()?Qt.ibi=it.packageName:(0,B.as)()?Qt.apn=it.packageName:(0,B.at)(xe,"operation-not-supported-in-this-environment"),it.displayName&&(Qt.appDisplayName=it.displayName),Qt.sessionId=Nt,Sn.abrupt("return",(0,B.au)(xe,Se,_e.type,void 0,null!==(Ge=_e.eventId)&&void 0!==Ge?Ge:void 0,Qt));case 10:case"end":return Sn.stop()}},Pe)}))).apply(this,arguments)}function Ce(){return(Ce=(0,_.Z)(P().mark(function Pe(xe){var _e,Se,Ge;return P().wrap(function(it){for(;;)switch(it.prev=it.next){case 0:return _e=le(),Se=_e.BuildInfo,Ge={},(0,B.ar)()?Ge.iosBundleId=Se.packageName:(0,B.as)()?Ge.androidPackageName=Se.packageName:(0,B.at)(xe,"operation-not-supported-in-this-environment"),it.next=5,(0,B.av)(xe,Ge);case 5:case"end":return it.stop()}},Pe)}))).apply(this,arguments)}function qe(Pe){var _e=le().cordova;return new Promise(function(Se){_e.plugins.browsertab.isAvailable(function(Ge){var mt=null;Ge?_e.plugins.browsertab.openUrl(Pe):mt=_e.InAppBrowser.open(Pe,(0,B.ap)()?"_blank":"_system","location=yes"),Se(mt)})})}function Et(Pe,xe,_e){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,_.Z)(P().mark(function Pe(xe,_e,Se){var Ge,mt,it;return P().wrap(function(Qt){for(;;)switch(Qt.prev=Qt.next){case 0:return Ge=le(),mt=Ge.cordova,it=function(){},Qt.prev=2,Qt.next=5,new Promise(function(sn,Sn){var Nn=null;function di(){var oa;sn();var Ui=null===(oa=mt.plugins.browsertab)||void 0===oa?void 0:oa.close;"function"==typeof Ui&&Ui(),"function"==typeof(null==Se?void 0:Se.close)&&Se.close()}function yn(){Nn||(Nn=window.setTimeout(function(){Sn((0,B.aw)(xe,"redirect-cancelled-by-user"))},2e3))}function vr(){"visible"===(null==document?void 0:document.visibilityState)&&yn()}_e.addPassiveListener(di),document.addEventListener("resume",yn,!1),(0,B.as)()&&document.addEventListener("visibilitychange",vr,!1),it=function(){_e.removePassiveListener(di),document.removeEventListener("resume",yn,!1),document.removeEventListener("visibilitychange",vr,!1),Nn&&window.clearTimeout(Nn)}});case 5:return Qt.prev=5,it(),Qt.finish(5);case 8:case"end":return Qt.stop()}},Pe,null,[[2,,5,8]])}))).apply(this,arguments)}function Ct(Pe){var xe,_e,Se,Ge,mt,it,Nt,Qt,sn,Sn,Nn=le();(0,B.ax)("function"==typeof(null===(xe=null==Nn?void 0:Nn.universalLinks)||void 0===xe?void 0:xe.subscribe),Pe,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,B.ax)(void 0!==(null===(_e=null==Nn?void 0:Nn.BuildInfo)||void 0===_e?void 0:_e.packageName),Pe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,B.ax)("function"==typeof(null===(mt=null===(Ge=null===(Se=null==Nn?void 0:Nn.cordova)||void 0===Se?void 0:Se.plugins)||void 0===Ge?void 0:Ge.browsertab)||void 0===mt?void 0:mt.openUrl),Pe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,B.ax)("function"==typeof(null===(Qt=null===(Nt=null===(it=null==Nn?void 0:Nn.cordova)||void 0===it?void 0:it.plugins)||void 0===Nt?void 0:Nt.browsertab)||void 0===Qt?void 0:Qt.isAvailable),Pe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,B.ax)("function"==typeof(null===(Sn=null===(sn=null==Nn?void 0:Nn.cordova)||void 0===sn?void 0:sn.InAppBrowser)||void 0===Sn?void 0:Sn.open),Pe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function on(Pe){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,_.Z)(P().mark(function Pe(xe){var _e,Ge;return P().wrap(function(it){for(;;)switch(it.prev=it.next){case 0:return _e=Be(xe),it.next=3,crypto.subtle.digest("SHA-256",_e);case 3:return Ge=Array.from(new Uint8Array(it.sent)),it.abrupt("return",Ge.map(function(Nt){return Nt.toString(16).padStart(2,"0")}).join(""));case 6:case"end":return it.stop()}},Pe)}))).apply(this,arguments)}function Be(Pe){if((0,B.aq)(/[0-9a-zA-Z]+/.test(Pe),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(Pe);for(var xe=new ArrayBuffer(Pe.length),_e=new Uint8Array(xe),Se=0;Se<Pe.length;Se++)_e[Se]=Pe.charCodeAt(Se);return _e}var Te=function(Pe){(0,W.Z)(_e,Pe);var Se,xe=(0,ie.Z)(_e);function _e(){var Se;return(0,X.Z)(this,_e),(Se=xe.apply(this,arguments)).passiveListeners=new Set,Se.initPromise=new Promise(function(Ge){Se.resolveInialized=Ge}),Se}return(0,ne.Z)(_e,[{key:"addPassiveListener",value:function(Ge){this.passiveListeners.add(Ge)}},{key:"removePassiveListener",value:function(Ge){this.passiveListeners.delete(Ge)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(Ge){return this.resolveInialized(),this.passiveListeners.forEach(function(mt){return mt(Ge)}),(0,Z.Z)((0,s.Z)(_e.prototype),"onEvent",this).call(this,Ge)}},{key:"initialized",value:(Se=(0,_.Z)(P().mark(function mt(){return P().wrap(function(Nt){for(;;)switch(Nt.prev=Nt.next){case 0:return Nt.next=2,this.initPromise;case 2:case"end":return Nt.stop()}},mt,this)})),function Ge(){return Se.apply(this,arguments)})}]),_e}(B.aA);function ye(Pe,xe){var _e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:xe,eventId:_e,urlResponse:null,sessionId:Qe(),postBody:null,tenantId:Pe.tenantId,error:(0,B.aw)(Pe,"no-auth-event")}}function ve(Pe,xe){return St()._set(Ke(Pe),xe)}function He(Pe){return tt.apply(this,arguments)}function tt(){return(tt=(0,_.Z)(P().mark(function Pe(xe){var _e;return P().wrap(function(Ge){for(;;)switch(Ge.prev=Ge.next){case 0:return Ge.next=2,St()._get(Ke(xe));case 2:if(!(_e=Ge.sent)){Ge.next=6;break}return Ge.next=6,St()._remove(Ke(xe));case 6:return Ge.abrupt("return",_e);case 7:case"end":return Ge.stop()}},Pe)}))).apply(this,arguments)}function bt(Pe,xe){var _e,Se,Ge=function ln(Pe){var xe=hr(Pe),_e=xe.link?decodeURIComponent(xe.link):void 0,Se=hr(_e).link,Ge=xe.deep_link_id?decodeURIComponent(xe.deep_link_id):void 0;return hr(Ge).link||Ge||Se||_e||Pe}(xe);if(Ge.includes("/__/auth/callback")){var mt=hr(Ge),it=mt.firebaseError?function gt(Pe){try{return JSON.parse(Pe)}catch(xe){return null}}(decodeURIComponent(mt.firebaseError)):null,Nt=null===(Se=null===(_e=null==it?void 0:it.code)||void 0===_e?void 0:_e.split("auth/"))||void 0===Se?void 0:Se[1],Qt=Nt?(0,B.aw)(Nt):null;return Qt?{type:Pe.type,eventId:Pe.eventId,tenantId:Pe.tenantId,error:Qt,urlResponse:null,sessionId:null,postBody:null}:{type:Pe.type,eventId:Pe.eventId,tenantId:Pe.tenantId,sessionId:Pe.sessionId,urlResponse:Ge,postBody:null}}return null}function Qe(){for(var Pe=[],xe="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",_e=0;_e<20;_e++){var Se=Math.floor(Math.random()*xe.length);Pe.push(xe.charAt(Se))}return Pe.join("")}function St(){return(0,B.ay)(B.b)}function Ke(Pe){return(0,B.az)("authEvent",Pe.config.apiKey,Pe.name)}function hr(Pe){if(!(null==Pe?void 0:Pe.includes("?")))return{};var xe=Pe.split("?"),Ge=(0,G.Z)(xe).slice(1);return(0,ee.zd)(Ge.join("?"))}var pr=function(){function Pe(){(0,X.Z)(this,Pe),this._redirectPersistence=B.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=B.aB,this._overrideRedirectResult=B.aC}return(0,ne.Z)(Pe,[{key:"_initialize",value:(xe=(0,_.Z)(P().mark(function Se(Ge){var mt,it;return P().wrap(function(Qt){for(;;)switch(Qt.prev=Qt.next){case 0:return mt=Ge._key(),(it=this.eventManagers.get(mt))||(it=new Te(Ge),this.eventManagers.set(mt,it),this.attachCallbackListeners(Ge,it)),Qt.abrupt("return",it);case 4:case"end":return Qt.stop()}},Se,this)})),function _e(Se){return xe.apply(this,arguments)})},{key:"_openPopup",value:function(_e){(0,B.at)(_e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var xe=(0,_.Z)(P().mark(function Se(Ge,mt,it,Nt){var Qt,sn,Sn;return P().wrap(function(yn){for(;;)switch(yn.prev=yn.next){case 0:return Ct(Ge),yn.next=3,this._initialize(Ge);case 3:return Qt=yn.sent,yn.next=6,Qt.initialized();case 6:return Qt.resetRedirect(),(0,B.aD)(),yn.next=10,this._originValidation(Ge);case 10:return sn=ye(Ge,it,Nt),yn.next=13,ve(Ge,sn);case 13:return yn.next=15,Me(Ge,sn,mt);case 15:return Sn=yn.sent,yn.next=18,qe(Sn);case 18:return yn.abrupt("return",Et(Ge,Qt,yn.sent));case 20:case"end":return yn.stop()}},Se,this)}));return function _e(Se,Ge,mt,it){return xe.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(_e,Se){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(_e){var Se=_e._key();return this.originValidationPromises[Se]||(this.originValidationPromises[Se]=function Fe(Pe){return Ce.apply(this,arguments)}(_e)),this.originValidationPromises[Se]}},{key:"attachCallbackListeners",value:function(_e,Se){var Ge=le(),mt=Ge.universalLinks,it=Ge.handleOpenURL,Nt=Ge.BuildInfo,Qt=setTimeout((0,_.Z)(P().mark(function di(){return P().wrap(function(vr){for(;;)switch(vr.prev=vr.next){case 0:return vr.next=2,He(_e);case 2:Se.onEvent(Qr());case 3:case"end":return vr.stop()}},di)})),500),sn=function(){var di=(0,_.Z)(P().mark(function yn(vr){var oa,Ui;return P().wrap(function(ta){for(;;)switch(ta.prev=ta.next){case 0:return clearTimeout(Qt),ta.next=3,He(_e);case 3:Ui=null,(oa=ta.sent)&&(null==vr?void 0:vr.url)&&(Ui=bt(oa,vr.url)),Se.onEvent(Ui||Qr());case 7:case"end":return ta.stop()}},yn)}));return function(vr){return di.apply(this,arguments)}}();void 0!==mt&&"function"==typeof mt.subscribe&&mt.subscribe(null,sn);var Sn=it,Nn="".concat(Nt.packageName.toLowerCase(),"://");le().handleOpenURL=function(){var di=(0,_.Z)(P().mark(function yn(vr){return P().wrap(function(Ui){for(;;)switch(Ui.prev=Ui.next){case 0:if(vr.toLowerCase().startsWith(Nn)&&sn({url:vr}),"function"==typeof Sn)try{Sn(vr)}catch(cs){console.error(cs)}case 2:case"end":return Ui.stop()}},yn)}));return function(yn){return di.apply(this,arguments)}}()}}]),Pe;var xe}(),Ra=pr;function Qr(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,B.aw)("no-auth-event")}}function mn(){var Pe;return(null===(Pe=null==self?void 0:self.location)||void 0===Pe?void 0:Pe.protocol)||null}function Mo(){var Pe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,ee.z$)();return!("file:"!==mn()&&"ionic:"!==mn()||!Pe.toLowerCase().match(/iphone|ipad|ipod|android/))}function tr(){return(0,ee.w1)()&&11===(null==document?void 0:document.documentMode)}function Dr(){var Pe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,ee.z$)();return/Edge\/\d+/.test(Pe)}function Pa(){try{var Pe=self.localStorage,xe=B.aI();if(Pe)return Pe.setItem(xe,"1"),Pe.removeItem(xe),!function dr(){var Pe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,ee.z$)();return tr()||Dr(Pe)}()||(0,ee.hl)()}catch(_e){return ui()&&(0,ee.hl)()}return!1}function ui(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function ya(){return(function Hr(){return"http:"===mn()||"https:"===mn()}()||(0,ee.ru)()||Mo())&&!function Oa(){return(0,ee.b$)()||(0,ee.UG)()}()&&Pa()&&!ui()}function li(){return Mo()&&"undefined"!=typeof document}function ba(){return nr.apply(this,arguments)}function nr(){return(nr=(0,_.Z)(P().mark(function Pe(){return P().wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:if(li()){_e.next=2;break}return _e.abrupt("return",!1);case 2:return _e.abrupt("return",new Promise(function(Se){var Ge=setTimeout(function(){Se(!1)},1e3);document.addEventListener("deviceready",function(){clearTimeout(Ge),Se(!0)})}));case 3:case"end":return _e.stop()}},Pe)}))).apply(this,arguments)}var wr={LOCAL:"local",NONE:"none",SESSION:"session"},ci=B.ax,rn="persistence";function Xi(Pe,xe){ci(Object.values(wr).includes(xe),Pe,"invalid-persistence-type"),(0,ee.b$)()?ci(xe!==wr.SESSION,Pe,"unsupported-persistence-type"):(0,ee.UG)()?ci(xe===wr.NONE,Pe,"unsupported-persistence-type"):ui()?ci(xe===wr.NONE||xe===wr.LOCAL&&(0,ee.hl)(),Pe,"unsupported-persistence-type"):ci(xe===wr.NONE||Pa(),Pe,"unsupported-persistence-type")}function Jr(Pe){return wi.apply(this,arguments)}function wi(){return(wi=(0,_.Z)(P().mark(function Pe(xe){var _e,Se;return P().wrap(function(mt){for(;;)switch(mt.prev=mt.next){case 0:return mt.next=2,xe._initializationPromise;case 2:_e=qt(),Se=B.az(rn,xe.config.apiKey,xe.name),_e&&_e.setItem(Se,xe._getPersistence());case 5:case"end":return mt.stop()}},Pe)}))).apply(this,arguments)}function qt(){var Pe;try{return(null===(Pe=function Ji(){return"undefined"!=typeof window?window:null}())||void 0===Pe?void 0:Pe.sessionStorage)||null}catch(xe){return null}}var Xt=B.ax,fr=function(){function Pe(){(0,X.Z)(this,Pe),this.browserResolver=B.ay(B.k),this.cordovaResolver=B.ay(Ra),this.underlyingResolver=null,this._redirectPersistence=B.a,this._completeRedirectFn=B.aB,this._overrideRedirectResult=B.aC}return(0,ne.Z)(Pe,[{key:"_initialize",value:(xe=(0,_.Z)(P().mark(function Se(Ge){return P().wrap(function(it){for(;;)switch(it.prev=it.next){case 0:return it.next=2,this.selectUnderlyingResolver();case 2:return it.abrupt("return",this.assertedUnderlyingResolver._initialize(Ge));case 3:case"end":return it.stop()}},Se,this)})),function _e(Se){return xe.apply(this,arguments)})},{key:"_openPopup",value:function(){var xe=(0,_.Z)(P().mark(function Se(Ge,mt,it,Nt){return P().wrap(function(sn){for(;;)switch(sn.prev=sn.next){case 0:return sn.next=2,this.selectUnderlyingResolver();case 2:return sn.abrupt("return",this.assertedUnderlyingResolver._openPopup(Ge,mt,it,Nt));case 3:case"end":return sn.stop()}},Se,this)}));return function _e(Se,Ge,mt,it){return xe.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var xe=(0,_.Z)(P().mark(function Se(Ge,mt,it,Nt){return P().wrap(function(sn){for(;;)switch(sn.prev=sn.next){case 0:return sn.next=2,this.selectUnderlyingResolver();case 2:return sn.abrupt("return",this.assertedUnderlyingResolver._openRedirect(Ge,mt,it,Nt));case 3:case"end":return sn.stop()}},Se,this)}));return function _e(Se,Ge,mt,it){return xe.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(_e,Se){this.assertedUnderlyingResolver._isIframeWebStorageSupported(_e,Se)}},{key:"_originValidation",value:function(_e){return this.assertedUnderlyingResolver._originValidation(_e)}},{key:"_shouldInitProactively",get:function(){return li()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Xt(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var xe=(0,_.Z)(P().mark(function Se(){return P().wrap(function(it){for(;;)switch(it.prev=it.next){case 0:if(!this.underlyingResolver){it.next=2;break}return it.abrupt("return");case 2:return it.next=4,ba();case 4:this.underlyingResolver=it.sent?this.cordovaResolver:this.browserResolver;case 6:case"end":return it.stop()}},Se,this)}));return function _e(){return xe.apply(this,arguments)}}()}]),Pe;var xe}();function ea(Pe){return Pe.unwrap()}function xr(Pe){return Di(Pe)}function Di(Pe){var _e=(Pe instanceof ee.ZR?Pe.customData:Pe)._tokenResponse;if(!_e)return null;if(!(Pe instanceof ee.ZR)&&"temporaryProof"in _e&&"phoneNumber"in _e)return B.P.credentialFromResult(Pe);var Ge,Se=_e.providerId;if(!Se||Se===B.o.PASSWORD)return null;switch(Se){case B.o.GOOGLE:Ge=B.Q;break;case B.o.FACEBOOK:Ge=B.N;break;case B.o.GITHUB:Ge=B.T;break;case B.o.TWITTER:Ge=B.W;break;default:var mt=_e.oauthIdToken,it=_e.oauthAccessToken,Qt=_e.pendingToken,sn=_e.nonce;return it||_e.oauthTokenSecret||mt||Qt?Qt?Se.startsWith("saml.")?B.aL._create(Se,Qt):B.J._fromParams({providerId:Se,signInMethod:Se,pendingToken:Qt,idToken:mt,accessToken:it}):new B.U(Se).credential({idToken:mt,accessToken:it,rawNonce:sn}):null}return Pe instanceof ee.ZR?Ge.credentialFromError(Pe):Ge.credentialFromResult(Pe)}function Ve(Pe,xe){return xe.catch(function(_e){throw _e instanceof ee.ZR&&function Ei(Pe,xe){var _e,Se=null===(_e=xe.customData)||void 0===_e?void 0:_e._tokenResponse;if("auth/multi-factor-auth-required"===xe.code)xe.resolver=new Ue(Pe,B.an(Pe,xe));else if(Se){var mt=Di(xe),it=xe;mt&&(it.credential=mt,it.tenantId=Se.tenantId||void 0,it.email=Se.email||void 0,it.phoneNumber=Se.phoneNumber||void 0)}}(Pe,_e),_e}).then(function(_e){var Ge=_e.user;return{operationType:_e.operationType,credential:xr(_e),additionalUserInfo:B.al(_e),user:Re.getOrCreate(Ge)}})}function Ne(Pe,xe){return be.apply(this,arguments)}function be(){return(be=(0,_.Z)(P().mark(function Pe(xe,_e){var Se;return P().wrap(function(mt){for(;;)switch(mt.prev=mt.next){case 0:return mt.next=2,_e;case 2:return mt.abrupt("return",{verificationId:(Se=mt.sent).verificationId,confirm:function(Nt){return Ve(xe,Se.confirm(Nt))}});case 4:case"end":return mt.stop()}},Pe)}))).apply(this,arguments)}var Ue=function(){function Pe(xe,_e){(0,X.Z)(this,Pe),this.resolver=_e,this.auth=function Ci(Pe){return Pe.wrapped()}(xe)}return(0,ne.Z)(Pe,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(_e){return Ve(ea(this.auth),this.resolver.resolveSignIn(_e))}}]),Pe}(),Re=function(){function Pe(xe){(0,X.Z)(this,Pe),this._delegate=xe,this.multiFactor=B.ao(xe)}return(0,ne.Z)(Pe,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(_e){return this._delegate.getIdTokenResult(_e)}},{key:"getIdToken",value:function(_e){return this._delegate.getIdToken(_e)}},{key:"linkAndRetrieveDataWithCredential",value:function(_e){return this.linkWithCredential(_e)}},{key:"linkWithCredential",value:(xe=(0,_.Z)(P().mark(function Se(Ge){return P().wrap(function(it){for(;;)switch(it.prev=it.next){case 0:return it.abrupt("return",Ve(this.auth,B.Z(this._delegate,Ge)));case 1:case"end":return it.stop()}},Se,this)})),function _e(Se){return xe.apply(this,arguments)})},{key:"linkWithPhoneNumber",value:function(){var xe=(0,_.Z)(P().mark(function Se(Ge,mt){return P().wrap(function(Nt){for(;;)switch(Nt.prev=Nt.next){case 0:return Nt.abrupt("return",Ne(this.auth,B.l(this._delegate,Ge,mt)));case 1:case"end":return Nt.stop()}},Se,this)}));return function _e(Se,Ge){return xe.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var xe=(0,_.Z)(P().mark(function Se(Ge){return P().wrap(function(it){for(;;)switch(it.prev=it.next){case 0:return it.abrupt("return",Ve(this.auth,B.d(this._delegate,Ge,fr)));case 1:case"end":return it.stop()}},Se,this)}));return function _e(Se){return xe.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var xe=(0,_.Z)(P().mark(function Se(Ge){return P().wrap(function(it){for(;;)switch(it.prev=it.next){case 0:return it.next=2,Jr(B.aE(this.auth));case 2:return it.abrupt("return",B.g(this._delegate,Ge,fr));case 3:case"end":return it.stop()}},Se,this)}));return function _e(Se){return xe.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(_e){return this.reauthenticateWithCredential(_e)}},{key:"reauthenticateWithCredential",value:function(){var xe=(0,_.Z)(P().mark(function Se(Ge){return P().wrap(function(it){for(;;)switch(it.prev=it.next){case 0:return it.abrupt("return",Ve(this.auth,B._(this._delegate,Ge)));case 1:case"end":return it.stop()}},Se,this)}));return function _e(Se){return xe.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(_e,Se){return Ne(this.auth,B.r(this._delegate,_e,Se))}},{key:"reauthenticateWithPopup",value:function(_e){return Ve(this.auth,B.e(this._delegate,_e,fr))}},{key:"reauthenticateWithRedirect",value:function(){var xe=(0,_.Z)(P().mark(function Se(Ge){return P().wrap(function(it){for(;;)switch(it.prev=it.next){case 0:return it.next=2,Jr(B.aE(this.auth));case 2:return it.abrupt("return",B.h(this._delegate,Ge,fr));case 3:case"end":return it.stop()}},Se,this)}));return function _e(Se){return xe.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(_e){return B.ab(this._delegate,_e)}},{key:"unlink",value:function(){var xe=(0,_.Z)(P().mark(function Se(Ge){return P().wrap(function(it){for(;;)switch(it.prev=it.next){case 0:return it.next=2,B.ak(this._delegate,Ge);case 2:return it.abrupt("return",this);case 3:case"end":return it.stop()}},Se,this)}));return function _e(Se){return xe.apply(this,arguments)}}()},{key:"updateEmail",value:function(_e){return B.ag(this._delegate,_e)}},{key:"updatePassword",value:function(_e){return B.ah(this._delegate,_e)}},{key:"updatePhoneNumber",value:function(_e){return B.u(this._delegate,_e)}},{key:"updateProfile",value:function(_e){return B.af(this._delegate,_e)}},{key:"verifyBeforeUpdateEmail",value:function(_e,Se){return B.ac(this._delegate,_e,Se)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(_e){return Pe.USER_MAP.has(_e)||Pe.USER_MAP.set(_e,new Pe(_e)),Pe.USER_MAP.get(_e)}}]),Pe;var xe}();Re.USER_MAP=new WeakMap;var Ee=B.ax,Ye=function(){var Pe=function(){function xe(_e,Se){if((0,X.Z)(this,xe),this.app=_e,Se.isInitialized())return this._delegate=Se.getImmediate(),void this.linkUnderlyingAuth();var Ge=_e.options.apiKey;Ee(Ge,"invalid-api-key",{appName:_e.name}),Ee(Ge,"invalid-api-key",{appName:_e.name});var mt="undefined"!=typeof window?fr:void 0;this._delegate=Se.initialize({options:{persistence:kt(Ge,_e.name),popupRedirectResolver:mt}}),this._delegate._updateErrorMap(B.B),this.linkUnderlyingAuth()}return(0,ne.Z)(xe,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Re.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(Se){this._delegate.languageCode=Se}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(Se){this._delegate.tenantId=Se}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(Se,Ge){B.G(this._delegate,Se,Ge)}},{key:"applyActionCode",value:function(Se){return B.a2(this._delegate,Se)}},{key:"checkActionCode",value:function(Se){return B.a3(this._delegate,Se)}},{key:"confirmPasswordReset",value:function(Se,Ge){return B.a1(this._delegate,Se,Ge)}},{key:"createUserWithEmailAndPassword",value:(_e=(0,_.Z)(P().mark(function Ge(mt,it){return P().wrap(function(Qt){for(;;)switch(Qt.prev=Qt.next){case 0:return Qt.abrupt("return",Ve(this._delegate,B.a5(this._delegate,mt,it)));case 1:case"end":return Qt.stop()}},Ge,this)})),function Se(Ge,mt){return _e.apply(this,arguments)})},{key:"fetchProvidersForEmail",value:function(Se){return this.fetchSignInMethodsForEmail(Se)}},{key:"fetchSignInMethodsForEmail",value:function(Se){return B.aa(this._delegate,Se)}},{key:"isSignInWithEmailLink",value:function(Se){return B.a8(this._delegate,Se)}},{key:"getRedirectResult",value:function(){var _e=(0,_.Z)(P().mark(function Ge(){var mt;return P().wrap(function(Nt){for(;;)switch(Nt.prev=Nt.next){case 0:return Ee(ya(),this._delegate,"operation-not-supported-in-this-environment"),Nt.next=3,B.j(this._delegate,fr);case 3:if(mt=Nt.sent){Nt.next=6;break}return Nt.abrupt("return",{credential:null,user:null});case 6:return Nt.abrupt("return",Ve(this._delegate,Promise.resolve(mt)));case 7:case"end":return Nt.stop()}},Ge,this)}));return function Se(){return _e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(Se){!function Ir(Pe,xe){(0,B.aE)(Pe)._logFramework(xe)}(this._delegate,Se)}},{key:"onAuthStateChanged",value:function(Se,Ge,mt){var it=_t(Se,Ge,mt);return this._delegate.onAuthStateChanged(it.next,it.error,it.complete)}},{key:"onIdTokenChanged",value:function(Se,Ge,mt){var it=_t(Se,Ge,mt);return this._delegate.onIdTokenChanged(it.next,it.error,it.complete)}},{key:"sendSignInLinkToEmail",value:function(Se,Ge){return B.a7(this._delegate,Se,Ge)}},{key:"sendPasswordResetEmail",value:function(Se,Ge){return B.a0(this._delegate,Se,Ge||void 0)}},{key:"setPersistence",value:function(){var _e=(0,_.Z)(P().mark(function Ge(mt){var it;return P().wrap(function(sn){for(;;)switch(sn.prev=sn.next){case 0:Xi(this._delegate,mt),sn.t0=mt,sn.next=sn.t0===wr.SESSION?4:sn.t0===wr.LOCAL?6:sn.t0===wr.NONE?11:13;break;case 4:return it=B.a,sn.abrupt("break",14);case 6:return sn.next=8,B.ay(B.i)._isAvailable();case 8:return it=sn.sent?B.i:B.b,sn.abrupt("break",14);case 11:return it=B.L,sn.abrupt("break",14);case 13:return sn.abrupt("return",B.at("argument-error",{appName:this._delegate.name}));case 14:return sn.abrupt("return",this._delegate.setPersistence(it));case 15:case"end":return sn.stop()}},Ge,this)}));return function Se(Ge){return _e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(Se){return this.signInWithCredential(Se)}},{key:"signInAnonymously",value:function(){return Ve(this._delegate,B.X(this._delegate))}},{key:"signInWithCredential",value:function(Se){return Ve(this._delegate,B.Y(this._delegate,Se))}},{key:"signInWithCustomToken",value:function(Se){return Ve(this._delegate,B.$(this._delegate,Se))}},{key:"signInWithEmailAndPassword",value:function(Se,Ge){return Ve(this._delegate,B.a6(this._delegate,Se,Ge))}},{key:"signInWithEmailLink",value:function(Se,Ge){return Ve(this._delegate,B.a9(this._delegate,Se,Ge))}},{key:"signInWithPhoneNumber",value:function(Se,Ge){return Ne(this._delegate,B.s(this._delegate,Se,Ge))}},{key:"signInWithPopup",value:function(){var _e=(0,_.Z)(P().mark(function Ge(mt){return P().wrap(function(Nt){for(;;)switch(Nt.prev=Nt.next){case 0:return Ee(ya(),this._delegate,"operation-not-supported-in-this-environment"),Nt.abrupt("return",Ve(this._delegate,B.c(this._delegate,mt,fr)));case 2:case"end":return Nt.stop()}},Ge,this)}));return function Se(Ge){return _e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var _e=(0,_.Z)(P().mark(function Ge(mt){return P().wrap(function(Nt){for(;;)switch(Nt.prev=Nt.next){case 0:return Ee(ya(),this._delegate,"operation-not-supported-in-this-environment"),Nt.next=3,Jr(this._delegate);case 3:return Nt.abrupt("return",B.f(this._delegate,mt,fr));case 4:case"end":return Nt.stop()}},Ge,this)}));return function Se(Ge){return _e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(Se){return this._delegate.updateCurrentUser(Se)}},{key:"verifyPasswordResetCode",value:function(Se){return B.a4(this._delegate,Se)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var Se=this;this._delegate.wrapped=function(){return Se}}}]),xe;var _e}();return Pe.Persistence=wr,Pe}();function _t(Pe,xe,_e){var Se=Pe;"function"!=typeof Pe&&(Se=Pe.next,xe=Pe.error,_e=Pe.complete);var Ge=Se;return{next:function(Nt){return Ge(Nt&&Re.getOrCreate(Nt))},error:xe,complete:_e}}function kt(Pe,xe){var _e=function ir(Pe,xe){var _e=qt();if(!_e)return[];var Se=B.az(rn,Pe,xe);switch(_e.getItem(Se)){case wr.NONE:return[B.L];case wr.LOCAL:return[B.i,B.a];case wr.SESSION:return[B.a];default:return[]}}(Pe,xe);if("undefined"!=typeof self&&!_e.includes(B.i)&&_e.push(B.i),"undefined"!=typeof window)for(var Se=0,Ge=[B.b,B.a];Se<Ge.length;Se++){var mt=Ge[Se];_e.includes(mt)||_e.push(mt)}return _e.includes(B.L)||_e.push(B.L),_e}var Bt=function(){function Pe(){(0,X.Z)(this,Pe),this.providerId="phone",this._delegate=new B.P(ea(N.Z.auth()))}return(0,ne.Z)(Pe,[{key:"verifyPhoneNumber",value:function(_e,Se){return this._delegate.verifyPhoneNumber(_e,Se)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(_e,Se){return B.P.credential(_e,Se)}}]),Pe}();Bt.PHONE_SIGN_IN_METHOD=B.P.PHONE_SIGN_IN_METHOD,Bt.PROVIDER_ID=B.P.PROVIDER_ID;var en=B.ax,Ot=function(){function Pe(xe,_e){var Ge,Se=arguments.length>2&&void 0!==arguments[2]?arguments[2]:N.Z.app();(0,X.Z)(this,Pe),en(null===(Ge=Se.options)||void 0===Ge?void 0:Ge.apiKey,"invalid-api-key",{appName:Se.name}),this._delegate=new B.R(xe,_e,Se.auth()),this.type=this._delegate.type}return(0,ne.Z)(Pe,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),Pe}();!function an(Pe){Pe.INTERNAL.registerComponent(new oe.wA("auth-compat",function(xe){var _e=xe.getProvider("app-compat").getImmediate(),Se=xe.getProvider("auth");return new Ye(_e,Se)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:B.A.EMAIL_SIGNIN,PASSWORD_RESET:B.A.PASSWORD_RESET,RECOVER_EMAIL:B.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:B.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:B.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:B.A.VERIFY_EMAIL}},EmailAuthProvider:B.M,FacebookAuthProvider:B.N,GithubAuthProvider:B.T,GoogleAuthProvider:B.Q,OAuthProvider:B.U,SAMLAuthProvider:B.V,PhoneAuthProvider:Bt,PhoneMultiFactorGenerator:B.m,RecaptchaVerifier:Ot,TwitterAuthProvider:B.W,Auth:Ye,AuthCredential:B.H,Error:ee.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Pe.registerVersion("@firebase/auth-compat","0.2.14")}(N.Z)},7854:function(ht){var ke=function(x){"use strict";var _,X=Object.prototype,ne=X.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},P=m.iterator||"@@iterator",N=m.asyncIterator||"@@asyncIterator",G=m.toStringTag||"@@toStringTag";function Z(ye,ve,He){return Object.defineProperty(ye,ve,{value:He,enumerable:!0,configurable:!0,writable:!0}),ye[ve]}try{Z({},"")}catch(ye){Z=function(He,tt,bt){return He[tt]=bt}}function s(ye,ve,He,tt){var Qe=Object.create((ve&&ve.prototype instanceof oe?ve:oe).prototype),St=new Be(tt||[]);return Qe._invoke=function Mt(ye,ve,He){var tt=ie;return function(Qe,St){if(tt===ee)throw new Error("Generator is already running");if(tt===L){if("throw"===Qe)throw St;return Te()}for(He.method=Qe,He.arg=St;;){var Ke=He.delegate;if(Ke){var gt=Ct(Ke,He);if(gt){if(gt===K)continue;return gt}}if("next"===He.method)He.sent=He._sent=He.arg;else if("throw"===He.method){if(tt===ie)throw tt=L,He.arg;He.dispatchException(He.arg)}else"return"===He.method&&He.abrupt("return",He.arg);tt=ee;var ln=W(ye,ve,He);if("normal"===ln.type){if(tt=He.done?L:B,ln.arg===K)continue;return{value:ln.arg,done:He.done}}"throw"===ln.type&&(tt=L,He.method="throw",He.arg=ln.arg)}}}(ye,He,St),Qe}function W(ye,ve,He){try{return{type:"normal",arg:ye.call(ve,He)}}catch(tt){return{type:"throw",arg:tt}}}x.wrap=s;var ie="suspendedStart",B="suspendedYield",ee="executing",L="completed",K={};function oe(){}function le(){}function Ie(){}var Me={};Z(Me,P,function(){return this});var pe=Object.getPrototypeOf,Fe=pe&&pe(pe(De([])));Fe&&Fe!==X&&ne.call(Fe,P)&&(Me=Fe);var Ce=Ie.prototype=oe.prototype=Object.create(Me);function qe(ye){["next","throw","return"].forEach(function(ve){Z(ye,ve,function(He){return this._invoke(ve,He)})})}function Et(ye,ve){function He(Qe,St,Ke,gt){var ln=W(ye[Qe],ye,St);if("throw"!==ln.type){var hr=ln.arg,$n=hr.value;return $n&&"object"==typeof $n&&ne.call($n,"__await")?ve.resolve($n.__await).then(function(pr){He("next",pr,Ke,gt)},function(pr){He("throw",pr,Ke,gt)}):ve.resolve($n).then(function(pr){hr.value=pr,Ke(hr)},function(pr){return He("throw",pr,Ke,gt)})}gt(ln.arg)}var tt;this._invoke=function bt(Qe,St){function Ke(){return new ve(function(gt,ln){He(Qe,St,gt,ln)})}return tt=tt?tt.then(Ke,Ke):Ke()}}function Ct(ye,ve){var He=ye.iterator[ve.method];if(He===_){if(ve.delegate=null,"throw"===ve.method){if(ye.iterator.return&&(ve.method="return",ve.arg=_,Ct(ye,ve),"throw"===ve.method))return K;ve.method="throw",ve.arg=new TypeError("The iterator does not provide a 'throw' method")}return K}var tt=W(He,ye.iterator,ve.arg);if("throw"===tt.type)return ve.method="throw",ve.arg=tt.arg,ve.delegate=null,K;var bt=tt.arg;return bt?bt.done?(ve[ye.resultName]=bt.value,ve.next=ye.nextLoc,"return"!==ve.method&&(ve.method="next",ve.arg=_),ve.delegate=null,K):bt:(ve.method="throw",ve.arg=new TypeError("iterator result is not an object"),ve.delegate=null,K)}function on(ye){var ve={tryLoc:ye[0]};1 in ye&&(ve.catchLoc=ye[1]),2 in ye&&(ve.finallyLoc=ye[2],ve.afterLoc=ye[3]),this.tryEntries.push(ve)}function Xe(ye){var ve=ye.completion||{};ve.type="normal",delete ve.arg,ye.completion=ve}function Be(ye){this.tryEntries=[{tryLoc:"root"}],ye.forEach(on,this),this.reset(!0)}function De(ye){if(ye){var ve=ye[P];if(ve)return ve.call(ye);if("function"==typeof ye.next)return ye;if(!isNaN(ye.length)){var He=-1,tt=function bt(){for(;++He<ye.length;)if(ne.call(ye,He))return bt.value=ye[He],bt.done=!1,bt;return bt.value=_,bt.done=!0,bt};return tt.next=tt}}return{next:Te}}function Te(){return{value:_,done:!0}}return le.prototype=Ie,Z(Ce,"constructor",Ie),Z(Ie,"constructor",le),le.displayName=Z(Ie,G,"GeneratorFunction"),x.isGeneratorFunction=function(ye){var ve="function"==typeof ye&&ye.constructor;return!!ve&&(ve===le||"GeneratorFunction"===(ve.displayName||ve.name))},x.mark=function(ye){return Object.setPrototypeOf?Object.setPrototypeOf(ye,Ie):(ye.__proto__=Ie,Z(ye,G,"GeneratorFunction")),ye.prototype=Object.create(Ce),ye},x.awrap=function(ye){return{__await:ye}},qe(Et.prototype),Z(Et.prototype,N,function(){return this}),x.AsyncIterator=Et,x.async=function(ye,ve,He,tt,bt){void 0===bt&&(bt=Promise);var Qe=new Et(s(ye,ve,He,tt),bt);return x.isGeneratorFunction(ve)?Qe:Qe.next().then(function(St){return St.done?St.value:Qe.next()})},qe(Ce),Z(Ce,G,"Generator"),Z(Ce,P,function(){return this}),Z(Ce,"toString",function(){return"[object Generator]"}),x.keys=function(ye){var ve=[];for(var He in ye)ve.push(He);return ve.reverse(),function tt(){for(;ve.length;){var bt=ve.pop();if(bt in ye)return tt.value=bt,tt.done=!1,tt}return tt.done=!0,tt}},x.values=De,Be.prototype={constructor:Be,reset:function(ve){if(this.prev=0,this.next=0,this.sent=this._sent=_,this.done=!1,this.delegate=null,this.method="next",this.arg=_,this.tryEntries.forEach(Xe),!ve)for(var He in this)"t"===He.charAt(0)&&ne.call(this,He)&&!isNaN(+He.slice(1))&&(this[He]=_)},stop:function(){this.done=!0;var He=this.tryEntries[0].completion;if("throw"===He.type)throw He.arg;return this.rval},dispatchException:function(ve){if(this.done)throw ve;var He=this;function tt(ln,hr){return St.type="throw",St.arg=ve,He.next=ln,hr&&(He.method="next",He.arg=_),!!hr}for(var bt=this.tryEntries.length-1;bt>=0;--bt){var Qe=this.tryEntries[bt],St=Qe.completion;if("root"===Qe.tryLoc)return tt("end");if(Qe.tryLoc<=this.prev){var Ke=ne.call(Qe,"catchLoc"),gt=ne.call(Qe,"finallyLoc");if(Ke&&gt){if(this.prev<Qe.catchLoc)return tt(Qe.catchLoc,!0);if(this.prev<Qe.finallyLoc)return tt(Qe.finallyLoc)}else if(Ke){if(this.prev<Qe.catchLoc)return tt(Qe.catchLoc,!0)}else{if(!gt)throw new Error("try statement without catch or finally");if(this.prev<Qe.finallyLoc)return tt(Qe.finallyLoc)}}}},abrupt:function(ve,He){for(var tt=this.tryEntries.length-1;tt>=0;--tt){var bt=this.tryEntries[tt];if(bt.tryLoc<=this.prev&&ne.call(bt,"finallyLoc")&&this.prev<bt.finallyLoc){var Qe=bt;break}}Qe&&("break"===ve||"continue"===ve)&&Qe.tryLoc<=He&&He<=Qe.finallyLoc&&(Qe=null);var St=Qe?Qe.completion:{};return St.type=ve,St.arg=He,Qe?(this.method="next",this.next=Qe.finallyLoc,K):this.complete(St)},complete:function(ve,He){if("throw"===ve.type)throw ve.arg;return"break"===ve.type||"continue"===ve.type?this.next=ve.arg:"return"===ve.type?(this.rval=this.arg=ve.arg,this.method="return",this.next="end"):"normal"===ve.type&&He&&(this.next=He),K},finish:function(ve){for(var He=this.tryEntries.length-1;He>=0;--He){var tt=this.tryEntries[He];if(tt.finallyLoc===ve)return this.complete(tt.completion,tt.afterLoc),Xe(tt),K}},catch:function(ve){for(var He=this.tryEntries.length-1;He>=0;--He){var tt=this.tryEntries[He];if(tt.tryLoc===ve){var bt=tt.completion;if("throw"===bt.type){var Qe=bt.arg;Xe(tt)}return Qe}}throw new Error("illegal catch attempt")},delegateYield:function(ve,He,tt){return this.delegate={iterator:De(ve),resultName:He,nextLoc:tt},"next"===this.method&&(this.arg=_),K}},x}(ht.exports);try{regeneratorRuntime=ke}catch(x){"object"==typeof globalThis?globalThis.regeneratorRuntime=ke:Function("r","regeneratorRuntime = r")(ke)}},9312:function(ht,ke,x){"use strict";x.d(ke,{P:function(){return G}});var X=x(5671),ne=x(3144),_=x(8896),m=x(1086),P=x(1737),G=function(){function Z(s,W,ie){(0,X.Z)(this,Z),this.kind=s,this.value=W,this.error=ie,this.hasValue="N"===s}return(0,ne.Z)(Z,[{key:"observe",value:function(W){switch(this.kind){case"N":return W.next&&W.next(this.value);case"E":return W.error&&W.error(this.error);case"C":return W.complete&&W.complete()}}},{key:"do",value:function(W,ie,B){switch(this.kind){case"N":return W&&W(this.value);case"E":return ie&&ie(this.error);case"C":return B&&B()}}},{key:"accept",value:function(W,ie,B){return W&&"function"==typeof W.next?this.observe(W):this.do(W,ie,B)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return(0,m.of)(this.value);case"E":return(0,P._)(this.error);case"C":return(0,_.c)()}throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(W){return void 0!==W?new Z("N",W):Z.undefinedValueNotification}},{key:"createError",value:function(W){return new Z("E",void 0,W)}},{key:"createComplete",value:function(){return Z.completeNotification}}]),Z}();G.completeNotification=new G("C"),G.undefinedValueNotification=new G("N",void 0)},6498:function(ht,ke,x){"use strict";x.d(ke,{y:function(){return ie}});var X=x(5671),ne=x(3144),_=x(3489),P=x(7668),N=x(3292),Z=x(3821),s=x(4843),W=x(2830),ie=function(){var ee=function(){function L(K){(0,X.Z)(this,L),this._isScalar=!1,K&&(this._subscribe=K)}return(0,ne.Z)(L,[{key:"lift",value:function(oe){var le=new L;return le.source=this,le.operator=oe,le}},{key:"subscribe",value:function(oe,le,Ie){var Me=this.operator,pe=function G(ee,L,K){if(ee){if(ee instanceof _.L)return ee;if(ee[P.b])return ee[P.b]()}return ee||L||K?new _.L(ee,L,K):new _.L(N.c)}(oe,le,Ie);if(pe.add(Me?Me.call(pe,this.source):this.source||W.v.useDeprecatedSynchronousErrorHandling&&!pe.syncErrorThrowable?this._subscribe(pe):this._trySubscribe(pe)),W.v.useDeprecatedSynchronousErrorHandling&&pe.syncErrorThrowable&&(pe.syncErrorThrowable=!1,pe.syncErrorThrown))throw pe.syncErrorValue;return pe}},{key:"_trySubscribe",value:function(oe){try{return this._subscribe(oe)}catch(le){W.v.useDeprecatedSynchronousErrorHandling&&(oe.syncErrorThrown=!0,oe.syncErrorValue=le),function m(ee){for(;ee;){var oe=ee.destination;if(ee.closed||ee.isStopped)return!1;ee=oe&&oe instanceof _.L?oe:null}return!0}(oe)?oe.error(le):console.warn(le)}}},{key:"forEach",value:function(oe,le){var Ie=this;return new(le=B(le))(function(Me,pe){var Fe;Fe=Ie.subscribe(function(Ce){try{oe(Ce)}catch(qe){pe(qe),Fe&&Fe.unsubscribe()}},pe,Me)})}},{key:"_subscribe",value:function(oe){var le=this.source;return le&&le.subscribe(oe)}},{key:Z.L,value:function(){return this}},{key:"pipe",value:function(){for(var oe=arguments.length,le=new Array(oe),Ie=0;Ie<oe;Ie++)le[Ie]=arguments[Ie];return 0===le.length?this:(0,s.U)(le)(this)}},{key:"toPromise",value:function(oe){var le=this;return new(oe=B(oe))(function(Ie,Me){var pe;le.subscribe(function(Fe){return pe=Fe},function(Fe){return Me(Fe)},function(){return Ie(pe)})})}}]),L}();return ee.create=function(L){return new ee(L)},ee}();function B(ee){if(ee||(ee=W.v.Promise||Promise),!ee)throw new Error("no Promise impl found");return ee}},3292:function(ht,ke,x){"use strict";x.d(ke,{c:function(){return _}});var X=x(2830),ne=x(2782),_={closed:!0,next:function(P){},error:function(P){if(X.v.useDeprecatedSynchronousErrorHandling)throw P;(0,ne.z)(P)},complete:function(){}}},8929:function(ht,ke,x){"use strict";x.d(ke,{Yc:function(){return ee},xQ:function(){return L}});var X=x(3237),ne=x(1120),_=x(3144),m=x(5671),P=x(136),N=x(7777),G=x(6498),Z=x(3489),s=x(2654),W=x(5279),ie=x(5283),B=x(7668),ee=function(oe){(0,P.Z)(Ie,oe);var le=(0,N.Z)(Ie);function Ie(Me){var pe;return(0,m.Z)(this,Ie),(pe=le.call(this,Me)).destination=Me,pe}return(0,_.Z)(Ie)}(Z.L),L=function(){var oe=function(le){(0,P.Z)(Me,le);var Ie=(0,N.Z)(Me);function Me(){var pe;return(0,m.Z)(this,Me),(pe=Ie.call(this)).observers=[],pe.closed=!1,pe.isStopped=!1,pe.hasError=!1,pe.thrownError=null,pe}return(0,_.Z)(Me,[{key:B.b,value:function(){return new ee(this)}},{key:"lift",value:function(Fe){var Ce=new K(this,this);return Ce.operator=Fe,Ce}},{key:"next",value:function(Fe){if(this.closed)throw new W.N;if(!this.isStopped)for(var Ce=this.observers,qe=Ce.length,Et=Ce.slice(),Mt=0;Mt<qe;Mt++)Et[Mt].next(Fe)}},{key:"error",value:function(Fe){if(this.closed)throw new W.N;this.hasError=!0,this.thrownError=Fe,this.isStopped=!0;for(var Ce=this.observers,qe=Ce.length,Et=Ce.slice(),Mt=0;Mt<qe;Mt++)Et[Mt].error(Fe);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new W.N;this.isStopped=!0;for(var Fe=this.observers,Ce=Fe.length,qe=Fe.slice(),Et=0;Et<Ce;Et++)qe[Et].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(Fe){if(this.closed)throw new W.N;return(0,X.Z)((0,ne.Z)(Me.prototype),"_trySubscribe",this).call(this,Fe)}},{key:"_subscribe",value:function(Fe){if(this.closed)throw new W.N;return this.hasError?(Fe.error(this.thrownError),s.w.EMPTY):this.isStopped?(Fe.complete(),s.w.EMPTY):(this.observers.push(Fe),new ie.W(this,Fe))}},{key:"asObservable",value:function(){var Fe=new G.y;return Fe.source=this,Fe}}]),Me}(G.y);return oe.create=function(le,Ie){return new K(le,Ie)},oe}(),K=function(oe){(0,P.Z)(Ie,oe);var le=(0,N.Z)(Ie);function Ie(Me,pe){var Fe;return(0,m.Z)(this,Ie),(Fe=le.call(this)).destination=Me,Fe.source=pe,Fe}return(0,_.Z)(Ie,[{key:"next",value:function(pe){var Fe=this.destination;Fe&&Fe.next&&Fe.next(pe)}},{key:"error",value:function(pe){var Fe=this.destination;Fe&&Fe.error&&this.destination.error(pe)}},{key:"complete",value:function(){var pe=this.destination;pe&&pe.complete&&this.destination.complete()}},{key:"_subscribe",value:function(pe){return this.source?this.source.subscribe(pe):s.w.EMPTY}}]),Ie}(L)},5283:function(ht,ke,x){"use strict";x.d(ke,{W:function(){return N}});var X=x(5671),ne=x(3144),_=x(136),m=x(7777),N=function(G){(0,_.Z)(s,G);var Z=(0,m.Z)(s);function s(W,ie){var B;return(0,X.Z)(this,s),(B=Z.call(this)).subject=W,B.subscriber=ie,B.closed=!1,B}return(0,ne.Z)(s,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var ie=this.subject,B=ie.observers;if(this.subject=null,B&&0!==B.length&&!ie.isStopped&&!ie.closed){var ee=B.indexOf(this.subscriber);-1!==ee&&B.splice(ee,1)}}}}]),s}(x(2654).w)},3489:function(ht,ke,x){"use strict";x.d(ke,{L:function(){return L}});var X=x(5671),ne=x(3144),_=x(7326),m=x(3237),P=x(1120),N=x(136),G=x(7777),Z=x(7043),s=x(3292),W=x(2654),ie=x(7668),B=x(2830),ee=x(2782),L=function(oe){(0,N.Z)(Ie,oe);var le=(0,G.Z)(Ie);function Ie(Me,pe,Fe){var Ce;switch((0,X.Z)(this,Ie),(Ce=le.call(this)).syncErrorValue=null,Ce.syncErrorThrown=!1,Ce.syncErrorThrowable=!1,Ce.isStopped=!1,arguments.length){case 0:Ce.destination=s.c;break;case 1:if(!Me){Ce.destination=s.c;break}if("object"==typeof Me){Me instanceof Ie?(Ce.syncErrorThrowable=Me.syncErrorThrowable,Ce.destination=Me,Me.add((0,_.Z)(Ce))):(Ce.syncErrorThrowable=!0,Ce.destination=new K((0,_.Z)(Ce),Me));break}default:Ce.syncErrorThrowable=!0,Ce.destination=new K((0,_.Z)(Ce),Me,pe,Fe)}return Ce}return(0,ne.Z)(Ie,[{key:ie.b,value:function(){return this}},{key:"next",value:function(pe){this.isStopped||this._next(pe)}},{key:"error",value:function(pe){this.isStopped||(this.isStopped=!0,this._error(pe))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,(0,m.Z)((0,P.Z)(Ie.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(pe){this.destination.next(pe)}},{key:"_error",value:function(pe){this.destination.error(pe),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var pe=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=pe,this}}],[{key:"create",value:function(pe,Fe,Ce){var qe=new Ie(pe,Fe,Ce);return qe.syncErrorThrowable=!1,qe}}]),Ie}(W.w),K=function(oe){(0,N.Z)(Ie,oe);var le=(0,G.Z)(Ie);function Ie(Me,pe,Fe,Ce){var qe;(0,X.Z)(this,Ie),(qe=le.call(this))._parentSubscriber=Me;var Et,Mt=(0,_.Z)(qe);return(0,Z.m)(pe)?Et=pe:pe&&(Et=pe.next,Fe=pe.error,Ce=pe.complete,pe!==s.c&&(Mt=Object.create(pe),(0,Z.m)(Mt.unsubscribe)&&qe.add(Mt.unsubscribe.bind(Mt)),Mt.unsubscribe=qe.unsubscribe.bind((0,_.Z)(qe)))),qe._context=Mt,qe._next=Et,qe._error=Fe,qe._complete=Ce,qe}return(0,ne.Z)(Ie,[{key:"next",value:function(pe){if(!this.isStopped&&this._next){var Fe=this._parentSubscriber;B.v.useDeprecatedSynchronousErrorHandling&&Fe.syncErrorThrowable?this.__tryOrSetError(Fe,this._next,pe)&&this.unsubscribe():this.__tryOrUnsub(this._next,pe)}}},{key:"error",value:function(pe){if(!this.isStopped){var Fe=this._parentSubscriber,Ce=B.v.useDeprecatedSynchronousErrorHandling;if(this._error)Ce&&Fe.syncErrorThrowable?(this.__tryOrSetError(Fe,this._error,pe),this.unsubscribe()):(this.__tryOrUnsub(this._error,pe),this.unsubscribe());else if(Fe.syncErrorThrowable)Ce?(Fe.syncErrorValue=pe,Fe.syncErrorThrown=!0):(0,ee.z)(pe),this.unsubscribe();else{if(this.unsubscribe(),Ce)throw pe;(0,ee.z)(pe)}}}},{key:"complete",value:function(){var pe=this;if(!this.isStopped){var Fe=this._parentSubscriber;if(this._complete){var Ce=function(){return pe._complete.call(pe._context)};B.v.useDeprecatedSynchronousErrorHandling&&Fe.syncErrorThrowable?(this.__tryOrSetError(Fe,Ce),this.unsubscribe()):(this.__tryOrUnsub(Ce),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(pe,Fe){try{pe.call(this._context,Fe)}catch(Ce){if(this.unsubscribe(),B.v.useDeprecatedSynchronousErrorHandling)throw Ce;(0,ee.z)(Ce)}}},{key:"__tryOrSetError",value:function(pe,Fe,Ce){if(!B.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{Fe.call(this._context,Ce)}catch(qe){return B.v.useDeprecatedSynchronousErrorHandling?(pe.syncErrorValue=qe,pe.syncErrorThrown=!0,!0):((0,ee.z)(qe),!0)}return!1}},{key:"_unsubscribe",value:function(){var pe=this._parentSubscriber;this._context=null,this._parentSubscriber=null,pe.unsubscribe()}}]),Ie}(L)},2654:function(ht,ke,x){"use strict";x.d(ke,{w:function(){return Z}});var W,X=x(5671),ne=x(3144),_=x(6688),m=x(7830),P=x(7043),N=function(){function W(ie){return Error.call(this),this.message=ie?"".concat(ie.length," errors occurred during unsubscription:\n").concat(ie.map(function(B,ee){return"".concat(ee+1,") ").concat(B.toString())}).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=ie,this}return W.prototype=Object.create(Error.prototype),W}(),G=N,Z=function(){function W(ie){(0,X.Z)(this,W),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,ie&&(this._ctorUnsubscribe=!0,this._unsubscribe=ie)}return(0,ne.Z)(W,[{key:"unsubscribe",value:function(){var B;if(!this.closed){var ee=this._parentOrParents,L=this._ctorUnsubscribe,K=this._unsubscribe,oe=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,ee instanceof W)ee.remove(this);else if(null!==ee)for(var le=0;le<ee.length;++le)ee[le].remove(this);if((0,P.m)(K)){L&&(this._unsubscribe=void 0);try{K.call(this)}catch(Ce){B=Ce instanceof G?s(Ce.errors):[Ce]}}if((0,_.k)(oe))for(var Me=-1,pe=oe.length;++Me<pe;){var Fe=oe[Me];if((0,m.K)(Fe))try{Fe.unsubscribe()}catch(Ce){B=B||[],Ce instanceof G?B=B.concat(s(Ce.errors)):B.push(Ce)}}if(B)throw new G(B)}}},{key:"add",value:function(B){var ee=B;if(!B)return W.EMPTY;switch(typeof B){case"function":ee=new W(B);case"object":if(ee===this||ee.closed||"function"!=typeof ee.unsubscribe)return ee;if(this.closed)return ee.unsubscribe(),ee;if(!(ee instanceof W)){var L=ee;(ee=new W)._subscriptions=[L]}break;default:throw new Error("unrecognized teardown "+B+" added to Subscription.")}var oe=ee._parentOrParents;if(null===oe)ee._parentOrParents=this;else if(oe instanceof W){if(oe===this)return ee;ee._parentOrParents=[oe,this]}else{if(-1!==oe.indexOf(this))return ee;oe.push(this)}var le=this._subscriptions;return null===le?this._subscriptions=[ee]:le.push(ee),ee}},{key:"remove",value:function(B){var ee=this._subscriptions;if(ee){var L=ee.indexOf(B);-1!==L&&ee.splice(L,1)}}}]),W}();function s(W){return W.reduce(function(ie,B){return ie.concat(B instanceof G?B.errors:B)},[])}Z.EMPTY=((W=new Z).closed=!0,W)},2830:function(ht,ke,x){"use strict";x.d(ke,{v:function(){return ne}});var X=!1,ne={Promise:void 0,set useDeprecatedSynchronousErrorHandling(_){if(_){var m=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+m.stack)}else X&&console.log("RxJS: Back to a better error behavior. Thank you. <3");X=_},get useDeprecatedSynchronousErrorHandling(){return X}}},1177:function(ht,ke,x){"use strict";x.d(ke,{IY:function(){return Z},Ds:function(){return W},ft:function(){return B}});var X=x(5671),ne=x(3144),_=x(136),m=x(7777),P=x(3489),N=x(6498),G=x(9249),Z=function(ee){(0,_.Z)(K,ee);var L=(0,m.Z)(K);function K(oe){var le;return(0,X.Z)(this,K),(le=L.call(this)).parent=oe,le}return(0,ne.Z)(K,[{key:"_next",value:function(le){this.parent.notifyNext(le)}},{key:"_error",value:function(le){this.parent.notifyError(le),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(),this.unsubscribe()}}]),K}(P.L),W=function(ee){(0,_.Z)(K,ee);var L=(0,m.Z)(K);function K(){return(0,X.Z)(this,K),L.apply(this,arguments)}return(0,ne.Z)(K,[{key:"notifyNext",value:function(le){this.destination.next(le)}},{key:"notifyError",value:function(le){this.destination.error(le)}},{key:"notifyComplete",value:function(){this.destination.complete()}}]),K}(P.L);function B(ee,L){if(!L.closed){if(ee instanceof N.y)return ee.subscribe(L);var K;try{K=(0,G.s)(ee)(L)}catch(oe){L.error(oe)}return K}}},1762:function(ht,ke,x){"use strict";x.d(ke,{c:function(){return B},N:function(){return ee}});var le,X=x(3237),ne=x(1120),_=x(5671),m=x(3144),P=x(136),N=x(7777),G=x(8929),Z=x(6498),W=(x(3489),x(2654)),ie=x(4327),B=function(le){(0,P.Z)(Me,le);var Ie=(0,N.Z)(Me);function Me(pe,Fe){var Ce;return(0,_.Z)(this,Me),(Ce=Ie.call(this)).source=pe,Ce.subjectFactory=Fe,Ce._refCount=0,Ce._isComplete=!1,Ce}return(0,m.Z)(Me,[{key:"_subscribe",value:function(Fe){return this.getSubject().subscribe(Fe)}},{key:"getSubject",value:function(){var Fe=this._subject;return(!Fe||Fe.isStopped)&&(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var Fe=this._connection;return Fe||(this._isComplete=!1,(Fe=this._connection=new W.w).add(this.source.subscribe(new L(this.getSubject(),this))),Fe.closed&&(this._connection=null,Fe=W.w.EMPTY)),Fe}},{key:"refCount",value:function(){return(0,ie.x)()(this)}}]),Me}(Z.y),ee={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(le=B.prototype)._subscribe},_isComplete:{value:le._isComplete,writable:!0},getSubject:{value:le.getSubject},connect:{value:le.connect},refCount:{value:le.refCount}},L=function(le){(0,P.Z)(Me,le);var Ie=(0,N.Z)(Me);function Me(pe,Fe){var Ce;return(0,_.Z)(this,Me),(Ce=Ie.call(this,pe)).connectable=Fe,Ce}return(0,m.Z)(Me,[{key:"_error",value:function(Fe){this._unsubscribe(),(0,X.Z)((0,ne.Z)(Me.prototype),"_error",this).call(this,Fe)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),(0,X.Z)((0,ne.Z)(Me.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var Fe=this.connectable;if(Fe){this.connectable=null;var Ce=Fe._connection;Fe._refCount=0,Fe._subject=null,Fe._connection=null,Ce&&Ce.unsubscribe()}}}]),Me}(G.Yc)},8896:function(ht,ke,x){"use strict";x.d(ke,{E:function(){return ne},c:function(){return _}});var X=x(6498),ne=new X.y(function(P){return P.complete()});function _(P){return P?function m(P){return new X.y(function(N){return P.schedule(function(){return N.complete()})})}(P):ne}},5254:function(ht,ke,x){"use strict";x.d(ke,{D:function(){return K}});var X=x(6498),ne=x(9249),_=x(2654),m=x(3821),G=x(6454),Z=x(5430),ie=x(8955),B=x(8515);function K(oe,le){return le?function L(oe,le){if(null!=oe){if(function W(oe){return oe&&"function"==typeof oe[m.L]}(oe))return function P(oe,le){return new X.y(function(Ie){var Me=new _.w;return Me.add(le.schedule(function(){var pe=oe[m.L]();Me.add(pe.subscribe({next:function(Ce){Me.add(le.schedule(function(){return Ie.next(Ce)}))},error:function(Ce){Me.add(le.schedule(function(){return Ie.error(Ce)}))},complete:function(){Me.add(le.schedule(function(){return Ie.complete()}))}}))})),Me})}(oe,le);if((0,ie.t)(oe))return function N(oe,le){return new X.y(function(Ie){var Me=new _.w;return Me.add(le.schedule(function(){return oe.then(function(pe){Me.add(le.schedule(function(){Ie.next(pe),Me.add(le.schedule(function(){return Ie.complete()}))}))},function(pe){Me.add(le.schedule(function(){return Ie.error(pe)}))})})),Me})}(oe,le);if((0,B.z)(oe))return(0,G.r)(oe,le);if(function ee(oe){return oe&&"function"==typeof oe[Z.hZ]}(oe)||"string"==typeof oe)return function s(oe,le){if(!oe)throw new Error("Iterable cannot be null");return new X.y(function(Ie){var pe,Me=new _.w;return Me.add(function(){pe&&"function"==typeof pe.return&&pe.return()}),Me.add(le.schedule(function(){pe=oe[Z.hZ](),Me.add(le.schedule(function(){if(!Ie.closed){var Fe,Ce;try{var qe=pe.next();Fe=qe.value,Ce=qe.done}catch(Et){return void Ie.error(Et)}Ce?Ie.complete():(Ie.next(Fe),this.schedule())}}))})),Me})}(oe,le)}throw new TypeError((null!==oe&&typeof oe||oe)+" is not observable")}(oe,le):oe instanceof X.y?oe:new X.y((0,ne.s)(oe))}},3009:function(ht,ke,x){"use strict";x.d(ke,{n:function(){return m}});var X=x(6498),ne=x(3650),_=x(6454);function m(P,N){return N?(0,_.r)(P,N):new X.y((0,ne.V)(P))}},6787:function(ht,ke,x){"use strict";x.d(ke,{T:function(){return P}});var X=x(6498),ne=x(2866),_=x(9146),m=x(3009);function P(){for(var N=Number.POSITIVE_INFINITY,G=null,Z=arguments.length,s=new Array(Z),W=0;W<Z;W++)s[W]=arguments[W];var ie=s[s.length-1];return(0,ne.K)(ie)?(G=s.pop(),s.length>1&&"number"==typeof s[s.length-1]&&(N=s.pop())):"number"==typeof ie&&(N=s.pop()),null===G&&1===s.length&&s[0]instanceof X.y?s[0]:(0,_.J)(N)((0,m.n)(s,G))}},1086:function(ht,ke,x){"use strict";x.d(ke,{of:function(){return m}});var X=x(2866),ne=x(3009),_=x(6454);function m(){for(var P=arguments.length,N=new Array(P),G=0;G<P;G++)N[G]=arguments[G];var Z=N[N.length-1];return(0,X.K)(Z)?(N.pop(),(0,_.r)(N,Z)):(0,ne.n)(N)}},1737:function(ht,ke,x){"use strict";x.d(ke,{_:function(){return ne}});var X=x(6498);function ne(m,P){return new X.y(P?function(N){return P.schedule(_,0,{error:m,subscriber:N})}:function(N){return N.error(m)})}function _(m){m.subscriber.error(m.error)}},4850:function(ht,ke,x){"use strict";x.d(ke,{U:function(){return G}});var X=x(7326),ne=x(136),_=x(7777),m=x(5671),P=x(3144),N=x(3489);function G(W,ie){return function(ee){if("function"!=typeof W)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return ee.lift(new Z(W,ie))}}var Z=function(){function W(ie,B){(0,m.Z)(this,W),this.project=ie,this.thisArg=B}return(0,P.Z)(W,[{key:"call",value:function(B,ee){return ee.subscribe(new s(B,this.project,this.thisArg))}}]),W}(),s=function(W){(0,ne.Z)(B,W);var ie=(0,_.Z)(B);function B(ee,L,K){var oe;return(0,m.Z)(this,B),(oe=ie.call(this,ee)).project=L,oe.count=0,oe.thisArg=K||(0,X.Z)(oe),oe}return(0,P.Z)(B,[{key:"_next",value:function(L){var K;try{K=this.project.call(this.thisArg,L,this.count++)}catch(oe){return void this.destination.error(oe)}this.destination.next(K)}}]),B}(N.L)},9146:function(ht,ke,x){"use strict";x.d(ke,{J:function(){return _}});var X=x(1709),ne=x(5379);function _(){var m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return(0,X.zg)(ne.y,m)}},1709:function(ht,ke,x){"use strict";x.d(ke,{zg:function(){return Z}});var X=x(136),ne=x(7777),_=x(5671),m=x(3144),P=x(4850),N=x(5254),G=x(1177);function Z(B,ee){var L=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof ee?function(K){return K.pipe(Z(function(oe,le){return(0,N.D)(B(oe,le)).pipe((0,P.U)(function(Ie,Me){return ee(oe,Ie,le,Me)}))},L))}:("number"==typeof ee&&(L=ee),function(K){return K.lift(new s(B,L))})}var s=function(){function B(ee){var L=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;(0,_.Z)(this,B),this.project=ee,this.concurrent=L}return(0,m.Z)(B,[{key:"call",value:function(L,K){return K.subscribe(new W(L,this.project,this.concurrent))}}]),B}(),W=function(B){(0,X.Z)(L,B);var ee=(0,ne.Z)(L);function L(K,oe){var le,Ie=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return(0,_.Z)(this,L),(le=ee.call(this,K)).project=oe,le.concurrent=Ie,le.hasCompleted=!1,le.buffer=[],le.active=0,le.index=0,le}return(0,m.Z)(L,[{key:"_next",value:function(oe){this.active<this.concurrent?this._tryNext(oe):this.buffer.push(oe)}},{key:"_tryNext",value:function(oe){var le,Ie=this.index++;try{le=this.project(oe,Ie)}catch(Me){return void this.destination.error(Me)}this.active++,this._innerSub(le)}},{key:"_innerSub",value:function(oe){var le=new G.IY(this),Ie=this.destination;Ie.add(le);var Me=(0,G.ft)(oe,le);Me!==le&&Ie.add(Me)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(oe){this.destination.next(oe)}},{key:"notifyComplete",value:function(){var oe=this.buffer;this.active--,oe.length>0?this._next(oe.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),L}(G.Ds)},7770:function(ht,ke,x){"use strict";x.d(ke,{QV:function(){return G},ht:function(){return s}});var X=x(136),ne=x(7777),_=x(5671),m=x(3144),P=x(3489),N=x(9312);function G(ie){var B=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(L){return L.lift(new Z(ie,B))}}var Z=function(){function ie(B){var ee=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,_.Z)(this,ie),this.scheduler=B,this.delay=ee}return(0,m.Z)(ie,[{key:"call",value:function(ee,L){return L.subscribe(new s(ee,this.scheduler,this.delay))}}]),ie}(),s=function(ie){(0,X.Z)(ee,ie);var B=(0,ne.Z)(ee);function ee(L,K){var oe,le=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,_.Z)(this,ee),(oe=B.call(this,L)).scheduler=K,oe.delay=le,oe}return(0,m.Z)(ee,[{key:"scheduleMessage",value:function(K){this.destination.add(this.scheduler.schedule(ee.dispatch,this.delay,new W(K,this.destination)))}},{key:"_next",value:function(K){this.scheduleMessage(N.P.createNext(K))}},{key:"_error",value:function(K){this.scheduleMessage(N.P.createError(K)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(N.P.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(K){K.notification.observe(K.destination),this.unsubscribe()}}]),ee}(P.L),W=(0,m.Z)(function ie(B,ee){(0,_.Z)(this,ie),this.notification=B,this.destination=ee})},4327:function(ht,ke,x){"use strict";x.d(ke,{x:function(){return N}});var X=x(136),ne=x(7777),_=x(5671),m=x(3144),P=x(3489);function N(){return function(W){return W.lift(new G(W))}}var G=function(){function s(W){(0,_.Z)(this,s),this.connectable=W}return(0,m.Z)(s,[{key:"call",value:function(ie,B){var ee=this.connectable;ee._refCount++;var L=new Z(ie,ee),K=B.subscribe(L);return L.closed||(L.connection=ee.connect()),K}}]),s}(),Z=function(s){(0,X.Z)(ie,s);var W=(0,ne.Z)(ie);function ie(B,ee){var L;return(0,_.Z)(this,ie),(L=W.call(this,B)).connectable=ee,L}return(0,m.Z)(ie,[{key:"_unsubscribe",value:function(){var ee=this.connectable;if(ee){this.connectable=null;var L=ee._refCount;if(L<=0)this.connection=null;else if(ee._refCount=L-1,L>1)this.connection=null;else{var K=this.connection,oe=ee._connection;this.connection=null,oe&&(!K||oe===K)&&oe.unsubscribe()}}else this.connection=null}}]),ie}(P.L)},2474:function(ht,ke,x){"use strict";x.d(ke,{B:function(){return s}});var X=x(5671),ne=x(3144),_=x(1762),P=function(){function W(ie,B){(0,X.Z)(this,W),this.subjectFactory=ie,this.selector=B}return(0,ne.Z)(W,[{key:"call",value:function(B,ee){var L=this.selector,K=this.subjectFactory(),oe=L(K).subscribe(B);return oe.add(ee.subscribe(K)),oe}}]),W}(),N=x(4327),G=x(8929);function Z(){return new G.xQ}function s(){return function(W){return(0,N.x)()(function m(W,ie){return function(ee){var L;if(L="function"==typeof W?W:function(){return W},"function"==typeof ie)return ee.lift(new P(L,ie));var K=Object.create(ee,_.N);return K.source=ee,K.subjectFactory=L,K}}(Z)(W))}}},3334:function(ht,ke,x){"use strict";x.d(ke,{R:function(){return s}});var X=x(5671),ne=x(3144),_=x(136),m=x(7777),P=x(6498),N=x(8139),G=x(4241),Z=function(ie){(0,_.Z)(ee,ie);var B=(0,m.Z)(ee);function ee(L){var K,oe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,le=arguments.length>2&&void 0!==arguments[2]?arguments[2]:N.e;return(0,X.Z)(this,ee),(K=B.call(this)).source=L,K.delayTime=oe,K.scheduler=le,(!(0,G.k)(oe)||oe<0)&&(K.delayTime=0),(!le||"function"!=typeof le.schedule)&&(K.scheduler=N.e),K}return(0,ne.Z)(ee,[{key:"_subscribe",value:function(K){return this.scheduler.schedule(ee.dispatch,this.delayTime,{source:this.source,subscriber:K})}}],[{key:"create",value:function(K){var oe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,le=arguments.length>2&&void 0!==arguments[2]?arguments[2]:N.e;return new ee(K,oe,le)}},{key:"dispatch",value:function(K){return this.add(K.source.subscribe(K.subscriber))}}]),ee}(P.y);function s(ie){var B=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(L){return L.lift(new W(ie,B))}}var W=function(){function ie(B,ee){(0,X.Z)(this,ie),this.scheduler=B,this.delay=ee}return(0,ne.Z)(ie,[{key:"call",value:function(ee,L){return new Z(L,this.delay,this.scheduler).subscribe(ee)}}]),ie}()},2868:function(ht,ke,x){"use strict";x.d(ke,{b:function(){return s}});var X=x(7326),ne=x(136),_=x(7777),m=x(5671),P=x(3144),N=x(3489);function G(){}var Z=x(7043);function s(B,ee,L){return function(oe){return oe.lift(new W(B,ee,L))}}var W=function(){function B(ee,L,K){(0,m.Z)(this,B),this.nextOrObserver=ee,this.error=L,this.complete=K}return(0,P.Z)(B,[{key:"call",value:function(L,K){return K.subscribe(new ie(L,this.nextOrObserver,this.error,this.complete))}}]),B}(),ie=function(B){(0,ne.Z)(L,B);var ee=(0,_.Z)(L);function L(K,oe,le,Ie){var Me;return(0,m.Z)(this,L),(Me=ee.call(this,K))._tapNext=G,Me._tapError=G,Me._tapComplete=G,Me._tapError=le||G,Me._tapComplete=Ie||G,(0,Z.m)(oe)?(Me._context=(0,X.Z)(Me),Me._tapNext=oe):oe&&(Me._context=oe,Me._tapNext=oe.next||G,Me._tapError=oe.error||G,Me._tapComplete=oe.complete||G),Me}return(0,P.Z)(L,[{key:"_next",value:function(oe){try{this._tapNext.call(this._context,oe)}catch(le){return void this.destination.error(le)}this.destination.next(oe)}},{key:"_error",value:function(oe){try{this._tapError.call(this._context,oe)}catch(le){return void this.destination.error(le)}this.destination.error(oe)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(oe){return void this.destination.error(oe)}return this.destination.complete()}}]),L}(N.L)},6454:function(ht,ke,x){"use strict";x.d(ke,{r:function(){return _}});var X=x(6498),ne=x(2654);function _(m,P){return new X.y(function(N){var G=new ne.w,Z=0;return G.add(P.schedule(function(){Z!==m.length?(N.next(m[Z++]),N.closed||G.add(this.schedule())):N.complete()})),G})}},6686:function(ht,ke,x){"use strict";x.d(ke,{o:function(){return G}});var X=x(5671),ne=x(3144),_=x(136),m=x(7777),G=function(Z){(0,_.Z)(W,Z);var s=(0,m.Z)(W);function W(ie,B){var ee;return(0,X.Z)(this,W),(ee=s.call(this,ie,B)).scheduler=ie,ee.work=B,ee.pending=!1,ee}return(0,ne.Z)(W,[{key:"schedule",value:function(B){var ee=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=B;var L=this.id,K=this.scheduler;return null!=L&&(this.id=this.recycleAsyncId(K,L,ee)),this.pending=!0,this.delay=ee,this.id=this.id||this.requestAsyncId(K,this.id,ee),this}},{key:"requestAsyncId",value:function(B,ee){var L=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(B.flush.bind(B,this),L)}},{key:"recycleAsyncId",value:function(B,ee){var L=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==L&&this.delay===L&&!1===this.pending)return ee;clearInterval(ee)}},{key:"execute",value:function(B,ee){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var L=this._execute(B,ee);if(L)return L;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(B,ee){var L=!1,K=void 0;try{this.work(B)}catch(oe){L=!0,K=!!oe&&oe||new Error(oe)}if(L)return this.unsubscribe(),K}},{key:"_unsubscribe",value:function(){var B=this.id,ee=this.scheduler,L=ee.actions,K=L.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==K&&L.splice(K,1),null!=B&&(this.id=this.recycleAsyncId(ee,B,null)),this.delay=null}}]),W}(function(Z){(0,_.Z)(W,Z);var s=(0,m.Z)(W);function W(ie,B){return(0,X.Z)(this,W),s.call(this)}return(0,ne.Z)(W,[{key:"schedule",value:function(B){return this}}]),W}(x(2654).w))},2268:function(ht,ke,x){"use strict";x.d(ke,{v:function(){return s}});var X=x(5671),ne=x(3144),_=x(7326),m=x(3237),P=x(1120),N=x(136),G=x(7777),Z=function(){var W=function(){function ie(B){var ee=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ie.now;(0,X.Z)(this,ie),this.SchedulerAction=B,this.now=ee}return(0,ne.Z)(ie,[{key:"schedule",value:function(ee){var L=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,K=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,ee).schedule(K,L)}}]),ie}();return W.now=function(){return Date.now()},W}(),s=function(W){(0,N.Z)(B,W);var ie=(0,G.Z)(B);function B(ee){var L,K=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Z.now;return(0,X.Z)(this,B),(L=ie.call(this,ee,function(){return B.delegate&&B.delegate!==(0,_.Z)(L)?B.delegate.now():K()})).actions=[],L.active=!1,L.scheduled=void 0,L}return(0,ne.Z)(B,[{key:"schedule",value:function(L){var K=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,oe=arguments.length>2?arguments[2]:void 0;return B.delegate&&B.delegate!==this?B.delegate.schedule(L,K,oe):(0,m.Z)((0,P.Z)(B.prototype),"schedule",this).call(this,L,K,oe)}},{key:"flush",value:function(L){var K=this.actions;if(this.active)K.push(L);else{var oe;this.active=!0;do{if(oe=L.execute(L.state,L.delay))break}while(L=K.shift());if(this.active=!1,oe){for(;L=K.shift();)L.unsubscribe();throw oe}}}}]),B}(Z)},8139:function(ht,ke,x){"use strict";x.d(ke,{e:function(){return Ie},E:function(){return le}});var X=x(5671),ne=x(3144),_=x(3237),m=x(1120),P=x(136),N=x(7777),G=1,Z=Promise.resolve(),s={};function W(Me){return Me in s&&(delete s[Me],!0)}var ie_setImmediate=function(pe){var Fe=G++;return s[Fe]=!0,Z.then(function(){return W(Fe)&&pe()}),Fe},ie_clearImmediate=function(pe){W(pe)},L=function(Me){(0,P.Z)(Fe,Me);var pe=(0,N.Z)(Fe);function Fe(Ce,qe){var Et;return(0,X.Z)(this,Fe),(Et=pe.call(this,Ce,qe)).scheduler=Ce,Et.work=qe,Et}return(0,ne.Z)(Fe,[{key:"requestAsyncId",value:function(qe,Et){var Mt=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==Mt&&Mt>0?(0,_.Z)((0,m.Z)(Fe.prototype),"requestAsyncId",this).call(this,qe,Et,Mt):(qe.actions.push(this),qe.scheduled||(qe.scheduled=ie_setImmediate(qe.flush.bind(qe,null))))}},{key:"recycleAsyncId",value:function(qe,Et){var Mt=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==Mt&&Mt>0||null===Mt&&this.delay>0)return(0,_.Z)((0,m.Z)(Fe.prototype),"recycleAsyncId",this).call(this,qe,Et,Mt);0===qe.actions.length&&(ie_clearImmediate(Et),qe.scheduled=void 0)}}]),Fe}(x(6686).o),oe=function(Me){(0,P.Z)(Fe,Me);var pe=(0,N.Z)(Fe);function Fe(){return(0,X.Z)(this,Fe),pe.apply(this,arguments)}return(0,ne.Z)(Fe,[{key:"flush",value:function(qe){this.active=!0,this.scheduled=void 0;var Mt,Et=this.actions,Ct=-1,on=Et.length;qe=qe||Et.shift();do{if(Mt=qe.execute(qe.state,qe.delay))break}while(++Ct<on&&(qe=Et.shift()));if(this.active=!1,Mt){for(;++Ct<on&&(qe=Et.shift());)qe.unsubscribe();throw Mt}}}]),Fe}(x(2268).v),le=new oe(L),Ie=le},353:function(ht,ke,x){"use strict";x.d(ke,{z:function(){return _},P:function(){return m}});var X=x(6686),_=new(x(2268).v)(X.o),m=_},341:function(ht,ke,x){"use strict";x.d(ke,{c:function(){return B},N:function(){return ie}});var X=x(5671),ne=x(3144),_=x(3237),m=x(1120),P=x(136),N=x(7777),Z=function(ee){(0,P.Z)(K,ee);var L=(0,N.Z)(K);function K(oe,le){var Ie;return(0,X.Z)(this,K),(Ie=L.call(this,oe,le)).scheduler=oe,Ie.work=le,Ie}return(0,ne.Z)(K,[{key:"schedule",value:function(le){var Ie=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Ie>0?(0,_.Z)((0,m.Z)(K.prototype),"schedule",this).call(this,le,Ie):(this.delay=Ie,this.state=le,this.scheduler.flush(this),this)}},{key:"execute",value:function(le,Ie){return Ie>0||this.closed?(0,_.Z)((0,m.Z)(K.prototype),"execute",this).call(this,le,Ie):this._execute(le,Ie)}},{key:"requestAsyncId",value:function(le,Ie){var Me=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==Me&&Me>0||null===Me&&this.delay>0?(0,_.Z)((0,m.Z)(K.prototype),"requestAsyncId",this).call(this,le,Ie,Me):le.flush(this)}}]),K}(x(6686).o),W=function(ee){(0,P.Z)(K,ee);var L=(0,N.Z)(K);function K(){return(0,X.Z)(this,K),L.apply(this,arguments)}return(0,ne.Z)(K)}(x(2268).v),ie=new W(Z),B=ie},5430:function(ht,ke,x){"use strict";x.d(ke,{hZ:function(){return ne}});var ne=function X(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3821:function(ht,ke,x){"use strict";x.d(ke,{L:function(){return X}});var X="function"==typeof Symbol&&Symbol.observable||"@@observable"},7668:function(ht,ke,x){"use strict";x.d(ke,{b:function(){return X}});var X="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},5279:function(ht,ke,x){"use strict";x.d(ke,{N:function(){return ne}});var ne=function(){function _(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return _.prototype=Object.create(Error.prototype),_}()},2782:function(ht,ke,x){"use strict";function X(ne){setTimeout(function(){throw ne},0)}x.d(ke,{z:function(){return X}})},5379:function(ht,ke,x){"use strict";function X(ne){return ne}x.d(ke,{y:function(){return X}})},6688:function(ht,ke,x){"use strict";x.d(ke,{k:function(){return X}});var X=Array.isArray||function(ne){return ne&&"number"==typeof ne.length}},8515:function(ht,ke,x){"use strict";x.d(ke,{z:function(){return X}});var X=function(_){return _&&"number"==typeof _.length&&"function"!=typeof _}},7043:function(ht,ke,x){"use strict";function X(ne){return"function"==typeof ne}x.d(ke,{m:function(){return X}})},4241:function(ht,ke,x){"use strict";x.d(ke,{k:function(){return ne}});var X=x(6688);function ne(_){return!(0,X.k)(_)&&_-parseFloat(_)+1>=0}},7830:function(ht,ke,x){"use strict";function X(ne){return null!==ne&&"object"==typeof ne}x.d(ke,{K:function(){return X}})},8955:function(ht,ke,x){"use strict";function X(ne){return!!ne&&"function"!=typeof ne.subscribe&&"function"==typeof ne.then}x.d(ke,{t:function(){return X}})},2866:function(ht,ke,x){"use strict";function X(ne){return ne&&"function"==typeof ne.schedule}x.d(ke,{K:function(){return X}})},4843:function(ht,ke,x){"use strict";x.d(ke,{z:function(){return ne},U:function(){return _}});var X=x(5379);function ne(){for(var m=arguments.length,P=new Array(m),N=0;N<m;N++)P[N]=arguments[N];return _(P)}function _(m){return 0===m.length?X.y:1===m.length?m[0]:function(N){return m.reduce(function(G,Z){return Z(G)},N)}}},9249:function(ht,ke,x){"use strict";x.d(ke,{s:function(){return ie}});var X=x(3650),ne=x(2782),m=x(5430),N=x(3821),Z=x(8515),s=x(8955),W=x(7830),ie=function(ee){if(ee&&"function"==typeof ee[N.L])return function(ee){return function(L){var K=ee[N.L]();if("function"!=typeof K.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return K.subscribe(L)}}(ee);if((0,Z.z)(ee))return(0,X.V)(ee);if((0,s.t)(ee))return function(ee){return function(L){return ee.then(function(K){L.closed||(L.next(K),L.complete())},function(K){return L.error(K)}).then(null,ne.z),L}}(ee);if(ee&&"function"==typeof ee[m.hZ])return function(ee){return function(L){for(var K=ee[m.hZ]();;){var oe=void 0;try{oe=K.next()}catch(le){return L.error(le),L}if(oe.done){L.complete();break}if(L.next(oe.value),L.closed)break}return"function"==typeof K.return&&L.add(function(){K.return&&K.return()}),L}}(ee);var L=(0,W.K)(ee)?"an invalid object":"'".concat(ee,"'"),K="You provided ".concat(L," where a stream was expected.")+" You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(K)}},3650:function(ht,ke,x){"use strict";x.d(ke,{V:function(){return X}});var X=function(_){return function(m){for(var P=0,N=_.length;P<N&&!m.closed;P++)m.next(_[P]);m.complete()}}},5742:function(ht,ke,x){"use strict";Object.defineProperty(ke,"__esModule",{value:!0});var X=x(1557),ne=x(4802),_=x(7448),m=x(7302),P=x(4072),N=function(){function Z(s){this._isScalar=!1,s&&(this._subscribe=s)}return Z.prototype.lift=function(s){var W=new Z;return W.source=this,W.operator=s,W},Z.prototype.subscribe=function(s,W,ie){var B=this.operator,ee=ne.toSubscriber(s,W,ie);if(ee.add(B?B.call(ee,this.source):this.source||P.config.useDeprecatedSynchronousErrorHandling&&!ee.syncErrorThrowable?this._subscribe(ee):this._trySubscribe(ee)),P.config.useDeprecatedSynchronousErrorHandling&&ee.syncErrorThrowable&&(ee.syncErrorThrowable=!1,ee.syncErrorThrown))throw ee.syncErrorValue;return ee},Z.prototype._trySubscribe=function(s){try{return this._subscribe(s)}catch(W){P.config.useDeprecatedSynchronousErrorHandling&&(s.syncErrorThrown=!0,s.syncErrorValue=W),X.canReportError(s)?s.error(W):console.warn(W)}},Z.prototype.forEach=function(s,W){var ie=this;return new(W=G(W))(function(B,ee){var L;L=ie.subscribe(function(K){try{s(K)}catch(oe){ee(oe),L&&L.unsubscribe()}},ee,B)})},Z.prototype._subscribe=function(s){var W=this.source;return W&&W.subscribe(s)},Z.prototype[_.observable]=function(){return this},Z.prototype.pipe=function(){for(var s=[],W=0;W<arguments.length;W++)s[W]=arguments[W];return 0===s.length?this:m.pipeFromArray(s)(this)},Z.prototype.toPromise=function(s){var W=this;return new(s=G(s))(function(ie,B){var ee;W.subscribe(function(L){return ee=L},function(L){return B(L)},function(){return ie(ee)})})},Z.create=function(s){return new Z(s)},Z}();function G(Z){if(Z||(Z=P.config.Promise||Promise),!Z)throw new Error("no Promise impl found");return Z}ke.Observable=N},7350:function(ht,ke,x){"use strict";Object.defineProperty(ke,"__esModule",{value:!0});var X=x(4072),ne=x(2422);ke.empty={closed:!0,next:function(m){},error:function(m){if(X.config.useDeprecatedSynchronousErrorHandling)throw m;ne.hostReportError(m)},complete:function(){}}},4854:function(ht,ke){"use strict";Object.defineProperty(ke,"__esModule",{value:!0});var x=function(){function X(ne,_){void 0===_&&(_=X.now),this.SchedulerAction=ne,this.now=_}return X.prototype.schedule=function(ne,_,m){return void 0===_&&(_=0),new this.SchedulerAction(this,ne).schedule(m,_)},X.now=function(){return Date.now()},X}();ke.Scheduler=x},3281:function(ht,ke,x){"use strict";var W,X=this&&this.__extends||(W=function(B,ee){return(W=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,K){L.__proto__=K}||function(L,K){for(var oe in K)K.hasOwnProperty(oe)&&(L[oe]=K[oe])})(B,ee)},function(ie,B){function ee(){this.constructor=ie}W(ie,B),ie.prototype=null===B?Object.create(B):(ee.prototype=B.prototype,new ee)});Object.defineProperty(ke,"__esModule",{value:!0});var ne=x(9607),_=x(7350),m=x(6052),P=x(2858),N=x(4072),G=x(2422),Z=function(W){function ie(B,ee,L){var K=W.call(this)||this;switch(K.syncErrorValue=null,K.syncErrorThrown=!1,K.syncErrorThrowable=!1,K.isStopped=!1,arguments.length){case 0:K.destination=_.empty;break;case 1:if(!B){K.destination=_.empty;break}if("object"==typeof B){B instanceof ie?(K.syncErrorThrowable=B.syncErrorThrowable,K.destination=B,B.add(K)):(K.syncErrorThrowable=!0,K.destination=new s(K,B));break}default:K.syncErrorThrowable=!0,K.destination=new s(K,B,ee,L)}return K}return X(ie,W),ie.prototype[P.rxSubscriber]=function(){return this},ie.create=function(B,ee,L){var K=new ie(B,ee,L);return K.syncErrorThrowable=!1,K},ie.prototype.next=function(B){this.isStopped||this._next(B)},ie.prototype.error=function(B){this.isStopped||(this.isStopped=!0,this._error(B))},ie.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},ie.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,W.prototype.unsubscribe.call(this))},ie.prototype._next=function(B){this.destination.next(B)},ie.prototype._error=function(B){this.destination.error(B),this.unsubscribe()},ie.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},ie.prototype._unsubscribeAndRecycle=function(){var B=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=B,this},ie}(m.Subscription);ke.Subscriber=Z;var s=function(W){function ie(B,ee,L,K){var oe=W.call(this)||this;oe._parentSubscriber=B;var le,Ie=oe;return ne.isFunction(ee)?le=ee:ee&&(le=ee.next,L=ee.error,K=ee.complete,ee!==_.empty&&(Ie=Object.create(ee),ne.isFunction(Ie.unsubscribe)&&oe.add(Ie.unsubscribe.bind(Ie)),Ie.unsubscribe=oe.unsubscribe.bind(oe))),oe._context=Ie,oe._next=le,oe._error=L,oe._complete=K,oe}return X(ie,W),ie.prototype.next=function(B){if(!this.isStopped&&this._next){var ee=this._parentSubscriber;N.config.useDeprecatedSynchronousErrorHandling&&ee.syncErrorThrowable?this.__tryOrSetError(ee,this._next,B)&&this.unsubscribe():this.__tryOrUnsub(this._next,B)}},ie.prototype.error=function(B){if(!this.isStopped){var ee=this._parentSubscriber,L=N.config.useDeprecatedSynchronousErrorHandling;if(this._error)L&&ee.syncErrorThrowable?(this.__tryOrSetError(ee,this._error,B),this.unsubscribe()):(this.__tryOrUnsub(this._error,B),this.unsubscribe());else if(ee.syncErrorThrowable)L?(ee.syncErrorValue=B,ee.syncErrorThrown=!0):G.hostReportError(B),this.unsubscribe();else{if(this.unsubscribe(),L)throw B;G.hostReportError(B)}}},ie.prototype.complete=function(){var B=this;if(!this.isStopped){var ee=this._parentSubscriber;if(this._complete){var L=function(){return B._complete.call(B._context)};N.config.useDeprecatedSynchronousErrorHandling&&ee.syncErrorThrowable?(this.__tryOrSetError(ee,L),this.unsubscribe()):(this.__tryOrUnsub(L),this.unsubscribe())}else this.unsubscribe()}},ie.prototype.__tryOrUnsub=function(B,ee){try{B.call(this._context,ee)}catch(L){if(this.unsubscribe(),N.config.useDeprecatedSynchronousErrorHandling)throw L;G.hostReportError(L)}},ie.prototype.__tryOrSetError=function(B,ee,L){if(!N.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{ee.call(this._context,L)}catch(K){return N.config.useDeprecatedSynchronousErrorHandling?(B.syncErrorValue=K,B.syncErrorThrown=!0,!0):(G.hostReportError(K),!0)}return!1},ie.prototype._unsubscribe=function(){var B=this._parentSubscriber;this._context=null,this._parentSubscriber=null,B.unsubscribe()},ie}(Z);ke.SafeSubscriber=s},6052:function(ht,ke,x){"use strict";Object.defineProperty(ke,"__esModule",{value:!0});var X=x(5019),ne=x(2556),_=x(9607),m=x(2142),P=function(){function G(Z){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,Z&&(this._ctorUnsubscribe=!0,this._unsubscribe=Z)}return G.prototype.unsubscribe=function(){var Z;if(!this.closed){var s=this,W=s._parentOrParents,ie=s._ctorUnsubscribe,B=s._unsubscribe,ee=s._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,W instanceof G)W.remove(this);else if(null!==W)for(var L=0;L<W.length;++L)W[L].remove(this);if(_.isFunction(B)){ie&&(this._unsubscribe=void 0);try{B.call(this)}catch(Ie){Z=Ie instanceof m.UnsubscriptionError?N(Ie.errors):[Ie]}}if(X.isArray(ee)){L=-1;for(var oe=ee.length;++L<oe;){var le=ee[L];if(ne.isObject(le))try{le.unsubscribe()}catch(Me){Z=Z||[],Me instanceof m.UnsubscriptionError?Z=Z.concat(N(Me.errors)):Z.push(Me)}}}if(Z)throw new m.UnsubscriptionError(Z)}},G.prototype.add=function(Z){var s=Z;if(!Z)return G.EMPTY;switch(typeof Z){case"function":s=new G(Z);case"object":if(s===this||s.closed||"function"!=typeof s.unsubscribe)return s;if(this.closed)return s.unsubscribe(),s;if(!(s instanceof G)){var W=s;(s=new G)._subscriptions=[W]}break;default:throw new Error("unrecognized teardown "+Z+" added to Subscription.")}var ie=s._parentOrParents;if(null===ie)s._parentOrParents=this;else if(ie instanceof G){if(ie===this)return s;s._parentOrParents=[ie,this]}else{if(-1!==ie.indexOf(this))return s;ie.push(this)}var B=this._subscriptions;return null===B?this._subscriptions=[s]:B.push(s),s},G.prototype.remove=function(Z){var s=this._subscriptions;if(s){var W=s.indexOf(Z);-1!==W&&s.splice(W,1)}},G.EMPTY=((Z=new G).closed=!0,Z),G;var Z}();function N(G){return G.reduce(function(Z,s){return Z.concat(s instanceof m.UnsubscriptionError?s.errors:s)},[])}ke.Subscription=P},4072:function(ht,ke){"use strict";Object.defineProperty(ke,"__esModule",{value:!0});var x=!1;ke.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(X){if(X){var ne=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ne.stack)}else x&&console.log("RxJS: Back to a better error behavior. Thank you. <3");x=X},get useDeprecatedSynchronousErrorHandling(){return x}}},8318:function(ht,ke,x){"use strict";var ne=x(5742),_=x(7187),m=x(10);function N(G){var Z=G.subscriber,s=G.counter,W=G.period;Z.next(s),this.schedule({subscriber:Z,counter:s+1,period:W},W)}ke.F=function P(G,Z){return void 0===G&&(G=0),void 0===Z&&(Z=_.async),(!m.isNumeric(G)||G<0)&&(G=0),(!Z||"function"!=typeof Z.schedule)&&(Z=_.async),new ne.Observable(function(s){return s.add(Z.schedule(N,G,{subscriber:s,counter:0,period:G})),s})}},8446:function(ht,ke,x){"use strict";var m,X=this&&this.__extends||(m=function(N,G){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Z,s){Z.__proto__=s}||function(Z,s){for(var W in s)s.hasOwnProperty(W)&&(Z[W]=s[W])})(N,G)},function(P,N){function G(){this.constructor=P}m(P,N),P.prototype=null===N?Object.create(N):(G.prototype=N.prototype,new G)});Object.defineProperty(ke,"__esModule",{value:!0});var _=function(m){function P(N,G){return m.call(this)||this}return X(P,m),P.prototype.schedule=function(N,G){return void 0===G&&(G=0),this},P}(x(6052).Subscription);ke.Action=_},5875:function(ht,ke,x){"use strict";var m,X=this&&this.__extends||(m=function(N,G){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Z,s){Z.__proto__=s}||function(Z,s){for(var W in s)s.hasOwnProperty(W)&&(Z[W]=s[W])})(N,G)},function(P,N){function G(){this.constructor=P}m(P,N),P.prototype=null===N?Object.create(N):(G.prototype=N.prototype,new G)});Object.defineProperty(ke,"__esModule",{value:!0});var _=function(m){function P(N,G){var Z=m.call(this,N,G)||this;return Z.scheduler=N,Z.work=G,Z.pending=!1,Z}return X(P,m),P.prototype.schedule=function(N,G){if(void 0===G&&(G=0),this.closed)return this;this.state=N;var Z=this.id,s=this.scheduler;return null!=Z&&(this.id=this.recycleAsyncId(s,Z,G)),this.pending=!0,this.delay=G,this.id=this.id||this.requestAsyncId(s,this.id,G),this},P.prototype.requestAsyncId=function(N,G,Z){return void 0===Z&&(Z=0),setInterval(N.flush.bind(N,this),Z)},P.prototype.recycleAsyncId=function(N,G,Z){if(void 0===Z&&(Z=0),null!==Z&&this.delay===Z&&!1===this.pending)return G;clearInterval(G)},P.prototype.execute=function(N,G){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var Z=this._execute(N,G);if(Z)return Z;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},P.prototype._execute=function(N,G){var Z=!1,s=void 0;try{this.work(N)}catch(W){Z=!0,s=!!W&&W||new Error(W)}if(Z)return this.unsubscribe(),s},P.prototype._unsubscribe=function(){var N=this.id,G=this.scheduler,Z=G.actions,s=Z.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==s&&Z.splice(s,1),null!=N&&(this.id=this.recycleAsyncId(G,N,null)),this.delay=null},P}(x(8446).Action);ke.AsyncAction=_},7654:function(ht,ke,x){"use strict";var m,X=this&&this.__extends||(m=function(N,G){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Z,s){Z.__proto__=s}||function(Z,s){for(var W in s)s.hasOwnProperty(W)&&(Z[W]=s[W])})(N,G)},function(P,N){function G(){this.constructor=P}m(P,N),P.prototype=null===N?Object.create(N):(G.prototype=N.prototype,new G)});Object.defineProperty(ke,"__esModule",{value:!0});var ne=x(4854),_=function(m){function P(N,G){void 0===G&&(G=ne.Scheduler.now);var Z=m.call(this,N,function(){return P.delegate&&P.delegate!==Z?P.delegate.now():G()})||this;return Z.actions=[],Z.active=!1,Z.scheduled=void 0,Z}return X(P,m),P.prototype.schedule=function(N,G,Z){return void 0===G&&(G=0),P.delegate&&P.delegate!==this?P.delegate.schedule(N,G,Z):m.prototype.schedule.call(this,N,G,Z)},P.prototype.flush=function(N){var G=this.actions;if(this.active)G.push(N);else{var Z;this.active=!0;do{if(Z=N.execute(N.state,N.delay))break}while(N=G.shift());if(this.active=!1,Z){for(;N=G.shift();)N.unsubscribe();throw Z}}},P}(ne.Scheduler);ke.AsyncScheduler=_},7187:function(ht,ke,x){"use strict";Object.defineProperty(ke,"__esModule",{value:!0});var X=x(5875),ne=x(7654);ke.asyncScheduler=new ne.AsyncScheduler(X.AsyncAction),ke.async=ke.asyncScheduler},7448:function(ht,ke){"use strict";Object.defineProperty(ke,"__esModule",{value:!0}),ke.observable="function"==typeof Symbol&&Symbol.observable||"@@observable"},2858:function(ht,ke){"use strict";Object.defineProperty(ke,"__esModule",{value:!0}),ke.rxSubscriber="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),ke.$$rxSubscriber=ke.rxSubscriber},2142:function(ht,ke){"use strict";Object.defineProperty(ke,"__esModule",{value:!0});var x=function(){function X(ne){return Error.call(this),this.message=ne?ne.length+" errors occurred during unsubscription:\n"+ne.map(function(_,m){return m+1+") "+_.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=ne,this}return X.prototype=Object.create(Error.prototype),X}();ke.UnsubscriptionError=x},1557:function(ht,ke,x){"use strict";Object.defineProperty(ke,"__esModule",{value:!0});var X=x(3281);ke.canReportError=function ne(_){for(;_;){var N=_.destination;if(_.closed||_.isStopped)return!1;_=N&&N instanceof X.Subscriber?N:null}return!0}},2422:function(ht,ke){"use strict";Object.defineProperty(ke,"__esModule",{value:!0}),ke.hostReportError=function x(X){setTimeout(function(){throw X},0)}},6610:function(ht,ke){"use strict";Object.defineProperty(ke,"__esModule",{value:!0}),ke.identity=function x(X){return X}},5019:function(ht,ke){"use strict";Object.defineProperty(ke,"__esModule",{value:!0}),ke.isArray=Array.isArray||function(x){return x&&"number"==typeof x.length}},9607:function(ht,ke){"use strict";Object.defineProperty(ke,"__esModule",{value:!0}),ke.isFunction=function x(X){return"function"==typeof X}},10:function(ht,ke,x){"use strict";Object.defineProperty(ke,"__esModule",{value:!0});var X=x(5019);ke.isNumeric=function ne(_){return!X.isArray(_)&&_-parseFloat(_)+1>=0}},2556:function(ht,ke){"use strict";Object.defineProperty(ke,"__esModule",{value:!0}),ke.isObject=function x(X){return null!==X&&"object"==typeof X}},7302:function(ht,ke,x){"use strict";Object.defineProperty(ke,"__esModule",{value:!0});var X=x(6610);function _(m){return 0===m.length?X.identity:1===m.length?m[0]:function(N){return m.reduce(function(G,Z){return Z(G)},N)}}ke.pipe=function ne(){for(var m=[],P=0;P<arguments.length;P++)m[P]=arguments[P];return _(m)},ke.pipeFromArray=_},4802:function(ht,ke,x){"use strict";Object.defineProperty(ke,"__esModule",{value:!0});var X=x(3281),ne=x(2858),_=x(7350);ke.toSubscriber=function m(P,N,G){if(P){if(P instanceof X.Subscriber)return P;if(P[ne.rxSubscriber])return P[ne.rxSubscriber]()}return P||N||G?new X.Subscriber(P,N,G):new X.Subscriber(_.empty)}},7757:function(ht,ke,x){ht.exports=x(7854)},655:function(ht,ke,x){"use strict";function m(Xe,Be){var De={};for(var Te in Xe)Object.prototype.hasOwnProperty.call(Xe,Te)&&Be.indexOf(Te)<0&&(De[Te]=Xe[Te]);if(null!=Xe&&"function"==typeof Object.getOwnPropertySymbols){var ye=0;for(Te=Object.getOwnPropertySymbols(Xe);ye<Te.length;ye++)Be.indexOf(Te[ye])<0&&Object.prototype.propertyIsEnumerable.call(Xe,Te[ye])&&(De[Te[ye]]=Xe[Te[ye]])}return De}function Z(Xe,Be,De,Te){return new(De||(De=Promise))(function(ve,He){function tt(St){try{Qe(Te.next(St))}catch(Ke){He(Ke)}}function bt(St){try{Qe(Te.throw(St))}catch(Ke){He(Ke)}}function Qe(St){St.done?ve(St.value):function ye(ve){return ve instanceof De?ve:new De(function(He){He(ve)})}(St.value).then(tt,bt)}Qe((Te=Te.apply(Xe,Be||[])).next())})}x.d(ke,{_T:function(){return m},mG:function(){return Z}})},5e3:function(ht,ke,x){"use strict";x.d(ke,{deG:function(){return Jh},tb:function(){return ZD},AFp:function(){return xD},ip1:function(){return FD},CZH:function(){return kb},hGG:function(){return B1},z2F:function(){return Ib},sBO:function(){return Lm},Sil:function(){return Mb},_Vd:function(){return th},EJc:function(){return f1},SBq:function(){return Sa},a5r:function(){return E1},qLn:function(){return ld},vpe:function(){return Fu},tBr:function(){return za},XFs:function(){return rn},OlP:function(){return Yr},zs3:function(){return qs},ZZ4:function(){return Vb},aQg:function(){return Fl},soG:function(){return Eb},YKP:function(){return ib},h0i:function(){return Rl},PXZ:function(){return m1},R0b:function(){return qi},FiY:function(){return or},Lbi:function(){return Cb},g9A:function(){return wb},n_E:function(){return rv},Qsj:function(){return rD},FYo:function(){return J0},JOm:function(){return Eu},q3G:function(){return Er},tp0:function(){return bs},Rgc:function(){return ih},dDg:function(){return Mc},DyG:function(){return ja},q4F:function(){return eb},GfV:function(){return kc},s_b:function(){return Em},ifc:function(){return xr},eFA:function(){return y1},G48:function(){return Zm},Gpc:function(){return Mt},f3M:function(){return nn},X6Q:function(){return k1},_c5:function(){return L1},VLi:function(){return v1},c2e:function(){return c1},zSh:function(){return LC},wAp:function(){return cn},vHH:function(){return Be},EiD:function(){return vc},mCW:function(){return D},qzn:function(){return zs},JVY:function(){return ap},pB0:function(){return uy},eBb:function(){return sp},L6k:function(){return op},LAX:function(){return up},cg1:function(){return IE},kL8:function(){return RE},yhl:function(){return od},dqk:function(){return be},sIi:function(){return Fp},CqO:function(){return SI},QGY:function(){return cE},F4k:function(){return MI},RDi:function(){return Ns},AaK:function(){return Ce},z3N:function(){return zo},qOj:function(){return v0},TTD:function(){return Yc},_Bn:function(){return JE},xp6:function(){return dC},uIk:function(){return b0},Gre:function(){return kd},ekj:function(){return mE},Suo:function(){return yD},Xpm:function(){return Pe},lG2:function(){return Qt},Yz7:function(){return tr},cJS:function(){return dr},oAB:function(){return mt},Yjl:function(){return sn},Y36:function(){return Xg},_UZ:function(){return uE},GkF:function(){return lE},BQk:function(){return A0},ynx:function(){return T0},qZA:function(){return S0},TgZ:function(){return M0},EpF:function(){return DI},n5z:function(){return rc},Ikx:function(){return aa},LFG:function(){return fn},$8M:function(){return _n},$Z:function(){return EI},NdJ:function(){return dE},CRH:function(){return KR},kcU:function(){return qh},O4$:function(){return uo},oxw:function(){return AI},ALo:function(){return nv},lcZ:function(){return ZR},Hsn:function(){return RI},F$t:function(){return II},Q6J:function(){return oE},DdM:function(){return ab},VKq:function(){return eu},WLB:function(){return Cc},iGM:function(){return _D},MAs:function(){return pI},pYS:function(){return $w},CHM:function(){return tl},LSH:function(){return ud},kYT:function(){return it},Udp:function(){return gE},WFA:function(){return fE},d8E:function(){return rm},YNc:function(){return hI},_uU:function(){return bE},Oqu:function(){return I0},hij:function(){return yt},AsE:function(){return Yn},Gf:function(){return db}});var X=x(3237),ne=x(1120),_=x(7326),G=(x(7685),x(4942),x(4506),x(7762)),Z=x(4902),s=x(5647),W=x(3144),ie=x(5671),B=x(136),ee=x(7777),L=x(5724),K=x(2654),oe=x(8929),le=x(6498),Ie=x(6787),Me=x(2474);function pe(l){for(var c in l)if(l[c]===pe)return c;throw Error("Could not find renamed property on target object.")}function Fe(l,c){for(var f in c)c.hasOwnProperty(f)&&!l.hasOwnProperty(f)&&(l[f]=c[f])}function Ce(l){if("string"==typeof l)return l;if(Array.isArray(l))return"["+l.map(Ce).join(", ")+"]";if(null==l)return""+l;if(l.overriddenName)return"".concat(l.overriddenName);if(l.name)return"".concat(l.name);var c=l.toString();if(null==c)return""+c;var f=c.indexOf("\n");return-1===f?c:c.substring(0,f)}function qe(l,c){return null==l||""===l?null===c?"":c:null==c||""===c?l:l+" "+c}var Et=pe({__forward_ref__:pe});function Mt(l){return l.__forward_ref__=Mt,l.toString=function(){return Ce(this())},l}function Ct(l){return on(l)?l():l}function on(l){return"function"==typeof l&&l.hasOwnProperty(Et)&&l.__forward_ref__===Mt}var Be=function(l){(0,B.Z)(f,l);var c=(0,ee.Z)(f);function f(p,g){var y;return(0,ie.Z)(this,f),(y=c.call(this,function De(l,c){var f="NG0".concat(Math.abs(l));return"".concat(f).concat(c?": "+c:"")}(p,g))).code=p,y}return(0,W.Z)(f)}((0,L.Z)(Error));function Te(l){return"string"==typeof l?l:null==l?"":String(l)}function ye(l){return"function"==typeof l?l.name||l.toString():"object"==typeof l&&null!=l&&"function"==typeof l.type?l.type.name||l.type.toString():Te(l)}function bt(l,c){var f=c?" in ".concat(c):"";throw new Be(-201,"No provider for ".concat(ye(l)," found").concat(f))}function kr(l,c){null==l&&function mn(l,c,f,p){throw new Error("ASSERTION ERROR: ".concat(l)+(null==p?"":" [Expected=> ".concat(f," ").concat(p," ").concat(c," <=Actual]")))}(c,l,null,"!=")}function tr(l){return{token:l.token,providedIn:l.providedIn||null,factory:l.factory,value:void 0}}function dr(l){return{providers:l.providers||[],imports:l.imports||[]}}function Pa(l){return ui(l,nr)||ui(l,wr)}function ui(l,c){return l.hasOwnProperty(c)?l[c]:null}function ba(l){return l&&(l.hasOwnProperty(Ji)||l.hasOwnProperty(ci))?l[Ji]:null}var Xi,nr=pe({"\u0275prov":pe}),Ji=pe({"\u0275inj":pe}),wr=pe({ngInjectableDef:pe}),ci=pe({ngInjectorDef:pe}),rn=function(){return(rn=rn||{})[rn.Default=0]="Default",rn[rn.Host=1]="Host",rn[rn.Self=2]="Self",rn[rn.SkipSelf=4]="SkipSelf",rn[rn.Optional=8]="Optional",rn}();function Jr(){return Xi}function wi(l){var c=Xi;return Xi=l,c}function ir(l,c,f){var p=Pa(l);return p&&"root"==p.providedIn?void 0===p.value?p.value=p.factory():p.value:f&rn.Optional?null:void 0!==c?c:void bt(Ce(l),"Injector")}function Xt(l){return{toString:l}.toString()}var fr=function(){return(fr=fr||{})[fr.OnPush=0]="OnPush",fr[fr.Default=1]="Default",fr}(),xr=function(){return(l=xr||(xr={}))[l.Emulated=0]="Emulated",l[l.None=2]="None",l[l.ShadowDom=3]="ShadowDom",xr;var l}(),Ei="undefined"!=typeof globalThis&&globalThis,Di="undefined"!=typeof window&&window,Ve="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ne="undefined"!=typeof global&&global,be=Ei||Ne||Di||Ve,Ee={},Ye=[],_t=pe({"\u0275cmp":pe}),kt=pe({"\u0275dir":pe}),Bt=pe({"\u0275pipe":pe}),en=pe({"\u0275mod":pe}),Ot=pe({"\u0275fac":pe}),pn=pe({__NG_ELEMENT_ID__:pe}),an=0;function Pe(l){return Xt(function(){var f={},p={type:l.type,providersResolver:null,decls:l.decls,vars:l.vars,factory:null,template:l.template||null,consts:l.consts||null,ngContentSelectors:l.ngContentSelectors,hostBindings:l.hostBindings||null,hostVars:l.hostVars||0,hostAttrs:l.hostAttrs||null,contentQueries:l.contentQueries||null,declaredInputs:f,inputs:null,outputs:null,exportAs:l.exportAs||null,onPush:l.changeDetection===fr.OnPush,directiveDefs:null,pipeDefs:null,selectors:l.selectors||Ye,viewQuery:l.viewQuery||null,features:l.features||null,data:l.data||{},encapsulation:l.encapsulation||xr.Emulated,id:"c",styles:l.styles||Ye,_:null,setInput:null,schemas:l.schemas||null,tView:null},g=l.directives,y=l.features,w=l.pipes;return p.id+=an++,p.inputs=Nt(l.inputs,f),p.outputs=Nt(l.outputs),y&&y.forEach(function(T){return T(p)}),p.directiveDefs=g?function(){return("function"==typeof g?g():g).map(_e)}:null,p.pipeDefs=w?function(){return("function"==typeof w?w():w).map(Se)}:null,p})}function _e(l){return Sn(l)||function Nn(l){return l[kt]||null}(l)}function Se(l){return function di(l){return l[Bt]||null}(l)}var Ge={};function mt(l){return Xt(function(){var c={type:l.type,bootstrap:l.bootstrap||Ye,declarations:l.declarations||Ye,imports:l.imports||Ye,exports:l.exports||Ye,transitiveCompileScopes:null,schemas:l.schemas||null,id:l.id||null};return null!=l.id&&(Ge[l.id]=l.type),c})}function it(l,c){return Xt(function(){var f=yn(l,!0);f.declarations=c.declarations||Ye,f.imports=c.imports||Ye,f.exports=c.exports||Ye})}function Nt(l,c){if(null==l)return Ee;var f={};for(var p in l)if(l.hasOwnProperty(p)){var g=l[p],y=g;Array.isArray(g)&&(y=g[1],g=g[0]),f[g]=p,c&&(c[g]=y)}return f}var Qt=Pe;function sn(l){return{type:l.type,name:l.name,factory:null,pure:!1!==l.pure,onDestroy:l.type.prototype.ngOnDestroy||null}}function Sn(l){return l[_t]||null}function yn(l,c){var f=l[en]||null;if(!f&&!0===c)throw new Error("Type ".concat(Ce(l)," does not have '\u0275mod' property."));return f}function Na(l){return Array.isArray(l)&&"object"==typeof l[1]}function ji(l){return Array.isArray(l)&&!0===l[1]}function qd(l){return 0!=(8&l.flags)}function Gi(l){return 2==(2&l.flags)}function Gl(l){return 1==(1&l.flags)}function wa(l){return null!==l.template}function jh(l){return 0!=(512&l[2])}function zn(l,c){return l.hasOwnProperty(Ot)?l[Ot]:null}var rf=function(){function l(c,f,p){(0,ie.Z)(this,l),this.previousValue=c,this.currentValue=f,this.firstChange=p}return(0,W.Z)(l,[{key:"isFirstChange",value:function(){return this.firstChange}}]),l}();function Yc(){return Gh}function Gh(l){return l.type.prototype.ngOnChanges&&(l.setInput=Vo),fu}function fu(){var l=Wc(this),c=null==l?void 0:l.current;if(c){var f=l.previous;if(f===Ee)l.previous=c;else for(var p in c)f[p]=c[p];l.current=null,this.ngOnChanges(c)}}function Vo(l,c,f,p){var g=Wc(l)||function lg(l,c){return l[$u]=c}(l,{previous:Ee,current:null}),y=g.current||(g.current={}),w=g.previous,T=this.declaredInputs[f],R=w[T];y[T]=new rf(R&&R.currentValue,c,w===Ee),l[p]=c}Yc.ngInherit=!0;var $u="__ngSimpleChanges__";function Wc(l){return l[$u]||null}var hu=void 0;function Ns(l){hu=l}function _r(l){return!!l.listen}var Ju={createRenderer:function(c,f){return function Qu(){return void 0!==hu?hu:"undefined"!=typeof document?document:void 0}()}};function Mr(l){for(;Array.isArray(l);)l=l[0];return l}function fs(l,c){return Mr(c[l])}function ti(l,c){return Mr(c[l.index])}function hs(l,c){return l.data[c]}function Ba(l,c){return l[c]}function vi(l,c){var f=c[l];return Na(f)?f:f[0]}function Ls(l){return 4==(4&l[2])}function Uo(l){return 128==(128&l[2])}function Va(l,c){return null==c?null:l[c]}function cf(l){l[18]=0}function el(l,c){l[5]+=c;for(var f=l,p=l[3];null!==p&&(1===c&&1===f[5]||-1===c&&0===f[5]);)p[5]+=c,f=p,p=p[3]}var un={lFrame:jo(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function vu(){return un.bindingsEnabled}function pt(){return un.lFrame.lView}function Bn(){return un.lFrame.tView}function tl(l){return un.lFrame.contextLView=l,l[8]}function ni(){for(var l=nl();null!==l&&64===l.type;)l=l.parent;return l}function nl(){return un.lFrame.currentTNode}function Ua(l,c){var f=un.lFrame;f.currentTNode=l,f.isParent=c}function il(){return un.lFrame.isParent}function $c(){un.lFrame.isParent=!1}function al(){return un.isInCheckNoChangesMode}function ps(l){un.isInCheckNoChangesMode=l}function na(){var l=un.lFrame,c=l.bindingRootIndex;return-1===c&&(c=l.bindingRootIndex=l.tView.bindingStartIndex),c}function So(){return un.lFrame.bindingIndex++}function so(l){var c=un.lFrame,f=c.bindingIndex;return c.bindingIndex=c.bindingIndex+l,f}function $l(l,c){var f=un.lFrame;f.bindingIndex=f.bindingRootIndex=l,ol(c)}function ol(l){un.lFrame.currentDirectiveIndex=l}function sl(l){var c=un.lFrame.currentDirectiveIndex;return-1===c?null:l[c]}function ul(){return un.lFrame.currentQueryIndex}function Qc(l){un.lFrame.currentQueryIndex=l}function dg(l){var c=l[1];return 2===c.type?c.declTNode:1===c.type?l[6]:null}function Ql(l,c,f){if(f&rn.SkipSelf){for(var p=c,g=l;!(null!==(p=p.parent)||f&rn.Host||null===(p=dg(g))||(g=g[15],10&p.type)););if(null===p)return!1;c=p,l=g}var y=un.lFrame=pf();return y.currentTNode=c,y.lView=l,!0}function vs(l){var c=pf(),f=l[1];un.lFrame=c,c.currentTNode=f.firstChild,c.lView=l,c.tView=f,c.contextLView=l,c.bindingIndex=f.bindingStartIndex,c.inI18n=!1}function pf(){var l=un.lFrame,c=null===l?null:l.child;return null===c?jo(l):c}function jo(l){var c={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:l,child:null,inI18n:!1};return null!==l&&(l.child=c),c}function vf(){var l=un.lFrame;return un.lFrame=l.parent,l.currentTNode=null,l.lView=null,l}var ll=vf;function Jc(){var l=vf();l.isParent=!0,l.tView=null,l.selectedIndex=-1,l.contextLView=null,l.elementDepthCount=0,l.currentDirectiveIndex=-1,l.currentNamespace=null,l.bindingRootIndex=-1,l.bindingIndex=-1,l.currentQueryIndex=0}function ey(l){var c=un.lFrame.contextLView=function ty(l,c){for(;l>0;)c=c[15],l--;return c}(l,un.lFrame.contextLView);return c[8]}function Si(){return un.lFrame.selectedIndex}function gu(l){un.lFrame.selectedIndex=l}function Zr(){var l=un.lFrame;return hs(l.tView,l.selectedIndex)}function uo(){un.lFrame.currentNamespace="svg"}function qh(){!function fg(){un.lFrame.currentNamespace=null}()}function mu(l,c){for(var f=c.directiveStart,p=c.directiveEnd;f<p;f++){var y=l.data[f].type.prototype,w=y.ngAfterContentInit,T=y.ngAfterContentChecked,R=y.ngAfterViewInit,j=y.ngAfterViewChecked,$=y.ngOnDestroy;w&&(l.contentHooks||(l.contentHooks=[])).push(-f,w),T&&((l.contentHooks||(l.contentHooks=[])).push(f,T),(l.contentCheckHooks||(l.contentCheckHooks=[])).push(f,T)),R&&(l.viewHooks||(l.viewHooks=[])).push(-f,R),j&&((l.viewHooks||(l.viewHooks=[])).push(f,j),(l.viewCheckHooks||(l.viewCheckHooks=[])).push(f,j)),null!=$&&(l.destroyHooks||(l.destroyHooks=[])).push(f,$)}}function Gr(l,c,f){cl(l,c,3,f)}function Jl(l,c,f,p){(3&l[2])===f&&cl(l,c,f,p)}function gf(l,c){var f=l[2];(3&f)===c&&(f&=2047,l[2]=f+=1)}function cl(l,c,f,p){for(var y=null!=p?p:-1,w=c.length-1,T=0,R=void 0!==p?65535&l[18]:0;R<w;R++)if("number"==typeof c[R+1]){if(T=c[R],null!=p&&T>=p)break}else c[R]<0&&(l[18]+=65536),(T<y||-1==y)&&(Kh(l,f,c,R),l[18]=(4294901760&l[18])+R+2),R++}function Kh(l,c,f,p){var g=f[p]<0,y=f[p+1],T=l[g?-f[p]:f[p]];if(g){if(l[2]>>11<l[18]>>16&&(3&l[2])===c){l[2]+=2048;try{y.call(T)}finally{}}}else try{y.call(T)}finally{}}var Xl=(0,W.Z)(function l(c,f,p){(0,ie.Z)(this,l),this.factory=c,this.resolving=!1,this.canSeeViewProviders=f,this.injectImpl=p});function gs(l,c,f){for(var p=_r(l),g=0;g<f.length;){var y=f[g];if("number"==typeof y){if(0!==y)break;g++;var w=f[g++],T=f[g++],R=f[g++];p?l.setAttribute(c,T,R,w):c.setAttributeNS(w,T,R)}else{var j=y,$=f[++g];Br(j)?p&&l.setProperty(c,j,$):p?l.setAttribute(c,j,$):c.setAttribute(j,$),g++}}return g}function _u(l){return 3===l||4===l||6===l}function Br(l){return 64===l.charCodeAt(0)}function dl(l,c){if(null!==c&&0!==c.length)if(null===l||0===l.length)l=c.slice();else for(var f=-1,p=0;p<c.length;p++){var g=c[p];"number"==typeof g?f=g:0===f||ec(l,f,g,null,-1===f||2===f?c[++p]:null)}return l}function ec(l,c,f,p,g){var y=0,w=l.length;if(-1===c)w=-1;else for(;y<l.length;){var T=l[y++];if("number"==typeof T){if(T===c){w=-1;break}if(T>c){w=y-1;break}}}for(;y<l.length;){var R=l[y];if("number"==typeof R)break;if(R===f){if(null===p)return void(null!==g&&(l[y+1]=g));if(p===l[y+1])return void(l[y+2]=g)}y++,null!==p&&y++,null!==g&&y++}-1!==w&&(l.splice(w,0,c),y=w+1),l.splice(y++,0,f),null!==p&&l.splice(y++,0,p),null!==g&&l.splice(y++,0,g)}function yu(l){return-1!==l}function Qn(l){return 32767&l}function ms(l,c){for(var f=function Vr(l){return l>>16}(l),p=c;f>0;)p=p[15],f--;return p}var bu=!0;function _s(l){var c=bu;return bu=l,c}var _f=0;function co(l,c){var f=fo(l,c);if(-1!==f)return f;var p=c[1];p.firstCreatePass&&(l.injectorIndex=c.length,Ha(p.data,l),Ha(c,null),Ha(p.blueprint,null));var g=Ti(l,c),y=l.injectorIndex;if(yu(g))for(var w=Qn(g),T=ms(g,c),R=T[1].data,j=0;j<8;j++)c[y+j]=T[w+j]|R[w+j];return c[y+8]=g,y}function Ha(l,c){l.push(0,0,0,0,0,0,0,0,c)}function fo(l,c){return-1===l.injectorIndex||l.parent&&l.parent.injectorIndex===l.injectorIndex||null===c[l.injectorIndex+8]?-1:l.injectorIndex}function Ti(l,c){if(l.parent&&-1!==l.parent.injectorIndex)return l.parent.injectorIndex;for(var f=0,p=null,g=c;null!==g;){var y=g[1],w=y.type;if(null===(p=2===w?y.declTNode:1===w?g[6]:null))return-1;if(f++,g=g[15],-1!==p.injectorIndex)return p.injectorIndex|f<<16}return-1}function ho(l,c,f){!function ku(l,c,f){var p;"string"==typeof f?p=f.charCodeAt(0)||0:f.hasOwnProperty(pn)&&(p=f[pn]),null==p&&(p=f[pn]=_f++);var g=255&p;c.data[l+(g>>5)]|=1<<g}(l,c,f)}function It(l,c,f){if(f&rn.Optional)return l;bt(c,"NodeInjector")}function ii(l,c,f,p){if(f&rn.Optional&&void 0===p&&(p=null),0==(f&(rn.Self|rn.Host))){var g=l[9],y=wi(void 0);try{return g?g.get(c,p,f&rn.Optional):ir(c,p,f&rn.Optional)}finally{wi(y)}}return It(p,c,f)}function Kn(l,c,f){var p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:rn.Default,g=arguments.length>4?arguments[4]:void 0;if(null!==l){var y=bf(f);if("function"==typeof y){if(!Ql(c,l,p))return p&rn.Host?It(g,f,p):ii(c,f,p,g);try{var w=y(p);if(null!=w||p&rn.Optional)return w;bt(f)}finally{ll()}}else if("number"==typeof y){var T=null,R=fo(l,c),j=-1,$=p&rn.Host?c[16][6]:null;for((-1===R||p&rn.SkipSelf)&&(-1!==(j=-1===R?Ti(l,c):c[R+8])&&Hn(p,!1)?(T=c[1],R=Qn(j),c=ms(j,c)):R=-1);-1!==R;){var ae=c[1];if(nc(y,R,ae.data)){var de=Qh(R,c,f,T,p,$);if(de!==td)return de}-1!==(j=c[R+8])&&Hn(p,c[1].data[R+8]===$)&&nc(y,R,c)?(T=ae,R=Qn(j),c=ms(j,c)):R=-1}}}return ii(c,f,p,g)}var td={};function yf(){return new gi(ni(),pt())}function Qh(l,c,f,p,g,y){var w=c[1],T=w.data[l+8],$=fl(T,w,f,null==p?Gi(T)&&bu:p!=w&&0!=(3&T.type),g&rn.Host&&y===T);return null!==$?Zn(c,w,$,T):td}function fl(l,c,f,p,g){for(var y=l.providerIndexes,w=c.data,T=1048575&y,R=l.directiveStart,$=y>>20,de=g?T+$:l.directiveEnd,we=p?T:T+$;we<de;we++){var We=w[we];if(we<R&&f===We||we>=R&&We.type===f)return we}if(g){var dt=w[R];if(dt&&wa(dt)&&dt.type===f)return R}return null}function Zn(l,c,f,p){var g=l[f],y=c.data;if(function zr(l){return l instanceof Xl}(g)){var w=g;w.resolving&&function ve(l,c){var f=c?". Dependency path: ".concat(c.join(" > ")," > ").concat(l):"";throw new Be(-200,"Circular dependency in DI detected for ".concat(l).concat(f))}(ye(y[f]));var T=_s(w.canSeeViewProviders);w.resolving=!0;var R=w.injectImpl?wi(w.injectImpl):null;Ql(l,p,rn.Default);try{g=l[f]=w.factory(void 0,y,l,p),c.firstCreatePass&&f>=p.directiveStart&&function pg(l,c,f){var p=c.type.prototype,y=p.ngOnInit,w=p.ngDoCheck;if(p.ngOnChanges){var T=Gh(c);(f.preOrderHooks||(f.preOrderHooks=[])).push(l,T),(f.preOrderCheckHooks||(f.preOrderCheckHooks=[])).push(l,T)}y&&(f.preOrderHooks||(f.preOrderHooks=[])).push(0-l,y),w&&((f.preOrderHooks||(f.preOrderHooks=[])).push(l,w),(f.preOrderCheckHooks||(f.preOrderCheckHooks=[])).push(l,w))}(f,y[f],c)}finally{null!==R&&wi(R),_s(T),w.resolving=!1,ll()}}return g}function bf(l){if("string"==typeof l)return l.charCodeAt(0)||0;var c=l.hasOwnProperty(pn)?l[pn]:void 0;return"number"==typeof c?c>=0?255&c:yf:c}function nc(l,c,f){return!!(f[c+(l>>5)]&1<<l)}function Hn(l,c){return!(l&rn.Self||l&rn.Host&&c)}var gi=function(){function l(c,f){(0,ie.Z)(this,l),this._tNode=c,this._lView=f}return(0,W.Z)(l,[{key:"get",value:function(f,p,g){return Kn(this._tNode,this._lView,f,g,p)}}]),l}();function rc(l){return Xt(function(){for(var c=l.prototype.constructor,f=c[Ot]||hl(c),p=Object.prototype,g=Object.getPrototypeOf(l.prototype).constructor;g&&g!==p;){var y=g[Ot]||hl(g);if(y&&y!==f)return y;g=Object.getPrototypeOf(g)}return function(w){return new w}})}function hl(l){return on(l)?function(){var c=hl(Ct(l));return c&&c()}:zn(l)}function _n(l){return function tc(l,c){if("class"===c)return l.classes;if("style"===c)return l.styles;var f=l.attrs;if(f)for(var p=f.length,g=0;g<p;){var y=f[g];if(_u(y))break;if(0===y)g+=2;else if("number"==typeof y)for(g++;g<p&&"string"==typeof f[g];)g++;else{if(y===c)return f[g+1];g+=2}}return null}(ni(),l)}var pl="__parameters__";function ai(l,c,f){return Xt(function(){var p=function gl(l){return function(){if(l){var f=l.apply(void 0,arguments);for(var p in f)this[p]=f[p]}}}(c);function g(){for(var y=arguments.length,w=new Array(y),T=0;T<y;T++)w[T]=arguments[T];if(this instanceof g)return p.apply(this,w),this;var R=(0,s.Z)(g,w);return j.annotation=R,j;function j($,ae,de){for(var we=$.hasOwnProperty(pl)?$[pl]:Object.defineProperty($,pl,{value:[]})[pl];we.length<=de;)we.push(null);return(we[de]=we[de]||[]).push(R),$}}return f&&(g.prototype=Object.create(f.prototype)),g.prototype.ngMetadataName=l,g.annotationCls=g,g})}var Yr=function(){function l(c,f){(0,ie.Z)(this,l),this._desc=c,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof f?this.__NG_ELEMENT_ID__=f:void 0!==f&&(this.\u0275prov=tr({token:this,providedIn:f.providedIn||"root",factory:f.factory}))}return(0,W.Z)(l,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),l}(),Jh=new Yr("AnalyzeForEntryComponents"),ja=Function;function Ai(l,c){void 0===c&&(c=l);for(var f=0;f<l.length;f++){var p=l[f];Array.isArray(p)?(c===l&&(c=l.slice(0,f)),Ai(p,c)):c!==l&&c.push(p)}return c}function ra(l,c){l.forEach(function(f){return Array.isArray(f)?ra(f,c):c(f)})}function wu(l,c,f){c>=l.length?l.push(f):l.splice(c,0,f)}function ca(l,c){return c>=l.length-1?l.pop():l.splice(c,1)[0]}function po(l,c){for(var f=[],p=0;p<l;p++)f.push(c);return f}function Yi(l,c,f){var p=Hs(l,c);return p>=0?l[1|p]=f:function wf(l,c,f,p){var g=l.length;if(g==c)l.push(f,p);else if(1===g)l.push(p,l[0]),l[0]=f;else{for(g--,l.push(l[g-1],l[g]);g>c;)l[g]=l[g-2],g--;l[c]=f,l[c+1]=p}}(l,p=~p,c,f),p}function sc(l,c){var f=Hs(l,c);if(f>=0)return l[1|f]}function Hs(l,c){return function uc(l,c,f){for(var p=0,g=l.length>>f;g!==p;){var y=p+(g-p>>1),w=l[y<<f];if(c===w)return y<<f;w>c?g=y:p=y+1}return~(g<<f)}(l,c,1)}var z={},Q="__NG_DI_FLAG__",se="ngTempTokenPath",he=/\n/gm,Je="__source",at=pe({provide:String,useValue:pe}),ot=void 0;function et(l){var c=ot;return ot=l,c}function Kt(l){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rn.Default;if(void 0===ot){var f="";throw new Be(203,f)}return null===ot?ir(l,void 0,c):ot.get(l,c&rn.Optional?null:void 0,c)}function fn(l){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rn.Default;return(Jr()||Kt)(Ct(l),c)}var nn=fn;function On(l){for(var c=[],f=0;f<l.length;f++){var p=Ct(l[f]);if(Array.isArray(p)){if(0===p.length)throw new Be(900,"");for(var y=void 0,w=rn.Default,T=0;T<p.length;T++){var R=p[T],j=ar(R);"number"==typeof j?-1===j?y=R.token:w|=j:y=R}c.push(fn(y,w))}else c.push(fn(p))}return c}function Jn(l,c){return l[Q]=c,l.prototype[Q]=c,l}function ar(l){return l[Q]}function Ii(l,c,f,p){var g=l[se];throw c[Je]&&g.unshift(c[Je]),l.message=function Ri(l,c,f){var p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;l=l&&"\n"===l.charAt(0)&&"\u0275"==l.charAt(1)?l.substr(2):l;var g=Ce(c);if(Array.isArray(c))g=c.map(Ce).join(" -> ");else if("object"==typeof c){var y=[];for(var w in c)if(c.hasOwnProperty(w)){var T=c[w];y.push(w+":"+("string"==typeof T?JSON.stringify(T):Ce(T)))}g="{".concat(y.join(", "),"}")}return"".concat(f).concat(p?"("+p+")":"","[").concat(g,"]: ").concat(l.replace(he,"\n  "))}("\n"+l.message,g,f,p),l.ngTokenPath=g,l[se]=null,l}var Af,za=Jn(ai("Inject",function(l){return{token:l}}),-1),or=Jn(ai("Optional"),8),bs=Jn(ai("SkipSelf"),4);function fc(l){var c;return(null===(c=function dc(){if(void 0===Af&&(Af=null,be.trustedTypes))try{Af=be.trustedTypes.createPolicy("angular",{createHTML:function(c){return c},createScript:function(c){return c},createScriptURL:function(c){return c}})}catch(l){}return Af}())||void 0===c?void 0:c.createHTML(l))||l}var Ao=function(){function l(c){(0,ie.Z)(this,l),this.changingThisBreaksApplicationSecurity=c}return(0,W.Z)(l,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity)+" (see https://g.co/ng/security#xss)"}}]),l}(),ip=function(l){(0,B.Z)(f,l);var c=(0,ee.Z)(f);function f(){return(0,ie.Z)(this,f),c.apply(this,arguments)}return(0,W.Z)(f,[{key:"getTypeName",value:function(){return"HTML"}}]),f}(Ao),yg=function(l){(0,B.Z)(f,l);var c=(0,ee.Z)(f);function f(){return(0,ie.Z)(this,f),c.apply(this,arguments)}return(0,W.Z)(f,[{key:"getTypeName",value:function(){return"Style"}}]),f}(Ao),sy=function(l){(0,B.Z)(f,l);var c=(0,ee.Z)(f);function f(){return(0,ie.Z)(this,f),c.apply(this,arguments)}return(0,W.Z)(f,[{key:"getTypeName",value:function(){return"Script"}}]),f}(Ao),pc=function(l){(0,B.Z)(f,l);var c=(0,ee.Z)(f);function f(){return(0,ie.Z)(this,f),c.apply(this,arguments)}return(0,W.Z)(f,[{key:"getTypeName",value:function(){return"URL"}}]),f}(Ao),bg=function(l){(0,B.Z)(f,l);var c=(0,ee.Z)(f);function f(){return(0,ie.Z)(this,f),c.apply(this,arguments)}return(0,W.Z)(f,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),f}(Ao);function zo(l){return l instanceof Ao?l.changingThisBreaksApplicationSecurity:l}function zs(l,c){var f=od(l);if(null!=f&&f!==c){if("ResourceURL"===f&&"URL"===c)return!0;throw new Error("Required a safe ".concat(c,", got a ").concat(f," (see https://g.co/ng/security#xss)"))}return f===c}function od(l){return l instanceof Ao&&l.getTypeName()||null}function ap(l){return new ip(l)}function op(l){return new yg(l)}function sp(l){return new sy(l)}function up(l){return new pc(l)}function uy(l){return new bg(l)}var kg=function(){function l(c){(0,ie.Z)(this,l),this.inertDocumentHelper=c}return(0,W.Z)(l,[{key:"getInertBodyElement",value:function(f){f="<body><remove></remove>"+f;try{var p=(new window.DOMParser).parseFromString(fc(f),"text/html").body;return null===p?this.inertDocumentHelper.getInertBodyElement(f):(p.removeChild(p.firstChild),p)}catch(g){return null}}}]),l}(),ly=function(){function l(c){if((0,ie.Z)(this,l),this.defaultDoc=c,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){var f=this.inertDocument.createElement("html");this.inertDocument.appendChild(f);var p=this.inertDocument.createElement("body");f.appendChild(p)}}return(0,W.Z)(l,[{key:"getInertBodyElement",value:function(f){var p=this.inertDocument.createElement("template");if("content"in p)return p.innerHTML=fc(f),p;var g=this.inertDocument.createElement("body");return g.innerHTML=fc(f),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(g),g}},{key:"stripCustomNsAttrs",value:function(f){for(var p=f.attributes,g=p.length-1;0<g;g--){var w=p.item(g).name;("xmlns:ns1"===w||0===w.indexOf("ns1:"))&&f.removeAttribute(w)}for(var T=f.firstChild;T;)T.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(T),T=T.nextSibling}}]),l}(),Pf=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,M=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function D(l){return(l=String(l)).match(Pf)||l.match(M)?l:"unsafe:"+l}function E(l){return(l=String(l)).split(",").map(function(c){return D(c.trim())}).join(", ")}function S(l){var p,c={},f=(0,G.Z)(l.split(","));try{for(f.s();!(p=f.n()).done;)c[p.value]=!0}catch(y){f.e(y)}finally{f.f()}return c}function C(){for(var l={},c=arguments.length,f=new Array(c),p=0;p<c;p++)f[p]=arguments[p];for(var g=0,y=f;g<y.length;g++){var w=y[g];for(var T in w)w.hasOwnProperty(T)&&(l[T]=!0)}return l}var Yo,A=S("area,br,col,hr,img,wbr"),F=S("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),U=S("rp,rt"),Y=C(U,F),ze=C(A,C(F,S("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),C(U,S("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Y),Pt=S("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),$e=S("srcset"),Oi=C(Pt,$e,S("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),S("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Sr=S("script,style,template"),Io=function(){function l(){(0,ie.Z)(this,l),this.sanitizedSomething=!1,this.buf=[]}return(0,W.Z)(l,[{key:"sanitizeChildren",value:function(f){for(var p=f.firstChild,g=!0;p;)if(p.nodeType===Node.ELEMENT_NODE?g=this.startElement(p):p.nodeType===Node.TEXT_NODE?this.chars(p.nodeValue):this.sanitizedSomething=!0,g&&p.firstChild)p=p.firstChild;else for(;p;){p.nodeType===Node.ELEMENT_NODE&&this.endElement(p);var y=this.checkClobberedElement(p,p.nextSibling);if(y){p=y;break}p=this.checkClobberedElement(p,p.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(f){var p=f.nodeName.toLowerCase();if(!ze.hasOwnProperty(p))return this.sanitizedSomething=!0,!Sr.hasOwnProperty(p);this.buf.push("<"),this.buf.push(p);for(var g=f.attributes,y=0;y<g.length;y++){var w=g.item(y),T=w.name,R=T.toLowerCase();if(Oi.hasOwnProperty(R)){var j=w.value;Pt[R]&&(j=D(j)),$e[R]&&(j=E(j)),this.buf.push(" ",T,'="',Da(j),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(f){var p=f.nodeName.toLowerCase();ze.hasOwnProperty(p)&&!A.hasOwnProperty(p)&&(this.buf.push("</"),this.buf.push(p),this.buf.push(">"))}},{key:"chars",value:function(f){this.buf.push(Da(f))}},{key:"checkClobberedElement",value:function(f,p){if(p&&(f.compareDocumentPosition(p)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: ".concat(f.outerHTML));return p}}]),l}(),gn=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,mi=/([^\#-~ |!])/g;function Da(l){return l.replace(/&/g,"&amp;").replace(gn,function(c){return"&#"+(1024*(c.charCodeAt(0)-55296)+(c.charCodeAt(1)-56320)+65536)+";"}).replace(mi,function(c){return"&#"+c.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function vc(l,c){var f=null;try{Yo=Yo||function kl(l){var c=new ly(l);return function cy(){try{return!!(new window.DOMParser).parseFromString(fc(""),"text/html")}catch(l){return!1}}()?new kg(c):c}(l);var p=c?String(c):"";f=Yo.getInertBodyElement(p);var g=5,y=p;do{if(0===g)throw new Error("Failed to sanitize html because the input is unstable");g--,p=y,y=f.innerHTML,f=Yo.getInertBodyElement(p)}while(p!==y);return fc((new Io).sanitizeChildren(Or(f)||f))}finally{if(f)for(var R=Or(f)||f;R.firstChild;)R.removeChild(R.firstChild)}}function Or(l){return"content"in l&&function dy(l){return l.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===l.nodeName}(l)?l.content:null}var Er=function(){return(Er=Er||{})[Er.NONE=0]="NONE",Er[Er.HTML=1]="HTML",Er[Er.STYLE=2]="STYLE",Er[Er.SCRIPT=3]="SCRIPT",Er[Er.URL=4]="URL",Er[Er.RESOURCE_URL=5]="RESOURCE_URL",Er}();function ud(l){var c=function xf(){var l=pt();return l&&l[12]}();return c?c.sanitize(Er.URL,l)||"":zs(l,"URL")?zo(l):D(Te(l))}var Yw="__ngContext__";function Ya(l,c){l[Yw]=c}function hy(l){var c=function cp(l){return l[Yw]||null}(l);return c?Array.isArray(c)?c:c.lView:null}function fp(l){return l.ngOriginalError}function qw(l){for(var c=arguments.length,f=new Array(c>1?c-1:0),p=1;p<c;p++)f[p-1]=arguments[p];l.error.apply(l,f)}var ld=function(){function l(){(0,ie.Z)(this,l),this._console=console}return(0,W.Z)(l,[{key:"handleError",value:function(f){var p=this._findOriginalError(f),g=function rA(l){return l&&l.ngErrorLogger||qw}(f);g(this._console,"ERROR",f),p&&g(this._console,"ORIGINAL ERROR",p)}},{key:"_findOriginalError",value:function(f){for(var p=f&&fp(f);p&&fp(p);)p=fp(p);return p||null}}]),l}(),cA=function(){return("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(be)}();function $w(l){return l.ownerDocument.body}function Cu(l){return l instanceof Function?l():l}var Eu=function(){return(Eu=Eu||{})[Eu.Important=1]="Important",Eu[Eu.DashCase=2]="DashCase",Eu}();function yy(l,c){return undefined(l,c)}function Lf(l){var c=l[3];return ji(c)?c[3]:c}function Dg(l){return Xw(l[13])}function wy(l){return Xw(l[4])}function Xw(l){for(;null!==l&&!ji(l);)l=l[4];return l}function Bf(l,c,f,p,g){if(null!=p){var y,w=!1;ji(p)?y=p:Na(p)&&(w=!0,p=p[0]);var T=Mr(p);0===l&&null!==f?null==g?vp(c,f,T):wl(c,f,T,g||null,!0):1===l&&null!==f?wl(c,f,T,g||null,!0):2===l?function Py(l,c,f){var p=Sg(l,c);p&&function bA(l,c,f,p){_r(l)?l.removeChild(c,f,p):c.removeChild(f)}(l,p,c,f)}(c,T,w):3===l&&c.destroyNode(T),null!=y&&function CA(l,c,f,p,g){var y=f[7];y!==Mr(f)&&Bf(c,l,p,y,g);for(var T=10;T<f.length;T++){var R=f[T];_p(R[1],R,l,c,p,y)}}(c,l,y,f,g)}}function Mg(l,c){return _r(l)?l.createText(c):l.createTextNode(c)}function Ey(l,c,f){if(_r(l))return l.createElement(c,f);var p=null!==f?function Kc(l){var c=l.toLowerCase();return"svg"===c?"http://www.w3.org/2000/svg":"math"===c?"http://www.w3.org/1998/MathML/":null}(f):null;return null===p?l.createElement(c):l.createElementNS(p,c)}function nC(l,c){var f=l[9],p=f.indexOf(c),g=c[3];1024&c[2]&&(c[2]&=-1025,el(g,-1)),f.splice(p,1)}function My(l,c){if(!(l.length<=10)){var f=10+c,p=l[f];if(p){var g=p[17];null!==g&&g!==l&&nC(g,p),c>0&&(l[f-1][4]=p[4]);var y=ca(l,10+c);!function vA(l,c){_p(l,c,c[11],2,null,null),c[0]=null,c[6]=null}(p[1],p);var w=y[19];null!==w&&w.detachView(y[1]),p[3]=null,p[4]=null,p[2]&=-129}return p}}function Sy(l,c){if(!(256&c[2])){var f=c[11];_r(f)&&f.destroyNode&&_p(l,c,f,3,null,null),function tC(l){var c=l[13];if(!c)return Ty(l[1],l);for(;c;){var f=null;if(Na(c))f=c[13];else{var p=c[10];p&&(f=p)}if(!f){for(;c&&!c[4]&&c!==l;)Na(c)&&Ty(c[1],c),c=c[3];null===c&&(c=l),Na(c)&&Ty(c[1],c),f=c&&c[4]}c=f}}(c)}}function Ty(l,c){if(!(256&c[2])){c[2]&=-129,c[2]|=256,function qo(l,c){var f;if(null!=l&&null!=(f=l.destroyHooks))for(var p=0;p<f.length;p+=2){var g=c[f[p]];if(!(g instanceof Xl)){var y=f[p+1];if(Array.isArray(y))for(var w=0;w<y.length;w+=2){var T=g[y[w]],R=y[w+1];try{R.call(T)}finally{}}else try{y.call(g)}finally{}}}}(l,c),function yA(l,c){var f=l.cleanup,p=c[7],g=-1;if(null!==f)for(var y=0;y<f.length-1;y+=2)if("string"==typeof f[y]){var w=f[y+1],T="function"==typeof w?w(c):Mr(c[w]),R=p[g=f[y+2]],j=f[y+3];"boolean"==typeof j?T.removeEventListener(f[y],R,j):j>=0?p[g=j]():p[g=-j].unsubscribe(),y+=2}else{var $=p[g=f[y+1]];f[y].call($)}if(null!==p){for(var ae=g+1;ae<p.length;ae++)(0,p[ae])();c[7]=null}}(l,c),1===c[1].type&&_r(c[11])&&c[11].destroy();var f=c[17];if(null!==f&&ji(c[3])){f!==c[3]&&nC(f,c);var p=c[19];null!==p&&p.detachView(l)}}}function rC(l,c,f){return function Ay(l,c,f){for(var p=c;null!==p&&40&p.type;)p=(c=p).parent;if(null===p)return f[0];if(2&p.flags){var g=l.data[p.directiveStart].encapsulation;if(g===xr.None||g===xr.Emulated)return null}return ti(p,f)}(l,c.parent,f)}function wl(l,c,f,p,g){_r(l)?l.insertBefore(c,f,p,g):c.insertBefore(f,p,g)}function vp(l,c,f){_r(l)?l.appendChild(c,f):c.appendChild(f)}function cd(l,c,f,p,g){null!==p?wl(l,c,f,p,g):vp(l,c,f)}function Sg(l,c){return _r(l)?l.parentNode(c):c.parentNode}function aC(l,c,f){return Ry(l,c,f)}var Ry=function Iy(l,c,f){return 40&l.type?ti(l,f):null};function Du(l,c,f,p){var g=rC(l,p,c),y=c[11],T=aC(p.parent||c[6],p,c);if(null!=g)if(Array.isArray(f))for(var R=0;R<f.length;R++)cd(y,g,f[R],T,!1);else cd(y,g,f,T,!1)}function mp(l,c){if(null!==c){var f=c.type;if(3&f)return ti(c,l);if(4&f)return Oy(-1,l[c.index]);if(8&f){var p=c.child;if(null!==p)return mp(l,p);var g=l[c.index];return ji(g)?Oy(-1,g):Mr(g)}if(32&f)return yy(c,l)()||Mr(l[c.index]);var T=oC(l,c);return null!==T?Array.isArray(T)?T[0]:mp(Lf(l[16]),T):mp(l,c.next)}return null}function oC(l,c){return null!==c?l[16][6].projection[c.projection]:null}function Oy(l,c){var f=10+l+1;if(f<c.length){var p=c[f],g=p[1].firstChild;if(null!==g)return mp(p,g)}return c[7]}function Fy(l,c,f,p,g,y,w){for(;null!=f;){var T=p[f.index],R=f.type;if(w&&0===c&&(T&&Ya(Mr(T),p),f.flags|=4),64!=(64&f.flags))if(8&R)Fy(l,c,f.child,p,g,y,!1),Bf(c,l,g,T,y);else if(32&R){for(var j=yy(f,p),$=void 0;$=j();)Bf(c,l,g,$,y);Bf(c,l,g,T,y)}else 16&R?xy(l,c,p,f,g,y):Bf(c,l,g,T,y);f=w?f.projectionNext:f.next}}function _p(l,c,f,p,g,y){Fy(f,p,l.firstChild,c,g,y,!1)}function wA(l,c,f){xy(c[11],0,c,f,rC(l,f,c),aC(f.parent||c[6],f,c))}function xy(l,c,f,p,g,y){var w=f[16],R=w[6].projection[p.projection];if(Array.isArray(R))for(var j=0;j<R.length;j++)Bf(c,l,g,R[j],y);else Fy(l,c,R,w[3],g,y,!0)}function sC(l,c,f){_r(l)?l.setAttribute(c,"style",f):c.style.cssText=f}function yp(l,c,f){_r(l)?""===f?l.removeAttribute(c,"class"):l.setAttribute(c,"class",f):c.className=f}function uC(l,c,f){for(var p=l.length;;){var g=l.indexOf(c,f);if(-1===g)return g;if(0===g||l.charCodeAt(g-1)<=32){var y=c.length;if(g+y===p||l.charCodeAt(g+y)<=32)return g}f=g+1}}var Ny="ng-template";function DA(l,c,f){for(var p=0;p<l.length;){var g=l[p++];if(f&&"class"===g){if(-1!==uC((g=l[p]).toLowerCase(),c,0))return!0}else if(1===g){for(;p<l.length&&"string"==typeof(g=l[p++]);)if(g.toLowerCase()===c)return!0;return!1}}return!1}function MA(l){return 4===l.type&&l.value!==Ny}function Pi(l,c,f){return c===(4!==l.type||f?l.value:Ny)}function me(l,c,f){for(var p=4,g=l.attrs||[],y=function TA(l){for(var c=0;c<l.length;c++)if(_u(l[c]))return c;return l.length}(g),w=!1,T=0;T<c.length;T++){var R=c[T];if("number"!=typeof R){if(!w)if(4&p){if(p=2|1&p,""!==R&&!Pi(l,R,f)||""===R&&1===c.length){if(Ws(p))return!1;w=!0}}else{var j=8&p?R:c[++T];if(8&p&&null!==l.attrs){if(!DA(l.attrs,j,f)){if(Ws(p))return!1;w=!0}continue}var ae=lC(8&p?"class":R,g,MA(l),f);if(-1===ae){if(Ws(p))return!1;w=!0;continue}if(""!==j){var de;de=ae>y?"":g[ae+1].toLowerCase();var we=8&p?de:null;if(we&&-1!==uC(we,j,0)||2&p&&j!==de){if(Ws(p))return!1;w=!0}}}}else{if(!w&&!Ws(p)&&!Ws(R))return!1;if(w&&Ws(R))continue;w=!1,p=R|1&p}}return Ws(p)||w}function Ws(l){return 0==(1&l)}function lC(l,c,f,p){if(null===c)return-1;var g=0;if(p||!f){for(var y=!1;g<c.length;){var w=c[g];if(w===l)return g;if(3===w||6===w)y=!0;else{if(1===w||2===w){for(var T=c[++g];"string"==typeof T;)T=c[++g];continue}if(4===w)break;if(0===w){g+=4;continue}}g+=y?1:2}return-1}return function AA(l,c){var f=l.indexOf(4);if(f>-1)for(f++;f<l.length;){var p=l[f];if("number"==typeof p)return-1;if(p===c)return f;f++}return-1}(c,l)}function Zy(l,c){for(var f=arguments.length>2&&void 0!==arguments[2]&&arguments[2],p=0;p<c.length;p++)if(me(l,c[p],f))return!0;return!1}function cC(l,c){e:for(var f=0;f<c.length;f++){var p=c[f];if(l.length===p.length){for(var g=0;g<l.length;g++)if(l[g]!==p[g])continue e;return!0}}return!1}function Ly(l,c){return l?":not("+c.trim()+")":c}function bp(l){for(var c=l[0],f=1,p=2,g="",y=!1;f<l.length;){var w=l[f];if("string"==typeof w)if(2&p){var T=l[++f];g+="["+w+(T.length>0?'="'+T+'"':"")+"]"}else 8&p?g+="."+w:4&p&&(g+=" "+w);else""!==g&&!Ws(w)&&(c+=Ly(y,g),g=""),p=w,y=y||!Ws(p);f++}return""!==g&&(c+=Ly(y,g)),c}var Cn={};function dC(l){By(Bn(),pt(),Si()+l,al())}function By(l,c,f,p){if(!p)if(3==(3&c[2])){var y=l.preOrderCheckHooks;null!==y&&Gr(c,y,f)}else{var w=l.preOrderHooks;null!==w&&Jl(c,w,0,f)}gu(f)}function Cl(l,c){return l<<17|c<<2}function Mu(l){return l>>17&32767}function Tg(l){return 2|l}function Su(l){return(131068&l)>>2}function Ag(l,c){return-131069&l|c<<2}function kp(l){return 1|l}function kC(l,c){var f=l.contentQueries;if(null!==f)for(var p=0;p<f.length;p+=2){var y=f[p+1];if(-1!==y){var w=l.data[y];Qc(f[p]),w.contentQueries(2,c[y],y)}}}function Cs(l,c,f,p,g,y,w,T,R,j){var $=c.blueprint.slice();return $[0]=g,$[2]=140|p,cf($),$[3]=$[15]=l,$[8]=f,$[10]=w||l&&l[10],$[11]=T||l&&l[11],$[12]=R||l&&l[12]||null,$[9]=j||l&&l[9]||null,$[6]=y,$[16]=2==c.type?l[16]:$,$}function fd(l,c,f,p,g){var y=l.data[c];if(null===y)y=function oi(l,c,f,p,g){var y=nl(),w=il(),R=l.data[c]=function EC(l,c,f,p,g,y){return{type:f,index:p,insertBeforeIndex:null,injectorIndex:c?c.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:g,attrs:y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:c,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?y:y&&y.parent,f,c,p,g);return null===l.firstChild&&(l.firstChild=R),null!==y&&(w?null==y.child&&null!==R.parent&&(y.child=R):null===y.next&&(y.next=R)),R}(l,c,f,p,g),function Kl(){return un.lFrame.inI18n}()&&(y.flags|=64);else if(64&y.type){y.type=f,y.value=p,y.attrs=g;var w=function rl(){var l=un.lFrame,c=l.currentTNode;return l.isParent?c:c.parent}();y.injectorIndex=null===w?-1:w.injectorIndex}return Ua(y,!0),y}function Ko(l,c,f,p){if(0===f)return-1;for(var g=c.length,y=0;y<f;y++)c.push(p),l.blueprint.push(p),l.data.push(null);return g}function Dp(l,c,f){vs(c);try{var p=l.viewQuery;null!==p&&e0(1,p,f);var g=l.template;null!==g&&jy(l,c,g,1,f),l.firstCreatePass&&(l.firstCreatePass=!1),l.staticContentQueries&&kC(l,c),l.staticViewQueries&&e0(2,l.viewQuery,f);var y=l.components;null!==y&&function Fg(l,c){for(var f=0;f<c.length;f++)$A(l,c[f])}(c,y)}catch(w){throw l.firstCreatePass&&(l.incompleteFirstPass=!0,l.firstCreatePass=!1),w}finally{c[2]&=-5,Jc()}}function mc(l,c,f,p){var g=c[2];if(256!=(256&g)){vs(c);var y=al();try{cf(c),function ff(l){return un.lFrame.bindingIndex=l}(l.bindingStartIndex),null!==f&&jy(l,c,f,2,p);var w=3==(3&g);if(!y)if(w){var T=l.preOrderCheckHooks;null!==T&&Gr(c,T,null)}else{var R=l.preOrderHooks;null!==R&&Jl(c,R,0,null),gf(c,0)}if(function pL(l){for(var c=Dg(l);null!==c;c=wy(c))if(c[2])for(var f=c[9],p=0;p<f.length;p++){var g=f[p];0==(1024&g[2])&&el(g[3],1),g[2]|=1024}}(c),function hL(l){for(var c=Dg(l);null!==c;c=wy(c))for(var f=10;f<c.length;f++){var p=c[f],g=p[1];Uo(p)&&mc(g,p,g.template,p[8])}}(c),null!==l.contentQueries&&kC(l,c),!y)if(w){var j=l.contentCheckHooks;null!==j&&Gr(c,j)}else{var $=l.contentHooks;null!==$&&Jl(c,$,1),gf(c,1)}!function UA(l,c){var f=l.hostBindingOpCodes;if(null!==f)try{for(var p=0;p<f.length;p++){var g=f[p];if(g<0)gu(~g);else{var y=g,w=f[++p],T=f[++p];$l(w,y),T(2,c[y])}}}finally{gu(-1)}}(l,c);var ae=l.components;null!==ae&&function HA(l,c){for(var f=0;f<c.length;f++)KA(l,c[f])}(c,ae);var de=l.viewQuery;if(null!==de&&e0(2,de,p),!y)if(w){var we=l.viewCheckHooks;null!==we&&Gr(c,we)}else{var We=l.viewHooks;null!==We&&Jl(c,We,2),gf(c,2)}!0===l.firstUpdatePass&&(l.firstUpdatePass=!1),y||(c[2]&=-73),1024&c[2]&&(c[2]&=-1025,el(c[3],-1))}finally{Jc()}}}function wC(l,c,f,p){var g=c[10],y=!al(),w=Ls(c);try{y&&!w&&g.begin&&g.begin(),w&&Dp(l,c,p),mc(l,c,f,p)}finally{y&&!w&&g.end&&g.end()}}function jy(l,c,f,p,g){var y=Si(),w=2&p;try{gu(-1),w&&c.length>20&&By(l,c,20,al()),f(p,g)}finally{gu(y)}}function Gy(l,c,f){if(qd(c))for(var g=c.directiveEnd,y=c.directiveStart;y<g;y++){var w=l.data[y];w.contentQueries&&w.contentQueries(1,f[y],y)}}function xg(l,c,f){!vu()||(function Es(l,c,f,p){var g=f.directiveStart,y=f.directiveEnd;l.firstCreatePass||co(f,c),Ya(p,c);for(var w=f.initialInputs,T=g;T<y;T++){var R=l.data[T],j=wa(R);j&&WA(c,f,R);var $=Zn(c,l,T,f);Ya($,c),null!==w&&dL(0,T-g,$,R,0,w),j&&(vi(f.index,c)[8]=$)}}(l,c,f,ti(f,c)),128==(128&f.flags)&&function Wa(l,c,f){var p=f.directiveStart,g=f.directiveEnd,w=f.index,T=function cg(){return un.lFrame.currentDirectiveIndex}();try{gu(w);for(var R=p;R<g;R++){var j=l.data[R],$=c[R];ol(R),(null!==j.hostBindings||0!==j.hostVars||null!==j.hostAttrs)&&Qy(j,$)}}finally{gu(-1),ol(T)}}(l,c,f))}function Ng(l,c){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ti,p=c.localNames;if(null!==p)for(var g=c.index+1,y=0;y<p.length;y+=2){var w=p[y+1],T=-1===w?f(c,l):l[w];l[g++]=T}}function zy(l){var c=l.tView;return null===c||c.incompleteFirstPass?l.tView=Mp(1,null,l.template,l.decls,l.vars,l.directiveDefs,l.pipeDefs,l.viewQuery,l.schemas,l.consts):c}function Mp(l,c,f,p,g,y,w,T,R,j){var $=20+p,ae=$+g,de=function CC(l,c){for(var f=[],p=0;p<c;p++)f.push(p<l?null:Cn);return f}($,ae),we="function"==typeof j?j():j;return de[1]={type:l,blueprint:de,template:f,queries:null,viewQuery:T,declTNode:c,data:de.slice().fill(null,$),bindingStartIndex:$,expandoStartIndex:ae,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof y?y():y,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:R,consts:we,incompleteFirstPass:!1}}function Wy(l,c,f,p){var g=xC(c);null===f?g.push(p):(g.push(f),l.firstCreatePass&&t0(l).push(p,g.length-1))}function DC(l,c,f){for(var p in l)if(l.hasOwnProperty(p)){var g=l[p];(f=null===f?{}:f).hasOwnProperty(p)?f[p].push(c,g):f[p]=[c,g]}return f}function vo(l,c,f,p,g,y,w,T){var $,R=ti(c,f),j=c.inputs;!T&&null!=j&&($=j[p])?(ZC(l,f,$,p,g),Gi(c)&&function TC(l,c){var f=vi(c,l);16&f[2]||(f[2]|=64)}(f,c.index)):3&c.type&&(p=function SC(l){return"class"===l?"className":"for"===l?"htmlFor":"formaction"===l?"formAction":"innerHtml"===l?"innerHTML":"readonly"===l?"readOnly":"tabindex"===l?"tabIndex":l}(p),g=null!=w?w(g,c.value||"",p):g,_r(y)?y.setProperty(R,p,g):Br(p)||(R.setProperty?R.setProperty(p,g):R[p]=g))}function Lg(l,c,f,p){var g=!1;if(vu()){var y=function cL(l,c,f){var p=l.directiveRegistry,g=null;if(p)for(var y=0;y<p.length;y++){var w=p[y];Zy(f,w.selectors,!1)&&(g||(g=[]),ho(co(f,c),l,w.type),wa(w)?(YA(l,f),g.unshift(w)):g.push(w))}return g}(l,c,f),w=null===p?null:{"":-1};if(null!==y){g=!0,Bg(f,l.data.length,y.length);for(var T=0;T<y.length;T++){var R=y[T];R.providersResolver&&R.providersResolver(R)}for(var j=!1,$=!1,ae=Ko(l,c,y.length,null),de=0;de<y.length;de++){var we=y[de];f.mergedAttrs=dl(f.mergedAttrs,we.hostAttrs),Tp(l,f,c,ae,we),OC(ae,we,w),null!==we.contentQueries&&(f.flags|=8),(null!==we.hostBindings||null!==we.hostAttrs||0!==we.hostVars)&&(f.flags|=128);var We=we.type.prototype;!j&&(We.ngOnChanges||We.ngOnInit||We.ngDoCheck)&&((l.preOrderHooks||(l.preOrderHooks=[])).push(f.index),j=!0),!$&&(We.ngOnChanges||We.ngDoCheck)&&((l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(f.index),$=!0),ae++}!function MC(l,c){for(var p=c.directiveEnd,g=l.data,y=c.attrs,w=[],T=null,R=null,j=c.directiveStart;j<p;j++){var $=g[j],ae=$.inputs,de=null===y||MA(c)?null:fL(ae,y);w.push(de),T=DC(ae,j,T),R=DC($.outputs,j,R)}null!==T&&(T.hasOwnProperty("class")&&(c.flags|=16),T.hasOwnProperty("style")&&(c.flags|=32)),c.initialInputs=w,c.inputs=T,c.outputs=R}(l,f)}w&&function RC(l,c,f){if(c)for(var p=l.localNames=[],g=0;g<c.length;g+=2){var y=f[c[g+1]];if(null==y)throw new Be(-301,!1);p.push(c[g],y)}}(f,p,w)}return f.mergedAttrs=dl(f.mergedAttrs,f.attrs),g}function $y(l,c,f,p,g,y){var w=y.hostBindings;if(w){var T=l.hostBindingOpCodes;null===T&&(T=l.hostBindingOpCodes=[]);var R=~c.index;(function IC(l){for(var c=l.length;c>0;){var f=l[--c];if("number"==typeof f&&f<0)return f}return 0})(T)!=R&&T.push(R),T.push(p,g,w)}}function Qy(l,c){null!==l.hostBindings&&l.hostBindings(1,c)}function YA(l,c){c.flags|=2,(l.components||(l.components=[])).push(c.index)}function OC(l,c,f){if(f){if(c.exportAs)for(var p=0;p<c.exportAs.length;p++)f[c.exportAs[p]]=l;wa(c)&&(f[""]=l)}}function Bg(l,c,f){l.flags|=1,l.directiveStart=c,l.directiveEnd=c+f,l.providerIndexes=c}function Tp(l,c,f,p,g){l.data[p]=g;var y=g.factory||(g.factory=zn(g.type)),w=new Xl(y,wa(g),null);l.blueprint[p]=w,f[p]=w,$y(l,c,0,p,Ko(l,f,g.hostVars,Cn),g)}function WA(l,c,f){var p=ti(c,l),g=zy(f),y=l[10],w=Ug(l,Cs(l,g,null,f.onPush?64:16,p,c,y,y.createRenderer(p,f),null,null));l[c.index]=w}function Ds(l,c,f,p,g,y){var w=ti(l,c);!function Jy(l,c,f,p,g,y,w){if(null==y)_r(l)?l.removeAttribute(c,g,f):c.removeAttribute(g);else{var T=null==w?Te(y):w(y,p||"",g);_r(l)?l.setAttribute(c,g,T,f):f?c.setAttributeNS(f,g,T):c.setAttribute(g,T)}}(c[11],w,y,l.value,f,p,g)}function dL(l,c,f,p,g,y){var w=y[c];if(null!==w)for(var T=p.setInput,R=0;R<w.length;){var j=w[R++],$=w[R++],ae=w[R++];null!==T?p.setInput(f,ae,j,$):f[$]=ae}}function fL(l,c){for(var f=null,p=0;p<c.length;){var g=c[p];if(0!==g)if(5!==g){if("number"==typeof g)break;l.hasOwnProperty(g)&&(null===f&&(f=[]),f.push(g,l[g],c[p+1])),p+=2}else p+=2;else p+=4}return f}function qA(l,c,f,p){return new Array(l,!0,!1,c,null,0,p,f,null,null)}function KA(l,c){var f=vi(c,l);if(Uo(f)){var p=f[1];80&f[2]?mc(p,f,p.template,f[8]):f[5]>0&&Vg(f)}}function Vg(l){for(var c=Dg(l);null!==c;c=wy(c))for(var f=10;f<c.length;f++){var p=c[f];if(1024&p[2]){var g=p[1];mc(g,p,g.template,p[8])}else p[5]>0&&Vg(p)}var w=l[1].components;if(null!==w)for(var T=0;T<w.length;T++){var R=vi(w[T],l);Uo(R)&&R[5]>0&&Vg(R)}}function $A(l,c){var f=vi(c,l),p=f[1];(function QA(l,c){for(var f=c.length;f<l.blueprint.length;f++)c.push(l.blueprint[f])})(p,f),Dp(p,f,f[8])}function Ug(l,c){return l[13]?l[14][4]=c:l[13]=c,l[14]=c,c}function Uf(l){for(;l;){l[2]|=64;var c=Lf(l);if(jh(l)&&!c)return l;l=c}return null}function jf(l,c,f){var p=c[10];p.begin&&p.begin();try{mc(l,c,l.template,f)}catch(g){throw JA(c,g),g}finally{p.end&&p.end()}}function PC(l){!function Hf(l){for(var c=0;c<l.components.length;c++){var f=l.components[c],p=hy(f),g=p[1];wC(g,p,g.template,f)}}(l[8])}function e0(l,c,f){Qc(0),c(l,f)}var FC=function(){return Promise.resolve(null)}();function xC(l){return l[7]||(l[7]=[])}function t0(l){return l.cleanup||(l.cleanup=[])}function NC(l,c,f){return(null===l||wa(l))&&(f=function lf(l){for(;Array.isArray(l);){if("object"==typeof l[1])return l;l=l[0]}return null}(f[c.index])),f[11]}function JA(l,c){var f=l[9],p=f?f.get(ld,null):null;p&&p.handleError(c)}function ZC(l,c,f,p,g){for(var y=0;y<f.length;){var w=f[y++],T=f[y++],R=c[w],j=l.data[w];null!==j.setInput?j.setInput(R,g,p,T):R[T]=g}}function Tu(l,c,f){var p=fs(c,l);!function eC(l,c,f){_r(l)?l.setValue(c,f):c.textContent=f}(l[11],p,f)}function n0(l,c,f){var p=f?l.styles:null,g=f?l.classes:null,y=0;if(null!==c)for(var w=0;w<c.length;w++){var T=c[w];"number"==typeof T?y=T:1==y?g=qe(g,T):2==y&&(p=qe(p,T+": "+c[++w]+";"))}f?l.styles=p:l.stylesWithoutHost=p,f?l.classes=g:l.classesWithoutHost=g}var Ip=new Yr("INJECTOR",-1),jg=function(){function l(){(0,ie.Z)(this,l)}return(0,W.Z)(l,[{key:"get",value:function(f){var p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z;if(p===z){var g=new Error("NullInjectorError: No provider for ".concat(Ce(f),"!"));throw g.name="NullInjectorError",g}return p}}]),l}(),LC=new Yr("Set Injector scope."),hd={},Rp={},Gf=void 0;function pd(){return void 0===Gf&&(Gf=new jg),Gf}function zf(l){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,p=arguments.length>3?arguments[3]:void 0,g=BC(l,c,f,p);return g._resolveInjectorDefTypes(),g}function BC(l){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,p=arguments.length>3?arguments[3]:void 0;return new a0(l,f,c||pd(),p)}var a0=function(){function l(c,f,p){var g=this,y=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;(0,ie.Z)(this,l),this.parent=p,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var w=[];f&&ra(f,function(R){return g.processProvider(R,c,f)}),ra([c],function(R){return g.processInjectorType(R,[],w)}),this.records.set(Ip,vd(void 0,this));var T=this.records.get(LC);this.scope=null!=T?T.value:null,this.source=y||("object"==typeof c?null:Ce(c))}return(0,W.Z)(l,[{key:"destroyed",get:function(){return this._destroyed}},{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(function(f){return f.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(f){var p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z,g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rn.Default;this.assertNotDestroyed();var y=et(this),w=wi(void 0);try{if(!(g&rn.SkipSelf)){var T=this.records.get(f);if(void 0===T){var R=u0(f)&&Pa(f);T=R&&this.injectableDefInScope(R)?vd(Gg(f),hd):null,this.records.set(f,T)}if(null!=T)return this.hydrate(f,T)}var j=g&rn.Self?pd():this.parent;return j.get(f,p=g&rn.Optional&&p===z?null:p)}catch(ae){if("NullInjectorError"===ae.name){var $=ae[se]=ae[se]||[];if($.unshift(Ce(f)),y)throw ae;return Ii(ae,f,"R3InjectorError",this.source)}throw ae}finally{wi(w),et(y)}}},{key:"_resolveInjectorDefTypes",value:function(){var f=this;this.injectorDefTypes.forEach(function(p){return f.get(p)})}},{key:"toString",value:function(){var f=[];return this.records.forEach(function(g,y){return f.push(Ce(y))}),"R3Injector[".concat(f.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Be(205,!1)}},{key:"processInjectorType",value:function(f,p,g){var y=this;if(!(f=Ct(f)))return!1;var w=ba(f),T=null==w&&f.ngModule||void 0,R=void 0===T?f:T,ae=-1!==g.indexOf(R);if(void 0!==T&&(w=ba(T)),null==w)return!1;if(null!=w.imports&&!ae){var de;g.push(R);try{ra(w.imports,function(nt){y.processInjectorType(nt,p,g)&&(void 0===de&&(de=[]),de.push(nt))})}finally{}if(void 0!==de)for(var we=function(Yt){var Dn=de[Yt],ur=Dn.ngModule,Pr=Dn.providers;ra(Pr,function(fa){return y.processProvider(fa,ur,Pr||Ye)})},We=0;We<de.length;We++)we(We)}this.injectorDefTypes.add(R);var dt=zn(R)||function(){return new R};this.records.set(R,vd(dt,hd));var Dt=w.providers;if(null!=Dt&&!ae){var xt=f;ra(Dt,function(nt){return y.processProvider(nt,xt,Dt)})}return void 0!==T&&void 0!==f.providers}},{key:"processProvider",value:function(f,p,g){var y=gd(f=Ct(f))?f:Ct(f&&f.provide),w=function VC(l,c,f){return zg(l)?vd(void 0,l.useValue):vd(Op(l),hd)}(f);if(gd(f)||!0!==f.multi)this.records.get(y);else{var T=this.records.get(y);T||((T=vd(void 0,hd,!0)).factory=function(){return On(T.multi)},this.records.set(y,T)),y=f,T.multi.push(f)}this.records.set(y,w)}},{key:"hydrate",value:function(f,p){return p.value===hd&&(p.value=Rp,p.value=p.factory()),"object"==typeof p.value&&p.value&&function jC(l){return null!==l&&"object"==typeof l&&"function"==typeof l.ngOnDestroy}(p.value)&&this.onDestroy.add(p.value),p.value}},{key:"injectableDefInScope",value:function(f){if(!f.providedIn)return!1;var p=Ct(f.providedIn);return"string"==typeof p?"any"===p||p===this.scope:this.injectorDefTypes.has(p)}}]),l}();function Gg(l){var c=Pa(l),f=null!==c?c.factory:zn(l);if(null!==f)return f;if(l instanceof Yr)throw new Be(204,!1);if(l instanceof Function)return function o0(l){var c=l.length;if(c>0)throw po(c,"?"),new Be(204,!1);var p=function ya(l){var c=l&&(l[nr]||l[wr]);if(c){var f=function li(l){if(l.hasOwnProperty("name"))return l.name;var c=(""+l).match(/^function\s*([^\s(]+)/);return null===c?"":c[1]}(l);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(f,'" that inherits its @Injectable decorator but does not provide one itself.\n')+'This will become an error in a future version of Angular. Please add @Injectable() to the "'.concat(f,'" class.')),c}return null}(l);return null!==p?function(){return p.factory(l)}:function(){return new l}}(l);throw new Be(204,!1)}function Op(l,c,f){var p=void 0;if(gd(l)){var g=Ct(l);return zn(g)||Gg(g)}if(zg(l))p=function(){return Ct(l.useValue)};else if(function UC(l){return!(!l||!l.useFactory)}(l))p=function(){return l.useFactory.apply(l,(0,Z.Z)(On(l.deps||[])))};else if(function tI(l){return!(!l||!l.useExisting)}(l))p=function(){return fn(Ct(l.useExisting))};else{var y=Ct(l&&(l.useClass||l.provide));if(!function s0(l){return!!l.deps}(l))return zn(y)||Gg(y);p=function(){return(0,s.Z)(y,(0,Z.Z)(On(l.deps)))}}return p}function vd(l,c){var f=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:l,value:c,multi:f?[]:void 0}}function zg(l){return null!==l&&"object"==typeof l&&at in l}function gd(l){return"function"==typeof l}function u0(l){return"function"==typeof l||"object"==typeof l&&l instanceof Yr}var qs=function(){var l=function(){function c(){(0,ie.Z)(this,c)}return(0,W.Z)(c,null,[{key:"create",value:function(p,g){var y;if(Array.isArray(p))return zf({name:""},g,p,"");var w=null!==(y=p.name)&&void 0!==y?y:"";return zf({name:w},p.parent,p.providers,w)}}]),c}();return l.THROW_IF_NOT_FOUND=z,l.NULL=new jg,l.\u0275prov=tr({token:l,providedIn:"any",factory:function(){return fn(Ip)}}),l.__NG_ELEMENT_ID__=-1,l}();function El(l,c){mu(hy(l)[1],ni())}function v0(l){for(var c=function Yg(l){return Object.getPrototypeOf(l.prototype).constructor}(l.type),f=!0,p=[l];c;){var g=void 0;if(wa(l))g=c.\u0275cmp||c.\u0275dir;else{if(c.\u0275cmp)throw new Be(903,"");g=c.\u0275dir}if(g){if(f){p.push(g);var w=l;w.inputs=Wg(l.inputs),w.declaredInputs=Wg(l.declaredInputs),w.outputs=Wg(l.outputs);var T=g.hostBindings;T&&uI(l,T);var R=g.viewQuery,j=g.contentQueries;if(R&&sI(l,R),j&&KC(l,j),Fe(l.inputs,g.inputs),Fe(l.declaredInputs,g.declaredInputs),Fe(l.outputs,g.outputs),wa(g)&&g.data.animation){var $=l.data;$.animation=($.animation||[]).concat(g.data.animation)}}var ae=g.features;if(ae)for(var de=0;de<ae.length;de++){var we=ae[de];we&&we.ngInherit&&we(l),we===v0&&(f=!1)}}c=Object.getPrototypeOf(c)}!function g0(l){for(var c=0,f=null,p=l.length-1;p>=0;p--){var g=l[p];g.hostVars=c+=g.hostVars,g.hostAttrs=dl(g.hostAttrs,f=dl(f,g.hostAttrs))}}(p)}function Wg(l){return l===Ee?{}:l===Ye?[]:l}function sI(l,c){var f=l.viewQuery;l.viewQuery=f?function(p,g){c(p,g),f(p,g)}:c}function KC(l,c){var f=l.contentQueries;l.contentQueries=f?function(p,g,y){c(p,g,y),f(p,g,y)}:c}function uI(l,c){var f=l.hostBindings;l.hostBindings=f?function(p,g){c(p,g),f(p,g)}:c}var qg=null;function Yf(){if(!qg){var l=be.Symbol;if(l&&l.iterator)qg=l.iterator;else for(var c=Object.getOwnPropertyNames(Map.prototype),f=0;f<c.length;++f){var p=c[f];"entries"!==p&&"size"!==p&&Map.prototype[p]===Map.prototype.entries&&(qg=p)}}return qg}function Fp(l){return!!y0(l)&&(Array.isArray(l)||!(l instanceof Map)&&Yf()in l)}function y0(l){return null!==l&&("function"==typeof l||"object"==typeof l)}function $s(l,c,f){return l[c]=f}function Ma(l,c,f){return!Object.is(l[c],f)&&(l[c]=f,!0)}function $o(l,c,f,p){var g=Ma(l,c,f);return Ma(l,c+1,p)||g}function b0(l,c,f,p){var g=pt();return Ma(g,So(),c)&&(Bn(),Ds(Zr(),g,l,c,f,p)),b0}function Wf(l,c,f,p){return Ma(l,So(),f)?c+Te(f)+p:Cn}function qf(l,c,f,p,g,y){var T=$o(l,function Ca(){return un.lFrame.bindingIndex}(),f,g);return so(2),T?c+Te(f)+p+Te(g)+y:Cn}function hI(l,c,f,p,g,y,w,T){var R=pt(),j=Bn(),$=l+20,ae=j.firstCreatePass?function DL(l,c,f,p,g,y,w,T,R){var j=c.consts,$=fd(c,l,4,w||null,Va(j,T));Lg(c,f,$,Va(j,R)),mu(c,$);var ae=$.tViews=Mp(2,$,p,g,y,c.directiveRegistry,c.pipeRegistry,null,c.schemas,j);return null!==c.queries&&(c.queries.template(c,$),ae.queries=c.queries.embeddedTView($)),$}($,j,R,c,f,p,g,y,w):j.data[$];Ua(ae,!1);var de=R[11].createComment("");Du(j,R,de,ae),Ya(de,R),Ug(R,R[$]=qA(de,R,de,ae)),Gl(ae)&&xg(j,R,ae),null!=w&&Ng(R,ae,T)}function pI(l){return Ba(function Wh(){return un.lFrame.contextLView}(),20+l)}function Xg(l){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rn.Default,f=pt();if(null===f)return fn(l,c);var p=ni();return Kn(p,f,Ct(l),c)}function EI(){throw new Error("invalid")}function oE(l,c,f){var p=pt();return Ma(p,So(),c)&&vo(Bn(),Zr(),p,l,c,p[11],f,!1),oE}function sE(l,c,f,p,g){var w=g?"class":"style";ZC(l,f,c.inputs[w],w,p)}function M0(l,c,f,p){var g=pt(),y=Bn(),w=20+l,T=g[11],R=g[w]=Ey(T,c,function hg(){return un.lFrame.currentNamespace}()),j=y.firstCreatePass?function ZL(l,c,f,p,g,y,w){var T=c.consts,j=fd(c,l,2,g,Va(T,y));return Lg(c,f,j,Va(T,w)),null!==j.attrs&&n0(j,j.attrs,!1),null!==j.mergedAttrs&&n0(j,j.mergedAttrs,!0),null!==c.queries&&c.queries.elementStart(c,j),j}(w,y,g,0,c,f,p):y.data[w];Ua(j,!0);var $=j.mergedAttrs;null!==$&&gs(T,R,$);var ae=j.classes;null!==ae&&yp(T,R,ae);var de=j.styles;return null!==de&&sC(T,R,de),64!=(64&j.flags)&&Du(y,g,R,j),0===function Ho(){return un.lFrame.elementDepthCount}()&&Ya(R,g),function df(){un.lFrame.elementDepthCount++}(),Gl(j)&&(xg(y,g,j),Gy(y,j,g)),null!==p&&Ng(g,j),M0}function S0(){var l=ni();il()?$c():Ua(l=l.parent,!1);var c=l;!function Wl(){un.lFrame.elementDepthCount--}();var f=Bn();return f.firstCreatePass&&(mu(f,l),qd(l)&&f.queries.elementEnd(l)),null!=c.classesWithoutHost&&function Ft(l){return 0!=(16&l.flags)}(c)&&sE(f,c,pt(),c.classesWithoutHost,!0),null!=c.stylesWithoutHost&&function ft(l){return 0!=(32&l.flags)}(c)&&sE(f,c,pt(),c.stylesWithoutHost,!1),S0}function uE(l,c,f,p){return M0(l,c,f,p),S0(),uE}function T0(l,c,f){var p=pt(),g=Bn(),y=l+20,w=g.firstCreatePass?function LL(l,c,f,p,g){var y=c.consts,w=Va(y,p),T=fd(c,l,8,"ng-container",w);return null!==w&&n0(T,w,!0),Lg(c,f,T,Va(y,g)),null!==c.queries&&c.queries.elementStart(c,T),T}(y,g,p,c,f):g.data[y];Ua(w,!0);var T=p[y]=p[11].createComment("");return Du(g,p,T,w),Ya(T,p),Gl(w)&&(xg(g,p,w),Gy(g,w,p)),null!=f&&Ng(p,w),T0}function A0(){var l=ni(),c=Bn();return il()?$c():Ua(l=l.parent,!1),c.firstCreatePass&&(mu(c,l),qd(l)&&c.queries.elementEnd(l)),A0}function lE(l,c,f){return T0(l,c,f),A0(),lE}function DI(){return pt()}function cE(l){return!!l&&"function"==typeof l.then}function MI(l){return!!l&&"function"==typeof l.subscribe}var SI=MI;function dE(l,c,f,p){var g=pt(),y=Bn(),w=ni();return TI(y,g,g[11],w,l,c,!!f,p),dE}function fE(l,c){var f=ni(),p=pt(),g=Bn();return TI(g,p,NC(sl(g.data),f,p),f,l,c,!1),fE}function TI(l,c,f,p,g,y,w,T){var R=Gl(p),$=l.firstCreatePass&&t0(l),ae=c[8],de=xC(c),we=!0;if(3&p.type||T){var We=ti(p,c),dt=T?T(We):We,Dt=de.length,xt=T?function(zm){return T(Mr(zm[p.index]))}:p.index;if(_r(f)){var nt=null;if(!T&&R&&(nt=function BL(l,c,f,p){var g=l.cleanup;if(null!=g)for(var y=0;y<g.length-1;y+=2){var w=g[y];if(w===f&&g[y+1]===p){var T=c[7],R=g[y+2];return T.length>R?T[R]:null}"string"==typeof w&&(y+=2)}return null}(l,c,g,p.index)),null!==nt)(nt.__ngLastListenerFn__||nt).__ngNextListenerFn__=y,nt.__ngLastListenerFn__=y,we=!1;else{y=pE(p,c,ae,y,!1);var Dn=f.listen(dt,g,y);de.push(y,Dn),$&&$.push(g,xt,Dt,Dt+1)}}else y=pE(p,c,ae,y,!0),dt.addEventListener(g,y,w),de.push(y),$&&$.push(g,xt,Dt,w)}else y=pE(p,c,ae,y,!1);var Pr,ur=p.outputs;if(we&&null!==ur&&(Pr=ur[g])){var fa=Pr.length;if(fa)for(var Aa=0;Aa<fa;Aa+=2){var Gm=c[Pr[Aa]][Pr[Aa+1]].subscribe(y),uh=de.length;de.push(y,Gm),$&&$.push(g,p.index,uh,-(uh+1))}}}function hE(l,c,f,p){try{return!1!==f(p)}catch(g){return JA(l,g),!1}}function pE(l,c,f,p,g){return function y(w){if(w===Function)return p;var T=2&l.flags?vi(l.index,c):c;0==(32&c[2])&&Uf(T);for(var R=hE(c,0,p,w),j=y.__ngNextListenerFn__;j;)R=hE(c,0,j,w)&&R,j=j.__ngNextListenerFn__;return g&&!1===R&&(w.preventDefault(),w.returnValue=!1),R}}function AI(){var l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return ey(l)}function VL(l,c){for(var f=null,p=function SA(l){var c=l.attrs;if(null!=c){var f=c.indexOf(5);if(0==(1&f))return c[f+1]}return null}(l),g=0;g<c.length;g++){var y=c[g];if("*"!==y){if(null===p?Zy(l,y,!0):cC(p,y))return g}else f=g}return f}function II(l){var c=pt()[16][6];if(!c.projection)for(var p=c.projection=po(l?l.length:1,null),g=p.slice(),y=c.child;null!==y;){var w=l?VL(y,l):0;null!==w&&(g[w]?g[w].projectionNext=y:p[w]=y,g[w]=y),y=y.next}}function RI(l){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,f=arguments.length>2?arguments[2]:void 0,p=pt(),g=Bn(),y=fd(g,20+l,16,null,f||null);null===y.projection&&(y.projection=c),$c(),64!=(64&y.flags)&&wA(g,p,y)}function UI(l,c,f,p,g){for(var y=l[f+1],w=null===c,T=p?Mu(y):Su(y),R=!1;0!==T&&(!1===R||w);){var $=l[T+1];jL(l[T],c)&&(R=!0,l[T+1]=p?kp($):Tg($)),T=p?Mu($):Su($)}R&&(l[f+1]=p?Tg(y):kp(y))}function jL(l,c){return null===l||null==c||(Array.isArray(l)?l[1]:l)===c||!(!Array.isArray(l)||"string"!=typeof c)&&Hs(l,c)>=0}var da={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function HI(l){return l.substring(da.key,da.keyEnd)}function jI(l,c){var f=da.textEnd;return f===c?-1:(c=da.keyEnd=function WL(l,c,f){for(;c<f&&l.charCodeAt(c)>32;)c++;return c}(l,da.key=c,f),Zp(l,c,f))}function Zp(l,c,f){for(;c<f&&l.charCodeAt(c)<=32;)c++;return c}function gE(l,c,f){return Iu(l,c,f,!1),gE}function mE(l,c){return Iu(l,c,null,!0),mE}function Sl(l,c){for(var f=function zL(l){return function zI(l){da.key=0,da.keyEnd=0,da.value=0,da.valueEnd=0,da.textEnd=l.length}(l),jI(l,Zp(l,0,da.textEnd))}(c);f>=0;f=jI(c,f))Yi(l,HI(c),!0)}function Iu(l,c,f,p){var g=pt(),y=Bn(),w=so(2);y.firstUpdatePass&&KI(y,l,w,p),c!==Cn&&Ma(g,w,c)&&QI(y,y.data[Si()],g,g[11],l,g[w+1]=function Lp(l,c){return null==l||("string"==typeof c?l+=c:"object"==typeof l&&(l=Ce(zo(l)))),l}(c,f),p,w)}function qI(l,c){return c>=l.expandoStartIndex}function KI(l,c,f,p){var g=l.data;if(null===g[f+1]){var y=g[Si()],w=qI(l,f);yE(y,p)&&null===c&&!w&&(c=!1),c=function JL(l,c,f,p){var g=sl(l),y=p?c.residualClasses:c.residualStyles;if(null===g)0===(p?c.classBindings:c.styleBindings)&&(f=em(f=_E(null,l,c,f,p),c.attrs,p),y=null);else{var T=c.directiveStylingLast;if(-1===T||l[T]!==g)if(f=_E(g,l,c,f,p),null===y){var j=function XL(l,c,f){var p=f?c.classBindings:c.styleBindings;if(0!==Su(p))return l[Mu(p)]}(l,c,p);void 0!==j&&Array.isArray(j)&&function e2(l,c,f,p){l[Mu(f?c.classBindings:c.styleBindings)]=p}(l,c,p,j=em(j=_E(null,l,c,j[1],p),c.attrs,p))}else y=function t2(l,c,f){for(var p=void 0,g=c.directiveEnd,y=1+c.directiveStylingLast;y<g;y++)p=em(p,l[y].hostAttrs,f);return em(p,c.attrs,f)}(l,c,p)}return void 0!==y&&(p?c.residualClasses=y:c.residualStyles=y),f}(g,y,c,p),function UL(l,c,f,p,g,y){var w=y?c.classBindings:c.styleBindings,T=Mu(w),R=Su(w);l[p]=f;var $,j=!1;if(Array.isArray(f)?(null===($=f[1])||Hs(f,$)>0)&&(j=!0):$=f,g)if(0!==R){var we=Mu(l[T+1]);l[p+1]=Cl(we,T),0!==we&&(l[we+1]=Ag(l[we+1],p)),l[T+1]=function OA(l,c){return 131071&l|c<<17}(l[T+1],p)}else l[p+1]=Cl(T,0),0!==T&&(l[T+1]=Ag(l[T+1],p)),T=p;else l[p+1]=Cl(R,0),0===T?T=p:l[R+1]=Ag(l[R+1],p),R=p;j&&(l[p+1]=Tg(l[p+1])),UI(l,$,p,!0),UI(l,$,p,!1),function HL(l,c,f,p,g){var y=g?l.residualClasses:l.residualStyles;null!=y&&"string"==typeof c&&Hs(y,c)>=0&&(f[p+1]=kp(f[p+1]))}(c,$,l,p,y),w=Cl(T,R),y?c.classBindings=w:c.styleBindings=w}(g,y,c,f,w,p)}}function _E(l,c,f,p,g){var y=null,w=f.directiveEnd,T=f.directiveStylingLast;for(-1===T?T=f.directiveStart:T++;T<w&&(p=em(p,(y=c[T]).hostAttrs,g),y!==l);)T++;return null!==l&&(f.directiveStylingLast=T),p}function em(l,c,f){var p=f?1:2,g=-1;if(null!==c)for(var y=0;y<c.length;y++){var w=c[y];"number"==typeof w?g=w:g===p&&(Array.isArray(l)||(l=void 0===l?[]:["",l]),Yi(l,w,!!f||c[++y]))}return void 0===l?null:l}function QI(l,c,f,p,g,y,w,T){if(3&c.type){var R=l.data,j=R[T+1];Tl(function hC(l){return 1==(1&l)}(j)?qr(R,c,f,g,Su(j),w):void 0)||(Tl(y)||function fC(l){return 2==(2&l)}(j)&&(y=qr(R,null,f,g,T,w)),function EA(l,c,f,p,g){var y=_r(l);if(c)g?y?l.addClass(f,p):f.classList.add(p):y?l.removeClass(f,p):f.classList.remove(p);else{var w=-1===p.indexOf("-")?void 0:Eu.DashCase;if(null==g)y?l.removeStyle(f,p,w):f.style.removeProperty(p);else{var T="string"==typeof g&&g.endsWith("!important");T&&(g=g.slice(0,-10),w|=Eu.Important),y?l.setStyle(f,p,g,w):f.style.setProperty(p,g,T?"important":"")}}}(p,w,fs(Si(),f),g,y))}}function qr(l,c,f,p,g,y){for(var w=null===c,T=void 0;g>0;){var R=l[g],j=Array.isArray(R),$=j?R[1]:R,ae=null===$,de=f[g+1];de===Cn&&(de=ae?Ye:void 0);var we=ae?sc(de,p):$===p?de:void 0;if(j&&!Tl(we)&&(we=sc(R,p)),Tl(we)&&(T=we,w))return T;var We=l[g+1];g=w?Mu(We):Su(We)}if(null!==c){var dt=y?c.residualClasses:c.residualStyles;null!=dt&&(T=sc(dt,p))}return T}function Tl(l){return void 0!==l}function yE(l,c){return 0!=(l.flags&(c?16:32))}function bE(l){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",f=pt(),p=Bn(),g=l+20,y=p.firstCreatePass?fd(p,g,1,c,null):p.data[g],w=f[g]=Mg(f[11],c);Du(p,f,w,y),Ua(y,!1)}function I0(l){return yt("",l,""),I0}function yt(l,c,f){var p=pt(),g=Wf(p,l,c,f);return g!==Cn&&Tu(p,Si(),g),yt}function Yn(l,c,f,p,g){var y=pt(),w=qf(y,l,c,f,p,g);return w!==Cn&&Tu(y,Si(),w),Yn}function kd(l,c,f){!function Ru(l,c,f,p){var g=Bn(),y=so(2);g.firstUpdatePass&&KI(g,null,y,p);var w=pt();if(f!==Cn&&Ma(w,y,f)){var T=g.data[Si()];if(yE(T,p)&&!qI(g,y)){var j=p?T.classesWithoutHost:T.stylesWithoutHost;null!==j&&(f=qe(j,f||"")),sE(g,T,w,f,p)}else!function r2(l,c,f,p,g,y,w,T){g===Cn&&(g=Ye);for(var R=0,j=0,$=0<g.length?g[0]:null,ae=0<y.length?y[0]:null;null!==$||null!==ae;){var de=R<g.length?g[R+1]:void 0,we=j<y.length?y[j+1]:void 0,We=null,dt=void 0;$===ae?(R+=2,j+=2,de!==we&&(We=ae,dt=we)):null===ae||null!==$&&$<ae?(R+=2,We=$):(j+=2,We=ae,dt=we),null!==We&&QI(l,c,f,p,We,dt,w,T),$=R<g.length?g[R]:null,ae=j<y.length?y[j]:null}}(g,T,w,w[11],w[y+1],w[y+1]=function n2(l,c,f){if(null==f||""===f)return Ye;var p=[],g=zo(f);if(Array.isArray(g))for(var y=0;y<g.length;y++)l(p,g[y],!0);else if("object"==typeof g)for(var w in g)g.hasOwnProperty(w)&&l(p,w,g[w]);else"string"==typeof g&&c(p,g);return p}(l,c,f),p,y)}}(Yi,Sl,Wf(pt(),l,c,f),!0)}function aa(l,c,f){var p=pt();return Ma(p,So(),c)&&vo(Bn(),Zr(),p,l,c,p[11],f,!0),aa}function rm(l,c,f){var p=pt();if(Ma(p,So(),c)){var y=Bn(),w=Zr();vo(y,w,p,l,c,NC(sl(y.data),w,p),f,!0)}return rm}var Al=void 0,AE=["en",[["a","p"],["AM","PM"],Al],[["AM","PM"],Al,Al],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Al,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Al,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Al,"{1} 'at' {0}",Al],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function TE(l){var f=Math.floor(Math.abs(l)),p=l.toString().replace(/^[^.]*\.?/,"").length;return 1===f&&0===p?1:5}],Ed={};function IE(l){var c=function tR(l){return l.toLowerCase().replace(/_/g,"-")}(l),f=OE(c);if(f)return f;var p=c.split("-")[0];if(f=OE(p))return f;if("en"===p)return AE;throw new Error('Missing locale data for the locale "'.concat(l,'".'))}function RE(l){return IE(l)[cn.PluralCase]}function OE(l){return l in Ed||(Ed[l]=be.ng&&be.ng.common&&be.ng.common.locales&&be.ng.common.locales[l]),Ed[l]}var cn=function(){return(cn=cn||{})[cn.LocaleId=0]="LocaleId",cn[cn.DayPeriodsFormat=1]="DayPeriodsFormat",cn[cn.DayPeriodsStandalone=2]="DayPeriodsStandalone",cn[cn.DaysFormat=3]="DaysFormat",cn[cn.DaysStandalone=4]="DaysStandalone",cn[cn.MonthsFormat=5]="MonthsFormat",cn[cn.MonthsStandalone=6]="MonthsStandalone",cn[cn.Eras=7]="Eras",cn[cn.FirstDayOfWeek=8]="FirstDayOfWeek",cn[cn.WeekendRange=9]="WeekendRange",cn[cn.DateFormat=10]="DateFormat",cn[cn.TimeFormat=11]="TimeFormat",cn[cn.DateTimeFormat=12]="DateTimeFormat",cn[cn.NumberSymbols=13]="NumberSymbols",cn[cn.NumberFormats=14]="NumberFormats",cn[cn.CurrencyCode=15]="CurrencyCode",cn[cn.CurrencySymbol=16]="CurrencySymbol",cn[cn.CurrencyName=17]="CurrencyName",cn[cn.Currencies=18]="Currencies",cn[cn.Directionality=19]="Directionality",cn[cn.PluralCase=20]="PluralCase",cn[cn.ExtraData=21]="ExtraData",cn}(),Wp="en-US";function ER(l,c,f){var p=Bn();if(p.firstCreatePass){var g=wa(l);W0(f,p.data,p.blueprint,g,!0),W0(c,p.data,p.blueprint,g,!1)}}function W0(l,c,f,p,g){if(l=Ct(l),Array.isArray(l))for(var y=0;y<l.length;y++)W0(l[y],c,f,p,g);else{var w=Bn(),T=pt(),R=gd(l)?l:Ct(l.provide),j=Op(l),$=ni(),ae=1048575&$.providerIndexes,de=$.directiveStart,we=$.providerIndexes>>20;if(gd(l)||!l.multi){var We=new Xl(j,g,Xg),dt=K0(R,c,g?ae:ae+we,de);-1===dt?(ho(co($,T),w,R),q0(w,l,c.length),c.push(R),$.directiveStart++,$.directiveEnd++,g&&($.providerIndexes+=1048576),f.push(We),T.push(We)):(f[dt]=We,T[dt]=We)}else{var Dt=K0(R,c,ae+we,de),xt=K0(R,c,ae,ae+we),Yt=xt>=0&&f[xt];if(g&&!Yt||!g&&!(Dt>=0&&f[Dt])){ho(co($,T),w,R);var Dn=function SR(l,c,f,p,g){var y=new Xl(l,f,Xg);return y.multi=[],y.index=c,y.componentProviders=0,QE(y,g,p&&!f),y}(g?MR:DR,f.length,g,p,j);!g&&Yt&&(f[xt].providerFactory=Dn),q0(w,l,c.length,0),c.push(R),$.directiveStart++,$.directiveEnd++,g&&($.providerIndexes+=1048576),f.push(Dn),T.push(Dn)}else q0(w,l,Dt>-1?Dt:xt,QE(f[g?xt:Dt],j,!g&&p));!g&&p&&Yt&&f[xt].componentProviders++}}}function q0(l,c,f,p){var g=gd(c),y=function HC(l){return!!l.useClass}(c);if(g||y){var R=(y?Ct(c.useClass):c).prototype.ngOnDestroy;if(R){var j=l.destroyHooks||(l.destroyHooks=[]);if(!g&&c.multi){var $=j.indexOf(f);-1===$?j.push(f,[p,R]):j[$+1].push(p,R)}else j.push(f,R)}}}function QE(l,c,f){return f&&l.componentProviders++,l.multi.push(c)-1}function K0(l,c,f,p){for(var g=f;g<p;g++)if(c[g]===l)return g;return-1}function DR(l,c,f,p){return $0(this.multi,[])}function MR(l,c,f,p){var y,g=this.multi;if(this.providerFactory){var w=this.providerFactory.componentProviders,T=Zn(f,f[1],this.providerFactory.index,p);$0(g,y=T.slice(0,w));for(var R=w;R<T.length;R++)y.push(T[R])}else $0(g,y=[]);return y}function $0(l,c){for(var f=0;f<l.length;f++)c.push((0,l[f])());return c}function JE(l){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(f){f.providersResolver=function(p,g){return ER(p,g?g(l):l,c)}}}var g2=(0,W.Z)(function l(){(0,ie.Z)(this,l)}),XE=(0,W.Z)(function l(){(0,ie.Z)(this,l)}),eD=function(){function l(){(0,ie.Z)(this,l)}return(0,W.Z)(l,[{key:"resolveComponentFactory",value:function(f){throw function TR(l){var c=Error("No component factory found for ".concat(Ce(l),". Did you add it to @NgModule.entryComponents?"));return c.ngComponent=l,c}(f)}}]),l}(),th=function(){var l=(0,W.Z)(function c(){(0,ie.Z)(this,c)});return l.NULL=new eD,l}();function Q0(){return bc(ni(),pt())}function bc(l,c){return new Sa(ti(l,c))}var Sa=function(){var l=(0,W.Z)(function c(f){(0,ie.Z)(this,c),this.nativeElement=f});return l.__NG_ELEMENT_ID__=Q0,l}();function tD(l){return l instanceof Sa?l.nativeElement:l}var J0=(0,W.Z)(function l(){(0,ie.Z)(this,l)}),rD=function(){var l=(0,W.Z)(function c(){(0,ie.Z)(this,c)});return l.__NG_ELEMENT_ID__=function(){return function AR(){var l=pt(),f=vi(ni().index,l);return function X0(l){return l[11]}(Na(f)?f:l)}()},l}(),IR=function(){var l=(0,W.Z)(function c(){(0,ie.Z)(this,c)});return l.\u0275prov=tr({token:l,providedIn:"root",factory:function(){return null}}),l}(),kc=(0,W.Z)(function l(c){(0,ie.Z)(this,l),this.full=c,this.major=c.split(".")[0],this.minor=c.split(".")[1],this.patch=c.split(".").slice(2).join(".")}),eb=new kc("13.2.7"),hm={};function pm(l,c,f,p){for(var g=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==f;){var y=c[f.index];if(null!==y&&p.push(Mr(y)),ji(y))for(var w=10;w<y.length;w++){var T=y[w],R=T[1].firstChild;null!==R&&pm(T[1],T,R,p)}var j=f.type;if(8&j)pm(l,c,f.child,p);else if(32&j)for(var $=yy(f,c),ae=void 0;ae=$();)p.push(ae);else if(16&j){var de=oC(c,f);if(Array.isArray(de))p.push.apply(p,(0,Z.Z)(de));else{var we=Lf(c[16]);pm(we[1],we,de,p,!0)}}f=g?f.projectionNext:f.next}return p}var nh=function(){function l(c,f){(0,ie.Z)(this,l),this._lView=c,this._cdRefInjectingView=f,this._appRef=null,this._attachedToViewContainer=!1}return(0,W.Z)(l,[{key:"rootNodes",get:function(){var f=this._lView,p=f[1];return pm(p,f,p.firstChild,[])}},{key:"context",get:function(){return this._lView[8]},set:function(f){this._lView[8]=f}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}},{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){var f=this._lView[3];if(ji(f)){var p=f[8],g=p?p.indexOf(this):-1;g>-1&&(My(f,g),ca(p,g))}this._attachedToViewContainer=!1}Sy(this._lView[1],this._lView)}},{key:"onDestroy",value:function(f){Wy(this._lView[1],this._lView,null,f)}},{key:"markForCheck",value:function(){Uf(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){jf(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function Xy(l,c,f){ps(!0);try{jf(l,c,f)}finally{ps(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(){if(this._appRef)throw new Be(902,"");this._attachedToViewContainer=!0}},{key:"detachFromAppRef",value:function(){this._appRef=null,function Dy(l,c){_p(l,c,c[11],2,null,null)}(this._lView[1],this._lView)}},{key:"attachToAppRef",value:function(f){if(this._attachedToViewContainer)throw new Be(902,"");this._appRef=f}}]),l}(),iD=function(l){(0,B.Z)(f,l);var c=(0,ee.Z)(f);function f(p){var g;return(0,ie.Z)(this,f),(g=c.call(this,p))._view=p,g}return(0,W.Z)(f,[{key:"detectChanges",value:function(){PC(this._view)}},{key:"checkNoChanges",value:function(){!function Hg(l){ps(!0);try{PC(l)}finally{ps(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),f}(nh),RR=function(l){(0,B.Z)(f,l);var c=(0,ee.Z)(f);function f(p){var g;return(0,ie.Z)(this,f),(g=c.call(this)).ngModule=p,g}return(0,W.Z)(f,[{key:"resolveComponentFactory",value:function(g){var y=Sn(g);return new vm(y,this.ngModule)}}]),f}(th);function tb(l){var c=[];for(var f in l)l.hasOwnProperty(f)&&c.push({propName:l[f],templateName:f});return c}var vm=function(l){(0,B.Z)(f,l);var c=(0,ee.Z)(f);function f(p,g){var y;return(0,ie.Z)(this,f),(y=c.call(this)).componentDef=p,y.ngModule=g,y.componentType=p.type,y.selector=function IA(l){return l.map(bp).join(",")}(p.selectors),y.ngContentSelectors=p.ngContentSelectors?p.ngContentSelectors:[],y.isBoundToModule=!!g,y}return(0,W.Z)(f,[{key:"inputs",get:function(){return tb(this.componentDef.inputs)}},{key:"outputs",get:function(){return tb(this.componentDef.outputs)}},{key:"create",value:function(g,y,w,T){var nt,Yt,R=(T=T||this.ngModule)?function OR(l,c){return{get:function(p,g,y){var w=l.get(p,hm,y);return w!==hm||g===hm?w:c.get(p,g,y)}}}(g,T.injector):g,j=R.get(J0,Ju),$=R.get(IR,null),ae=j.createRenderer(null,this.componentDef),de=this.componentDef.selectors[0][0]||"div",we=w?function Yy(l,c,f){if(_r(l))return l.selectRootElement(c,f===xr.ShadowDom);var g="string"==typeof c?l.querySelector(c):c;return g.textContent="",g}(ae,w,this.componentDef.encapsulation):Ey(j.createRenderer(null,this.componentDef),de,function nb(l){var c=l.toLowerCase();return"svg"===c?"svg":"math"===c?"math":null}(de)),We=this.componentDef.onPush?576:528,dt=function qC(l,c){return{components:[],scheduler:l||cA,clean:FC,playerHandler:c||null,flags:0}}(),Dt=Mp(0,null,null,1,0,null,null,null,null,null),xt=Cs(null,Dt,dt,We,null,null,j,ae,$,R);vs(xt);try{var Dn=function WC(l,c,f,p,g,y){var w=f[1];f[20]=l;var R=fd(w,20,2,"#host",null),j=R.mergedAttrs=c.hostAttrs;null!==j&&(n0(R,j,!0),null!==l&&(gs(g,l,j),null!==R.classes&&yp(g,l,R.classes),null!==R.styles&&sC(g,l,R.styles)));var $=p.createRenderer(l,c),ae=Cs(f,zy(c),null,c.onPush?64:16,f[20],R,p,$,y||null,null);return w.firstCreatePass&&(ho(co(R,f),w,c.type),YA(w,R),Bg(R,f.length,1)),Ug(f,ae),f[20]=ae}(we,this.componentDef,xt,j,ae);if(we)if(w)gs(ae,we,["ng-version",eb.full]);else{var ur=function RA(l){for(var c=[],f=[],p=1,g=2;p<l.length;){var y=l[p];if("string"==typeof y)2===g?""!==y&&c.push(y,l[++p]):8===g&&f.push(y);else{if(!Ws(g))break;g=y}p++}return{attrs:c,classes:f}}(this.componentDef.selectors[0]),Pr=ur.attrs,fa=ur.classes;Pr&&gs(ae,we,Pr),fa&&fa.length>0&&yp(ae,we,fa.join(" "))}if(Yt=hs(Dt,20),void 0!==y)for(var Aa=Yt.projection=[],Ss=0;Ss<this.ngContentSelectors.length;Ss++){var Ni=y[Ss];Aa.push(null!=Ni?Array.from(Ni):null)}nt=function p0(l,c,f,p,g){var y=f[1],w=function Zg(l,c,f){var p=ni();l.firstCreatePass&&(f.providersResolver&&f.providersResolver(f),Tp(l,p,c,Ko(l,c,1,null),f));var y=Zn(c,l,p.directiveStart,p);Ya(y,c);var w=ti(p,c);return w&&Ya(w,c),y}(y,f,c);if(p.components.push(w),l[8]=w,g&&g.forEach(function($){return $(w,c)}),c.contentQueries){var T=ni();c.contentQueries(1,w,T.directiveStart)}var R=ni();return!y.firstCreatePass||null===c.hostBindings&&null===c.hostAttrs||(gu(R.index),$y(f[1],R,0,R.directiveStart,R.directiveEnd,c),Qy(c,w)),w}(Dn,this.componentDef,xt,dt,[El]),Dp(Dt,xt,null)}finally{Jc()}return new rb(this.componentType,nt,bc(Yt,xt),xt,Yt)}}]),f}(XE),rb=function(l){(0,B.Z)(f,l);var c=(0,ee.Z)(f);function f(p,g,y,w,T){var R;return(0,ie.Z)(this,f),(R=c.call(this)).location=y,R._rootLView=w,R._tNode=T,R.instance=g,R.hostView=R.changeDetectorRef=new iD(w),R.componentType=p,R}return(0,W.Z)(f,[{key:"injector",get:function(){return new gi(this._tNode,this._rootLView)}},{key:"destroy",value:function(){this.hostView.destroy()}},{key:"onDestroy",value:function(g){this.hostView.onDestroy(g)}}]),f}(g2),Rl=(0,W.Z)(function l(){(0,ie.Z)(this,l)}),ib=(0,W.Z)(function l(){(0,ie.Z)(this,l)}),wc=new Map;var Ol=function(l){(0,B.Z)(f,l);var c=(0,ee.Z)(f);function f(p,g){var y;(0,ie.Z)(this,f),(y=c.call(this))._parent=g,y._bootstrapComponents=[],y.injector=(0,_.Z)(y),y.destroyCbs=[],y.componentFactoryResolver=new RR((0,_.Z)(y));var w=yn(p);return y._bootstrapComponents=Cu(w.bootstrap),y._r3Injector=BC(p,g,[{provide:Rl,useValue:(0,_.Z)(y)},{provide:th,useValue:y.componentFactoryResolver}],Ce(p)),y._r3Injector._resolveInjectorDefTypes(),y.instance=y.get(p),y}return(0,W.Z)(f,[{key:"get",value:function(g){var y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qs.THROW_IF_NOT_FOUND,w=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rn.Default;return g===qs||g===Rl||g===Ip?this:this._r3Injector.get(g,y,w)}},{key:"destroy",value:function(){var g=this._r3Injector;!g.destroyed&&g.destroy(),this.destroyCbs.forEach(function(y){return y()}),this.destroyCbs=null}},{key:"onDestroy",value:function(g){this.destroyCbs.push(g)}}]),f}(Rl),ym=function(l){(0,B.Z)(f,l);var c=(0,ee.Z)(f);function f(p){var g;return(0,ie.Z)(this,f),(g=c.call(this)).moduleType=p,null!==yn(p)&&function _m(l){var c=new Set;!function f(p){var g=yn(p,!0),y=g.id;null!==y&&(function mm(l,c,f){if(c&&c!==f)throw new Error("Duplicate module registered for ".concat(l," - ").concat(Ce(c)," vs ").concat(Ce(c.name)))}(y,wc.get(y),p),wc.set(y,p));var j,T=Cu(g.imports),R=(0,G.Z)(T);try{for(R.s();!(j=R.n()).done;){var $=j.value;c.has($)||(c.add($),f($))}}catch(ae){R.e(ae)}finally{R.f()}}(l)}(p),g}return(0,W.Z)(f,[{key:"create",value:function(g){return new Ol(this.moduleType,g)}}]),f}(ib);function ab(l,c,f){var p=na()+l,g=pt();return g[p]===Cn?$s(g,p,f?c.call(f):c()):function xp(l,c){return l[c]}(g,p)}function eu(l,c,f,p){return oD(pt(),na(),l,c,f,p)}function Cc(l,c,f,p,g){return function sD(l,c,f,p,g,y,w){var T=c+f;return $o(l,T,g,y)?$s(l,T+2,w?p.call(w,g,y):p(g,y)):Sd(l,T+2)}(pt(),na(),l,c,f,p,g)}function Sd(l,c){var f=l[c];return f===Cn?void 0:f}function oD(l,c,f,p,g,y){var w=c+f;return Ma(l,w,g)?$s(l,w+1,y?p.call(y,g):p(g)):Sd(l,w+1)}function nv(l,c){var p,f=Bn(),g=l+20;f.firstCreatePass?(p=function wm(l,c){if(c)for(var f=c.length-1;f>=0;f--){var p=c[f];if(l===p.name)return p}}(c,f.pipeRegistry),f.data[g]=p,p.onDestroy&&(f.destroyHooks||(f.destroyHooks=[])).push(g,p.onDestroy)):p=f.data[g];var y=p.factory||(p.factory=zn(p.type)),w=wi(Xg);try{var T=_s(!1),R=y();return _s(T),function ML(l,c,f,p){f>=l.data.length&&(l.data[f]=null,l.blueprint[f]=null),c[f]=p}(f,pt(),g,R),R}finally{wi(w)}}function ZR(l,c,f){var p=l+20,g=pt(),y=Ba(g,p);return function Ec(l,c){return l[1].data[c].pure}(g,p)?oD(g,na(),c,y.transform,f,y):y.transform(f)}var VR=function(l){(0,B.Z)(f,l);var c=(0,ee.Z)(f);function f(){var p,g=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,ie.Z)(this,f),(p=c.call(this)).__isAsync=g,p}return(0,W.Z)(f,[{key:"emit",value:function(g){(0,X.Z)((0,ne.Z)(f.prototype),"next",this).call(this,g)}},{key:"subscribe",value:function(g,y,w){var T,R,j,$=g,ae=y||function(){return null},de=w;if(g&&"object"==typeof g){var we=g;$=null===(T=we.next)||void 0===T?void 0:T.bind(we),ae=null===(R=we.error)||void 0===R?void 0:R.bind(we),de=null===(j=we.complete)||void 0===j?void 0:j.bind(we)}this.__isAsync&&(ae=ub(ae),$&&($=ub($)),de&&(de=ub(de)));var We=(0,X.Z)((0,ne.Z)(f.prototype),"subscribe",this).call(this,{next:$,error:ae,complete:de});return g instanceof K.w&&g.add(We),We}}]),f}(oe.xQ);function ub(l){return function(c){setTimeout(l,void 0,c)}}var Fu=VR;function Cm(){return this._results[Yf()]()}var rv=function(){function l(){var c=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(0,ie.Z)(this,l),this._emitDistinctChangesOnly=c,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;var f=Yf(),p=l.prototype;p[f]||(p[f]=Cm)}return(0,W.Z)(l,[{key:"changes",get:function(){return this._changes||(this._changes=new Fu)}},{key:"get",value:function(f){return this._results[f]}},{key:"map",value:function(f){return this._results.map(f)}},{key:"filter",value:function(f){return this._results.filter(f)}},{key:"find",value:function(f){return this._results.find(f)}},{key:"reduce",value:function(f,p){return this._results.reduce(f,p)}},{key:"forEach",value:function(f){this._results.forEach(f)}},{key:"some",value:function(f){return this._results.some(f)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(f,p){var g=this;g.dirty=!1;var y=Ai(f);(this._changesDetected=!function Rn(l,c,f){if(l.length!==c.length)return!1;for(var p=0;p<l.length;p++){var g=l[p],y=c[p];if(f&&(g=f(g),y=f(y)),y!==g)return!1}return!0}(g._results,y,p))&&(g._results=y,g.length=y.length,g.last=y[this.length-1],g.first=y[0])}},{key:"notifyOnChanges",value:function(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),l}();Symbol;var ih=function(){var l=(0,W.Z)(function c(){(0,ie.Z)(this,c)});return l.__NG_ELEMENT_ID__=cD,l}(),UR=function(l){(0,B.Z)(f,l);var c=(0,ee.Z)(f);function f(p,g,y){var w;return(0,ie.Z)(this,f),(w=c.call(this))._declarationLView=p,w._declarationTContainer=g,w.elementRef=y,w}return(0,W.Z)(f,[{key:"createEmbeddedView",value:function(g){var y=this._declarationTContainer.tViews,w=Cs(this._declarationLView,y,g,16,null,y.declTNode,null,null,null,null);w[17]=this._declarationLView[this._declarationTContainer.index];var R=this._declarationLView[19];return null!==R&&(w[19]=R.createEmbeddedView(y)),Dp(y,w,g),new nh(w)}}]),f}(ih);function cD(){return iv(ni(),pt())}function iv(l,c){return 4&l.type?new UR(c,l,bc(l,c)):null}var Em=function(){var l=(0,W.Z)(function c(){(0,ie.Z)(this,c)});return l.__NG_ELEMENT_ID__=HR,l}();function HR(){return hD(ni(),pt())}var dD=function(l){(0,B.Z)(f,l);var c=(0,ee.Z)(f);function f(p,g,y){var w;return(0,ie.Z)(this,f),(w=c.call(this))._lContainer=p,w._hostTNode=g,w._hostLView=y,w}return(0,W.Z)(f,[{key:"element",get:function(){return bc(this._hostTNode,this._hostLView)}},{key:"injector",get:function(){return new gi(this._hostTNode,this._hostLView)}},{key:"parentInjector",get:function(){var g=Ti(this._hostTNode,this._hostLView);if(yu(g)){var y=ms(g,this._hostLView),w=Qn(g);return new gi(y[1].data[w+8],y)}return new gi(null,this._hostLView)}},{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(g){var y=fD(this._lContainer);return null!==y&&y[g]||null}},{key:"length",get:function(){return this._lContainer.length-10}},{key:"createEmbeddedView",value:function(g,y,w){var T=g.createEmbeddedView(y||{});return this.insert(T,w),T}},{key:"createComponent",value:function(g,y,w,T,R){var $,j=g&&!function Rr(l){return"function"==typeof l}(g);if(j)$=y;else{var ae=y||{};$=ae.index,w=ae.injector,T=ae.projectableNodes,R=ae.ngModuleRef}var de=j?g:new vm(Sn(g)),we=w||this.parentInjector;if(!R&&null==de.ngModule){var dt=(j?we:this.parentInjector).get(Rl,null);dt&&(R=dt)}var Dt=de.create(we,T,void 0,R);return this.insert(Dt.hostView,$),Dt}},{key:"insert",value:function(g,y){var w=g._lView,T=w[1];if(function Yl(l){return ji(l[3])}(w)){var R=this.indexOf(g);if(-1!==R)this.detach(R);else{var j=w[3],$=new dD(j,j[6],j[3]);$.detach($.indexOf(g))}}var ae=this._adjustIndex(y),de=this._lContainer;!function mA(l,c,f,p){var g=10+p,y=f.length;p>0&&(f[g-1][4]=c),p<y-10?(c[4]=f[g],wu(f,10+p,c)):(f.push(c),c[4]=null),c[3]=f;var w=c[17];null!==w&&f!==w&&function _A(l,c){var f=l[9];c[16]!==c[3][3][16]&&(l[2]=!0),null===f?l[9]=[c]:f.push(c)}(w,c);var T=c[19];null!==T&&T.insertView(l),c[2]|=128}(T,w,de,ae);var we=Oy(ae,de),We=w[11],dt=Sg(We,de[7]);return null!==dt&&function gA(l,c,f,p,g,y){p[0]=g,p[6]=c,_p(l,p,f,1,g,y)}(T,de[6],We,w,dt,we),g.attachToViewContainerRef(),wu(ah(de),ae,g),g}},{key:"move",value:function(g,y){return this.insert(g,y)}},{key:"indexOf",value:function(g){var y=fD(this._lContainer);return null!==y?y.indexOf(g):-1}},{key:"remove",value:function(g){var y=this._adjustIndex(g,-1),w=My(this._lContainer,y);w&&(ca(ah(this._lContainer),y),Sy(w[1],w))}},{key:"detach",value:function(g){var y=this._adjustIndex(g,-1),w=My(this._lContainer,y);return w&&null!=ca(ah(this._lContainer),y)?new nh(w):null}},{key:"_adjustIndex",value:function(g){var y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==g?this.length+y:g}}]),f}(Em);function fD(l){return l[8]}function ah(l){return l[8]||(l[8]=[])}function hD(l,c){var f,p=c[l.index];if(ji(p))f=p;else{var g;if(8&l.type)g=Mr(p);else{var y=c[11];g=y.createComment("");var w=ti(l,c);wl(y,Sg(y,w),g,function iC(l,c){return _r(l)?l.nextSibling(c):c.nextSibling}(y,w),!1)}c[l.index]=f=qA(p,c,g,l),Ug(c,f)}return new dD(f,l,c)}var cb=function(){function l(c){(0,ie.Z)(this,l),this.queryList=c,this.matches=null}return(0,W.Z)(l,[{key:"clone",value:function(){return new l(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),l}(),GR=function(){function l(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(0,ie.Z)(this,l),this.queries=c}return(0,W.Z)(l,[{key:"createEmbeddedView",value:function(f){var p=f.queries;if(null!==p){for(var g=null!==f.contentQueries?f.contentQueries[0]:p.length,y=[],w=0;w<g;w++){var T=p.getByIndex(w);y.push(this.queries[T.indexInDeclarationView].clone())}return new l(y)}return null}},{key:"insertView",value:function(f){this.dirtyQueriesWithMatches(f)}},{key:"detachView",value:function(f){this.dirtyQueriesWithMatches(f)}},{key:"dirtyQueriesWithMatches",value:function(f){for(var p=0;p<this.queries.length;p++)null!==kD(f,p).matches&&this.queries[p].setDirty()}}]),l}(),vD=(0,W.Z)(function l(c,f){var p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(0,ie.Z)(this,l),this.predicate=c,this.flags=f,this.read=p}),zR=function(){function l(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(0,ie.Z)(this,l),this.queries=c}return(0,W.Z)(l,[{key:"elementStart",value:function(f,p){for(var g=0;g<this.queries.length;g++)this.queries[g].elementStart(f,p)}},{key:"elementEnd",value:function(f){for(var p=0;p<this.queries.length;p++)this.queries[p].elementEnd(f)}},{key:"embeddedTView",value:function(f){for(var p=null,g=0;g<this.length;g++){var y=null!==p?p.length:0,w=this.getByIndex(g).embeddedTView(f,y);w&&(w.indexInDeclarationView=g,null!==p?p.push(w):p=[w])}return null!==p?new l(p):null}},{key:"template",value:function(f,p){for(var g=0;g<this.queries.length;g++)this.queries[g].template(f,p)}},{key:"getByIndex",value:function(f){return this.queries[f]}},{key:"length",get:function(){return this.queries.length}},{key:"track",value:function(f){this.queries.push(f)}}]),l}(),YR=function(){function l(c){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;(0,ie.Z)(this,l),this.metadata=c,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=f}return(0,W.Z)(l,[{key:"elementStart",value:function(f,p){this.isApplyingToNode(p)&&this.matchTNode(f,p)}},{key:"elementEnd",value:function(f){this._declarationNodeIndex===f.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(f,p){this.elementStart(f,p)}},{key:"embeddedTView",value:function(f,p){return this.isApplyingToNode(f)?(this.crossesNgTemplate=!0,this.addMatch(-f.index,p),new l(this.metadata)):null}},{key:"isApplyingToNode",value:function(f){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){for(var p=this._declarationNodeIndex,g=f.parent;null!==g&&8&g.type&&g.index!==p;)g=g.parent;return p===(null!==g?g.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(f,p){var g=this.metadata.predicate;if(Array.isArray(g))for(var y=0;y<g.length;y++){var w=g[y];this.matchTNodeWithReadOption(f,p,WR(p,w)),this.matchTNodeWithReadOption(f,p,fl(p,f,w,!1,!1))}else g===ih?4&p.type&&this.matchTNodeWithReadOption(f,p,-1):this.matchTNodeWithReadOption(f,p,fl(p,f,g,!1,!1))}},{key:"matchTNodeWithReadOption",value:function(f,p,g){if(null!==g){var y=this.metadata.read;if(null!==y)if(y===Sa||y===Em||y===ih&&4&p.type)this.addMatch(p.index,-2);else{var w=fl(p,f,y,!1,!1);null!==w&&this.addMatch(p.index,w)}else this.addMatch(p.index,g)}}},{key:"addMatch",value:function(f,p){null===this.matches?this.matches=[f,p]:this.matches.push(f,p)}}]),l}();function WR(l,c){var f=l.localNames;if(null!==f)for(var p=0;p<f.length;p+=2)if(f[p]===c)return f[p+1];return null}function qR(l,c,f,p){return-1===f?function gD(l,c){return 11&l.type?bc(l,c):4&l.type?iv(l,c):null}(c,l):-2===f?function Dm(l,c,f){return f===Sa?bc(c,l):f===ih?iv(c,l):f===Em?hD(c,l):void 0}(l,c,p):Zn(l,l[1],f,c)}function mD(l,c,f,p){var g=c[19].queries[p];if(null===g.matches){for(var y=l.data,w=f.matches,T=[],R=0;R<w.length;R+=2){var j=w[R];T.push(j<0?null:qR(c,y[j],w[R+1],f.metadata.read))}g.matches=T}return g.matches}function Mm(l,c,f,p){var g=l.queries.getByIndex(f),y=g.matches;if(null!==y)for(var w=mD(l,c,g,f),T=0;T<y.length;T+=2){var R=y[T];if(R>0)p.push(w[T/2]);else{for(var j=y[T+1],$=c[-R],ae=10;ae<$.length;ae++){var de=$[ae];de[17]===de[3]&&Mm(de[1],de,j,p)}if(null!==$[9])for(var we=$[9],We=0;We<we.length;We++){var dt=we[We];Mm(dt[1],dt,j,p)}}}return p}function _D(l){var c=pt(),f=Bn(),p=ul();Qc(p+1);var g=kD(f,p);if(l.dirty&&Ls(c)===(2==(2&g.metadata.flags))){if(null===g.matches)l.reset([]);else{var y=g.crossesNgTemplate?Mm(f,c,p,[]):mD(f,c,g,p);l.reset(y,tD),l.notifyOnChanges()}return!0}return!1}function db(l,c,f){var p=Bn();p.firstCreatePass&&(bD(p,new vD(l,c,f),-1),2==(2&c)&&(p.staticViewQueries=!0)),$R(p,pt(),c)}function yD(l,c,f,p){var g=Bn();if(g.firstCreatePass){var y=ni();bD(g,new vD(c,f,p),y.index),function QR(l,c){var f=l.contentQueries||(l.contentQueries=[]);c!==(f.length?f[f.length-1]:-1)&&f.push(l.queries.length-1,c)}(g,l),2==(2&f)&&(g.staticContentQueries=!0)}$R(g,pt(),f)}function KR(){return function fb(l,c){return l[19].queries[c].queryList}(pt(),ul())}function $R(l,c,f){var p=new rv(4==(4&f));Wy(l,c,p,p.destroy),null===c[19]&&(c[19]=new GR),c[19].queries.push(new cb(p))}function bD(l,c,f){null===l.queries&&(l.queries=new zR),l.queries.track(new YR(c,f))}function kD(l,c){return l.queries.getByIndex(c)}function lv(){}var FD=new Yr("Application Initializer"),kb=function(){var l=function(){function c(f){var p=this;(0,ie.Z)(this,c),this.appInits=f,this.resolve=lv,this.reject=lv,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(g,y){p.resolve=g,p.reject=y})}return(0,W.Z)(c,[{key:"runInitializers",value:function(){var p=this;if(!this.initialized){var g=[],y=function(){p.done=!0,p.resolve()};if(this.appInits)for(var w=function(j){var $=p.appInits[j]();if(cE($))g.push($);else if(SI($)){var ae=new Promise(function(de,we){$.subscribe({complete:de,error:we})});g.push(ae)}},T=0;T<this.appInits.length;T++)w(T);Promise.all(g).then(function(){y()}).catch(function(R){p.reject(R)}),0===g.length&&y(),this.initialized=!0}}}]),c}();return l.\u0275fac=function(f){return new(f||l)(fn(FD,8))},l.\u0275prov=tr({token:l,factory:l.\u0275fac,providedIn:"root"}),l}(),xD=new Yr("AppId",{providedIn:"root",factory:function ND(){return"".concat(sr()).concat(sr()).concat(sr())}});function sr(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var wb=new Yr("Platform Initializer"),Cb=new Yr("Platform ID"),ZD=new Yr("appBootstrapListener"),c1=function(){var l=function(){function c(){(0,ie.Z)(this,c)}return(0,W.Z)(c,[{key:"log",value:function(p){console.log(p)}},{key:"warn",value:function(p){console.warn(p)}}]),c}();return l.\u0275fac=function(f){return new(f||l)},l.\u0275prov=tr({token:l,factory:l.\u0275fac}),l}(),Eb=new Yr("LocaleId",{providedIn:"root",factory:function(){return nn(Eb,rn.Optional|rn.SkipSelf)||function d1(){return"undefined"!=typeof $localize&&$localize.locale||Wp}()}}),f1=new Yr("DefaultCurrencyCode",{providedIn:"root",factory:function(){return"USD"}}),Db=(0,W.Z)(function l(c,f){(0,ie.Z)(this,l),this.ngModuleFactory=c,this.componentFactories=f}),Mb=function(){var l=function(){function c(){(0,ie.Z)(this,c)}return(0,W.Z)(c,[{key:"compileModuleSync",value:function(p){return new ym(p)}},{key:"compileModuleAsync",value:function(p){return Promise.resolve(this.compileModuleSync(p))}},{key:"compileModuleAndAllComponentsSync",value:function(p){var g=this.compileModuleSync(p),w=Cu(yn(p).declarations).reduce(function(T,R){var j=Sn(R);return j&&T.push(new vm(j)),T},[]);return new Db(g,w)}},{key:"compileModuleAndAllComponentsAsync",value:function(p){return Promise.resolve(this.compileModuleAndAllComponentsSync(p))}},{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(p){}},{key:"getModuleId",value:function(p){}}]),c}();return l.\u0275fac=function(f){return new(f||l)},l.\u0275prov=tr({token:l,factory:l.\u0275fac,providedIn:"root"}),l}(),h1=function(){return Promise.resolve(0)}();function jt(l){"undefined"==typeof Zone?h1.then(function(){l&&l.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",l)}var qi=function(){function l(c){var f=c.enableLongStackTrace,p=void 0!==f&&f,g=c.shouldCoalesceEventChangeDetection,y=void 0!==g&&g,w=c.shouldCoalesceRunChangeDetection,T=void 0!==w&&w;if((0,ie.Z)(this,l),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Fu(!1),this.onMicrotaskEmpty=new Fu(!1),this.onStable=new Fu(!1),this.onError=new Fu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();var R=this;R._nesting=0,R._outer=R._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(R._inner=R._inner.fork(new Zone.TaskTrackingZoneSpec)),p&&Zone.longStackTraceZoneSpec&&(R._inner=R._inner.fork(Zone.longStackTraceZoneSpec)),R.shouldCoalesceEventChangeDetection=!T&&y,R.shouldCoalesceRunChangeDetection=T,R.lastRequestAnimationFrameId=-1,R.nativeRequestAnimationFrame=function qa(){var l=be.requestAnimationFrame,c=be.cancelAnimationFrame;if("undefined"!=typeof Zone&&l&&c){var f=l[Zone.__symbol__("OriginalDelegate")];f&&(l=f);var p=c[Zone.__symbol__("OriginalDelegate")];p&&(c=p)}return{nativeRequestAnimationFrame:l,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function BD(l){var c=function(){!function Om(l){l.isCheckStableRunning||-1!==l.lastRequestAnimationFrameId||(l.lastRequestAnimationFrameId=l.nativeRequestAnimationFrame.call(be,function(){l.fakeTopEventTask||(l.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",function(){l.lastRequestAnimationFrameId=-1,Sb(l),l.isCheckStableRunning=!0,xu(l),l.isCheckStableRunning=!1},void 0,function(){},function(){})),l.fakeTopEventTask.invoke()}),Sb(l))}(l)};l._inner=l._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(p,g,y,w,T,R){try{return VD(l),p.invokeTask(y,w,T,R)}finally{(l.shouldCoalesceEventChangeDetection&&"eventTask"===w.type||l.shouldCoalesceRunChangeDetection)&&c(),si(l)}},onInvoke:function(p,g,y,w,T,R,j){try{return VD(l),p.invoke(y,w,T,R,j)}finally{l.shouldCoalesceRunChangeDetection&&c(),si(l)}},onHasTask:function(p,g,y,w){p.hasTask(y,w),g===y&&("microTask"==w.change?(l._hasPendingMicrotasks=w.microTask,Sb(l),xu(l)):"macroTask"==w.change&&(l.hasPendingMacrotasks=w.macroTask))},onHandleError:function(p,g,y,w){return p.handleError(y,w),l.runOutsideAngular(function(){return l.onError.emit(w)}),!1}})}(R)}return(0,W.Z)(l,[{key:"run",value:function(f,p,g){return this._inner.run(f,p,g)}},{key:"runTask",value:function(f,p,g,y){var w=this._inner,T=w.scheduleEventTask("NgZoneEvent: "+y,f,mo,lv,lv);try{return w.runTask(T,p,g)}finally{w.cancelTask(T)}}},{key:"runGuarded",value:function(f,p,g){return this._inner.runGuarded(f,p,g)}},{key:"runOutsideAngular",value:function(f){return this._outer.run(f)}}],[{key:"isInAngularZone",value:function(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!l.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(l.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),l}(),mo={};function xu(l){if(0==l._nesting&&!l.hasPendingMicrotasks&&!l.isStable)try{l._nesting++,l.onMicrotaskEmpty.emit(null)}finally{if(l._nesting--,!l.hasPendingMicrotasks)try{l.runOutsideAngular(function(){return l.onStable.emit(null)})}finally{l.isStable=!0}}}function Sb(l){l.hasPendingMicrotasks=!!(l._hasPendingMicrotasks||(l.shouldCoalesceEventChangeDetection||l.shouldCoalesceRunChangeDetection)&&-1!==l.lastRequestAnimationFrameId)}function VD(l){l._nesting++,l.isStable&&(l.isStable=!1,l.onUnstable.emit(null))}function si(l){l._nesting--,xu(l)}var Nu=function(){function l(){(0,ie.Z)(this,l),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Fu,this.onMicrotaskEmpty=new Fu,this.onStable=new Fu,this.onError=new Fu}return(0,W.Z)(l,[{key:"run",value:function(f,p,g){return f.apply(p,g)}},{key:"runGuarded",value:function(f,p,g){return f.apply(p,g)}},{key:"runOutsideAngular",value:function(f){return f()}},{key:"runTask",value:function(f,p,g,y){return f.apply(p,g)}}]),l}(),Mc=function(){var l=function(){function c(f){var p=this;(0,ie.Z)(this,c),this._ngZone=f,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),f.run(function(){p.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return(0,W.Z)(c,[{key:"_watchAngularEvents",value:function(){var p=this;this._ngZone.onUnstable.subscribe({next:function(){p._didWork=!0,p._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){p._ngZone.onStable.subscribe({next:function(){qi.assertNotInAngularZone(),jt(function(){p._isZoneStable=!0,p._runCallbacksIfReady()})}})})}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var p=this;if(this.isStable())jt(function(){for(;0!==p._callbacks.length;){var y=p._callbacks.pop();clearTimeout(y.timeoutId),y.doneCb(p._didWork)}p._didWork=!1});else{var g=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(y){return!y.updateCb||!y.updateCb(g)||(clearTimeout(y.timeoutId),!1)}),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(p){return{source:p.source,creationLocation:p.creationLocation,data:p.data}}):[]}},{key:"addCallback",value:function(p,g,y){var w=this,T=-1;g&&g>0&&(T=setTimeout(function(){w._callbacks=w._callbacks.filter(function(R){return R.timeoutId!==T}),p(w._didWork,w.getPendingTasks())},g)),this._callbacks.push({doneCb:p,timeoutId:T,updateCb:y})}},{key:"whenStable",value:function(p,g,y){if(y&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(p,g,y),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(p,g,y){return[]}}]),c}();return l.\u0275fac=function(f){return new(f||l)(fn(qi))},l.\u0275prov=tr({token:l,factory:l.\u0275fac}),l}(),UD=function(){var l=function(){function c(){(0,ie.Z)(this,c),this._applications=new Map,Tb.addToWindow(this)}return(0,W.Z)(c,[{key:"registerApplication",value:function(p,g){this._applications.set(p,g)}},{key:"unregisterApplication",value:function(p){this._applications.delete(p)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(p){return this._applications.get(p)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(p){var g=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Tb.findTestabilityInTree(this,p,g)}}]),c}();return l.\u0275fac=function(f){return new(f||l)},l.\u0275prov=tr({token:l,factory:l.\u0275fac}),l}();function v1(l){Tb=l}var tu,Tb=new(function(){function l(){(0,ie.Z)(this,l)}return(0,W.Z)(l,[{key:"addToWindow",value:function(f){}},{key:"findTestabilityInTree",value:function(f,p,g){return null}}]),l}());function Pm(l,c,f){var p=new ym(f);return Promise.resolve(p)}var HD=new Yr("AllowMultipleToken"),m1=(0,W.Z)(function l(c,f){(0,ie.Z)(this,l),this.name=c,this.token=f});function _1(l){if(tu&&!tu.destroyed&&!tu.injector.get(HD,!1))throw new Be(400,"");tu=l.get(sh);var f=l.get(wb,null);return f&&f.forEach(function(p){return p()}),tu}function y1(l,c){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],p="Platform: ".concat(c),g=new Yr(p);return function(){var y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],w=Fm();if(!w||w.injector.get(HD,!1))if(l)l(f.concat(y).concat({provide:g,useValue:!0}));else{var T=f.concat(y).concat({provide:g,useValue:!0},{provide:LC,useValue:"platform"});_1(qs.create({providers:T,name:p}))}return nu()}}function nu(l){var c=Fm();if(!c)throw new Be(401,"");return c}function Fm(){return tu&&!tu.destroyed?tu:null}var sh=function(){var l=function(){function c(f){(0,ie.Z)(this,c),this._injector=f,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return(0,W.Z)(c,[{key:"bootstrapModuleFactory",value:function(p,g){var y=this,j=function xm(l,c){return"noop"===l?new Nu:("zone.js"===l?void 0:l)||new qi({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==c?void 0:c.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==c?void 0:c.ngZoneRunCoalescing)})}(g?g.ngZone:void 0,{ngZoneEventCoalescing:g&&g.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:g&&g.ngZoneRunCoalescing||!1}),$=[{provide:qi,useValue:j}];return j.run(function(){var ae=qs.create({providers:$,parent:y.injector,name:p.moduleType.name}),de=p.create(ae),we=de.injector.get(ld,null);if(!we)throw new Be(402,"");return j.runOutsideAngular(function(){var dt=j.onError.subscribe({next:function(xt){we.handleError(xt)}});de.onDestroy(function(){cv(y._modules,de),dt.unsubscribe()})}),function b1(l,c,f){try{var p=f();return cE(p)?p.catch(function(g){throw c.runOutsideAngular(function(){return l.handleError(g)}),g}):p}catch(g){throw c.runOutsideAngular(function(){return l.handleError(g)}),g}}(we,j,function(){var dt=de.injector.get(kb);return dt.runInitializers(),dt.donePromise.then(function(){return function iR(l){kr(l,"Expected localeId to be defined"),"string"==typeof l&&l.toLowerCase().replace(/_/g,"-")}(de.injector.get(Eb,Wp)||Wp),y._moduleDoBootstrap(de),de})})})}},{key:"bootstrapModule",value:function(p){var g=this,y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],w=Ab({},y);return Pm(0,0,p).then(function(T){return g.bootstrapModuleFactory(T,w)})}},{key:"_moduleDoBootstrap",value:function(p){var g=p.injector.get(Ib);if(p._bootstrapComponents.length>0)p._bootstrapComponents.forEach(function(w){return g.bootstrap(w)});else{if(!p.instance.ngDoBootstrap)throw new Be(403,"");p.instance.ngDoBootstrap(g)}this._modules.push(p)}},{key:"onDestroy",value:function(p){this._destroyListeners.push(p)}},{key:"injector",get:function(){return this._injector}},{key:"destroy",value:function(){if(this._destroyed)throw new Be(404,"");this._modules.slice().forEach(function(g){return g.destroy()}),this._destroyListeners.forEach(function(g){return g()}),this._destroyed=!0}},{key:"destroyed",get:function(){return this._destroyed}}]),c}();return l.\u0275fac=function(f){return new(f||l)(fn(qs))},l.\u0275prov=tr({token:l,factory:l.\u0275fac}),l}();function Ab(l,c){return Array.isArray(c)?c.reduce(Ab,l):Object.assign(Object.assign({},l),c)}var Ib=function(){var l=function(){function c(f,p,g,y,w){var T=this;(0,ie.Z)(this,c),this._zone=f,this._injector=p,this._exceptionHandler=g,this._componentFactoryResolver=y,this._initStatus=w,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:function(){T._zone.run(function(){T.tick()})}});var R=new le.y(function($){T._stable=T._zone.isStable&&!T._zone.hasPendingMacrotasks&&!T._zone.hasPendingMicrotasks,T._zone.runOutsideAngular(function(){$.next(T._stable),$.complete()})}),j=new le.y(function($){var ae;T._zone.runOutsideAngular(function(){ae=T._zone.onStable.subscribe(function(){qi.assertNotInAngularZone(),jt(function(){!T._stable&&!T._zone.hasPendingMacrotasks&&!T._zone.hasPendingMicrotasks&&(T._stable=!0,$.next(!0))})})});var de=T._zone.onUnstable.subscribe(function(){qi.assertInAngularZone(),T._stable&&(T._stable=!1,T._zone.runOutsideAngular(function(){$.next(!1)}))});return function(){ae.unsubscribe(),de.unsubscribe()}});this.isStable=(0,Ie.T)(R,j.pipe((0,Me.B)()))}return(0,W.Z)(c,[{key:"bootstrap",value:function(p,g){var T,y=this;if(!this._initStatus.done)throw new Be(405,"");T=p instanceof XE?p:this._componentFactoryResolver.resolveComponentFactory(p),this.componentTypes.push(T.componentType);var R=function g1(l){return l.isBoundToModule}(T)?void 0:this._injector.get(Rl),$=T.create(qs.NULL,[],g||T.selector,R),ae=$.location.nativeElement,de=$.injector.get(Mc,null),we=de&&$.injector.get(UD);return de&&we&&we.registerApplication(ae,de),$.onDestroy(function(){y.detachView($.hostView),cv(y.components,$),we&&we.unregisterApplication(ae)}),this._loadComponent($),$}},{key:"tick",value:function(){var p=this;if(this._runningTick)throw new Be(101,"");try{this._runningTick=!0;var w,y=(0,G.Z)(this._views);try{for(y.s();!(w=y.n()).done;)w.value.detectChanges()}catch(ae){y.e(ae)}finally{y.f()}}catch(ae){this._zone.runOutsideAngular(function(){return p._exceptionHandler.handleError(ae)})}finally{this._runningTick=!1}}},{key:"attachView",value:function(p){var g=p;this._views.push(g),g.attachToAppRef(this)}},{key:"detachView",value:function(p){var g=p;cv(this._views,g),g.detachFromAppRef()}},{key:"_loadComponent",value:function(p){this.attachView(p.hostView),this.tick(),this.components.push(p),this._injector.get(ZD,[]).concat(this._bootstrapListeners).forEach(function(y){return y(p)})}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach(function(p){return p.destroy()}),this._onMicrotaskEmptySubscription.unsubscribe()}},{key:"viewCount",get:function(){return this._views.length}}]),c}();return l.\u0275fac=function(f){return new(f||l)(fn(qi),fn(qs),fn(ld),fn(th),fn(kb))},l.\u0275prov=tr({token:l,factory:l.\u0275fac,providedIn:"root"}),l}();function cv(l,c){var f=l.indexOf(c);f>-1&&l.splice(f,1)}var Nm=!0,zD=!1;function k1(){return zD=!0,Nm}function Zm(){if(zD)throw new Error("Cannot enable prod mode after platform setup.");Nm=!1}var Lm=function(){var l=(0,W.Z)(function c(){(0,ie.Z)(this,c)});return l.__NG_ELEMENT_ID__=Bm,l}();function Bm(l){return function w1(l,c,f){if(Gi(l)&&!f){var p=vi(l.index,c);return new nh(p,p)}return 47&l.type?new nh(c[16],c):null}(ni(),pt(),16==(16&l))}var C1=function(l){(0,B.Z)(f,l);var c=(0,ee.Z)(f);function f(){return(0,ie.Z)(this,f),c.apply(this,arguments)}return(0,W.Z)(f)}(Lm),E1=function(l){(0,B.Z)(f,l);var c=(0,ee.Z)(f);function f(){return(0,ie.Z)(this,f),c.apply(this,arguments)}return(0,W.Z)(f)}(C1),Lb=function(){function l(){(0,ie.Z)(this,l)}return(0,W.Z)(l,[{key:"supports",value:function(f){return Fp(f)}},{key:"create",value:function(f){return new R1(f)}}]),l}(),I1=function(c,f){return f},R1=function(){function l(c){(0,ie.Z)(this,l),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=c||I1}return(0,W.Z)(l,[{key:"forEachItem",value:function(f){var p;for(p=this._itHead;null!==p;p=p._next)f(p)}},{key:"forEachOperation",value:function(f){for(var p=this._itHead,g=this._removalsHead,y=0,w=null;p||g;){var T=!g||p&&p.currentIndex<F1(g,y,w)?p:g,R=F1(T,y,w),j=T.currentIndex;if(T===g)y--,g=g._nextRemoved;else if(p=p._next,null==T.previousIndex)y++;else{w||(w=[]);var $=R-y,ae=j-y;if($!=ae){for(var de=0;de<$;de++){var we=de<w.length?w[de]:w[de]=0,We=we+de;ae<=We&&We<$&&(w[de]=we+1)}w[T.previousIndex]=ae-$}}R!==j&&f(T,R,j)}}},{key:"forEachPreviousItem",value:function(f){var p;for(p=this._previousItHead;null!==p;p=p._nextPrevious)f(p)}},{key:"forEachAddedItem",value:function(f){var p;for(p=this._additionsHead;null!==p;p=p._nextAdded)f(p)}},{key:"forEachMovedItem",value:function(f){var p;for(p=this._movesHead;null!==p;p=p._nextMoved)f(p)}},{key:"forEachRemovedItem",value:function(f){var p;for(p=this._removalsHead;null!==p;p=p._nextRemoved)f(p)}},{key:"forEachIdentityChange",value:function(f){var p;for(p=this._identityChangesHead;null!==p;p=p._nextIdentityChange)f(p)}},{key:"diff",value:function(f){if(null==f&&(f=[]),!Fp(f))throw new Be(900,"");return this.check(f)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(f){var p=this;this._reset();var w,T,R,g=this._itHead,y=!1;if(Array.isArray(f)){this.length=f.length;for(var j=0;j<this.length;j++)R=this._trackByFn(j,T=f[j]),null!==g&&Object.is(g.trackById,R)?(y&&(g=this._verifyReinsertion(g,T,R,j)),Object.is(g.item,T)||this._addIdentityChange(g,T)):(g=this._mismatch(g,T,R,j),y=!0),g=g._next}else w=0,function _0(l,c){if(Array.isArray(l))for(var f=0;f<l.length;f++)c(l[f]);else for(var g,p=l[Yf()]();!(g=p.next()).done;)c(g.value)}(f,function($){R=p._trackByFn(w,$),null!==g&&Object.is(g.trackById,R)?(y&&(g=p._verifyReinsertion(g,$,R,w)),Object.is(g.item,$)||p._addIdentityChange(g,$)):(g=p._mismatch(g,$,R,w),y=!0),g=g._next,w++}),this.length=w;return this._truncate(g),this.collection=f,this.isDirty}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}},{key:"_reset",value:function(){if(this.isDirty){var f;for(f=this._previousItHead=this._itHead;null!==f;f=f._next)f._nextPrevious=f._next;for(f=this._additionsHead;null!==f;f=f._nextAdded)f.previousIndex=f.currentIndex;for(this._additionsHead=this._additionsTail=null,f=this._movesHead;null!==f;f=f._nextMoved)f.previousIndex=f.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(f,p,g,y){var w;return null===f?w=this._itTail:(w=f._prev,this._remove(f)),null!==(f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(g,null))?(Object.is(f.item,p)||this._addIdentityChange(f,p),this._reinsertAfter(f,w,y)):null!==(f=null===this._linkedRecords?null:this._linkedRecords.get(g,y))?(Object.is(f.item,p)||this._addIdentityChange(f,p),this._moveAfter(f,w,y)):f=this._addAfter(new O1(p,g),w,y),f}},{key:"_verifyReinsertion",value:function(f,p,g,y){var w=null===this._unlinkedRecords?null:this._unlinkedRecords.get(g,null);return null!==w?f=this._reinsertAfter(w,f._prev,y):f.currentIndex!=y&&(f.currentIndex=y,this._addToMoves(f,y)),f}},{key:"_truncate",value:function(f){for(;null!==f;){var p=f._next;this._addToRemovals(this._unlink(f)),f=p}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(f,p,g){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(f);var y=f._prevRemoved,w=f._nextRemoved;return null===y?this._removalsHead=w:y._nextRemoved=w,null===w?this._removalsTail=y:w._prevRemoved=y,this._insertAfter(f,p,g),this._addToMoves(f,g),f}},{key:"_moveAfter",value:function(f,p,g){return this._unlink(f),this._insertAfter(f,p,g),this._addToMoves(f,g),f}},{key:"_addAfter",value:function(f,p,g){return this._insertAfter(f,p,g),this._additionsTail=null===this._additionsTail?this._additionsHead=f:this._additionsTail._nextAdded=f,f}},{key:"_insertAfter",value:function(f,p,g){var y=null===p?this._itHead:p._next;return f._next=y,f._prev=p,null===y?this._itTail=f:y._prev=f,null===p?this._itHead=f:p._next=f,null===this._linkedRecords&&(this._linkedRecords=new Pl),this._linkedRecords.put(f),f.currentIndex=g,f}},{key:"_remove",value:function(f){return this._addToRemovals(this._unlink(f))}},{key:"_unlink",value:function(f){null!==this._linkedRecords&&this._linkedRecords.remove(f);var p=f._prev,g=f._next;return null===p?this._itHead=g:p._next=g,null===g?this._itTail=p:g._prev=p,f}},{key:"_addToMoves",value:function(f,p){return f.previousIndex===p||(this._movesTail=null===this._movesTail?this._movesHead=f:this._movesTail._nextMoved=f),f}},{key:"_addToRemovals",value:function(f){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Pl),this._unlinkedRecords.put(f),f.currentIndex=null,f._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=f,f._prevRemoved=null):(f._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=f),f}},{key:"_addIdentityChange",value:function(f,p){return f.item=p,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=f:this._identityChangesTail._nextIdentityChange=f,f}}]),l}(),O1=(0,W.Z)(function l(c,f){(0,ie.Z)(this,l),this.item=c,this.trackById=f,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}),P1=function(){function l(){(0,ie.Z)(this,l),this._head=null,this._tail=null}return(0,W.Z)(l,[{key:"add",value:function(f){null===this._head?(this._head=this._tail=f,f._nextDup=null,f._prevDup=null):(this._tail._nextDup=f,f._prevDup=this._tail,f._nextDup=null,this._tail=f)}},{key:"get",value:function(f,p){var g;for(g=this._head;null!==g;g=g._nextDup)if((null===p||p<=g.currentIndex)&&Object.is(g.trackById,f))return g;return null}},{key:"remove",value:function(f){var p=f._prevDup,g=f._nextDup;return null===p?this._head=g:p._nextDup=g,null===g?this._tail=p:g._prevDup=p,null===this._head}}]),l}(),Pl=function(){function l(){(0,ie.Z)(this,l),this.map=new Map}return(0,W.Z)(l,[{key:"put",value:function(f){var p=f.trackById,g=this.map.get(p);g||(g=new P1,this.map.set(p,g)),g.add(f)}},{key:"get",value:function(f,p){var y=this.map.get(f);return y?y.get(f,p):null}},{key:"remove",value:function(f){var p=f.trackById;return this.map.get(p).remove(f)&&this.map.delete(p),f}},{key:"isEmpty",get:function(){return 0===this.map.size}},{key:"clear",value:function(){this.map.clear()}}]),l}();function F1(l,c,f){var p=l.previousIndex;if(null===p)return p;var g=0;return f&&p<f.length&&(g=f[p]),p+c+g}var Id=function(){function l(){(0,ie.Z)(this,l)}return(0,W.Z)(l,[{key:"supports",value:function(f){return f instanceof Map||y0(f)}},{key:"create",value:function(){return new qD}}]),l}(),qD=function(){function l(){(0,ie.Z)(this,l),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return(0,W.Z)(l,[{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}},{key:"forEachItem",value:function(f){var p;for(p=this._mapHead;null!==p;p=p._next)f(p)}},{key:"forEachPreviousItem",value:function(f){var p;for(p=this._previousMapHead;null!==p;p=p._nextPrevious)f(p)}},{key:"forEachChangedItem",value:function(f){var p;for(p=this._changesHead;null!==p;p=p._nextChanged)f(p)}},{key:"forEachAddedItem",value:function(f){var p;for(p=this._additionsHead;null!==p;p=p._nextAdded)f(p)}},{key:"forEachRemovedItem",value:function(f){var p;for(p=this._removalsHead;null!==p;p=p._nextRemoved)f(p)}},{key:"diff",value:function(f){if(f){if(!(f instanceof Map||y0(f)))throw new Be(900,"")}else f=new Map;return this.check(f)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(f){var p=this;this._reset();var g=this._mapHead;if(this._appendAfter=null,this._forEach(f,function(w,T){if(g&&g.key===T)p._maybeAddToChanges(g,w),p._appendAfter=g,g=g._next;else{var R=p._getOrCreateRecordForKey(T,w);g=p._insertBeforeOrAppend(g,R)}}),g){g._prev&&(g._prev._next=null),this._removalsHead=g;for(var y=g;null!==y;y=y._nextRemoved)y===this._mapHead&&(this._mapHead=null),this._records.delete(y.key),y._nextRemoved=y._next,y.previousValue=y.currentValue,y.currentValue=null,y._prev=null,y._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(f,p){if(f){var g=f._prev;return p._next=f,p._prev=g,f._prev=p,g&&(g._next=p),f===this._mapHead&&(this._mapHead=p),this._appendAfter=f,f}return this._appendAfter?(this._appendAfter._next=p,p._prev=this._appendAfter):this._mapHead=p,this._appendAfter=p,null}},{key:"_getOrCreateRecordForKey",value:function(f,p){if(this._records.has(f)){var g=this._records.get(f);this._maybeAddToChanges(g,p);var y=g._prev,w=g._next;return y&&(y._next=w),w&&(w._prev=y),g._next=null,g._prev=null,g}var T=new x1(f);return this._records.set(f,T),T.currentValue=p,this._addToAdditions(T),T}},{key:"_reset",value:function(){if(this.isDirty){var f;for(this._previousMapHead=this._mapHead,f=this._previousMapHead;null!==f;f=f._next)f._nextPrevious=f._next;for(f=this._changesHead;null!==f;f=f._nextChanged)f.previousValue=f.currentValue;for(f=this._additionsHead;null!=f;f=f._nextAdded)f.previousValue=f.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(f,p){Object.is(p,f.currentValue)||(f.previousValue=f.currentValue,f.currentValue=p,this._addToChanges(f))}},{key:"_addToAdditions",value:function(f){null===this._additionsHead?this._additionsHead=this._additionsTail=f:(this._additionsTail._nextAdded=f,this._additionsTail=f)}},{key:"_addToChanges",value:function(f){null===this._changesHead?this._changesHead=this._changesTail=f:(this._changesTail._nextChanged=f,this._changesTail=f)}},{key:"_forEach",value:function(f,p){f instanceof Map?f.forEach(p):Object.keys(f).forEach(function(g){return p(f[g],g)})}}]),l}(),x1=(0,W.Z)(function l(c){(0,ie.Z)(this,l),this.key=c,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null});function Bb(){return new Vb([new Lb])}var Vb=function(){var l=function(){function c(f){(0,ie.Z)(this,c),this.factories=f}return(0,W.Z)(c,[{key:"find",value:function(p){var g=this.factories.find(function(w){return w.supports(p)});if(null!=g)return g;throw new Be(901,"")}}],[{key:"create",value:function(p,g){if(null!=g){var y=g.factories.slice();p=p.concat(y)}return new c(p)}},{key:"extend",value:function(p){return{provide:c,useFactory:function(y){return c.create(p,y||Bb())},deps:[[c,new bs,new or]]}}}]),c}();return l.\u0275prov=tr({token:l,providedIn:"root",factory:Bb}),l}();function Ub(){return new Fl([new Id])}var Fl=function(){var l=function(){function c(f){(0,ie.Z)(this,c),this.factories=f}return(0,W.Z)(c,[{key:"find",value:function(p){var g=this.factories.find(function(w){return w.supports(p)});if(g)return g;throw new Be(901,"")}}],[{key:"create",value:function(p,g){if(g){var y=g.factories.slice();p=p.concat(y)}return new c(p)}},{key:"extend",value:function(p){return{provide:c,useFactory:function(y){return c.create(p,y||Ub())},deps:[[c,new bs,new or]]}}}]),c}();return l.\u0275prov=tr({token:l,providedIn:"root",factory:Ub}),l}(),L1=y1(null,"core",[{provide:Cb,useValue:"unknown"},{provide:sh,deps:[qs]},{provide:UD,deps:[]},{provide:c1,deps:[]}]),B1=function(){var l=(0,W.Z)(function c(f){(0,ie.Z)(this,c)});return l.\u0275fac=function(f){return new(f||l)(fn(Ib))},l.\u0275mod=mt({type:l}),l.\u0275inj=dr({}),l}()},3942:function(ht,ke,x){"use strict";x.d(ke,{Z:function(){return pe}});var Z,X=x(4942),ne=x(5671),_=x(3144),m=x(2090),P=x(4859),N=x(9681),G=x(1877),s=function(){function Fe(Ce,qe){var Et=this;(0,ne.Z)(this,Fe),this._delegate=Ce,this.firebase=qe,(0,N._addComponent)(Ce,new P.wA("app-compat",function(){return Et},"PUBLIC")),this.container=Ce.container}return(0,_.Z)(Fe,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(qe){this._delegate.automaticDataCollectionEnabled=qe}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var qe=this;return new Promise(function(Et){qe._delegate.checkDestroyed(),Et()}).then(function(){return qe.firebase.INTERNAL.removeApp(qe.name),(0,N.deleteApp)(qe._delegate)})}},{key:"_getService",value:function(qe){var Mt,Et=arguments.length>1&&void 0!==arguments[1]?arguments[1]:N._DEFAULT_ENTRY_NAME;this._delegate.checkDestroyed();var Ct=this._delegate.container.getProvider(qe);return!Ct.isInitialized()&&"EXPLICIT"===(null===(Mt=Ct.getComponent())||void 0===Mt?void 0:Mt.instantiationMode)&&Ct.initialize(),Ct.getImmediate({identifier:Et})}},{key:"_removeServiceInstance",value:function(qe){var Et=arguments.length>1&&void 0!==arguments[1]?arguments[1]:N._DEFAULT_ENTRY_NAME;this._delegate.container.getProvider(qe).clearInstance(Et)}},{key:"_addComponent",value:function(qe){(0,N._addComponent)(this._delegate,qe)}},{key:"_addOrOverwriteComponent",value:function(qe){(0,N._addOrOverwriteComponent)(this._delegate,qe)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),Fe}(),W=((0,X.Z)(Z={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,X.Z)(Z,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Z),ie=new m.LL("app-compat","Firebase",W),L=function ee(){var Fe=function B(Fe){var Ce={},qe={__esModule:!0,initializeApp:function Ct(De){var ye=N.initializeApp(De,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if((0,m.r3)(Ce,ye.name))return Ce[ye.name];var ve=new Fe(ye,qe);return Ce[ye.name]=ve,ve},app:Mt,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function Xe(De){var Te=De.name,ye=Te.replace("-compat","");if(N._registerComponent(De)&&"PUBLIC"===De.type){var ve=function(){var tt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();if("function"!=typeof tt[ye])throw ie.create("invalid-app-argument",{appName:Te});return tt[ye]()};void 0!==De.serviceProps&&(0,m.ZB)(ve,De.serviceProps),qe[ye]=ve,Fe.prototype[ye]=function(){for(var He=this._getService.bind(this,Te),tt=arguments.length,bt=new Array(tt),Qe=0;Qe<tt;Qe++)bt[Qe]=arguments[Qe];return He.apply(this,De.multipleInstances?bt:[])}}return"PUBLIC"===De.type?qe[ye]:null},removeApp:function Et(De){delete Ce[De]},useAsService:function Be(De,Te){return"serverAuth"===Te?null:Te},modularAPIs:N}};function Mt(De){if(!(0,m.r3)(Ce,De=De||N._DEFAULT_ENTRY_NAME))throw ie.create("no-app",{appName:De});return Ce[De]}return qe.default=qe,Object.defineProperty(qe,"apps",{get:function on(){return Object.keys(Ce).map(function(De){return Ce[De]})}}),Mt.App=Fe,qe}(s);return Fe.INTERNAL=Object.assign(Object.assign({},Fe.INTERNAL),{createFirebaseNamespace:ee,extendNamespace:function Ce(qe){(0,m.ZB)(Fe,qe)},createSubscribe:m.ne,ErrorFactory:m.LL,deepExtend:m.ZB}),Fe}(),K=new G.Yd("@firebase/app-compat");if((0,m.jU)()&&void 0!==self.firebase){K.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Me=self.firebase.SDK_VERSION;Me&&Me.indexOf("LITE")>=0&&K.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var pe=L;!function Ie(Fe){(0,N.registerVersion)("@firebase/app-compat","0.1.25",Fe)}()},9681:function(ht,ke,x){"use strict";x.r(ke),x.d(ke,{FirebaseError:function(){return W.ZR},SDK_VERSION:function(){return dr},_DEFAULT_ENTRY_NAME:function(){return pr},_addComponent:function(){return _a},_addOrOverwriteComponent:function(){return Do},_apps:function(){return Qr},_clearComponents:function(){return Mo},_components:function(){return Ir},_getProvider:function(){return mn},_registerComponent:function(){return kr},_removeServiceInstance:function(){return Hr},deleteApp:function(){return li},getApp:function(){return ui},getApps:function(){return ya},initializeApp:function(){return Pa},onLog:function(){return Ji},registerVersion:function(){return nr},setLogLevel:function(){return wr}});var B,ee,X=x(4902),ne=x(5861),_=x(7762),m=x(4942),P=x(5671),N=x(3144),G=x(7757),Z=x(4859),s=x(1877),W=x(2090),ie=x(6256),L=function(){function Re(Ee){(0,P.Z)(this,Re),this.container=Ee}return(0,N.Z)(Re,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map(function(_t){if(function K(Re){var Ee=Re.getComponent();return"VERSION"===(null==Ee?void 0:Ee.type)}(_t)){var kt=_t.getImmediate();return"".concat(kt.library,"/").concat(kt.version)}return null}).filter(function(_t){return _t}).join(" ")}}]),Re}(),oe="@firebase/app",Ie=new s.Yd("@firebase/app"),pr="[DEFAULT]",Ra=((0,m.Z)(B={},oe,"fire-core"),(0,m.Z)(B,"@firebase/app-compat","fire-core-compat"),(0,m.Z)(B,"@firebase/analytics","fire-analytics"),(0,m.Z)(B,"@firebase/analytics-compat","fire-analytics-compat"),(0,m.Z)(B,"@firebase/app-check","fire-app-check"),(0,m.Z)(B,"@firebase/app-check-compat","fire-app-check-compat"),(0,m.Z)(B,"@firebase/auth","fire-auth"),(0,m.Z)(B,"@firebase/auth-compat","fire-auth-compat"),(0,m.Z)(B,"@firebase/database","fire-rtdb"),(0,m.Z)(B,"@firebase/database-compat","fire-rtdb-compat"),(0,m.Z)(B,"@firebase/functions","fire-fn"),(0,m.Z)(B,"@firebase/functions-compat","fire-fn-compat"),(0,m.Z)(B,"@firebase/installations","fire-iid"),(0,m.Z)(B,"@firebase/installations-compat","fire-iid-compat"),(0,m.Z)(B,"@firebase/messaging","fire-fcm"),(0,m.Z)(B,"@firebase/messaging-compat","fire-fcm-compat"),(0,m.Z)(B,"@firebase/performance","fire-perf"),(0,m.Z)(B,"@firebase/performance-compat","fire-perf-compat"),(0,m.Z)(B,"@firebase/remote-config","fire-rc"),(0,m.Z)(B,"@firebase/remote-config-compat","fire-rc-compat"),(0,m.Z)(B,"@firebase/storage","fire-gcs"),(0,m.Z)(B,"@firebase/storage-compat","fire-gcs-compat"),(0,m.Z)(B,"@firebase/firestore","fire-fst"),(0,m.Z)(B,"@firebase/firestore-compat","fire-fst-compat"),(0,m.Z)(B,"fire-js","fire-js"),(0,m.Z)(B,"firebase","fire-js-all"),B),Qr=new Map,Ir=new Map;function _a(Re,Ee){try{Re.container.addComponent(Ee)}catch(Ye){Ie.debug("Component ".concat(Ee.name," failed to register with FirebaseApp ").concat(Re.name),Ye)}}function Do(Re,Ee){Re.container.addOrOverwriteComponent(Ee)}function kr(Re){var Ee=Re.name;if(Ir.has(Ee))return Ie.debug("There were multiple attempts to register component ".concat(Ee,".")),!1;Ir.set(Ee,Re);var _t,Ye=(0,_.Z)(Qr.values());try{for(Ye.s();!(_t=Ye.n()).done;)_a(_t.value,Re)}catch(Bt){Ye.e(Bt)}finally{Ye.f()}return!0}function mn(Re,Ee){var Ye=Re.container.getProvider("heartbeat").getImmediate({optional:!0});return Ye&&Ye.triggerHeartbeat(),Re.container.getProvider(Ee)}function Hr(Re,Ee){var Ye=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pr;mn(Re,Ee).clearInstance(Ye)}function Mo(){Ir.clear()}var Oa=((0,m.Z)(ee={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,m.Z)(ee,"bad-app-name","Illegal App name: '{$appName}"),(0,m.Z)(ee,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),(0,m.Z)(ee,"app-deleted","Firebase App named '{$appName}' already deleted"),(0,m.Z)(ee,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),(0,m.Z)(ee,"invalid-log-argument","First argument to `onLog` must be null or a function."),(0,m.Z)(ee,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),(0,m.Z)(ee,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),(0,m.Z)(ee,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),(0,m.Z)(ee,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),ee),tr=new W.LL("app","Firebase",Oa),Dr=function(){function Re(Ee,Ye,_t){var kt=this;(0,P.Z)(this,Re),this._isDeleted=!1,this._options=Object.assign({},Ee),this._config=Object.assign({},Ye),this._name=Ye.name,this._automaticDataCollectionEnabled=Ye.automaticDataCollectionEnabled,this._container=_t,this.container.addComponent(new Z.wA("app",function(){return kt},"PUBLIC"))}return(0,N.Z)(Re,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(Ye){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ye}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(Ye){this._isDeleted=Ye}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw tr.create("app-deleted",{appName:this._name})}}]),Re}(),dr="9.8.1";function Pa(Re){var Ee=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!=typeof Ee){var Ye=Ee;Ee={name:Ye}}var _t=Object.assign({name:pr,automaticDataCollectionEnabled:!1},Ee),kt=_t.name;if("string"!=typeof kt||!kt)throw tr.create("bad-app-name",{appName:String(kt)});var Bt=Qr.get(kt);if(Bt){if((0,W.vZ)(Re,Bt.options)&&(0,W.vZ)(_t,Bt.config))return Bt;throw tr.create("duplicate-app",{appName:kt})}var pn,en=new Z.H0(kt),Ot=(0,_.Z)(Ir.values());try{for(Ot.s();!(pn=Ot.n()).done;){var an=pn.value;en.addComponent(an)}}catch(xe){Ot.e(xe)}finally{Ot.f()}var Pe=new Dr(Re,_t,en);return Qr.set(kt,Pe),Pe}function ui(){var Re=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pr,Ee=Qr.get(Re);if(!Ee)throw tr.create("no-app",{appName:Re});return Ee}function ya(){return Array.from(Qr.values())}function li(Re){return ba.apply(this,arguments)}function ba(){return(ba=(0,ne.Z)(G.mark(function Re(Ee){var Ye;return G.wrap(function(kt){for(;;)switch(kt.prev=kt.next){case 0:if(!Qr.has(Ye=Ee.name)){kt.next=6;break}return Qr.delete(Ye),kt.next=5,Promise.all(Ee.container.getProviders().map(function(Bt){return Bt.delete()}));case 5:Ee.isDeleted=!0;case 6:case"end":return kt.stop()}},Re)}))).apply(this,arguments)}function nr(Re,Ee,Ye){var _t,kt=null!==(_t=Ra[Re])&&void 0!==_t?_t:Re;Ye&&(kt+="-".concat(Ye));var Bt=kt.match(/\s|\//),en=Ee.match(/\s|\//);if(Bt||en){var Ot=['Unable to register library "'.concat(kt,'" with version "').concat(Ee,'":')];return Bt&&Ot.push('library name "'.concat(kt,'" contains illegal characters (whitespace or "/")')),Bt&&en&&Ot.push("and"),en&&Ot.push('version name "'.concat(Ee,'" contains illegal characters (whitespace or "/")')),void Ie.warn(Ot.join(" "))}kr(new Z.wA("".concat(kt,"-version"),function(){return{library:kt,version:Ee}},"VERSION"))}function Ji(Re,Ee){if(null!==Re&&"function"!=typeof Re)throw tr.create("invalid-log-argument");(0,s.Am)(Re,Ee)}function wr(Re){(0,s.Ub)(Re)}var Xi="firebase-heartbeat-store",Jr=null;function wi(){return Jr||(Jr=(0,ie.X3)("firebase-heartbeat-database",1,{upgrade:function(Ee,Ye){0===Ye&&Ee.createObjectStore(Xi)}}).catch(function(Re){throw tr.create("storage-open",{originalErrorMessage:Re.message})})),Jr}function ir(Re){return qt.apply(this,arguments)}function qt(){return(qt=(0,ne.Z)(G.mark(function Re(Ee){return G.wrap(function(kt){for(;;)switch(kt.prev=kt.next){case 0:return kt.prev=0,kt.next=3,wi();case 3:return kt.abrupt("return",kt.sent.transaction(Xi).objectStore(Xi).get(ea(Ee)));case 7:throw kt.prev=7,kt.t0=kt.catch(0),tr.create("storage-get",{originalErrorMessage:kt.t0.message});case 10:case"end":return kt.stop()}},Re,null,[[0,7]])}))).apply(this,arguments)}function Xt(Re,Ee){return fr.apply(this,arguments)}function fr(){return(fr=(0,ne.Z)(G.mark(function Re(Ee,Ye){var kt,Bt;return G.wrap(function(Ot){for(;;)switch(Ot.prev=Ot.next){case 0:return Ot.prev=0,Ot.next=3,wi();case 3:return kt=Ot.sent.transaction(Xi,"readwrite"),Bt=kt.objectStore(Xi),Ot.next=8,Bt.put(Ye,ea(Ee));case 8:return Ot.abrupt("return",kt.done);case 11:throw Ot.prev=11,Ot.t0=Ot.catch(0),tr.create("storage-set",{originalErrorMessage:Ot.t0.message});case 14:case"end":return Ot.stop()}},Re,null,[[0,11]])}))).apply(this,arguments)}function ea(Re){return"".concat(Re.name,"!").concat(Re.options.appId)}var Ei=function(){function Re(Ee){var Ye=this;(0,P.Z)(this,Re),this.container=Ee,this._heartbeatsCache=null;var _t=this.container.getProvider("app").getImmediate();this._storage=new Ne(_t),this._heartbeatsCachePromise=this._storage.read().then(function(kt){return Ye._heartbeatsCache=kt,kt})}return(0,N.Z)(Re,[{key:"triggerHeartbeat",value:(Ee=(0,ne.Z)(G.mark(function _t(){var kt,Bt,en;return G.wrap(function(pn){for(;;)switch(pn.prev=pn.next){case 0:if(kt=this.container.getProvider("platform-logger").getImmediate(),Bt=kt.getPlatformInfoString(),en=Di(),null!==this._heartbeatsCache){pn.next=7;break}return pn.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=pn.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==en&&!this._heartbeatsCache.heartbeats.some(function(an){return an.date===en})){pn.next=11;break}return pn.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:en,agent:Bt});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(function(an){var Pe=new Date(an.date).valueOf();return Date.now()-Pe<=2592e6}),pn.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return pn.stop()}},_t,this)})),function Ye(){return Ee.apply(this,arguments)})},{key:"getHeartbeatsHeader",value:function(){var Ee=(0,ne.Z)(G.mark(function _t(){var kt,Bt,Ot,pn;return G.wrap(function(Pe){for(;;)switch(Pe.prev=Pe.next){case 0:if(null!==this._heartbeatsCache){Pe.next=3;break}return Pe.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){Pe.next=5;break}return Pe.abrupt("return","");case 5:if(kt=Di(),Bt=Ve(this._heartbeatsCache.heartbeats),Ot=Bt.unsentEntries,pn=(0,W.L)(JSON.stringify({version:2,heartbeats:Bt.heartbeatsToSend})),this._heartbeatsCache.lastSentHeartbeatDate=kt,!(Ot.length>0)){Pe.next=15;break}return this._heartbeatsCache.heartbeats=Ot,Pe.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:Pe.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return Pe.abrupt("return",pn);case 18:case"end":return Pe.stop()}},_t,this)}));return function Ye(){return Ee.apply(this,arguments)}}()}]),Re;var Ee}();function Di(){return(new Date).toISOString().substring(0,10)}function Ve(Re){var Bt,Ee=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,Ye=[],_t=Re.slice(),kt=(0,_.Z)(Re);try{var en=function(){var an=Bt.value,Pe=Ye.find(function(xe){return xe.agent===an.agent});if(Pe){if(Pe.dates.push(an.date),be(Ye)>Ee)return Pe.dates.pop(),"break"}else if(Ye.push({agent:an.agent,dates:[an.date]}),be(Ye)>Ee)return Ye.pop(),"break";_t=_t.slice(1)};for(kt.s();!(Bt=kt.n()).done;){var Ot=en();if("break"===Ot)break}}catch(pn){kt.e(pn)}finally{kt.f()}return{heartbeatsToSend:Ye,unsentEntries:_t}}var Ne=function(){function Re(Ee){(0,P.Z)(this,Re),this.app=Ee,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return(0,N.Z)(Re,[{key:"runIndexedDBEnvironmentCheck",value:(Ee=(0,ne.Z)(G.mark(function _t(){return G.wrap(function(Bt){for(;;)switch(Bt.prev=Bt.next){case 0:if((0,W.hl)()){Bt.next=4;break}return Bt.abrupt("return",!1);case 4:return Bt.abrupt("return",(0,W.eu)().then(function(){return!0}).catch(function(){return!1}));case 5:case"end":return Bt.stop()}},_t)})),function Ye(){return Ee.apply(this,arguments)})},{key:"read",value:function(){var Ee=(0,ne.Z)(G.mark(function _t(){return G.wrap(function(Ot){for(;;)switch(Ot.prev=Ot.next){case 0:return Ot.next=2,this._canUseIndexedDBPromise;case 2:if(Ot.sent){Ot.next=7;break}return Ot.abrupt("return",{heartbeats:[]});case 7:return Ot.next=9,ir(this.app);case 9:return Ot.abrupt("return",Ot.sent||{heartbeats:[]});case 11:case"end":return Ot.stop()}},_t,this)}));return function Ye(){return Ee.apply(this,arguments)}}()},{key:"overwrite",value:function(){var Ee=(0,ne.Z)(G.mark(function _t(kt){var Bt,Ot;return G.wrap(function(an){for(;;)switch(an.prev=an.next){case 0:return an.next=2,this._canUseIndexedDBPromise;case 2:if(an.sent){an.next=7;break}return an.abrupt("return");case 7:return an.next=9,this.read();case 9:return Ot=an.sent,an.abrupt("return",Xt(this.app,{lastSentHeartbeatDate:null!==(Bt=kt.lastSentHeartbeatDate)&&void 0!==Bt?Bt:Ot.lastSentHeartbeatDate,heartbeats:kt.heartbeats}));case 11:case"end":return an.stop()}},_t,this)}));return function Ye(_t){return Ee.apply(this,arguments)}}()},{key:"add",value:function(){var Ee=(0,ne.Z)(G.mark(function _t(kt){var Bt,Ot;return G.wrap(function(an){for(;;)switch(an.prev=an.next){case 0:return an.next=2,this._canUseIndexedDBPromise;case 2:if(an.sent){an.next=7;break}return an.abrupt("return");case 7:return an.next=9,this.read();case 9:return Ot=an.sent,an.abrupt("return",Xt(this.app,{lastSentHeartbeatDate:null!==(Bt=kt.lastSentHeartbeatDate)&&void 0!==Bt?Bt:Ot.lastSentHeartbeatDate,heartbeats:[].concat((0,X.Z)(Ot.heartbeats),(0,X.Z)(kt.heartbeats))}));case 11:case"end":return an.stop()}},_t,this)}));return function Ye(_t){return Ee.apply(this,arguments)}}()}]),Re;var Ee}();function be(Re){return(0,W.L)(JSON.stringify({version:2,heartbeats:Re})).length}!function Ue(Re){kr(new Z.wA("platform-logger",function(Ee){return new L(Ee)},"PRIVATE")),kr(new Z.wA("heartbeat",function(Ee){return new Ei(Ee)},"PRIVATE")),nr(oe,"0.7.24",Re),nr(oe,"0.7.24","esm2017"),nr("fire-js","")}("")},4859:function(ht,ke,x){"use strict";x.d(ke,{wA:function(){return s},H0:function(){return L},zt:function(){return ie}});var X=x(4902),ne=x(5861),_=x(7685),m=x(7762),P=x(5671),N=x(3144),G=x(7757),Z=x(2090),s=function(){function K(oe,le,Ie){(0,P.Z)(this,K),this.name=oe,this.instanceFactory=le,this.type=Ie,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return(0,N.Z)(K,[{key:"setInstantiationMode",value:function(le){return this.instantiationMode=le,this}},{key:"setMultipleInstances",value:function(le){return this.multipleInstances=le,this}},{key:"setServiceProps",value:function(le){return this.serviceProps=le,this}},{key:"setInstanceCreatedCallback",value:function(le){return this.onInstanceCreated=le,this}}]),K}(),W="[DEFAULT]",ie=function(){function K(oe,le){(0,P.Z)(this,K),this.name=oe,this.container=le,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return(0,N.Z)(K,[{key:"get",value:function(le){var Ie=this.normalizeInstanceIdentifier(le);if(!this.instancesDeferred.has(Ie)){var Me=new Z.BH;if(this.instancesDeferred.set(Ie,Me),this.isInitialized(Ie)||this.shouldAutoInitialize())try{var pe=this.getOrInitializeService({instanceIdentifier:Ie});pe&&Me.resolve(pe)}catch(Fe){}}return this.instancesDeferred.get(Ie).promise}},{key:"getImmediate",value:function(le){var Ie,Me=this.normalizeInstanceIdentifier(null==le?void 0:le.identifier),pe=null!==(Ie=null==le?void 0:le.optional)&&void 0!==Ie&&Ie;if(!this.isInitialized(Me)&&!this.shouldAutoInitialize()){if(pe)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:Me})}catch(Fe){if(pe)return null;throw Fe}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(le){if(le.name!==this.name)throw Error("Mismatching Component ".concat(le.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=le,this.shouldAutoInitialize()){if(function ee(K){return"EAGER"===K.instantiationMode}(le))try{this.getOrInitializeService({instanceIdentifier:W})}catch(Mt){}var Me,Ie=(0,m.Z)(this.instancesDeferred.entries());try{for(Ie.s();!(Me=Ie.n()).done;){var pe=(0,_.Z)(Me.value,2),Ce=pe[1],qe=this.normalizeInstanceIdentifier(pe[0]);try{var Et=this.getOrInitializeService({instanceIdentifier:qe});Ce.resolve(Et)}catch(Mt){}}}catch(Mt){Ie.e(Mt)}finally{Ie.f()}}}},{key:"clearInstance",value:function(){var le=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W;this.instancesDeferred.delete(le),this.instancesOptions.delete(le),this.instances.delete(le)}},{key:"delete",value:(oe=(0,ne.Z)(G.mark(function Ie(){var Me;return G.wrap(function(Fe){for(;;)switch(Fe.prev=Fe.next){case 0:return Me=Array.from(this.instances.values()),Fe.next=3,Promise.all([].concat((0,X.Z)(Me.filter(function(Ce){return"INTERNAL"in Ce}).map(function(Ce){return Ce.INTERNAL.delete()})),(0,X.Z)(Me.filter(function(Ce){return"_delete"in Ce}).map(function(Ce){return Ce._delete()}))));case 3:case"end":return Fe.stop()}},Ie,this)})),function le(){return oe.apply(this,arguments)})},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var le=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W;return this.instances.has(le)}},{key:"getOptions",value:function(){var le=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W;return this.instancesOptions.get(le)||{}}},{key:"initialize",value:function(){var le=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},Ie=le.options,Me=void 0===Ie?{}:Ie,pe=this.normalizeInstanceIdentifier(le.instanceIdentifier);if(this.isInitialized(pe))throw Error("".concat(this.name,"(").concat(pe,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var qe,Fe=this.getOrInitializeService({instanceIdentifier:pe,options:Me}),Ce=(0,m.Z)(this.instancesDeferred.entries());try{for(Ce.s();!(qe=Ce.n()).done;){var Et=(0,_.Z)(qe.value,2),Mt=Et[0],Ct=Et[1],on=this.normalizeInstanceIdentifier(Mt);pe===on&&Ct.resolve(Fe)}}catch(Xe){Ce.e(Xe)}finally{Ce.f()}return Fe}},{key:"onInit",value:function(le,Ie){var Me,pe=this.normalizeInstanceIdentifier(Ie),Fe=null!==(Me=this.onInitCallbacks.get(pe))&&void 0!==Me?Me:new Set;Fe.add(le),this.onInitCallbacks.set(pe,Fe);var Ce=this.instances.get(pe);return Ce&&le(Ce,pe),function(){Fe.delete(le)}}},{key:"invokeOnInitCallbacks",value:function(le,Ie){var Me=this.onInitCallbacks.get(Ie);if(Me){var Fe,pe=(0,m.Z)(Me);try{for(pe.s();!(Fe=pe.n()).done;){var Ce=Fe.value;try{Ce(le,Ie)}catch(qe){}}}catch(qe){pe.e(qe)}finally{pe.f()}}}},{key:"getOrInitializeService",value:function(le){var Ie=le.instanceIdentifier,Me=le.options,pe=void 0===Me?{}:Me,Fe=this.instances.get(Ie);if(!Fe&&this.component&&(Fe=this.component.instanceFactory(this.container,{instanceIdentifier:B(Ie),options:pe}),this.instances.set(Ie,Fe),this.instancesOptions.set(Ie,pe),this.invokeOnInitCallbacks(Fe,Ie),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Ie,Fe)}catch(Ce){}return Fe||null}},{key:"normalizeInstanceIdentifier",value:function(){var le=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W;return this.component?this.component.multipleInstances?le:W:le}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),K;var oe}();function B(K){return K===W?void 0:K}var L=function(){function K(oe){(0,P.Z)(this,K),this.name=oe,this.providers=new Map}return(0,N.Z)(K,[{key:"addComponent",value:function(le){var Ie=this.getProvider(le.name);if(Ie.isComponentSet())throw new Error("Component ".concat(le.name," has already been registered with ").concat(this.name));Ie.setComponent(le)}},{key:"addOrOverwriteComponent",value:function(le){this.getProvider(le.name).isComponentSet()&&this.providers.delete(le.name),this.addComponent(le)}},{key:"getProvider",value:function(le){if(this.providers.has(le))return this.providers.get(le);var Ie=new ie(le,this);return this.providers.set(le,Ie),Ie}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),K}()},1877:function(ht,ke,x){"use strict";x.d(ke,{in:function(){return G},Yd:function(){return B},Ub:function(){return ee},Am:function(){return L}});var P,X=x(7762),ne=x(5671),_=x(3144),m=x(4942),N=[],G=function(){return(K=G||(G={}))[K.DEBUG=0]="DEBUG",K[K.VERBOSE=1]="VERBOSE",K[K.INFO=2]="INFO",K[K.WARN=3]="WARN",K[K.ERROR=4]="ERROR",K[K.SILENT=5]="SILENT",G;var K}(),Z={debug:G.DEBUG,verbose:G.VERBOSE,info:G.INFO,warn:G.WARN,error:G.ERROR,silent:G.SILENT},s=G.INFO,W=((0,m.Z)(P={},G.DEBUG,"log"),(0,m.Z)(P,G.VERBOSE,"log"),(0,m.Z)(P,G.INFO,"info"),(0,m.Z)(P,G.WARN,"warn"),(0,m.Z)(P,G.ERROR,"error"),P),ie=function(oe,le){if(!(le<oe.logLevel)){var Ie=(new Date).toISOString(),Me=W[le];if(!Me)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(le,")"));for(var pe,Fe=arguments.length,Ce=new Array(Fe>2?Fe-2:0),qe=2;qe<Fe;qe++)Ce[qe-2]=arguments[qe];(pe=console)[Me].apply(pe,["[".concat(Ie,"]  ").concat(oe.name,":")].concat(Ce))}},B=function(){function K(oe){(0,ne.Z)(this,K),this.name=oe,this._logLevel=s,this._logHandler=ie,this._userLogHandler=null,N.push(this)}return(0,_.Z)(K,[{key:"logLevel",get:function(){return this._logLevel},set:function(le){if(!(le in G))throw new TypeError('Invalid value "'.concat(le,'" assigned to `logLevel`'));this._logLevel=le}},{key:"setLogLevel",value:function(le){this._logLevel="string"==typeof le?Z[le]:le}},{key:"logHandler",get:function(){return this._logHandler},set:function(le){if("function"!=typeof le)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=le}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(le){this._userLogHandler=le}},{key:"debug",value:function(){for(var le=arguments.length,Ie=new Array(le),Me=0;Me<le;Me++)Ie[Me]=arguments[Me];this._userLogHandler&&this._userLogHandler.apply(this,[this,G.DEBUG].concat(Ie)),this._logHandler.apply(this,[this,G.DEBUG].concat(Ie))}},{key:"log",value:function(){for(var le=arguments.length,Ie=new Array(le),Me=0;Me<le;Me++)Ie[Me]=arguments[Me];this._userLogHandler&&this._userLogHandler.apply(this,[this,G.VERBOSE].concat(Ie)),this._logHandler.apply(this,[this,G.VERBOSE].concat(Ie))}},{key:"info",value:function(){for(var le=arguments.length,Ie=new Array(le),Me=0;Me<le;Me++)Ie[Me]=arguments[Me];this._userLogHandler&&this._userLogHandler.apply(this,[this,G.INFO].concat(Ie)),this._logHandler.apply(this,[this,G.INFO].concat(Ie))}},{key:"warn",value:function(){for(var le=arguments.length,Ie=new Array(le),Me=0;Me<le;Me++)Ie[Me]=arguments[Me];this._userLogHandler&&this._userLogHandler.apply(this,[this,G.WARN].concat(Ie)),this._logHandler.apply(this,[this,G.WARN].concat(Ie))}},{key:"error",value:function(){for(var le=arguments.length,Ie=new Array(le),Me=0;Me<le;Me++)Ie[Me]=arguments[Me];this._userLogHandler&&this._userLogHandler.apply(this,[this,G.ERROR].concat(Ie)),this._logHandler.apply(this,[this,G.ERROR].concat(Ie))}}]),K}();function ee(K){N.forEach(function(oe){oe.setLogLevel(K)})}function L(K,oe){var Ie,le=(0,X.Z)(N);try{var Me=function(){var Ce=null;oe&&oe.level&&(Ce=Z[oe.level]),Ie.value.userLogHandler=null===K?null:function(qe,Et){for(var Mt=arguments.length,Ct=new Array(Mt>2?Mt-2:0),on=2;on<Mt;on++)Ct[on-2]=arguments[on];var Xe=Ct.map(function(Be){if(null==Be)return null;if("string"==typeof Be)return Be;if("number"==typeof Be||"boolean"==typeof Be)return Be.toString();if(Be instanceof Error)return Be.message;try{return JSON.stringify(Be)}catch(De){return null}}).filter(function(Be){return Be}).join(" ");Et>=(null!=Ce?Ce:qe.logLevel)&&K({level:G[Et].toLowerCase(),message:Xe,args:Ct,type:qe.name})}};for(le.s();!(Ie=le.n()).done;)Me()}catch(pe){le.e(pe)}finally{le.f()}}},6256:function(ht,ke,x){"use strict";x.d(ke,{Lj:function(){return Mt},X3:function(){return Et}});var X=x(4942);function ne(De,Te){var ye=Object.keys(De);if(Object.getOwnPropertySymbols){var ve=Object.getOwnPropertySymbols(De);Te&&(ve=ve.filter(function(He){return Object.getOwnPropertyDescriptor(De,He).enumerable})),ye.push.apply(ye,ve)}return ye}function _(De){for(var Te=1;Te<arguments.length;Te++){var ye=null!=arguments[Te]?arguments[Te]:{};Te%2?ne(Object(ye),!0).forEach(function(ve){(0,X.Z)(De,ve,ye[ve])}):Object.getOwnPropertyDescriptors?Object.defineProperties(De,Object.getOwnPropertyDescriptors(ye)):ne(Object(ye)).forEach(function(ve){Object.defineProperty(De,ve,Object.getOwnPropertyDescriptor(ye,ve))})}return De}var G,Z,m=x(5861),P=x(7757),ie=new WeakMap,B=new WeakMap,ee=new WeakMap,L=new WeakMap,K=new WeakMap,Ie={get:function(Te,ye,ve){if(Te instanceof IDBTransaction){if("done"===ye)return B.get(Te);if("objectStoreNames"===ye)return Te.objectStoreNames||ee.get(Te);if("store"===ye)return ve.objectStoreNames[1]?void 0:ve.objectStore(ve.objectStoreNames[0])}return Ce(Te[ye])},set:function(Te,ye,ve){return Te[ye]=ve,!0},has:function(Te,ye){return Te instanceof IDBTransaction&&("done"===ye||"store"===ye)||ye in Te}};function Fe(De){return"function"==typeof De?function pe(De){return De!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function W(){return Z||(Z=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(De)?function(){for(var Te=arguments.length,ye=new Array(Te),ve=0;ve<Te;ve++)ye[ve]=arguments[ve];return De.apply(qe(this),ye),Ce(ie.get(this))}:function(){for(var Te=arguments.length,ye=new Array(Te),ve=0;ve<Te;ve++)ye[ve]=arguments[ve];return Ce(De.apply(qe(this),ye))}:function(Te){for(var ye=arguments.length,ve=new Array(ye>1?ye-1:0),He=1;He<ye;He++)ve[He-1]=arguments[He];var tt=De.call.apply(De,[qe(this),Te].concat(ve));return ee.set(tt,Te.sort?Te.sort():[Te]),Ce(tt)}}(De):(De instanceof IDBTransaction&&function le(De){if(!B.has(De)){var Te=new Promise(function(ye,ve){var He=function(){De.removeEventListener("complete",tt),De.removeEventListener("error",bt),De.removeEventListener("abort",bt)},tt=function(){ye(),He()},bt=function(){ve(De.error||new DOMException("AbortError","AbortError")),He()};De.addEventListener("complete",tt),De.addEventListener("error",bt),De.addEventListener("abort",bt)});B.set(De,Te)}}(De),Te=De,function s(){return G||(G=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}().some(function(ve){return Te instanceof ve})?new Proxy(De,Ie):De);var Te}function Ce(De){if(De instanceof IDBRequest)return function oe(De){var Te=new Promise(function(ye,ve){var He=function(){De.removeEventListener("success",tt),De.removeEventListener("error",bt)},tt=function(){ye(Ce(De.result)),He()},bt=function(){ve(De.error),He()};De.addEventListener("success",tt),De.addEventListener("error",bt)});return Te.then(function(ye){ye instanceof IDBCursor&&ie.set(ye,De)}).catch(function(){}),K.set(Te,De),Te}(De);if(L.has(De))return L.get(De);var Te=Fe(De);return Te!==De&&(L.set(De,Te),K.set(Te,De)),Te}var qe=function(Te){return K.get(Te)};function Et(De,Te){var ye=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},ve=ye.blocked,He=ye.upgrade,tt=ye.blocking,bt=ye.terminated,Qe=indexedDB.open(De,Te),St=Ce(Qe);return He&&Qe.addEventListener("upgradeneeded",function(Ke){He(Ce(Qe.result),Ke.oldVersion,Ke.newVersion,Ce(Qe.transaction))}),ve&&Qe.addEventListener("blocked",function(){return ve()}),St.then(function(Ke){bt&&Ke.addEventListener("close",function(){return bt()}),tt&&Ke.addEventListener("versionchange",function(){return tt()})}).catch(function(){}),St}function Mt(De){var Te=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},ye=Te.blocked,ve=indexedDB.deleteDatabase(De);return ye&&ve.addEventListener("blocked",function(){return ye()}),Ce(ve).then(function(){})}var Ct=["get","getKey","getAll","getAllKeys","count"],on=["put","add","delete","clear"],Xe=new Map;function Be(De,Te){if(De instanceof IDBDatabase&&!(Te in De)&&"string"==typeof Te){if(Xe.get(Te))return Xe.get(Te);var ye=Te.replace(/FromIndex$/,""),ve=Te!==ye,He=on.includes(ye);if(ye in(ve?IDBIndex:IDBObjectStore).prototype&&(He||Ct.includes(ye))){var tt=function(){var bt=(0,m.Z)(P.mark(function Qe(St){var Ke,gt,ln,hr,$n,pr,Ra=arguments;return P.wrap(function(Ir){for(;;)switch(Ir.prev=Ir.next){case 0:for(gt=this.transaction(St,He?"readwrite":"readonly"),ln=gt.store,hr=Ra.length,$n=new Array(hr>1?hr-1:0),pr=1;pr<hr;pr++)$n[pr-1]=Ra[pr];return ve&&(ln=ln.index($n.shift())),Ir.next=6,Promise.all([(Ke=ln)[ye].apply(Ke,$n),He&&gt.done]);case 6:return Ir.abrupt("return",Ir.sent[0]);case 7:case"end":return Ir.stop()}},Qe,this)}));return function(St){return bt.apply(this,arguments)}}();return Xe.set(Te,tt),tt}}}!function Me(De){Ie=De(Ie)}(function(De){return _(_({},De),{},{get:function(ye,ve,He){return Be(ye,ve)||De.get(ye,ve,He)},has:function(ye,ve){return!!Be(ye,ve)||De.has(ye,ve)}})})},907:function(ht,ke,x){"use strict";function X(ne,_){(null==_||_>ne.length)&&(_=ne.length);for(var m=0,P=new Array(_);m<_;m++)P[m]=ne[m];return P}x.d(ke,{Z:function(){return X}})},3878:function(ht,ke,x){"use strict";function X(ne){if(Array.isArray(ne))return ne}x.d(ke,{Z:function(){return X}})},7326:function(ht,ke,x){"use strict";function X(ne){if(void 0===ne)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ne}x.d(ke,{Z:function(){return X}})},5861:function(ht,ke,x){"use strict";function X(_,m,P,N,G,Z,s){try{var W=_[Z](s),ie=W.value}catch(B){return void P(B)}W.done?m(ie):Promise.resolve(ie).then(N,G)}function ne(_){return function(){var m=this,P=arguments;return new Promise(function(N,G){var Z=_.apply(m,P);function s(ie){X(Z,N,G,s,W,"next",ie)}function W(ie){X(Z,N,G,s,W,"throw",ie)}s(void 0)})}}x.d(ke,{Z:function(){return ne}})},5671:function(ht,ke,x){"use strict";function X(ne,_){if(!(ne instanceof _))throw new TypeError("Cannot call a class as a function")}x.d(ke,{Z:function(){return X}})},5647:function(ht,ke,x){"use strict";x.d(ke,{Z:function(){return _}});var X=x(9611),ne=x(8814);function _(m,P,N){return(_=(0,ne.Z)()?Reflect.construct:function(Z,s,W){var ie=[null];ie.push.apply(ie,s);var ee=new(Function.bind.apply(Z,ie));return W&&(0,X.Z)(ee,W.prototype),ee}).apply(null,arguments)}},3144:function(ht,ke,x){"use strict";function X(_,m){for(var P=0;P<m.length;P++){var N=m[P];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(_,N.key,N)}}function ne(_,m,P){return m&&X(_.prototype,m),P&&X(_,P),Object.defineProperty(_,"prototype",{writable:!1}),_}x.d(ke,{Z:function(){return ne}})},7762:function(ht,ke,x){"use strict";x.d(ke,{Z:function(){return ne}});var X=x(181);function ne(_,m){var P="undefined"!=typeof Symbol&&_[Symbol.iterator]||_["@@iterator"];if(!P){if(Array.isArray(_)||(P=(0,X.Z)(_))||m&&_&&"number"==typeof _.length){P&&(_=P);var N=0,G=function(){};return{s:G,n:function(){return N>=_.length?{done:!0}:{done:!1,value:_[N++]}},e:function(B){throw B},f:G}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var W,Z=!0,s=!1;return{s:function(){P=P.call(_)},n:function(){var B=P.next();return Z=B.done,B},e:function(B){s=!0,W=B},f:function(){try{!Z&&null!=P.return&&P.return()}finally{if(s)throw W}}}}},7777:function(ht,ke,x){"use strict";x.d(ke,{Z:function(){return N}});var X=x(1120),ne=x(8814);function _(G){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Z){return typeof Z}:function(Z){return Z&&"function"==typeof Symbol&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z})(G)}var m=x(7326);function P(G,Z){if(Z&&("object"===_(Z)||"function"==typeof Z))return Z;if(void 0!==Z)throw new TypeError("Derived constructors may only return object or undefined");return(0,m.Z)(G)}function N(G){var Z=(0,ne.Z)();return function(){var ie,W=(0,X.Z)(G);if(Z){var B=(0,X.Z)(this).constructor;ie=Reflect.construct(W,arguments,B)}else ie=W.apply(this,arguments);return P(this,ie)}}},4942:function(ht,ke,x){"use strict";function X(ne,_,m){return _ in ne?Object.defineProperty(ne,_,{value:m,enumerable:!0,configurable:!0,writable:!0}):ne[_]=m,ne}x.d(ke,{Z:function(){return X}})},3237:function(ht,ke,x){"use strict";x.d(ke,{Z:function(){return _}});var X=x(1120);function ne(m,P){for(;!Object.prototype.hasOwnProperty.call(m,P)&&null!==(m=(0,X.Z)(m)););return m}function _(){return _="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(P,N,G){var Z=ne(P,N);if(Z){var s=Object.getOwnPropertyDescriptor(Z,N);return s.get?s.get.call(arguments.length<3?P:G):s.value}},_.apply(this,arguments)}},1120:function(ht,ke,x){"use strict";function X(ne){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(ne)}x.d(ke,{Z:function(){return X}})},136:function(ht,ke,x){"use strict";x.d(ke,{Z:function(){return ne}});var X=x(9611);function ne(_,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),Object.defineProperty(_,"prototype",{writable:!1}),m&&(0,X.Z)(_,m)}},8814:function(ht,ke,x){"use strict";function X(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ne){return!1}}x.d(ke,{Z:function(){return X}})},9199:function(ht,ke,x){"use strict";function X(ne){if("undefined"!=typeof Symbol&&null!=ne[Symbol.iterator]||null!=ne["@@iterator"])return Array.from(ne)}x.d(ke,{Z:function(){return X}})},5267:function(ht,ke,x){"use strict";function X(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}x.d(ke,{Z:function(){return X}})},9611:function(ht,ke,x){"use strict";function X(ne,_){return(X=Object.setPrototypeOf||function(P,N){return P.__proto__=N,P})(ne,_)}x.d(ke,{Z:function(){return X}})},7685:function(ht,ke,x){"use strict";x.d(ke,{Z:function(){return P}});var X=x(3878),_=x(181),m=x(5267);function P(N,G){return(0,X.Z)(N)||function ne(N,G){var Z=null==N?null:"undefined"!=typeof Symbol&&N[Symbol.iterator]||N["@@iterator"];if(null!=Z){var B,ee,s=[],W=!0,ie=!1;try{for(Z=Z.call(N);!(W=(B=Z.next()).done)&&(s.push(B.value),!G||s.length!==G);W=!0);}catch(L){ie=!0,ee=L}finally{try{!W&&null!=Z.return&&Z.return()}finally{if(ie)throw ee}}return s}}(N,G)||(0,_.Z)(N,G)||(0,m.Z)()}},4506:function(ht,ke,x){"use strict";x.d(ke,{Z:function(){return P}});var X=x(3878),ne=x(9199),_=x(181),m=x(5267);function P(N){return(0,X.Z)(N)||(0,ne.Z)(N)||(0,_.Z)(N)||(0,m.Z)()}},4902:function(ht,ke,x){"use strict";x.d(ke,{Z:function(){return N}});var X=x(907),_=x(9199),m=x(181);function N(G){return function ne(G){if(Array.isArray(G))return(0,X.Z)(G)}(G)||(0,_.Z)(G)||(0,m.Z)(G)||function P(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},181:function(ht,ke,x){"use strict";x.d(ke,{Z:function(){return ne}});var X=x(907);function ne(_,m){if(_){if("string"==typeof _)return(0,X.Z)(_,m);var P=Object.prototype.toString.call(_).slice(8,-1);if("Object"===P&&_.constructor&&(P=_.constructor.name),"Map"===P||"Set"===P)return Array.from(_);if("Arguments"===P||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(P))return(0,X.Z)(_,m)}}},5724:function(ht,ke,x){"use strict";x.d(ke,{Z:function(){return P}});var X=x(1120),ne=x(9611),m=x(5647);function P(N){var G="function"==typeof Map?new Map:void 0;return P=function(s){if(null===s||!function _(N){return-1!==Function.toString.call(N).indexOf("[native code]")}(s))return s;if("function"!=typeof s)throw new TypeError("Super expression must either be null or a function");if(void 0!==G){if(G.has(s))return G.get(s);G.set(s,W)}function W(){return(0,m.Z)(s,arguments,(0,X.Z)(this).constructor)}return W.prototype=Object.create(s.prototype,{constructor:{value:W,enumerable:!1,writable:!0,configurable:!0}}),(0,ne.Z)(W,s)},P(N)}}},function(ht){ht(ht.s=8661)}]);